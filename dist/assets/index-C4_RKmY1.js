var __defProp=Object.defineProperty;var __typeError=msg=>{throw TypeError(msg)};var __defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value}):obj[key]=value;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});var __publicField=(obj,key,value)=>__defNormalProp(obj,typeof key!="symbol"?key+"":key,value),__accessCheck=(obj,member,msg)=>member.has(obj)||__typeError("Cannot "+msg);var __privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>member.has(obj)?__typeError("Cannot add the same private member more than once"):member instanceof WeakSet?member.add(obj):member.set(obj,value),__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value),__privateMethod=(obj,member,method)=>(__accessCheck(obj,member,"access private method"),method);__name(function(){const relList=document.createElement("link").relList;if(relList&&relList.supports&&relList.supports("modulepreload"))return;for(const link of document.querySelectorAll('link[rel="modulepreload"]'))processPreload(link);new MutationObserver(mutations=>{for(const mutation of mutations)if(mutation.type==="childList")for(const node of mutation.addedNodes)node.tagName==="LINK"&&node.rel==="modulepreload"&&processPreload(node)}).observe(document,{childList:!0,subtree:!0});function getFetchOpts(link){const fetchOpts={};return link.integrity&&(fetchOpts.integrity=link.integrity),link.referrerPolicy&&(fetchOpts.referrerPolicy=link.referrerPolicy),link.crossOrigin==="use-credentials"?fetchOpts.credentials="include":link.crossOrigin==="anonymous"?fetchOpts.credentials="omit":fetchOpts.credentials="same-origin",fetchOpts}__name(getFetchOpts,"getFetchOpts");function processPreload(link){if(link.ep)return;link.ep=!0;const fetchOpts=getFetchOpts(link);fetch(link.href,fetchOpts)}__name(processPreload,"processPreload")},"polyfill")();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$1(x2){return x2&&x2.__esModule&&Object.prototype.hasOwnProperty.call(x2,"default")?x2.default:x2}__name(getDefaultExportFromCjs$1,"getDefaultExportFromCjs$1");var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production_min;function requireReact_production_min(){if(hasRequiredReact_production_min)return react_production_min;hasRequiredReact_production_min=1;var l2=Symbol.for("react.element"),n2=Symbol.for("react.portal"),p2=Symbol.for("react.fragment"),q2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),t2=Symbol.for("react.provider"),u2=Symbol.for("react.context"),v2=Symbol.for("react.forward_ref"),w2=Symbol.for("react.suspense"),x2=Symbol.for("react.memo"),y2=Symbol.for("react.lazy"),z2=Symbol.iterator;function A2(a2){return a2===null||typeof a2!="object"?null:(a2=z2&&a2[z2]||a2["@@iterator"],typeof a2=="function"?a2:null)}__name(A2,"A");var B2={isMounted:__name(function(){return!1},"isMounted"),enqueueForceUpdate:__name(function(){},"enqueueForceUpdate"),enqueueReplaceState:__name(function(){},"enqueueReplaceState"),enqueueSetState:__name(function(){},"enqueueSetState")},C2=Object.assign,D2={};function E2(a2,b2,e2){this.props=a2,this.context=b2,this.refs=D2,this.updater=e2||B2}__name(E2,"E"),E2.prototype.isReactComponent={},E2.prototype.setState=function(a2,b2){if(typeof a2!="object"&&typeof a2!="function"&&a2!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,a2,b2,"setState")},E2.prototype.forceUpdate=function(a2){this.updater.enqueueForceUpdate(this,a2,"forceUpdate")};function F2(){}__name(F2,"F"),F2.prototype=E2.prototype;function G2(a2,b2,e2){this.props=a2,this.context=b2,this.refs=D2,this.updater=e2||B2}__name(G2,"G");var H2=G2.prototype=new F2;H2.constructor=G2,C2(H2,E2.prototype),H2.isPureReactComponent=!0;var I2=Array.isArray,J2=Object.prototype.hasOwnProperty,K2={current:null},L2={key:!0,ref:!0,__self:!0,__source:!0};function M2(a2,b2,e2){var d2,c2={},k2=null,h2=null;if(b2!=null)for(d2 in b2.ref!==void 0&&(h2=b2.ref),b2.key!==void 0&&(k2=""+b2.key),b2)J2.call(b2,d2)&&!L2.hasOwnProperty(d2)&&(c2[d2]=b2[d2]);var g2=arguments.length-2;if(g2===1)c2.children=e2;else if(1<g2){for(var f2=Array(g2),m2=0;m2<g2;m2++)f2[m2]=arguments[m2+2];c2.children=f2}if(a2&&a2.defaultProps)for(d2 in g2=a2.defaultProps,g2)c2[d2]===void 0&&(c2[d2]=g2[d2]);return{$$typeof:l2,type:a2,key:k2,ref:h2,props:c2,_owner:K2.current}}__name(M2,"M");function N2(a2,b2){return{$$typeof:l2,type:a2.type,key:b2,ref:a2.ref,props:a2.props,_owner:a2._owner}}__name(N2,"N");function O2(a2){return typeof a2=="object"&&a2!==null&&a2.$$typeof===l2}__name(O2,"O");function escape(a2){var b2={"=":"=0",":":"=2"};return"$"+a2.replace(/[=:]/g,function(a3){return b2[a3]})}__name(escape,"escape");var P2=/\/+/g;function Q2(a2,b2){return typeof a2=="object"&&a2!==null&&a2.key!=null?escape(""+a2.key):b2.toString(36)}__name(Q2,"Q");function R2(a2,b2,e2,d2,c2){var k2=typeof a2;(k2==="undefined"||k2==="boolean")&&(a2=null);var h2=!1;if(a2===null)h2=!0;else switch(k2){case"string":case"number":h2=!0;break;case"object":switch(a2.$$typeof){case l2:case n2:h2=!0}}if(h2)return h2=a2,c2=c2(h2),a2=d2===""?"."+Q2(h2,0):d2,I2(c2)?(e2="",a2!=null&&(e2=a2.replace(P2,"$&/")+"/"),R2(c2,b2,e2,"",function(a3){return a3})):c2!=null&&(O2(c2)&&(c2=N2(c2,e2+(!c2.key||h2&&h2.key===c2.key?"":(""+c2.key).replace(P2,"$&/")+"/")+a2)),b2.push(c2)),1;if(h2=0,d2=d2===""?".":d2+":",I2(a2))for(var g2=0;g2<a2.length;g2++){k2=a2[g2];var f2=d2+Q2(k2,g2);h2+=R2(k2,b2,e2,f2,c2)}else if(f2=A2(a2),typeof f2=="function")for(a2=f2.call(a2),g2=0;!(k2=a2.next()).done;)k2=k2.value,f2=d2+Q2(k2,g2++),h2+=R2(k2,b2,e2,f2,c2);else if(k2==="object")throw b2=String(a2),Error("Objects are not valid as a React child (found: "+(b2==="[object Object]"?"object with keys {"+Object.keys(a2).join(", ")+"}":b2)+"). If you meant to render a collection of children, use an array instead.");return h2}__name(R2,"R");function S2(a2,b2,e2){if(a2==null)return a2;var d2=[],c2=0;return R2(a2,d2,"","",function(a3){return b2.call(e2,a3,c2++)}),d2}__name(S2,"S");function T2(a2){if(a2._status===-1){var b2=a2._result;b2=b2(),b2.then(function(b3){(a2._status===0||a2._status===-1)&&(a2._status=1,a2._result=b3)},function(b3){(a2._status===0||a2._status===-1)&&(a2._status=2,a2._result=b3)}),a2._status===-1&&(a2._status=0,a2._result=b2)}if(a2._status===1)return a2._result.default;throw a2._result}__name(T2,"T");var U2={current:null},V2={transition:null},W2={ReactCurrentDispatcher:U2,ReactCurrentBatchConfig:V2,ReactCurrentOwner:K2};function X2(){throw Error("act(...) is not supported in production builds of React.")}return __name(X2,"X"),react_production_min.Children={map:S2,forEach:__name(function(a2,b2,e2){S2(a2,function(){b2.apply(this,arguments)},e2)},"forEach"),count:__name(function(a2){var b2=0;return S2(a2,function(){b2++}),b2},"count"),toArray:__name(function(a2){return S2(a2,function(a3){return a3})||[]},"toArray"),only:__name(function(a2){if(!O2(a2))throw Error("React.Children.only expected to receive a single React element child.");return a2},"only")},react_production_min.Component=E2,react_production_min.Fragment=p2,react_production_min.Profiler=r2,react_production_min.PureComponent=G2,react_production_min.StrictMode=q2,react_production_min.Suspense=w2,react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W2,react_production_min.act=X2,react_production_min.cloneElement=function(a2,b2,e2){if(a2==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+a2+".");var d2=C2({},a2.props),c2=a2.key,k2=a2.ref,h2=a2._owner;if(b2!=null){if(b2.ref!==void 0&&(k2=b2.ref,h2=K2.current),b2.key!==void 0&&(c2=""+b2.key),a2.type&&a2.type.defaultProps)var g2=a2.type.defaultProps;for(f2 in b2)J2.call(b2,f2)&&!L2.hasOwnProperty(f2)&&(d2[f2]=b2[f2]===void 0&&g2!==void 0?g2[f2]:b2[f2])}var f2=arguments.length-2;if(f2===1)d2.children=e2;else if(1<f2){g2=Array(f2);for(var m2=0;m2<f2;m2++)g2[m2]=arguments[m2+2];d2.children=g2}return{$$typeof:l2,type:a2.type,key:c2,ref:k2,props:d2,_owner:h2}},react_production_min.createContext=function(a2){return a2={$$typeof:u2,_currentValue:a2,_currentValue2:a2,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},a2.Provider={$$typeof:t2,_context:a2},a2.Consumer=a2},react_production_min.createElement=M2,react_production_min.createFactory=function(a2){var b2=M2.bind(null,a2);return b2.type=a2,b2},react_production_min.createRef=function(){return{current:null}},react_production_min.forwardRef=function(a2){return{$$typeof:v2,render:a2}},react_production_min.isValidElement=O2,react_production_min.lazy=function(a2){return{$$typeof:y2,_payload:{_status:-1,_result:a2},_init:T2}},react_production_min.memo=function(a2,b2){return{$$typeof:x2,type:a2,compare:b2===void 0?null:b2}},react_production_min.startTransition=function(a2){var b2=V2.transition;V2.transition={};try{a2()}finally{V2.transition=b2}},react_production_min.unstable_act=X2,react_production_min.useCallback=function(a2,b2){return U2.current.useCallback(a2,b2)},react_production_min.useContext=function(a2){return U2.current.useContext(a2)},react_production_min.useDebugValue=function(){},react_production_min.useDeferredValue=function(a2){return U2.current.useDeferredValue(a2)},react_production_min.useEffect=function(a2,b2){return U2.current.useEffect(a2,b2)},react_production_min.useId=function(){return U2.current.useId()},react_production_min.useImperativeHandle=function(a2,b2,e2){return U2.current.useImperativeHandle(a2,b2,e2)},react_production_min.useInsertionEffect=function(a2,b2){return U2.current.useInsertionEffect(a2,b2)},react_production_min.useLayoutEffect=function(a2,b2){return U2.current.useLayoutEffect(a2,b2)},react_production_min.useMemo=function(a2,b2){return U2.current.useMemo(a2,b2)},react_production_min.useReducer=function(a2,b2,e2){return U2.current.useReducer(a2,b2,e2)},react_production_min.useRef=function(a2){return U2.current.useRef(a2)},react_production_min.useState=function(a2){return U2.current.useState(a2)},react_production_min.useSyncExternalStore=function(a2,b2,e2){return U2.current.useSyncExternalStore(a2,b2,e2)},react_production_min.useTransition=function(){return U2.current.useTransition()},react_production_min.version="18.3.1",react_production_min}__name(requireReact_production_min,"requireReact_production_min");var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production_min()),react.exports}__name(requireReact,"requireReact");/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var f2=requireReact(),k2=Symbol.for("react.element"),l2=Symbol.for("react.fragment"),m2=Object.prototype.hasOwnProperty,n2=f2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p2={key:!0,ref:!0,__self:!0,__source:!0};function q2(c2,a2,g2){var b2,d2={},e2=null,h2=null;g2!==void 0&&(e2=""+g2),a2.key!==void 0&&(e2=""+a2.key),a2.ref!==void 0&&(h2=a2.ref);for(b2 in a2)m2.call(a2,b2)&&!p2.hasOwnProperty(b2)&&(d2[b2]=a2[b2]);if(c2&&c2.defaultProps)for(b2 in a2=c2.defaultProps,a2)d2[b2]===void 0&&(d2[b2]=a2[b2]);return{$$typeof:k2,type:c2,key:e2,ref:h2,props:d2,_owner:n2.current}}return __name(q2,"q"),reactJsxRuntime_production_min.Fragment=l2,reactJsxRuntime_production_min.jsx=q2,reactJsxRuntime_production_min.jsxs=q2,reactJsxRuntime_production_min}__name(requireReactJsxRuntime_production_min,"requireReactJsxRuntime_production_min");var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production_min()),jsxRuntime.exports}__name(requireJsxRuntime,"requireJsxRuntime");var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs$1(reactExports);var client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production_min;function requireScheduler_production_min(){return hasRequiredScheduler_production_min||(hasRequiredScheduler_production_min=1,function(exports){function f2(a2,b2){var c2=a2.length;a2.push(b2);a:for(;0<c2;){var d2=c2-1>>>1,e2=a2[d2];if(0<g2(e2,b2))a2[d2]=b2,a2[c2]=e2,c2=d2;else break a}}__name(f2,"f");function h2(a2){return a2.length===0?null:a2[0]}__name(h2,"h");function k2(a2){if(a2.length===0)return null;var b2=a2[0],c2=a2.pop();if(c2!==b2){a2[0]=c2;a:for(var d2=0,e2=a2.length,w2=e2>>>1;d2<w2;){var m2=2*(d2+1)-1,C2=a2[m2],n2=m2+1,x2=a2[n2];if(0>g2(C2,c2))n2<e2&&0>g2(x2,C2)?(a2[d2]=x2,a2[n2]=c2,d2=n2):(a2[d2]=C2,a2[m2]=c2,d2=m2);else if(n2<e2&&0>g2(x2,c2))a2[d2]=x2,a2[n2]=c2,d2=n2;else break a}}return b2}__name(k2,"k");function g2(a2,b2){var c2=a2.sortIndex-b2.sortIndex;return c2!==0?c2:a2.id-b2.id}if(__name(g2,"g"),typeof performance=="object"&&typeof performance.now=="function"){var l2=performance;exports.unstable_now=function(){return l2.now()}}else{var p2=Date,q2=p2.now();exports.unstable_now=function(){return p2.now()-q2}}var r2=[],t2=[],u2=1,v2=null,y2=3,z2=!1,A2=!1,B2=!1,D2=typeof setTimeout=="function"?setTimeout:null,E2=typeof clearTimeout=="function"?clearTimeout:null,F2=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G2(a2){for(var b2=h2(t2);b2!==null;){if(b2.callback===null)k2(t2);else if(b2.startTime<=a2)k2(t2),b2.sortIndex=b2.expirationTime,f2(r2,b2);else break;b2=h2(t2)}}__name(G2,"G");function H2(a2){if(B2=!1,G2(a2),!A2)if(h2(r2)!==null)A2=!0,I2(J2);else{var b2=h2(t2);b2!==null&&K2(H2,b2.startTime-a2)}}__name(H2,"H");function J2(a2,b2){A2=!1,B2&&(B2=!1,E2(L2),L2=-1),z2=!0;var c2=y2;try{for(G2(b2),v2=h2(r2);v2!==null&&(!(v2.expirationTime>b2)||a2&&!M2());){var d2=v2.callback;if(typeof d2=="function"){v2.callback=null,y2=v2.priorityLevel;var e2=d2(v2.expirationTime<=b2);b2=exports.unstable_now(),typeof e2=="function"?v2.callback=e2:v2===h2(r2)&&k2(r2),G2(b2)}else k2(r2);v2=h2(r2)}if(v2!==null)var w2=!0;else{var m2=h2(t2);m2!==null&&K2(H2,m2.startTime-b2),w2=!1}return w2}finally{v2=null,y2=c2,z2=!1}}__name(J2,"J");var N2=!1,O2=null,L2=-1,P2=5,Q2=-1;function M2(){return!(exports.unstable_now()-Q2<P2)}__name(M2,"M");function R2(){if(O2!==null){var a2=exports.unstable_now();Q2=a2;var b2=!0;try{b2=O2(!0,a2)}finally{b2?S2():(N2=!1,O2=null)}}else N2=!1}__name(R2,"R");var S2;if(typeof F2=="function")S2=__name(function(){F2(R2)},"S");else if(typeof MessageChannel<"u"){var T2=new MessageChannel,U2=T2.port2;T2.port1.onmessage=R2,S2=__name(function(){U2.postMessage(null)},"S")}else S2=__name(function(){D2(R2,0)},"S");function I2(a2){O2=a2,N2||(N2=!0,S2())}__name(I2,"I");function K2(a2,b2){L2=D2(function(){a2(exports.unstable_now())},b2)}__name(K2,"K"),exports.unstable_IdlePriority=5,exports.unstable_ImmediatePriority=1,exports.unstable_LowPriority=4,exports.unstable_NormalPriority=3,exports.unstable_Profiling=null,exports.unstable_UserBlockingPriority=2,exports.unstable_cancelCallback=function(a2){a2.callback=null},exports.unstable_continueExecution=function(){A2||z2||(A2=!0,I2(J2))},exports.unstable_forceFrameRate=function(a2){0>a2||125<a2?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P2=0<a2?Math.floor(1e3/a2):5},exports.unstable_getCurrentPriorityLevel=function(){return y2},exports.unstable_getFirstCallbackNode=function(){return h2(r2)},exports.unstable_next=function(a2){switch(y2){case 1:case 2:case 3:var b2=3;break;default:b2=y2}var c2=y2;y2=b2;try{return a2()}finally{y2=c2}},exports.unstable_pauseExecution=function(){},exports.unstable_requestPaint=function(){},exports.unstable_runWithPriority=function(a2,b2){switch(a2){case 1:case 2:case 3:case 4:case 5:break;default:a2=3}var c2=y2;y2=a2;try{return b2()}finally{y2=c2}},exports.unstable_scheduleCallback=function(a2,b2,c2){var d2=exports.unstable_now();switch(typeof c2=="object"&&c2!==null?(c2=c2.delay,c2=typeof c2=="number"&&0<c2?d2+c2:d2):c2=d2,a2){case 1:var e2=-1;break;case 2:e2=250;break;case 5:e2=1073741823;break;case 4:e2=1e4;break;default:e2=5e3}return e2=c2+e2,a2={id:u2++,callback:b2,priorityLevel:a2,startTime:c2,expirationTime:e2,sortIndex:-1},c2>d2?(a2.sortIndex=c2,f2(t2,a2),h2(r2)===null&&a2===h2(t2)&&(B2?(E2(L2),L2=-1):B2=!0,K2(H2,c2-d2))):(a2.sortIndex=e2,f2(r2,a2),A2||z2||(A2=!0,I2(J2))),a2},exports.unstable_shouldYield=M2,exports.unstable_wrapCallback=function(a2){var b2=y2;return function(){var c2=y2;y2=b2;try{return a2.apply(this,arguments)}finally{y2=c2}}}}(scheduler_production_min)),scheduler_production_min}__name(requireScheduler_production_min,"requireScheduler_production_min");var hasRequiredScheduler;function requireScheduler$1(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production_min()),scheduler.exports}__name(requireScheduler$1,"requireScheduler$1");/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production_min;function requireReactDom_production_min$1(){if(hasRequiredReactDom_production_min)return reactDom_production_min;hasRequiredReactDom_production_min=1;var aa2=requireReact(),ca2=requireScheduler$1();function p2(a2){for(var b2="https://reactjs.org/docs/error-decoder.html?invariant="+a2,c2=1;c2<arguments.length;c2++)b2+="&args[]="+encodeURIComponent(arguments[c2]);return"Minified React error #"+a2+"; visit "+b2+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}__name(p2,"p");var da2=new Set,ea2={};function fa(a2,b2){ha(a2,b2),ha(a2+"Capture",b2)}__name(fa,"fa");function ha(a2,b2){for(ea2[a2]=b2,a2=0;a2<b2.length;a2++)da2.add(b2[a2])}__name(ha,"ha");var ia2=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja2=Object.prototype.hasOwnProperty,ka2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la2={},ma2={};function oa(a2){return ja2.call(ma2,a2)?!0:ja2.call(la2,a2)?!1:ka2.test(a2)?ma2[a2]=!0:(la2[a2]=!0,!1)}__name(oa,"oa");function pa(a2,b2,c2,d2){if(c2!==null&&c2.type===0)return!1;switch(typeof b2){case"function":case"symbol":return!0;case"boolean":return d2?!1:c2!==null?!c2.acceptsBooleans:(a2=a2.toLowerCase().slice(0,5),a2!=="data-"&&a2!=="aria-");default:return!1}}__name(pa,"pa");function qa(a2,b2,c2,d2){if(b2===null||typeof b2>"u"||pa(a2,b2,c2,d2))return!0;if(d2)return!1;if(c2!==null)switch(c2.type){case 3:return!b2;case 4:return b2===!1;case 5:return isNaN(b2);case 6:return isNaN(b2)||1>b2}return!1}__name(qa,"qa");function v2(a2,b2,c2,d2,e2,f2,g2){this.acceptsBooleans=b2===2||b2===3||b2===4,this.attributeName=d2,this.attributeNamespace=e2,this.mustUseProperty=c2,this.propertyName=a2,this.type=b2,this.sanitizeURL=f2,this.removeEmptyString=g2}__name(v2,"v");var z2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a2){z2[a2]=new v2(a2,0,!1,a2,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a2){var b2=a2[0];z2[b2]=new v2(b2,1,!1,a2[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a2){z2[a2]=new v2(a2,2,!1,a2.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a2){z2[a2]=new v2(a2,2,!1,a2,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a2){z2[a2]=new v2(a2,3,!1,a2.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a2){z2[a2]=new v2(a2,3,!0,a2,null,!1,!1)}),["capture","download"].forEach(function(a2){z2[a2]=new v2(a2,4,!1,a2,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a2){z2[a2]=new v2(a2,6,!1,a2,null,!1,!1)}),["rowSpan","start"].forEach(function(a2){z2[a2]=new v2(a2,5,!1,a2.toLowerCase(),null,!1,!1)});var ra2=/[\-:]([a-z])/g;function sa(a2){return a2[1].toUpperCase()}__name(sa,"sa"),"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a2){var b2=a2.replace(ra2,sa);z2[b2]=new v2(b2,1,!1,a2,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a2){var b2=a2.replace(ra2,sa);z2[b2]=new v2(b2,1,!1,a2,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a2){var b2=a2.replace(ra2,sa);z2[b2]=new v2(b2,1,!1,a2,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a2){z2[a2]=new v2(a2,1,!1,a2.toLowerCase(),null,!1,!1)}),z2.xlinkHref=new v2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a2){z2[a2]=new v2(a2,1,!1,a2.toLowerCase(),null,!0,!0)});function ta(a2,b2,c2,d2){var e2=z2.hasOwnProperty(b2)?z2[b2]:null;(e2!==null?e2.type!==0:d2||!(2<b2.length)||b2[0]!=="o"&&b2[0]!=="O"||b2[1]!=="n"&&b2[1]!=="N")&&(qa(b2,c2,e2,d2)&&(c2=null),d2||e2===null?oa(b2)&&(c2===null?a2.removeAttribute(b2):a2.setAttribute(b2,""+c2)):e2.mustUseProperty?a2[e2.propertyName]=c2===null?e2.type===3?!1:"":c2:(b2=e2.attributeName,d2=e2.attributeNamespace,c2===null?a2.removeAttribute(b2):(e2=e2.type,c2=e2===3||e2===4&&c2===!0?"":""+c2,d2?a2.setAttributeNS(d2,b2,c2):a2.setAttribute(b2,c2))))}__name(ta,"ta");var ua2=aa2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va2=Symbol.for("react.element"),wa2=Symbol.for("react.portal"),ya2=Symbol.for("react.fragment"),za2=Symbol.for("react.strict_mode"),Aa2=Symbol.for("react.profiler"),Ba2=Symbol.for("react.provider"),Ca2=Symbol.for("react.context"),Da2=Symbol.for("react.forward_ref"),Ea2=Symbol.for("react.suspense"),Fa2=Symbol.for("react.suspense_list"),Ga2=Symbol.for("react.memo"),Ha2=Symbol.for("react.lazy"),Ia2=Symbol.for("react.offscreen"),Ja2=Symbol.iterator;function Ka(a2){return a2===null||typeof a2!="object"?null:(a2=Ja2&&a2[Ja2]||a2["@@iterator"],typeof a2=="function"?a2:null)}__name(Ka,"Ka");var A2=Object.assign,La2;function Ma(a2){if(La2===void 0)try{throw Error()}catch(c2){var b2=c2.stack.trim().match(/\n( *(at )?)/);La2=b2&&b2[1]||""}return`
`+La2+a2}__name(Ma,"Ma");var Na2=!1;function Oa(a2,b2){if(!a2||Na2)return"";Na2=!0;var c2=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b2)if(b2=__name(function(){throw Error()},"b"),Object.defineProperty(b2.prototype,"props",{set:__name(function(){throw Error()},"set")}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b2,[])}catch(l2){var d2=l2}Reflect.construct(a2,[],b2)}else{try{b2.call()}catch(l2){d2=l2}a2.call(b2.prototype)}else{try{throw Error()}catch(l2){d2=l2}a2()}}catch(l2){if(l2&&d2&&typeof l2.stack=="string"){for(var e2=l2.stack.split(`
`),f2=d2.stack.split(`
`),g2=e2.length-1,h2=f2.length-1;1<=g2&&0<=h2&&e2[g2]!==f2[h2];)h2--;for(;1<=g2&&0<=h2;g2--,h2--)if(e2[g2]!==f2[h2]){if(g2!==1||h2!==1)do if(g2--,h2--,0>h2||e2[g2]!==f2[h2]){var k2=`
`+e2[g2].replace(" at new "," at ");return a2.displayName&&k2.includes("<anonymous>")&&(k2=k2.replace("<anonymous>",a2.displayName)),k2}while(1<=g2&&0<=h2);break}}}finally{Na2=!1,Error.prepareStackTrace=c2}return(a2=a2?a2.displayName||a2.name:"")?Ma(a2):""}__name(Oa,"Oa");function Pa(a2){switch(a2.tag){case 5:return Ma(a2.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return a2=Oa(a2.type,!1),a2;case 11:return a2=Oa(a2.type.render,!1),a2;case 1:return a2=Oa(a2.type,!0),a2;default:return""}}__name(Pa,"Pa");function Qa(a2){if(a2==null)return null;if(typeof a2=="function")return a2.displayName||a2.name||null;if(typeof a2=="string")return a2;switch(a2){case ya2:return"Fragment";case wa2:return"Portal";case Aa2:return"Profiler";case za2:return"StrictMode";case Ea2:return"Suspense";case Fa2:return"SuspenseList"}if(typeof a2=="object")switch(a2.$$typeof){case Ca2:return(a2.displayName||"Context")+".Consumer";case Ba2:return(a2._context.displayName||"Context")+".Provider";case Da2:var b2=a2.render;return a2=a2.displayName,a2||(a2=b2.displayName||b2.name||"",a2=a2!==""?"ForwardRef("+a2+")":"ForwardRef"),a2;case Ga2:return b2=a2.displayName||null,b2!==null?b2:Qa(a2.type)||"Memo";case Ha2:b2=a2._payload,a2=a2._init;try{return Qa(a2(b2))}catch{}}return null}__name(Qa,"Qa");function Ra(a2){var b2=a2.type;switch(a2.tag){case 24:return"Cache";case 9:return(b2.displayName||"Context")+".Consumer";case 10:return(b2._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a2=b2.render,a2=a2.displayName||a2.name||"",b2.displayName||(a2!==""?"ForwardRef("+a2+")":"ForwardRef");case 7:return"Fragment";case 5:return b2;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(b2);case 8:return b2===za2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b2=="function")return b2.displayName||b2.name||null;if(typeof b2=="string")return b2}return null}__name(Ra,"Ra");function Sa(a2){switch(typeof a2){case"boolean":case"number":case"string":case"undefined":return a2;case"object":return a2;default:return""}}__name(Sa,"Sa");function Ta(a2){var b2=a2.type;return(a2=a2.nodeName)&&a2.toLowerCase()==="input"&&(b2==="checkbox"||b2==="radio")}__name(Ta,"Ta");function Ua(a2){var b2=Ta(a2)?"checked":"value",c2=Object.getOwnPropertyDescriptor(a2.constructor.prototype,b2),d2=""+a2[b2];if(!a2.hasOwnProperty(b2)&&typeof c2<"u"&&typeof c2.get=="function"&&typeof c2.set=="function"){var e2=c2.get,f2=c2.set;return Object.defineProperty(a2,b2,{configurable:!0,get:__name(function(){return e2.call(this)},"get"),set:__name(function(a3){d2=""+a3,f2.call(this,a3)},"set")}),Object.defineProperty(a2,b2,{enumerable:c2.enumerable}),{getValue:__name(function(){return d2},"getValue"),setValue:__name(function(a3){d2=""+a3},"setValue"),stopTracking:__name(function(){a2._valueTracker=null,delete a2[b2]},"stopTracking")}}}__name(Ua,"Ua");function Va(a2){a2._valueTracker||(a2._valueTracker=Ua(a2))}__name(Va,"Va");function Wa(a2){if(!a2)return!1;var b2=a2._valueTracker;if(!b2)return!0;var c2=b2.getValue(),d2="";return a2&&(d2=Ta(a2)?a2.checked?"true":"false":a2.value),a2=d2,a2!==c2?(b2.setValue(a2),!0):!1}__name(Wa,"Wa");function Xa(a2){if(a2=a2||(typeof document<"u"?document:void 0),typeof a2>"u")return null;try{return a2.activeElement||a2.body}catch{return a2.body}}__name(Xa,"Xa");function Ya(a2,b2){var c2=b2.checked;return A2({},b2,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c2??a2._wrapperState.initialChecked})}__name(Ya,"Ya");function Za(a2,b2){var c2=b2.defaultValue==null?"":b2.defaultValue,d2=b2.checked!=null?b2.checked:b2.defaultChecked;c2=Sa(b2.value!=null?b2.value:c2),a2._wrapperState={initialChecked:d2,initialValue:c2,controlled:b2.type==="checkbox"||b2.type==="radio"?b2.checked!=null:b2.value!=null}}__name(Za,"Za");function ab(a2,b2){b2=b2.checked,b2!=null&&ta(a2,"checked",b2,!1)}__name(ab,"ab");function bb(a2,b2){ab(a2,b2);var c2=Sa(b2.value),d2=b2.type;if(c2!=null)d2==="number"?(c2===0&&a2.value===""||a2.value!=c2)&&(a2.value=""+c2):a2.value!==""+c2&&(a2.value=""+c2);else if(d2==="submit"||d2==="reset"){a2.removeAttribute("value");return}b2.hasOwnProperty("value")?cb(a2,b2.type,c2):b2.hasOwnProperty("defaultValue")&&cb(a2,b2.type,Sa(b2.defaultValue)),b2.checked==null&&b2.defaultChecked!=null&&(a2.defaultChecked=!!b2.defaultChecked)}__name(bb,"bb");function db(a2,b2,c2){if(b2.hasOwnProperty("value")||b2.hasOwnProperty("defaultValue")){var d2=b2.type;if(!(d2!=="submit"&&d2!=="reset"||b2.value!==void 0&&b2.value!==null))return;b2=""+a2._wrapperState.initialValue,c2||b2===a2.value||(a2.value=b2),a2.defaultValue=b2}c2=a2.name,c2!==""&&(a2.name=""),a2.defaultChecked=!!a2._wrapperState.initialChecked,c2!==""&&(a2.name=c2)}__name(db,"db");function cb(a2,b2,c2){(b2!=="number"||Xa(a2.ownerDocument)!==a2)&&(c2==null?a2.defaultValue=""+a2._wrapperState.initialValue:a2.defaultValue!==""+c2&&(a2.defaultValue=""+c2))}__name(cb,"cb");var eb=Array.isArray;function fb(a2,b2,c2,d2){if(a2=a2.options,b2){b2={};for(var e2=0;e2<c2.length;e2++)b2["$"+c2[e2]]=!0;for(c2=0;c2<a2.length;c2++)e2=b2.hasOwnProperty("$"+a2[c2].value),a2[c2].selected!==e2&&(a2[c2].selected=e2),e2&&d2&&(a2[c2].defaultSelected=!0)}else{for(c2=""+Sa(c2),b2=null,e2=0;e2<a2.length;e2++){if(a2[e2].value===c2){a2[e2].selected=!0,d2&&(a2[e2].defaultSelected=!0);return}b2!==null||a2[e2].disabled||(b2=a2[e2])}b2!==null&&(b2.selected=!0)}}__name(fb,"fb");function gb(a2,b2){if(b2.dangerouslySetInnerHTML!=null)throw Error(p2(91));return A2({},b2,{value:void 0,defaultValue:void 0,children:""+a2._wrapperState.initialValue})}__name(gb,"gb");function hb(a2,b2){var c2=b2.value;if(c2==null){if(c2=b2.children,b2=b2.defaultValue,c2!=null){if(b2!=null)throw Error(p2(92));if(eb(c2)){if(1<c2.length)throw Error(p2(93));c2=c2[0]}b2=c2}b2==null&&(b2=""),c2=b2}a2._wrapperState={initialValue:Sa(c2)}}__name(hb,"hb");function ib(a2,b2){var c2=Sa(b2.value),d2=Sa(b2.defaultValue);c2!=null&&(c2=""+c2,c2!==a2.value&&(a2.value=c2),b2.defaultValue==null&&a2.defaultValue!==c2&&(a2.defaultValue=c2)),d2!=null&&(a2.defaultValue=""+d2)}__name(ib,"ib");function jb(a2){var b2=a2.textContent;b2===a2._wrapperState.initialValue&&b2!==""&&b2!==null&&(a2.value=b2)}__name(jb,"jb");function kb(a2){switch(a2){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}__name(kb,"kb");function lb(a2,b2){return a2==null||a2==="http://www.w3.org/1999/xhtml"?kb(b2):a2==="http://www.w3.org/2000/svg"&&b2==="foreignObject"?"http://www.w3.org/1999/xhtml":a2}__name(lb,"lb");var mb,nb=function(a2){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(b2,c2,d2,e2){MSApp.execUnsafeLocalFunction(function(){return a2(b2,c2,d2,e2)})}:a2}(function(a2,b2){if(a2.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a2)a2.innerHTML=b2;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+b2.valueOf().toString()+"</svg>",b2=mb.firstChild;a2.firstChild;)a2.removeChild(a2.firstChild);for(;b2.firstChild;)a2.appendChild(b2.firstChild)}});function ob(a2,b2){if(b2){var c2=a2.firstChild;if(c2&&c2===a2.lastChild&&c2.nodeType===3){c2.nodeValue=b2;return}}a2.textContent=b2}__name(ob,"ob");var pb2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb2).forEach(function(a2){qb.forEach(function(b2){b2=b2+a2.charAt(0).toUpperCase()+a2.substring(1),pb2[b2]=pb2[a2]})});function rb(a2,b2,c2){return b2==null||typeof b2=="boolean"||b2===""?"":c2||typeof b2!="number"||b2===0||pb2.hasOwnProperty(a2)&&pb2[a2]?(""+b2).trim():b2+"px"}__name(rb,"rb");function sb(a2,b2){a2=a2.style;for(var c2 in b2)if(b2.hasOwnProperty(c2)){var d2=c2.indexOf("--")===0,e2=rb(c2,b2[c2],d2);c2==="float"&&(c2="cssFloat"),d2?a2.setProperty(c2,e2):a2[c2]=e2}}__name(sb,"sb");var tb=A2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(a2,b2){if(b2){if(tb[a2]&&(b2.children!=null||b2.dangerouslySetInnerHTML!=null))throw Error(p2(137,a2));if(b2.dangerouslySetInnerHTML!=null){if(b2.children!=null)throw Error(p2(60));if(typeof b2.dangerouslySetInnerHTML!="object"||!("__html"in b2.dangerouslySetInnerHTML))throw Error(p2(61))}if(b2.style!=null&&typeof b2.style!="object")throw Error(p2(62))}}__name(ub,"ub");function vb(a2,b2){if(a2.indexOf("-")===-1)return typeof b2.is=="string";switch(a2){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}__name(vb,"vb");var wb=null;function xb(a2){return a2=a2.target||a2.srcElement||window,a2.correspondingUseElement&&(a2=a2.correspondingUseElement),a2.nodeType===3?a2.parentNode:a2}__name(xb,"xb");var yb=null,zb=null,Ab=null;function Bb(a2){if(a2=Cb(a2)){if(typeof yb!="function")throw Error(p2(280));var b2=a2.stateNode;b2&&(b2=Db(b2),yb(a2.stateNode,a2.type,b2))}}__name(Bb,"Bb");function Eb(a2){zb?Ab?Ab.push(a2):Ab=[a2]:zb=a2}__name(Eb,"Eb");function Fb(){if(zb){var a2=zb,b2=Ab;if(Ab=zb=null,Bb(a2),b2)for(a2=0;a2<b2.length;a2++)Bb(b2[a2])}}__name(Fb,"Fb");function Gb(a2,b2){return a2(b2)}__name(Gb,"Gb");function Hb(){}__name(Hb,"Hb");var Ib=!1;function Jb(a2,b2,c2){if(Ib)return a2(b2,c2);Ib=!0;try{return Gb(a2,b2,c2)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}__name(Jb,"Jb");function Kb(a2,b2){var c2=a2.stateNode;if(c2===null)return null;var d2=Db(c2);if(d2===null)return null;c2=d2[b2];a:switch(b2){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d2=!d2.disabled)||(a2=a2.type,d2=!(a2==="button"||a2==="input"||a2==="select"||a2==="textarea")),a2=!d2;break a;default:a2=!1}if(a2)return null;if(c2&&typeof c2!="function")throw Error(p2(231,b2,typeof c2));return c2}__name(Kb,"Kb");var Lb=!1;if(ia2)try{var Mb={};Object.defineProperty(Mb,"passive",{get:__name(function(){Lb=!0},"get")}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(a2,b2,c2,d2,e2,f2,g2,h2,k2){var l2=Array.prototype.slice.call(arguments,3);try{b2.apply(c2,l2)}catch(m2){this.onError(m2)}}__name(Nb,"Nb");var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:__name(function(a2){Ob=!0,Pb=a2},"onError")};function Tb(a2,b2,c2,d2,e2,f2,g2,h2,k2){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}__name(Tb,"Tb");function Ub(a2,b2,c2,d2,e2,f2,g2,h2,k2){if(Tb.apply(this,arguments),Ob){if(Ob){var l2=Pb;Ob=!1,Pb=null}else throw Error(p2(198));Qb||(Qb=!0,Rb=l2)}}__name(Ub,"Ub");function Vb(a2){var b2=a2,c2=a2;if(a2.alternate)for(;b2.return;)b2=b2.return;else{a2=b2;do b2=a2,(b2.flags&4098)!==0&&(c2=b2.return),a2=b2.return;while(a2)}return b2.tag===3?c2:null}__name(Vb,"Vb");function Wb(a2){if(a2.tag===13){var b2=a2.memoizedState;if(b2===null&&(a2=a2.alternate,a2!==null&&(b2=a2.memoizedState)),b2!==null)return b2.dehydrated}return null}__name(Wb,"Wb");function Xb(a2){if(Vb(a2)!==a2)throw Error(p2(188))}__name(Xb,"Xb");function Yb(a2){var b2=a2.alternate;if(!b2){if(b2=Vb(a2),b2===null)throw Error(p2(188));return b2!==a2?null:a2}for(var c2=a2,d2=b2;;){var e2=c2.return;if(e2===null)break;var f2=e2.alternate;if(f2===null){if(d2=e2.return,d2!==null){c2=d2;continue}break}if(e2.child===f2.child){for(f2=e2.child;f2;){if(f2===c2)return Xb(e2),a2;if(f2===d2)return Xb(e2),b2;f2=f2.sibling}throw Error(p2(188))}if(c2.return!==d2.return)c2=e2,d2=f2;else{for(var g2=!1,h2=e2.child;h2;){if(h2===c2){g2=!0,c2=e2,d2=f2;break}if(h2===d2){g2=!0,d2=e2,c2=f2;break}h2=h2.sibling}if(!g2){for(h2=f2.child;h2;){if(h2===c2){g2=!0,c2=f2,d2=e2;break}if(h2===d2){g2=!0,d2=f2,c2=e2;break}h2=h2.sibling}if(!g2)throw Error(p2(189))}}if(c2.alternate!==d2)throw Error(p2(190))}if(c2.tag!==3)throw Error(p2(188));return c2.stateNode.current===c2?a2:b2}__name(Yb,"Yb");function Zb(a2){return a2=Yb(a2),a2!==null?$b(a2):null}__name(Zb,"Zb");function $b(a2){if(a2.tag===5||a2.tag===6)return a2;for(a2=a2.child;a2!==null;){var b2=$b(a2);if(b2!==null)return b2;a2=a2.sibling}return null}__name($b,"$b");var ac2=ca2.unstable_scheduleCallback,bc2=ca2.unstable_cancelCallback,cc2=ca2.unstable_shouldYield,dc2=ca2.unstable_requestPaint,B2=ca2.unstable_now,ec2=ca2.unstable_getCurrentPriorityLevel,fc2=ca2.unstable_ImmediatePriority,gc2=ca2.unstable_UserBlockingPriority,hc2=ca2.unstable_NormalPriority,ic2=ca2.unstable_LowPriority,jc2=ca2.unstable_IdlePriority,kc2=null,lc2=null;function mc(a2){if(lc2&&typeof lc2.onCommitFiberRoot=="function")try{lc2.onCommitFiberRoot(kc2,a2,void 0,(a2.current.flags&128)===128)}catch{}}__name(mc,"mc");var oc2=Math.clz32?Math.clz32:nc,pc2=Math.log,qc2=Math.LN2;function nc(a2){return a2>>>=0,a2===0?32:31-(pc2(a2)/qc2|0)|0}__name(nc,"nc");var rc2=64,sc2=4194304;function tc(a2){switch(a2&-a2){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a2&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a2&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a2}}__name(tc,"tc");function uc(a2,b2){var c2=a2.pendingLanes;if(c2===0)return 0;var d2=0,e2=a2.suspendedLanes,f2=a2.pingedLanes,g2=c2&268435455;if(g2!==0){var h2=g2&~e2;h2!==0?d2=tc(h2):(f2&=g2,f2!==0&&(d2=tc(f2)))}else g2=c2&~e2,g2!==0?d2=tc(g2):f2!==0&&(d2=tc(f2));if(d2===0)return 0;if(b2!==0&&b2!==d2&&(b2&e2)===0&&(e2=d2&-d2,f2=b2&-b2,e2>=f2||e2===16&&(f2&4194240)!==0))return b2;if((d2&4)!==0&&(d2|=c2&16),b2=a2.entangledLanes,b2!==0)for(a2=a2.entanglements,b2&=d2;0<b2;)c2=31-oc2(b2),e2=1<<c2,d2|=a2[c2],b2&=~e2;return d2}__name(uc,"uc");function vc(a2,b2){switch(a2){case 1:case 2:case 4:return b2+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b2+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}__name(vc,"vc");function wc(a2,b2){for(var c2=a2.suspendedLanes,d2=a2.pingedLanes,e2=a2.expirationTimes,f2=a2.pendingLanes;0<f2;){var g2=31-oc2(f2),h2=1<<g2,k2=e2[g2];k2===-1?((h2&c2)===0||(h2&d2)!==0)&&(e2[g2]=vc(h2,b2)):k2<=b2&&(a2.expiredLanes|=h2),f2&=~h2}}__name(wc,"wc");function xc(a2){return a2=a2.pendingLanes&-1073741825,a2!==0?a2:a2&1073741824?1073741824:0}__name(xc,"xc");function yc(){var a2=rc2;return rc2<<=1,(rc2&4194240)===0&&(rc2=64),a2}__name(yc,"yc");function zc(a2){for(var b2=[],c2=0;31>c2;c2++)b2.push(a2);return b2}__name(zc,"zc");function Ac(a2,b2,c2){a2.pendingLanes|=b2,b2!==536870912&&(a2.suspendedLanes=0,a2.pingedLanes=0),a2=a2.eventTimes,b2=31-oc2(b2),a2[b2]=c2}__name(Ac,"Ac");function Bc(a2,b2){var c2=a2.pendingLanes&~b2;a2.pendingLanes=b2,a2.suspendedLanes=0,a2.pingedLanes=0,a2.expiredLanes&=b2,a2.mutableReadLanes&=b2,a2.entangledLanes&=b2,b2=a2.entanglements;var d2=a2.eventTimes;for(a2=a2.expirationTimes;0<c2;){var e2=31-oc2(c2),f2=1<<e2;b2[e2]=0,d2[e2]=-1,a2[e2]=-1,c2&=~f2}}__name(Bc,"Bc");function Cc(a2,b2){var c2=a2.entangledLanes|=b2;for(a2=a2.entanglements;c2;){var d2=31-oc2(c2),e2=1<<d2;e2&b2|a2[d2]&b2&&(a2[d2]|=b2),c2&=~e2}}__name(Cc,"Cc");var C2=0;function Dc(a2){return a2&=-a2,1<a2?4<a2?(a2&268435455)!==0?16:536870912:4:1}__name(Dc,"Dc");var Ec2,Fc2,Gc2,Hc2,Ic2,Jc2=!1,Kc2=[],Lc2=null,Mc2=null,Nc2=null,Oc2=new Map,Pc2=new Map,Qc2=[],Rc2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(a2,b2){switch(a2){case"focusin":case"focusout":Lc2=null;break;case"dragenter":case"dragleave":Mc2=null;break;case"mouseover":case"mouseout":Nc2=null;break;case"pointerover":case"pointerout":Oc2.delete(b2.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc2.delete(b2.pointerId)}}__name(Sc,"Sc");function Tc(a2,b2,c2,d2,e2,f2){return a2===null||a2.nativeEvent!==f2?(a2={blockedOn:b2,domEventName:c2,eventSystemFlags:d2,nativeEvent:f2,targetContainers:[e2]},b2!==null&&(b2=Cb(b2),b2!==null&&Fc2(b2)),a2):(a2.eventSystemFlags|=d2,b2=a2.targetContainers,e2!==null&&b2.indexOf(e2)===-1&&b2.push(e2),a2)}__name(Tc,"Tc");function Uc(a2,b2,c2,d2,e2){switch(b2){case"focusin":return Lc2=Tc(Lc2,a2,b2,c2,d2,e2),!0;case"dragenter":return Mc2=Tc(Mc2,a2,b2,c2,d2,e2),!0;case"mouseover":return Nc2=Tc(Nc2,a2,b2,c2,d2,e2),!0;case"pointerover":var f2=e2.pointerId;return Oc2.set(f2,Tc(Oc2.get(f2)||null,a2,b2,c2,d2,e2)),!0;case"gotpointercapture":return f2=e2.pointerId,Pc2.set(f2,Tc(Pc2.get(f2)||null,a2,b2,c2,d2,e2)),!0}return!1}__name(Uc,"Uc");function Vc(a2){var b2=Wc(a2.target);if(b2!==null){var c2=Vb(b2);if(c2!==null){if(b2=c2.tag,b2===13){if(b2=Wb(c2),b2!==null){a2.blockedOn=b2,Ic2(a2.priority,function(){Gc2(c2)});return}}else if(b2===3&&c2.stateNode.current.memoizedState.isDehydrated){a2.blockedOn=c2.tag===3?c2.stateNode.containerInfo:null;return}}}a2.blockedOn=null}__name(Vc,"Vc");function Xc(a2){if(a2.blockedOn!==null)return!1;for(var b2=a2.targetContainers;0<b2.length;){var c2=Yc(a2.domEventName,a2.eventSystemFlags,b2[0],a2.nativeEvent);if(c2===null){c2=a2.nativeEvent;var d2=new c2.constructor(c2.type,c2);wb=d2,c2.target.dispatchEvent(d2),wb=null}else return b2=Cb(c2),b2!==null&&Fc2(b2),a2.blockedOn=c2,!1;b2.shift()}return!0}__name(Xc,"Xc");function Zc(a2,b2,c2){Xc(a2)&&c2.delete(b2)}__name(Zc,"Zc");function $c(){Jc2=!1,Lc2!==null&&Xc(Lc2)&&(Lc2=null),Mc2!==null&&Xc(Mc2)&&(Mc2=null),Nc2!==null&&Xc(Nc2)&&(Nc2=null),Oc2.forEach(Zc),Pc2.forEach(Zc)}__name($c,"$c");function ad(a2,b2){a2.blockedOn===b2&&(a2.blockedOn=null,Jc2||(Jc2=!0,ca2.unstable_scheduleCallback(ca2.unstable_NormalPriority,$c)))}__name(ad,"ad");function bd(a2){function b2(b3){return ad(b3,a2)}if(__name(b2,"b"),0<Kc2.length){ad(Kc2[0],a2);for(var c2=1;c2<Kc2.length;c2++){var d2=Kc2[c2];d2.blockedOn===a2&&(d2.blockedOn=null)}}for(Lc2!==null&&ad(Lc2,a2),Mc2!==null&&ad(Mc2,a2),Nc2!==null&&ad(Nc2,a2),Oc2.forEach(b2),Pc2.forEach(b2),c2=0;c2<Qc2.length;c2++)d2=Qc2[c2],d2.blockedOn===a2&&(d2.blockedOn=null);for(;0<Qc2.length&&(c2=Qc2[0],c2.blockedOn===null);)Vc(c2),c2.blockedOn===null&&Qc2.shift()}__name(bd,"bd");var cd2=ua2.ReactCurrentBatchConfig,dd2=!0;function ed(a2,b2,c2,d2){var e2=C2,f2=cd2.transition;cd2.transition=null;try{C2=1,fd(a2,b2,c2,d2)}finally{C2=e2,cd2.transition=f2}}__name(ed,"ed");function gd(a2,b2,c2,d2){var e2=C2,f2=cd2.transition;cd2.transition=null;try{C2=4,fd(a2,b2,c2,d2)}finally{C2=e2,cd2.transition=f2}}__name(gd,"gd");function fd(a2,b2,c2,d2){if(dd2){var e2=Yc(a2,b2,c2,d2);if(e2===null)hd(a2,b2,d2,id2,c2),Sc(a2,d2);else if(Uc(e2,a2,b2,c2,d2))d2.stopPropagation();else if(Sc(a2,d2),b2&4&&-1<Rc2.indexOf(a2)){for(;e2!==null;){var f2=Cb(e2);if(f2!==null&&Ec2(f2),f2=Yc(a2,b2,c2,d2),f2===null&&hd(a2,b2,d2,id2,c2),f2===e2)break;e2=f2}e2!==null&&d2.stopPropagation()}else hd(a2,b2,d2,null,c2)}}__name(fd,"fd");var id2=null;function Yc(a2,b2,c2,d2){if(id2=null,a2=xb(d2),a2=Wc(a2),a2!==null)if(b2=Vb(a2),b2===null)a2=null;else if(c2=b2.tag,c2===13){if(a2=Wb(b2),a2!==null)return a2;a2=null}else if(c2===3){if(b2.stateNode.current.memoizedState.isDehydrated)return b2.tag===3?b2.stateNode.containerInfo:null;a2=null}else b2!==a2&&(a2=null);return id2=a2,null}__name(Yc,"Yc");function jd(a2){switch(a2){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec2()){case fc2:return 1;case gc2:return 4;case hc2:case ic2:return 16;case jc2:return 536870912;default:return 16}default:return 16}}__name(jd,"jd");var kd2=null,ld2=null,md2=null;function nd(){if(md2)return md2;var a2,b2=ld2,c2=b2.length,d2,e2="value"in kd2?kd2.value:kd2.textContent,f2=e2.length;for(a2=0;a2<c2&&b2[a2]===e2[a2];a2++);var g2=c2-a2;for(d2=1;d2<=g2&&b2[c2-d2]===e2[f2-d2];d2++);return md2=e2.slice(a2,1<d2?1-d2:void 0)}__name(nd,"nd");function od(a2){var b2=a2.keyCode;return"charCode"in a2?(a2=a2.charCode,a2===0&&b2===13&&(a2=13)):a2=b2,a2===10&&(a2=13),32<=a2||a2===13?a2:0}__name(od,"od");function pd(){return!0}__name(pd,"pd");function qd(){return!1}__name(qd,"qd");function rd(a2){function b2(b3,d2,e2,f2,g2){this._reactName=b3,this._targetInst=e2,this.type=d2,this.nativeEvent=f2,this.target=g2,this.currentTarget=null;for(var c2 in a2)a2.hasOwnProperty(c2)&&(b3=a2[c2],this[c2]=b3?b3(f2):f2[c2]);return this.isDefaultPrevented=(f2.defaultPrevented!=null?f2.defaultPrevented:f2.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return __name(b2,"b"),A2(b2.prototype,{preventDefault:__name(function(){this.defaultPrevented=!0;var a3=this.nativeEvent;a3&&(a3.preventDefault?a3.preventDefault():typeof a3.returnValue!="unknown"&&(a3.returnValue=!1),this.isDefaultPrevented=pd)},"preventDefault"),stopPropagation:__name(function(){var a3=this.nativeEvent;a3&&(a3.stopPropagation?a3.stopPropagation():typeof a3.cancelBubble!="unknown"&&(a3.cancelBubble=!0),this.isPropagationStopped=pd)},"stopPropagation"),persist:__name(function(){},"persist"),isPersistent:pd}),b2}__name(rd,"rd");var sd2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:__name(function(a2){return a2.timeStamp||Date.now()},"timeStamp"),defaultPrevented:0,isTrusted:0},td2=rd(sd2),ud2=A2({},sd2,{view:0,detail:0}),vd2=rd(ud2),wd2,xd2,yd2,Ad2=A2({},ud2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:__name(function(a2){return a2.relatedTarget===void 0?a2.fromElement===a2.srcElement?a2.toElement:a2.fromElement:a2.relatedTarget},"relatedTarget"),movementX:__name(function(a2){return"movementX"in a2?a2.movementX:(a2!==yd2&&(yd2&&a2.type==="mousemove"?(wd2=a2.screenX-yd2.screenX,xd2=a2.screenY-yd2.screenY):xd2=wd2=0,yd2=a2),wd2)},"movementX"),movementY:__name(function(a2){return"movementY"in a2?a2.movementY:xd2},"movementY")}),Bd2=rd(Ad2),Cd2=A2({},Ad2,{dataTransfer:0}),Dd2=rd(Cd2),Ed2=A2({},ud2,{relatedTarget:0}),Fd2=rd(Ed2),Gd2=A2({},sd2,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd2=rd(Gd2),Id2=A2({},sd2,{clipboardData:__name(function(a2){return"clipboardData"in a2?a2.clipboardData:window.clipboardData},"clipboardData")}),Jd2=rd(Id2),Kd2=A2({},sd2,{data:0}),Ld2=rd(Kd2),Md2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(a2){var b2=this.nativeEvent;return b2.getModifierState?b2.getModifierState(a2):(a2=Od2[a2])?!!b2[a2]:!1}__name(Pd,"Pd");function zd(){return Pd}__name(zd,"zd");var Qd2=A2({},ud2,{key:__name(function(a2){if(a2.key){var b2=Md2[a2.key]||a2.key;if(b2!=="Unidentified")return b2}return a2.type==="keypress"?(a2=od(a2),a2===13?"Enter":String.fromCharCode(a2)):a2.type==="keydown"||a2.type==="keyup"?Nd2[a2.keyCode]||"Unidentified":""},"key"),code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:__name(function(a2){return a2.type==="keypress"?od(a2):0},"charCode"),keyCode:__name(function(a2){return a2.type==="keydown"||a2.type==="keyup"?a2.keyCode:0},"keyCode"),which:__name(function(a2){return a2.type==="keypress"?od(a2):a2.type==="keydown"||a2.type==="keyup"?a2.keyCode:0},"which")}),Rd2=rd(Qd2),Sd2=A2({},Ad2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td2=rd(Sd2),Ud2=A2({},ud2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd2=rd(Ud2),Wd2=A2({},sd2,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd2=rd(Wd2),Yd2=A2({},Ad2,{deltaX:__name(function(a2){return"deltaX"in a2?a2.deltaX:"wheelDeltaX"in a2?-a2.wheelDeltaX:0},"deltaX"),deltaY:__name(function(a2){return"deltaY"in a2?a2.deltaY:"wheelDeltaY"in a2?-a2.wheelDeltaY:"wheelDelta"in a2?-a2.wheelDelta:0},"deltaY"),deltaZ:0,deltaMode:0}),Zd2=rd(Yd2),$d2=[9,13,27,32],ae2=ia2&&"CompositionEvent"in window,be2=null;ia2&&"documentMode"in document&&(be2=document.documentMode);var ce2=ia2&&"TextEvent"in window&&!be2,de2=ia2&&(!ae2||be2&&8<be2&&11>=be2),ee2=" ",fe2=!1;function ge2(a2,b2){switch(a2){case"keyup":return $d2.indexOf(b2.keyCode)!==-1;case"keydown":return b2.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}__name(ge2,"ge");function he2(a2){return a2=a2.detail,typeof a2=="object"&&"data"in a2?a2.data:null}__name(he2,"he");var ie2=!1;function je(a2,b2){switch(a2){case"compositionend":return he2(b2);case"keypress":return b2.which!==32?null:(fe2=!0,ee2);case"textInput":return a2=b2.data,a2===ee2&&fe2?null:a2;default:return null}}__name(je,"je");function ke(a2,b2){if(ie2)return a2==="compositionend"||!ae2&&ge2(a2,b2)?(a2=nd(),md2=ld2=kd2=null,ie2=!1,a2):null;switch(a2){case"paste":return null;case"keypress":if(!(b2.ctrlKey||b2.altKey||b2.metaKey)||b2.ctrlKey&&b2.altKey){if(b2.char&&1<b2.char.length)return b2.char;if(b2.which)return String.fromCharCode(b2.which)}return null;case"compositionend":return de2&&b2.locale!=="ko"?null:b2.data;default:return null}}__name(ke,"ke");var le2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me2(a2){var b2=a2&&a2.nodeName&&a2.nodeName.toLowerCase();return b2==="input"?!!le2[a2.type]:b2==="textarea"}__name(me2,"me");function ne2(a2,b2,c2,d2){Eb(d2),b2=oe2(b2,"onChange"),0<b2.length&&(c2=new td2("onChange","change",null,c2,d2),a2.push({event:c2,listeners:b2}))}__name(ne2,"ne");var pe2=null,qe=null;function re2(a2){se2(a2,0)}__name(re2,"re");function te2(a2){var b2=ue2(a2);if(Wa(b2))return a2}__name(te2,"te");function ve2(a2,b2){if(a2==="change")return b2}__name(ve2,"ve");var we=!1;if(ia2){var xe;if(ia2){var ye2="oninput"in document;if(!ye2){var ze2=document.createElement("div");ze2.setAttribute("oninput","return;"),ye2=typeof ze2.oninput=="function"}xe=ye2}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe2&&(pe2.detachEvent("onpropertychange",Be),qe=pe2=null)}__name(Ae,"Ae");function Be(a2){if(a2.propertyName==="value"&&te2(qe)){var b2=[];ne2(b2,qe,a2,xb(a2)),Jb(re2,b2)}}__name(Be,"Be");function Ce(a2,b2,c2){a2==="focusin"?(Ae(),pe2=b2,qe=c2,pe2.attachEvent("onpropertychange",Be)):a2==="focusout"&&Ae()}__name(Ce,"Ce");function De(a2){if(a2==="selectionchange"||a2==="keyup"||a2==="keydown")return te2(qe)}__name(De,"De");function Ee(a2,b2){if(a2==="click")return te2(b2)}__name(Ee,"Ee");function Fe(a2,b2){if(a2==="input"||a2==="change")return te2(b2)}__name(Fe,"Fe");function Ge(a2,b2){return a2===b2&&(a2!==0||1/a2===1/b2)||a2!==a2&&b2!==b2}__name(Ge,"Ge");var He2=typeof Object.is=="function"?Object.is:Ge;function Ie(a2,b2){if(He2(a2,b2))return!0;if(typeof a2!="object"||a2===null||typeof b2!="object"||b2===null)return!1;var c2=Object.keys(a2),d2=Object.keys(b2);if(c2.length!==d2.length)return!1;for(d2=0;d2<c2.length;d2++){var e2=c2[d2];if(!ja2.call(b2,e2)||!He2(a2[e2],b2[e2]))return!1}return!0}__name(Ie,"Ie");function Je(a2){for(;a2&&a2.firstChild;)a2=a2.firstChild;return a2}__name(Je,"Je");function Ke(a2,b2){var c2=Je(a2);a2=0;for(var d2;c2;){if(c2.nodeType===3){if(d2=a2+c2.textContent.length,a2<=b2&&d2>=b2)return{node:c2,offset:b2-a2};a2=d2}a:{for(;c2;){if(c2.nextSibling){c2=c2.nextSibling;break a}c2=c2.parentNode}c2=void 0}c2=Je(c2)}}__name(Ke,"Ke");function Le(a2,b2){return a2&&b2?a2===b2?!0:a2&&a2.nodeType===3?!1:b2&&b2.nodeType===3?Le(a2,b2.parentNode):"contains"in a2?a2.contains(b2):a2.compareDocumentPosition?!!(a2.compareDocumentPosition(b2)&16):!1:!1}__name(Le,"Le");function Me(){for(var a2=window,b2=Xa();b2 instanceof a2.HTMLIFrameElement;){try{var c2=typeof b2.contentWindow.location.href=="string"}catch{c2=!1}if(c2)a2=b2.contentWindow;else break;b2=Xa(a2.document)}return b2}__name(Me,"Me");function Ne(a2){var b2=a2&&a2.nodeName&&a2.nodeName.toLowerCase();return b2&&(b2==="input"&&(a2.type==="text"||a2.type==="search"||a2.type==="tel"||a2.type==="url"||a2.type==="password")||b2==="textarea"||a2.contentEditable==="true")}__name(Ne,"Ne");function Oe(a2){var b2=Me(),c2=a2.focusedElem,d2=a2.selectionRange;if(b2!==c2&&c2&&c2.ownerDocument&&Le(c2.ownerDocument.documentElement,c2)){if(d2!==null&&Ne(c2)){if(b2=d2.start,a2=d2.end,a2===void 0&&(a2=b2),"selectionStart"in c2)c2.selectionStart=b2,c2.selectionEnd=Math.min(a2,c2.value.length);else if(a2=(b2=c2.ownerDocument||document)&&b2.defaultView||window,a2.getSelection){a2=a2.getSelection();var e2=c2.textContent.length,f2=Math.min(d2.start,e2);d2=d2.end===void 0?f2:Math.min(d2.end,e2),!a2.extend&&f2>d2&&(e2=d2,d2=f2,f2=e2),e2=Ke(c2,f2);var g2=Ke(c2,d2);e2&&g2&&(a2.rangeCount!==1||a2.anchorNode!==e2.node||a2.anchorOffset!==e2.offset||a2.focusNode!==g2.node||a2.focusOffset!==g2.offset)&&(b2=b2.createRange(),b2.setStart(e2.node,e2.offset),a2.removeAllRanges(),f2>d2?(a2.addRange(b2),a2.extend(g2.node,g2.offset)):(b2.setEnd(g2.node,g2.offset),a2.addRange(b2)))}}for(b2=[],a2=c2;a2=a2.parentNode;)a2.nodeType===1&&b2.push({element:a2,left:a2.scrollLeft,top:a2.scrollTop});for(typeof c2.focus=="function"&&c2.focus(),c2=0;c2<b2.length;c2++)a2=b2[c2],a2.element.scrollLeft=a2.left,a2.element.scrollTop=a2.top}}__name(Oe,"Oe");var Pe2=ia2&&"documentMode"in document&&11>=document.documentMode,Qe2=null,Re2=null,Se2=null,Te=!1;function Ue(a2,b2,c2){var d2=c2.window===c2?c2.document:c2.nodeType===9?c2:c2.ownerDocument;Te||Qe2==null||Qe2!==Xa(d2)||(d2=Qe2,"selectionStart"in d2&&Ne(d2)?d2={start:d2.selectionStart,end:d2.selectionEnd}:(d2=(d2.ownerDocument&&d2.ownerDocument.defaultView||window).getSelection(),d2={anchorNode:d2.anchorNode,anchorOffset:d2.anchorOffset,focusNode:d2.focusNode,focusOffset:d2.focusOffset}),Se2&&Ie(Se2,d2)||(Se2=d2,d2=oe2(Re2,"onSelect"),0<d2.length&&(b2=new td2("onSelect","select",null,b2,c2),a2.push({event:b2,listeners:d2}),b2.target=Qe2)))}__name(Ue,"Ue");function Ve(a2,b2){var c2={};return c2[a2.toLowerCase()]=b2.toLowerCase(),c2["Webkit"+a2]="webkit"+b2,c2["Moz"+a2]="moz"+b2,c2}__name(Ve,"Ve");var We2={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe2={},Ye={};ia2&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We2.animationend.animation,delete We2.animationiteration.animation,delete We2.animationstart.animation),"TransitionEvent"in window||delete We2.transitionend.transition);function Ze(a2){if(Xe2[a2])return Xe2[a2];if(!We2[a2])return a2;var b2=We2[a2],c2;for(c2 in b2)if(b2.hasOwnProperty(c2)&&c2 in Ye)return Xe2[a2]=b2[c2];return a2}__name(Ze,"Ze");var $e2=Ze("animationend"),af2=Ze("animationiteration"),bf2=Ze("animationstart"),cf2=Ze("transitionend"),df2=new Map,ef2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(a2,b2){df2.set(a2,b2),fa(b2,[a2])}__name(ff,"ff");for(var gf2=0;gf2<ef2.length;gf2++){var hf2=ef2[gf2],jf2=hf2.toLowerCase(),kf2=hf2[0].toUpperCase()+hf2.slice(1);ff(jf2,"on"+kf2)}ff($e2,"onAnimationEnd"),ff(af2,"onAnimationIteration"),ff(bf2,"onAnimationStart"),ff("dblclick","onDoubleClick"),ff("focusin","onFocus"),ff("focusout","onBlur"),ff(cf2,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf2=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf2));function nf(a2,b2,c2){var d2=a2.type||"unknown-event";a2.currentTarget=c2,Ub(d2,b2,void 0,a2),a2.currentTarget=null}__name(nf,"nf");function se2(a2,b2){b2=(b2&4)!==0;for(var c2=0;c2<a2.length;c2++){var d2=a2[c2],e2=d2.event;d2=d2.listeners;a:{var f2=void 0;if(b2)for(var g2=d2.length-1;0<=g2;g2--){var h2=d2[g2],k2=h2.instance,l2=h2.currentTarget;if(h2=h2.listener,k2!==f2&&e2.isPropagationStopped())break a;nf(e2,h2,l2),f2=k2}else for(g2=0;g2<d2.length;g2++){if(h2=d2[g2],k2=h2.instance,l2=h2.currentTarget,h2=h2.listener,k2!==f2&&e2.isPropagationStopped())break a;nf(e2,h2,l2),f2=k2}}}if(Qb)throw a2=Rb,Qb=!1,Rb=null,a2}__name(se2,"se");function D2(a2,b2){var c2=b2[of2];c2===void 0&&(c2=b2[of2]=new Set);var d2=a2+"__bubble";c2.has(d2)||(pf(b2,a2,2,!1),c2.add(d2))}__name(D2,"D");function qf(a2,b2,c2){var d2=0;b2&&(d2|=4),pf(c2,a2,d2,b2)}__name(qf,"qf");var rf2="_reactListening"+Math.random().toString(36).slice(2);function sf(a2){if(!a2[rf2]){a2[rf2]=!0,da2.forEach(function(b3){b3!=="selectionchange"&&(mf2.has(b3)||qf(b3,!1,a2),qf(b3,!0,a2))});var b2=a2.nodeType===9?a2:a2.ownerDocument;b2===null||b2[rf2]||(b2[rf2]=!0,qf("selectionchange",!1,b2))}}__name(sf,"sf");function pf(a2,b2,c2,d2){switch(jd(b2)){case 1:var e2=ed;break;case 4:e2=gd;break;default:e2=fd}c2=e2.bind(null,b2,c2,a2),e2=void 0,!Lb||b2!=="touchstart"&&b2!=="touchmove"&&b2!=="wheel"||(e2=!0),d2?e2!==void 0?a2.addEventListener(b2,c2,{capture:!0,passive:e2}):a2.addEventListener(b2,c2,!0):e2!==void 0?a2.addEventListener(b2,c2,{passive:e2}):a2.addEventListener(b2,c2,!1)}__name(pf,"pf");function hd(a2,b2,c2,d2,e2){var f2=d2;if((b2&1)===0&&(b2&2)===0&&d2!==null)a:for(;;){if(d2===null)return;var g2=d2.tag;if(g2===3||g2===4){var h2=d2.stateNode.containerInfo;if(h2===e2||h2.nodeType===8&&h2.parentNode===e2)break;if(g2===4)for(g2=d2.return;g2!==null;){var k2=g2.tag;if((k2===3||k2===4)&&(k2=g2.stateNode.containerInfo,k2===e2||k2.nodeType===8&&k2.parentNode===e2))return;g2=g2.return}for(;h2!==null;){if(g2=Wc(h2),g2===null)return;if(k2=g2.tag,k2===5||k2===6){d2=f2=g2;continue a}h2=h2.parentNode}}d2=d2.return}Jb(function(){var d3=f2,e3=xb(c2),g3=[];a:{var h3=df2.get(a2);if(h3!==void 0){var k3=td2,n2=a2;switch(a2){case"keypress":if(od(c2)===0)break a;case"keydown":case"keyup":k3=Rd2;break;case"focusin":n2="focus",k3=Fd2;break;case"focusout":n2="blur",k3=Fd2;break;case"beforeblur":case"afterblur":k3=Fd2;break;case"click":if(c2.button===2)break a;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k3=Bd2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k3=Dd2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k3=Vd2;break;case $e2:case af2:case bf2:k3=Hd2;break;case cf2:k3=Xd2;break;case"scroll":k3=vd2;break;case"wheel":k3=Zd2;break;case"copy":case"cut":case"paste":k3=Jd2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k3=Td2}var t2=(b2&4)!==0,J2=!t2&&a2==="scroll",x2=t2?h3!==null?h3+"Capture":null:h3;t2=[];for(var w2=d3,u2;w2!==null;){u2=w2;var F2=u2.stateNode;if(u2.tag===5&&F2!==null&&(u2=F2,x2!==null&&(F2=Kb(w2,x2),F2!=null&&t2.push(tf(w2,F2,u2)))),J2)break;w2=w2.return}0<t2.length&&(h3=new k3(h3,n2,null,c2,e3),g3.push({event:h3,listeners:t2}))}}if((b2&7)===0){a:{if(h3=a2==="mouseover"||a2==="pointerover",k3=a2==="mouseout"||a2==="pointerout",h3&&c2!==wb&&(n2=c2.relatedTarget||c2.fromElement)&&(Wc(n2)||n2[uf2]))break a;if((k3||h3)&&(h3=e3.window===e3?e3:(h3=e3.ownerDocument)?h3.defaultView||h3.parentWindow:window,k3?(n2=c2.relatedTarget||c2.toElement,k3=d3,n2=n2?Wc(n2):null,n2!==null&&(J2=Vb(n2),n2!==J2||n2.tag!==5&&n2.tag!==6)&&(n2=null)):(k3=null,n2=d3),k3!==n2)){if(t2=Bd2,F2="onMouseLeave",x2="onMouseEnter",w2="mouse",(a2==="pointerout"||a2==="pointerover")&&(t2=Td2,F2="onPointerLeave",x2="onPointerEnter",w2="pointer"),J2=k3==null?h3:ue2(k3),u2=n2==null?h3:ue2(n2),h3=new t2(F2,w2+"leave",k3,c2,e3),h3.target=J2,h3.relatedTarget=u2,F2=null,Wc(e3)===d3&&(t2=new t2(x2,w2+"enter",n2,c2,e3),t2.target=u2,t2.relatedTarget=J2,F2=t2),J2=F2,k3&&n2)b:{for(t2=k3,x2=n2,w2=0,u2=t2;u2;u2=vf(u2))w2++;for(u2=0,F2=x2;F2;F2=vf(F2))u2++;for(;0<w2-u2;)t2=vf(t2),w2--;for(;0<u2-w2;)x2=vf(x2),u2--;for(;w2--;){if(t2===x2||x2!==null&&t2===x2.alternate)break b;t2=vf(t2),x2=vf(x2)}t2=null}else t2=null;k3!==null&&wf(g3,h3,k3,t2,!1),n2!==null&&J2!==null&&wf(g3,J2,n2,t2,!0)}}a:{if(h3=d3?ue2(d3):window,k3=h3.nodeName&&h3.nodeName.toLowerCase(),k3==="select"||k3==="input"&&h3.type==="file")var na2=ve2;else if(me2(h3))if(we)na2=Fe;else{na2=De;var xa2=Ce}else(k3=h3.nodeName)&&k3.toLowerCase()==="input"&&(h3.type==="checkbox"||h3.type==="radio")&&(na2=Ee);if(na2&&(na2=na2(a2,d3))){ne2(g3,na2,c2,e3);break a}xa2&&xa2(a2,h3,d3),a2==="focusout"&&(xa2=h3._wrapperState)&&xa2.controlled&&h3.type==="number"&&cb(h3,"number",h3.value)}switch(xa2=d3?ue2(d3):window,a2){case"focusin":(me2(xa2)||xa2.contentEditable==="true")&&(Qe2=xa2,Re2=d3,Se2=null);break;case"focusout":Se2=Re2=Qe2=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(g3,c2,e3);break;case"selectionchange":if(Pe2)break;case"keydown":case"keyup":Ue(g3,c2,e3)}var $a2;if(ae2)b:{switch(a2){case"compositionstart":var ba2="onCompositionStart";break b;case"compositionend":ba2="onCompositionEnd";break b;case"compositionupdate":ba2="onCompositionUpdate";break b}ba2=void 0}else ie2?ge2(a2,c2)&&(ba2="onCompositionEnd"):a2==="keydown"&&c2.keyCode===229&&(ba2="onCompositionStart");ba2&&(de2&&c2.locale!=="ko"&&(ie2||ba2!=="onCompositionStart"?ba2==="onCompositionEnd"&&ie2&&($a2=nd()):(kd2=e3,ld2="value"in kd2?kd2.value:kd2.textContent,ie2=!0)),xa2=oe2(d3,ba2),0<xa2.length&&(ba2=new Ld2(ba2,a2,null,c2,e3),g3.push({event:ba2,listeners:xa2}),$a2?ba2.data=$a2:($a2=he2(c2),$a2!==null&&(ba2.data=$a2)))),($a2=ce2?je(a2,c2):ke(a2,c2))&&(d3=oe2(d3,"onBeforeInput"),0<d3.length&&(e3=new Ld2("onBeforeInput","beforeinput",null,c2,e3),g3.push({event:e3,listeners:d3}),e3.data=$a2))}se2(g3,b2)})}__name(hd,"hd");function tf(a2,b2,c2){return{instance:a2,listener:b2,currentTarget:c2}}__name(tf,"tf");function oe2(a2,b2){for(var c2=b2+"Capture",d2=[];a2!==null;){var e2=a2,f2=e2.stateNode;e2.tag===5&&f2!==null&&(e2=f2,f2=Kb(a2,c2),f2!=null&&d2.unshift(tf(a2,f2,e2)),f2=Kb(a2,b2),f2!=null&&d2.push(tf(a2,f2,e2))),a2=a2.return}return d2}__name(oe2,"oe");function vf(a2){if(a2===null)return null;do a2=a2.return;while(a2&&a2.tag!==5);return a2||null}__name(vf,"vf");function wf(a2,b2,c2,d2,e2){for(var f2=b2._reactName,g2=[];c2!==null&&c2!==d2;){var h2=c2,k2=h2.alternate,l2=h2.stateNode;if(k2!==null&&k2===d2)break;h2.tag===5&&l2!==null&&(h2=l2,e2?(k2=Kb(c2,f2),k2!=null&&g2.unshift(tf(c2,k2,h2))):e2||(k2=Kb(c2,f2),k2!=null&&g2.push(tf(c2,k2,h2)))),c2=c2.return}g2.length!==0&&a2.push({event:b2,listeners:g2})}__name(wf,"wf");var xf2=/\r\n?/g,yf2=/\u0000|\uFFFD/g;function zf(a2){return(typeof a2=="string"?a2:""+a2).replace(xf2,`
`).replace(yf2,"")}__name(zf,"zf");function Af(a2,b2,c2){if(b2=zf(b2),zf(a2)!==b2&&c2)throw Error(p2(425))}__name(Af,"Af");function Bf(){}__name(Bf,"Bf");var Cf2=null,Df2=null;function Ef(a2,b2){return a2==="textarea"||a2==="noscript"||typeof b2.children=="string"||typeof b2.children=="number"||typeof b2.dangerouslySetInnerHTML=="object"&&b2.dangerouslySetInnerHTML!==null&&b2.dangerouslySetInnerHTML.__html!=null}__name(Ef,"Ef");var Ff2=typeof setTimeout=="function"?setTimeout:void 0,Gf2=typeof clearTimeout=="function"?clearTimeout:void 0,Hf2=typeof Promise=="function"?Promise:void 0,Jf2=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf2<"u"?function(a2){return Hf2.resolve(null).then(a2).catch(If)}:Ff2;function If(a2){setTimeout(function(){throw a2})}__name(If,"If");function Kf(a2,b2){var c2=b2,d2=0;do{var e2=c2.nextSibling;if(a2.removeChild(c2),e2&&e2.nodeType===8)if(c2=e2.data,c2==="/$"){if(d2===0){a2.removeChild(e2),bd(b2);return}d2--}else c2!=="$"&&c2!=="$?"&&c2!=="$!"||d2++;c2=e2}while(c2);bd(b2)}__name(Kf,"Kf");function Lf(a2){for(;a2!=null;a2=a2.nextSibling){var b2=a2.nodeType;if(b2===1||b2===3)break;if(b2===8){if(b2=a2.data,b2==="$"||b2==="$!"||b2==="$?")break;if(b2==="/$")return null}}return a2}__name(Lf,"Lf");function Mf(a2){a2=a2.previousSibling;for(var b2=0;a2;){if(a2.nodeType===8){var c2=a2.data;if(c2==="$"||c2==="$!"||c2==="$?"){if(b2===0)return a2;b2--}else c2==="/$"&&b2++}a2=a2.previousSibling}return null}__name(Mf,"Mf");var Nf2=Math.random().toString(36).slice(2),Of2="__reactFiber$"+Nf2,Pf2="__reactProps$"+Nf2,uf2="__reactContainer$"+Nf2,of2="__reactEvents$"+Nf2,Qf2="__reactListeners$"+Nf2,Rf2="__reactHandles$"+Nf2;function Wc(a2){var b2=a2[Of2];if(b2)return b2;for(var c2=a2.parentNode;c2;){if(b2=c2[uf2]||c2[Of2]){if(c2=b2.alternate,b2.child!==null||c2!==null&&c2.child!==null)for(a2=Mf(a2);a2!==null;){if(c2=a2[Of2])return c2;a2=Mf(a2)}return b2}a2=c2,c2=a2.parentNode}return null}__name(Wc,"Wc");function Cb(a2){return a2=a2[Of2]||a2[uf2],!a2||a2.tag!==5&&a2.tag!==6&&a2.tag!==13&&a2.tag!==3?null:a2}__name(Cb,"Cb");function ue2(a2){if(a2.tag===5||a2.tag===6)return a2.stateNode;throw Error(p2(33))}__name(ue2,"ue");function Db(a2){return a2[Pf2]||null}__name(Db,"Db");var Sf2=[],Tf2=-1;function Uf(a2){return{current:a2}}__name(Uf,"Uf");function E2(a2){0>Tf2||(a2.current=Sf2[Tf2],Sf2[Tf2]=null,Tf2--)}__name(E2,"E");function G2(a2,b2){Tf2++,Sf2[Tf2]=a2.current,a2.current=b2}__name(G2,"G");var Vf2={},H2=Uf(Vf2),Wf2=Uf(!1),Xf2=Vf2;function Yf(a2,b2){var c2=a2.type.contextTypes;if(!c2)return Vf2;var d2=a2.stateNode;if(d2&&d2.__reactInternalMemoizedUnmaskedChildContext===b2)return d2.__reactInternalMemoizedMaskedChildContext;var e2={},f2;for(f2 in c2)e2[f2]=b2[f2];return d2&&(a2=a2.stateNode,a2.__reactInternalMemoizedUnmaskedChildContext=b2,a2.__reactInternalMemoizedMaskedChildContext=e2),e2}__name(Yf,"Yf");function Zf(a2){return a2=a2.childContextTypes,a2!=null}__name(Zf,"Zf");function $f(){E2(Wf2),E2(H2)}__name($f,"$f");function ag(a2,b2,c2){if(H2.current!==Vf2)throw Error(p2(168));G2(H2,b2),G2(Wf2,c2)}__name(ag,"ag");function bg(a2,b2,c2){var d2=a2.stateNode;if(b2=b2.childContextTypes,typeof d2.getChildContext!="function")return c2;d2=d2.getChildContext();for(var e2 in d2)if(!(e2 in b2))throw Error(p2(108,Ra(a2)||"Unknown",e2));return A2({},c2,d2)}__name(bg,"bg");function cg(a2){return a2=(a2=a2.stateNode)&&a2.__reactInternalMemoizedMergedChildContext||Vf2,Xf2=H2.current,G2(H2,a2),G2(Wf2,Wf2.current),!0}__name(cg,"cg");function dg(a2,b2,c2){var d2=a2.stateNode;if(!d2)throw Error(p2(169));c2?(a2=bg(a2,b2,Xf2),d2.__reactInternalMemoizedMergedChildContext=a2,E2(Wf2),E2(H2),G2(H2,a2)):E2(Wf2),G2(Wf2,c2)}__name(dg,"dg");var eg2=null,fg2=!1,gg2=!1;function hg(a2){eg2===null?eg2=[a2]:eg2.push(a2)}__name(hg,"hg");function ig(a2){fg2=!0,hg(a2)}__name(ig,"ig");function jg(){if(!gg2&&eg2!==null){gg2=!0;var a2=0,b2=C2;try{var c2=eg2;for(C2=1;a2<c2.length;a2++){var d2=c2[a2];do d2=d2(!0);while(d2!==null)}eg2=null,fg2=!1}catch(e2){throw eg2!==null&&(eg2=eg2.slice(a2+1)),ac2(fc2,jg),e2}finally{C2=b2,gg2=!1}}return null}__name(jg,"jg");var kg2=[],lg2=0,mg2=null,ng2=0,og2=[],pg2=0,qg=null,rg2=1,sg2="";function tg(a2,b2){kg2[lg2++]=ng2,kg2[lg2++]=mg2,mg2=a2,ng2=b2}__name(tg,"tg");function ug(a2,b2,c2){og2[pg2++]=rg2,og2[pg2++]=sg2,og2[pg2++]=qg,qg=a2;var d2=rg2;a2=sg2;var e2=32-oc2(d2)-1;d2&=~(1<<e2),c2+=1;var f2=32-oc2(b2)+e2;if(30<f2){var g2=e2-e2%5;f2=(d2&(1<<g2)-1).toString(32),d2>>=g2,e2-=g2,rg2=1<<32-oc2(b2)+e2|c2<<e2|d2,sg2=f2+a2}else rg2=1<<f2|c2<<e2|d2,sg2=a2}__name(ug,"ug");function vg(a2){a2.return!==null&&(tg(a2,1),ug(a2,1,0))}__name(vg,"vg");function wg(a2){for(;a2===mg2;)mg2=kg2[--lg2],kg2[lg2]=null,ng2=kg2[--lg2],kg2[lg2]=null;for(;a2===qg;)qg=og2[--pg2],og2[pg2]=null,sg2=og2[--pg2],og2[pg2]=null,rg2=og2[--pg2],og2[pg2]=null}__name(wg,"wg");var xg2=null,yg2=null,I2=!1,zg=null;function Ag(a2,b2){var c2=Bg(5,null,null,0);c2.elementType="DELETED",c2.stateNode=b2,c2.return=a2,b2=a2.deletions,b2===null?(a2.deletions=[c2],a2.flags|=16):b2.push(c2)}__name(Ag,"Ag");function Cg(a2,b2){switch(a2.tag){case 5:var c2=a2.type;return b2=b2.nodeType!==1||c2.toLowerCase()!==b2.nodeName.toLowerCase()?null:b2,b2!==null?(a2.stateNode=b2,xg2=a2,yg2=Lf(b2.firstChild),!0):!1;case 6:return b2=a2.pendingProps===""||b2.nodeType!==3?null:b2,b2!==null?(a2.stateNode=b2,xg2=a2,yg2=null,!0):!1;case 13:return b2=b2.nodeType!==8?null:b2,b2!==null?(c2=qg!==null?{id:rg2,overflow:sg2}:null,a2.memoizedState={dehydrated:b2,treeContext:c2,retryLane:1073741824},c2=Bg(18,null,null,0),c2.stateNode=b2,c2.return=a2,a2.child=c2,xg2=a2,yg2=null,!0):!1;default:return!1}}__name(Cg,"Cg");function Dg(a2){return(a2.mode&1)!==0&&(a2.flags&128)===0}__name(Dg,"Dg");function Eg(a2){if(I2){var b2=yg2;if(b2){var c2=b2;if(!Cg(a2,b2)){if(Dg(a2))throw Error(p2(418));b2=Lf(c2.nextSibling);var d2=xg2;b2&&Cg(a2,b2)?Ag(d2,c2):(a2.flags=a2.flags&-4097|2,I2=!1,xg2=a2)}}else{if(Dg(a2))throw Error(p2(418));a2.flags=a2.flags&-4097|2,I2=!1,xg2=a2}}}__name(Eg,"Eg");function Fg(a2){for(a2=a2.return;a2!==null&&a2.tag!==5&&a2.tag!==3&&a2.tag!==13;)a2=a2.return;xg2=a2}__name(Fg,"Fg");function Gg(a2){if(a2!==xg2)return!1;if(!I2)return Fg(a2),I2=!0,!1;var b2;if((b2=a2.tag!==3)&&!(b2=a2.tag!==5)&&(b2=a2.type,b2=b2!=="head"&&b2!=="body"&&!Ef(a2.type,a2.memoizedProps)),b2&&(b2=yg2)){if(Dg(a2))throw Hg(),Error(p2(418));for(;b2;)Ag(a2,b2),b2=Lf(b2.nextSibling)}if(Fg(a2),a2.tag===13){if(a2=a2.memoizedState,a2=a2!==null?a2.dehydrated:null,!a2)throw Error(p2(317));a:{for(a2=a2.nextSibling,b2=0;a2;){if(a2.nodeType===8){var c2=a2.data;if(c2==="/$"){if(b2===0){yg2=Lf(a2.nextSibling);break a}b2--}else c2!=="$"&&c2!=="$!"&&c2!=="$?"||b2++}a2=a2.nextSibling}yg2=null}}else yg2=xg2?Lf(a2.stateNode.nextSibling):null;return!0}__name(Gg,"Gg");function Hg(){for(var a2=yg2;a2;)a2=Lf(a2.nextSibling)}__name(Hg,"Hg");function Ig(){yg2=xg2=null,I2=!1}__name(Ig,"Ig");function Jg(a2){zg===null?zg=[a2]:zg.push(a2)}__name(Jg,"Jg");var Kg=ua2.ReactCurrentBatchConfig;function Lg(a2,b2,c2){if(a2=c2.ref,a2!==null&&typeof a2!="function"&&typeof a2!="object"){if(c2._owner){if(c2=c2._owner,c2){if(c2.tag!==1)throw Error(p2(309));var d2=c2.stateNode}if(!d2)throw Error(p2(147,a2));var e2=d2,f2=""+a2;return b2!==null&&b2.ref!==null&&typeof b2.ref=="function"&&b2.ref._stringRef===f2?b2.ref:(b2=__name(function(a3){var b3=e2.refs;a3===null?delete b3[f2]:b3[f2]=a3},"b"),b2._stringRef=f2,b2)}if(typeof a2!="string")throw Error(p2(284));if(!c2._owner)throw Error(p2(290,a2))}return a2}__name(Lg,"Lg");function Mg(a2,b2){throw a2=Object.prototype.toString.call(b2),Error(p2(31,a2==="[object Object]"?"object with keys {"+Object.keys(b2).join(", ")+"}":a2))}__name(Mg,"Mg");function Ng(a2){var b2=a2._init;return b2(a2._payload)}__name(Ng,"Ng");function Og(a2){function b2(b3,c3){if(a2){var d3=b3.deletions;d3===null?(b3.deletions=[c3],b3.flags|=16):d3.push(c3)}}__name(b2,"b");function c2(c3,d3){if(!a2)return null;for(;d3!==null;)b2(c3,d3),d3=d3.sibling;return null}__name(c2,"c");function d2(a3,b3){for(a3=new Map;b3!==null;)b3.key!==null?a3.set(b3.key,b3):a3.set(b3.index,b3),b3=b3.sibling;return a3}__name(d2,"d");function e2(a3,b3){return a3=Pg(a3,b3),a3.index=0,a3.sibling=null,a3}__name(e2,"e");function f2(b3,c3,d3){return b3.index=d3,a2?(d3=b3.alternate,d3!==null?(d3=d3.index,d3<c3?(b3.flags|=2,c3):d3):(b3.flags|=2,c3)):(b3.flags|=1048576,c3)}__name(f2,"f");function g2(b3){return a2&&b3.alternate===null&&(b3.flags|=2),b3}__name(g2,"g");function h2(a3,b3,c3,d3){return b3===null||b3.tag!==6?(b3=Qg(c3,a3.mode,d3),b3.return=a3,b3):(b3=e2(b3,c3),b3.return=a3,b3)}__name(h2,"h");function k2(a3,b3,c3,d3){var f3=c3.type;return f3===ya2?m2(a3,b3,c3.props.children,d3,c3.key):b3!==null&&(b3.elementType===f3||typeof f3=="object"&&f3!==null&&f3.$$typeof===Ha2&&Ng(f3)===b3.type)?(d3=e2(b3,c3.props),d3.ref=Lg(a3,b3,c3),d3.return=a3,d3):(d3=Rg(c3.type,c3.key,c3.props,null,a3.mode,d3),d3.ref=Lg(a3,b3,c3),d3.return=a3,d3)}__name(k2,"k");function l2(a3,b3,c3,d3){return b3===null||b3.tag!==4||b3.stateNode.containerInfo!==c3.containerInfo||b3.stateNode.implementation!==c3.implementation?(b3=Sg(c3,a3.mode,d3),b3.return=a3,b3):(b3=e2(b3,c3.children||[]),b3.return=a3,b3)}__name(l2,"l");function m2(a3,b3,c3,d3,f3){return b3===null||b3.tag!==7?(b3=Tg(c3,a3.mode,d3,f3),b3.return=a3,b3):(b3=e2(b3,c3),b3.return=a3,b3)}__name(m2,"m");function q2(a3,b3,c3){if(typeof b3=="string"&&b3!==""||typeof b3=="number")return b3=Qg(""+b3,a3.mode,c3),b3.return=a3,b3;if(typeof b3=="object"&&b3!==null){switch(b3.$$typeof){case va2:return c3=Rg(b3.type,b3.key,b3.props,null,a3.mode,c3),c3.ref=Lg(a3,null,b3),c3.return=a3,c3;case wa2:return b3=Sg(b3,a3.mode,c3),b3.return=a3,b3;case Ha2:var d3=b3._init;return q2(a3,d3(b3._payload),c3)}if(eb(b3)||Ka(b3))return b3=Tg(b3,a3.mode,c3,null),b3.return=a3,b3;Mg(a3,b3)}return null}__name(q2,"q");function r2(a3,b3,c3,d3){var e3=b3!==null?b3.key:null;if(typeof c3=="string"&&c3!==""||typeof c3=="number")return e3!==null?null:h2(a3,b3,""+c3,d3);if(typeof c3=="object"&&c3!==null){switch(c3.$$typeof){case va2:return c3.key===e3?k2(a3,b3,c3,d3):null;case wa2:return c3.key===e3?l2(a3,b3,c3,d3):null;case Ha2:return e3=c3._init,r2(a3,b3,e3(c3._payload),d3)}if(eb(c3)||Ka(c3))return e3!==null?null:m2(a3,b3,c3,d3,null);Mg(a3,c3)}return null}__name(r2,"r");function y2(a3,b3,c3,d3,e3){if(typeof d3=="string"&&d3!==""||typeof d3=="number")return a3=a3.get(c3)||null,h2(b3,a3,""+d3,e3);if(typeof d3=="object"&&d3!==null){switch(d3.$$typeof){case va2:return a3=a3.get(d3.key===null?c3:d3.key)||null,k2(b3,a3,d3,e3);case wa2:return a3=a3.get(d3.key===null?c3:d3.key)||null,l2(b3,a3,d3,e3);case Ha2:var f3=d3._init;return y2(a3,b3,c3,f3(d3._payload),e3)}if(eb(d3)||Ka(d3))return a3=a3.get(c3)||null,m2(b3,a3,d3,e3,null);Mg(b3,d3)}return null}__name(y2,"y");function n2(e3,g3,h3,k3){for(var l3=null,m3=null,u2=g3,w2=g3=0,x2=null;u2!==null&&w2<h3.length;w2++){u2.index>w2?(x2=u2,u2=null):x2=u2.sibling;var n3=r2(e3,u2,h3[w2],k3);if(n3===null){u2===null&&(u2=x2);break}a2&&u2&&n3.alternate===null&&b2(e3,u2),g3=f2(n3,g3,w2),m3===null?l3=n3:m3.sibling=n3,m3=n3,u2=x2}if(w2===h3.length)return c2(e3,u2),I2&&tg(e3,w2),l3;if(u2===null){for(;w2<h3.length;w2++)u2=q2(e3,h3[w2],k3),u2!==null&&(g3=f2(u2,g3,w2),m3===null?l3=u2:m3.sibling=u2,m3=u2);return I2&&tg(e3,w2),l3}for(u2=d2(e3,u2);w2<h3.length;w2++)x2=y2(u2,e3,w2,h3[w2],k3),x2!==null&&(a2&&x2.alternate!==null&&u2.delete(x2.key===null?w2:x2.key),g3=f2(x2,g3,w2),m3===null?l3=x2:m3.sibling=x2,m3=x2);return a2&&u2.forEach(function(a3){return b2(e3,a3)}),I2&&tg(e3,w2),l3}__name(n2,"n");function t2(e3,g3,h3,k3){var l3=Ka(h3);if(typeof l3!="function")throw Error(p2(150));if(h3=l3.call(h3),h3==null)throw Error(p2(151));for(var u2=l3=null,m3=g3,w2=g3=0,x2=null,n3=h3.next();m3!==null&&!n3.done;w2++,n3=h3.next()){m3.index>w2?(x2=m3,m3=null):x2=m3.sibling;var t3=r2(e3,m3,n3.value,k3);if(t3===null){m3===null&&(m3=x2);break}a2&&m3&&t3.alternate===null&&b2(e3,m3),g3=f2(t3,g3,w2),u2===null?l3=t3:u2.sibling=t3,u2=t3,m3=x2}if(n3.done)return c2(e3,m3),I2&&tg(e3,w2),l3;if(m3===null){for(;!n3.done;w2++,n3=h3.next())n3=q2(e3,n3.value,k3),n3!==null&&(g3=f2(n3,g3,w2),u2===null?l3=n3:u2.sibling=n3,u2=n3);return I2&&tg(e3,w2),l3}for(m3=d2(e3,m3);!n3.done;w2++,n3=h3.next())n3=y2(m3,e3,w2,n3.value,k3),n3!==null&&(a2&&n3.alternate!==null&&m3.delete(n3.key===null?w2:n3.key),g3=f2(n3,g3,w2),u2===null?l3=n3:u2.sibling=n3,u2=n3);return a2&&m3.forEach(function(a3){return b2(e3,a3)}),I2&&tg(e3,w2),l3}__name(t2,"t");function J2(a3,d3,f3,h3){if(typeof f3=="object"&&f3!==null&&f3.type===ya2&&f3.key===null&&(f3=f3.props.children),typeof f3=="object"&&f3!==null){switch(f3.$$typeof){case va2:a:{for(var k3=f3.key,l3=d3;l3!==null;){if(l3.key===k3){if(k3=f3.type,k3===ya2){if(l3.tag===7){c2(a3,l3.sibling),d3=e2(l3,f3.props.children),d3.return=a3,a3=d3;break a}}else if(l3.elementType===k3||typeof k3=="object"&&k3!==null&&k3.$$typeof===Ha2&&Ng(k3)===l3.type){c2(a3,l3.sibling),d3=e2(l3,f3.props),d3.ref=Lg(a3,l3,f3),d3.return=a3,a3=d3;break a}c2(a3,l3);break}else b2(a3,l3);l3=l3.sibling}f3.type===ya2?(d3=Tg(f3.props.children,a3.mode,h3,f3.key),d3.return=a3,a3=d3):(h3=Rg(f3.type,f3.key,f3.props,null,a3.mode,h3),h3.ref=Lg(a3,d3,f3),h3.return=a3,a3=h3)}return g2(a3);case wa2:a:{for(l3=f3.key;d3!==null;){if(d3.key===l3)if(d3.tag===4&&d3.stateNode.containerInfo===f3.containerInfo&&d3.stateNode.implementation===f3.implementation){c2(a3,d3.sibling),d3=e2(d3,f3.children||[]),d3.return=a3,a3=d3;break a}else{c2(a3,d3);break}else b2(a3,d3);d3=d3.sibling}d3=Sg(f3,a3.mode,h3),d3.return=a3,a3=d3}return g2(a3);case Ha2:return l3=f3._init,J2(a3,d3,l3(f3._payload),h3)}if(eb(f3))return n2(a3,d3,f3,h3);if(Ka(f3))return t2(a3,d3,f3,h3);Mg(a3,f3)}return typeof f3=="string"&&f3!==""||typeof f3=="number"?(f3=""+f3,d3!==null&&d3.tag===6?(c2(a3,d3.sibling),d3=e2(d3,f3),d3.return=a3,a3=d3):(c2(a3,d3),d3=Qg(f3,a3.mode,h3),d3.return=a3,a3=d3),g2(a3)):c2(a3,d3)}return __name(J2,"J"),J2}__name(Og,"Og");var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}__name($g,"$g");function ah(a2){var b2=Wg.current;E2(Wg),a2._currentValue=b2}__name(ah,"ah");function bh(a2,b2,c2){for(;a2!==null;){var d2=a2.alternate;if((a2.childLanes&b2)!==b2?(a2.childLanes|=b2,d2!==null&&(d2.childLanes|=b2)):d2!==null&&(d2.childLanes&b2)!==b2&&(d2.childLanes|=b2),a2===c2)break;a2=a2.return}}__name(bh,"bh");function ch(a2,b2){Xg=a2,Zg=Yg=null,a2=a2.dependencies,a2!==null&&a2.firstContext!==null&&((a2.lanes&b2)!==0&&(dh2=!0),a2.firstContext=null)}__name(ch,"ch");function eh(a2){var b2=a2._currentValue;if(Zg!==a2)if(a2={context:a2,memoizedValue:b2,next:null},Yg===null){if(Xg===null)throw Error(p2(308));Yg=a2,Xg.dependencies={lanes:0,firstContext:a2}}else Yg=Yg.next=a2;return b2}__name(eh,"eh");var fh2=null;function gh(a2){fh2===null?fh2=[a2]:fh2.push(a2)}__name(gh,"gh");function hh(a2,b2,c2,d2){var e2=b2.interleaved;return e2===null?(c2.next=c2,gh(b2)):(c2.next=e2.next,e2.next=c2),b2.interleaved=c2,ih(a2,d2)}__name(hh,"hh");function ih(a2,b2){a2.lanes|=b2;var c2=a2.alternate;for(c2!==null&&(c2.lanes|=b2),c2=a2,a2=a2.return;a2!==null;)a2.childLanes|=b2,c2=a2.alternate,c2!==null&&(c2.childLanes|=b2),c2=a2,a2=a2.return;return c2.tag===3?c2.stateNode:null}__name(ih,"ih");var jh2=!1;function kh(a2){a2.updateQueue={baseState:a2.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}__name(kh,"kh");function lh(a2,b2){a2=a2.updateQueue,b2.updateQueue===a2&&(b2.updateQueue={baseState:a2.baseState,firstBaseUpdate:a2.firstBaseUpdate,lastBaseUpdate:a2.lastBaseUpdate,shared:a2.shared,effects:a2.effects})}__name(lh,"lh");function mh(a2,b2){return{eventTime:a2,lane:b2,tag:0,payload:null,callback:null,next:null}}__name(mh,"mh");function nh(a2,b2,c2){var d2=a2.updateQueue;if(d2===null)return null;if(d2=d2.shared,(K2&2)!==0){var e2=d2.pending;return e2===null?b2.next=b2:(b2.next=e2.next,e2.next=b2),d2.pending=b2,ih(a2,c2)}return e2=d2.interleaved,e2===null?(b2.next=b2,gh(d2)):(b2.next=e2.next,e2.next=b2),d2.interleaved=b2,ih(a2,c2)}__name(nh,"nh");function oh(a2,b2,c2){if(b2=b2.updateQueue,b2!==null&&(b2=b2.shared,(c2&4194240)!==0)){var d2=b2.lanes;d2&=a2.pendingLanes,c2|=d2,b2.lanes=c2,Cc(a2,c2)}}__name(oh,"oh");function ph(a2,b2){var c2=a2.updateQueue,d2=a2.alternate;if(d2!==null&&(d2=d2.updateQueue,c2===d2)){var e2=null,f2=null;if(c2=c2.firstBaseUpdate,c2!==null){do{var g2={eventTime:c2.eventTime,lane:c2.lane,tag:c2.tag,payload:c2.payload,callback:c2.callback,next:null};f2===null?e2=f2=g2:f2=f2.next=g2,c2=c2.next}while(c2!==null);f2===null?e2=f2=b2:f2=f2.next=b2}else e2=f2=b2;c2={baseState:d2.baseState,firstBaseUpdate:e2,lastBaseUpdate:f2,shared:d2.shared,effects:d2.effects},a2.updateQueue=c2;return}a2=c2.lastBaseUpdate,a2===null?c2.firstBaseUpdate=b2:a2.next=b2,c2.lastBaseUpdate=b2}__name(ph,"ph");function qh(a2,b2,c2,d2){var e2=a2.updateQueue;jh2=!1;var f2=e2.firstBaseUpdate,g2=e2.lastBaseUpdate,h2=e2.shared.pending;if(h2!==null){e2.shared.pending=null;var k2=h2,l2=k2.next;k2.next=null,g2===null?f2=l2:g2.next=l2,g2=k2;var m2=a2.alternate;m2!==null&&(m2=m2.updateQueue,h2=m2.lastBaseUpdate,h2!==g2&&(h2===null?m2.firstBaseUpdate=l2:h2.next=l2,m2.lastBaseUpdate=k2))}if(f2!==null){var q2=e2.baseState;g2=0,m2=l2=k2=null,h2=f2;do{var r2=h2.lane,y2=h2.eventTime;if((d2&r2)===r2){m2!==null&&(m2=m2.next={eventTime:y2,lane:0,tag:h2.tag,payload:h2.payload,callback:h2.callback,next:null});a:{var n2=a2,t2=h2;switch(r2=b2,y2=c2,t2.tag){case 1:if(n2=t2.payload,typeof n2=="function"){q2=n2.call(y2,q2,r2);break a}q2=n2;break a;case 3:n2.flags=n2.flags&-65537|128;case 0:if(n2=t2.payload,r2=typeof n2=="function"?n2.call(y2,q2,r2):n2,r2==null)break a;q2=A2({},q2,r2);break a;case 2:jh2=!0}}h2.callback!==null&&h2.lane!==0&&(a2.flags|=64,r2=e2.effects,r2===null?e2.effects=[h2]:r2.push(h2))}else y2={eventTime:y2,lane:r2,tag:h2.tag,payload:h2.payload,callback:h2.callback,next:null},m2===null?(l2=m2=y2,k2=q2):m2=m2.next=y2,g2|=r2;if(h2=h2.next,h2===null){if(h2=e2.shared.pending,h2===null)break;r2=h2,h2=r2.next,r2.next=null,e2.lastBaseUpdate=r2,e2.shared.pending=null}}while(!0);if(m2===null&&(k2=q2),e2.baseState=k2,e2.firstBaseUpdate=l2,e2.lastBaseUpdate=m2,b2=e2.shared.interleaved,b2!==null){e2=b2;do g2|=e2.lane,e2=e2.next;while(e2!==b2)}else f2===null&&(e2.shared.lanes=0);rh|=g2,a2.lanes=g2,a2.memoizedState=q2}}__name(qh,"qh");function sh(a2,b2,c2){if(a2=b2.effects,b2.effects=null,a2!==null)for(b2=0;b2<a2.length;b2++){var d2=a2[b2],e2=d2.callback;if(e2!==null){if(d2.callback=null,d2=c2,typeof e2!="function")throw Error(p2(191,e2));e2.call(d2)}}}__name(sh,"sh");var th={},uh=Uf(th),vh2=Uf(th),wh2=Uf(th);function xh(a2){if(a2===th)throw Error(p2(174));return a2}__name(xh,"xh");function yh(a2,b2){switch(G2(wh2,b2),G2(vh2,a2),G2(uh,th),a2=b2.nodeType,a2){case 9:case 11:b2=(b2=b2.documentElement)?b2.namespaceURI:lb(null,"");break;default:a2=a2===8?b2.parentNode:b2,b2=a2.namespaceURI||null,a2=a2.tagName,b2=lb(b2,a2)}E2(uh),G2(uh,b2)}__name(yh,"yh");function zh(){E2(uh),E2(vh2),E2(wh2)}__name(zh,"zh");function Ah(a2){xh(wh2.current);var b2=xh(uh.current),c2=lb(b2,a2.type);b2!==c2&&(G2(vh2,a2),G2(uh,c2))}__name(Ah,"Ah");function Bh(a2){vh2.current===a2&&(E2(uh),E2(vh2))}__name(Bh,"Bh");var L2=Uf(0);function Ch(a2){for(var b2=a2;b2!==null;){if(b2.tag===13){var c2=b2.memoizedState;if(c2!==null&&(c2=c2.dehydrated,c2===null||c2.data==="$?"||c2.data==="$!"))return b2}else if(b2.tag===19&&b2.memoizedProps.revealOrder!==void 0){if((b2.flags&128)!==0)return b2}else if(b2.child!==null){b2.child.return=b2,b2=b2.child;continue}if(b2===a2)break;for(;b2.sibling===null;){if(b2.return===null||b2.return===a2)return null;b2=b2.return}b2.sibling.return=b2.return,b2=b2.sibling}return null}__name(Ch,"Ch");var Dh2=[];function Eh(){for(var a2=0;a2<Dh2.length;a2++)Dh2[a2]._workInProgressVersionPrimary=null;Dh2.length=0}__name(Eh,"Eh");var Fh2=ua2.ReactCurrentDispatcher,Gh2=ua2.ReactCurrentBatchConfig,Hh2=0,M2=null,N2=null,O2=null,Ih2=!1,Jh2=!1,Kh2=0,Lh2=0;function P2(){throw Error(p2(321))}__name(P2,"P");function Mh(a2,b2){if(b2===null)return!1;for(var c2=0;c2<b2.length&&c2<a2.length;c2++)if(!He2(a2[c2],b2[c2]))return!1;return!0}__name(Mh,"Mh");function Nh(a2,b2,c2,d2,e2,f2){if(Hh2=f2,M2=b2,b2.memoizedState=null,b2.updateQueue=null,b2.lanes=0,Fh2.current=a2===null||a2.memoizedState===null?Oh2:Ph2,a2=c2(d2,e2),Jh2){f2=0;do{if(Jh2=!1,Kh2=0,25<=f2)throw Error(p2(301));f2+=1,O2=N2=null,b2.updateQueue=null,Fh2.current=Qh2,a2=c2(d2,e2)}while(Jh2)}if(Fh2.current=Rh2,b2=N2!==null&&N2.next!==null,Hh2=0,O2=N2=M2=null,Ih2=!1,b2)throw Error(p2(300));return a2}__name(Nh,"Nh");function Sh(){var a2=Kh2!==0;return Kh2=0,a2}__name(Sh,"Sh");function Th(){var a2={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O2===null?M2.memoizedState=O2=a2:O2=O2.next=a2,O2}__name(Th,"Th");function Uh(){if(N2===null){var a2=M2.alternate;a2=a2!==null?a2.memoizedState:null}else a2=N2.next;var b2=O2===null?M2.memoizedState:O2.next;if(b2!==null)O2=b2,N2=a2;else{if(a2===null)throw Error(p2(310));N2=a2,a2={memoizedState:N2.memoizedState,baseState:N2.baseState,baseQueue:N2.baseQueue,queue:N2.queue,next:null},O2===null?M2.memoizedState=O2=a2:O2=O2.next=a2}return O2}__name(Uh,"Uh");function Vh(a2,b2){return typeof b2=="function"?b2(a2):b2}__name(Vh,"Vh");function Wh(a2){var b2=Uh(),c2=b2.queue;if(c2===null)throw Error(p2(311));c2.lastRenderedReducer=a2;var d2=N2,e2=d2.baseQueue,f2=c2.pending;if(f2!==null){if(e2!==null){var g2=e2.next;e2.next=f2.next,f2.next=g2}d2.baseQueue=e2=f2,c2.pending=null}if(e2!==null){f2=e2.next,d2=d2.baseState;var h2=g2=null,k2=null,l2=f2;do{var m2=l2.lane;if((Hh2&m2)===m2)k2!==null&&(k2=k2.next={lane:0,action:l2.action,hasEagerState:l2.hasEagerState,eagerState:l2.eagerState,next:null}),d2=l2.hasEagerState?l2.eagerState:a2(d2,l2.action);else{var q2={lane:m2,action:l2.action,hasEagerState:l2.hasEagerState,eagerState:l2.eagerState,next:null};k2===null?(h2=k2=q2,g2=d2):k2=k2.next=q2,M2.lanes|=m2,rh|=m2}l2=l2.next}while(l2!==null&&l2!==f2);k2===null?g2=d2:k2.next=h2,He2(d2,b2.memoizedState)||(dh2=!0),b2.memoizedState=d2,b2.baseState=g2,b2.baseQueue=k2,c2.lastRenderedState=d2}if(a2=c2.interleaved,a2!==null){e2=a2;do f2=e2.lane,M2.lanes|=f2,rh|=f2,e2=e2.next;while(e2!==a2)}else e2===null&&(c2.lanes=0);return[b2.memoizedState,c2.dispatch]}__name(Wh,"Wh");function Xh(a2){var b2=Uh(),c2=b2.queue;if(c2===null)throw Error(p2(311));c2.lastRenderedReducer=a2;var d2=c2.dispatch,e2=c2.pending,f2=b2.memoizedState;if(e2!==null){c2.pending=null;var g2=e2=e2.next;do f2=a2(f2,g2.action),g2=g2.next;while(g2!==e2);He2(f2,b2.memoizedState)||(dh2=!0),b2.memoizedState=f2,b2.baseQueue===null&&(b2.baseState=f2),c2.lastRenderedState=f2}return[f2,d2]}__name(Xh,"Xh");function Yh(){}__name(Yh,"Yh");function Zh(a2,b2){var c2=M2,d2=Uh(),e2=b2(),f2=!He2(d2.memoizedState,e2);if(f2&&(d2.memoizedState=e2,dh2=!0),d2=d2.queue,$h(ai.bind(null,c2,d2,a2),[a2]),d2.getSnapshot!==b2||f2||O2!==null&&O2.memoizedState.tag&1){if(c2.flags|=2048,bi(9,ci.bind(null,c2,d2,e2,b2),void 0,null),Q2===null)throw Error(p2(349));(Hh2&30)!==0||di(c2,b2,e2)}return e2}__name(Zh,"Zh");function di(a2,b2,c2){a2.flags|=16384,a2={getSnapshot:b2,value:c2},b2=M2.updateQueue,b2===null?(b2={lastEffect:null,stores:null},M2.updateQueue=b2,b2.stores=[a2]):(c2=b2.stores,c2===null?b2.stores=[a2]:c2.push(a2))}__name(di,"di");function ci(a2,b2,c2,d2){b2.value=c2,b2.getSnapshot=d2,ei(b2)&&fi(a2)}__name(ci,"ci");function ai(a2,b2,c2){return c2(function(){ei(b2)&&fi(a2)})}__name(ai,"ai");function ei(a2){var b2=a2.getSnapshot;a2=a2.value;try{var c2=b2();return!He2(a2,c2)}catch{return!0}}__name(ei,"ei");function fi(a2){var b2=ih(a2,1);b2!==null&&gi(b2,a2,1,-1)}__name(fi,"fi");function hi(a2){var b2=Th();return typeof a2=="function"&&(a2=a2()),b2.memoizedState=b2.baseState=a2,a2={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:a2},b2.queue=a2,a2=a2.dispatch=ii.bind(null,M2,a2),[b2.memoizedState,a2]}__name(hi,"hi");function bi(a2,b2,c2,d2){return a2={tag:a2,create:b2,destroy:c2,deps:d2,next:null},b2=M2.updateQueue,b2===null?(b2={lastEffect:null,stores:null},M2.updateQueue=b2,b2.lastEffect=a2.next=a2):(c2=b2.lastEffect,c2===null?b2.lastEffect=a2.next=a2:(d2=c2.next,c2.next=a2,a2.next=d2,b2.lastEffect=a2)),a2}__name(bi,"bi");function ji(){return Uh().memoizedState}__name(ji,"ji");function ki(a2,b2,c2,d2){var e2=Th();M2.flags|=a2,e2.memoizedState=bi(1|b2,c2,void 0,d2===void 0?null:d2)}__name(ki,"ki");function li(a2,b2,c2,d2){var e2=Uh();d2=d2===void 0?null:d2;var f2=void 0;if(N2!==null){var g2=N2.memoizedState;if(f2=g2.destroy,d2!==null&&Mh(d2,g2.deps)){e2.memoizedState=bi(b2,c2,f2,d2);return}}M2.flags|=a2,e2.memoizedState=bi(1|b2,c2,f2,d2)}__name(li,"li");function mi(a2,b2){return ki(8390656,8,a2,b2)}__name(mi,"mi");function $h(a2,b2){return li(2048,8,a2,b2)}__name($h,"$h");function ni(a2,b2){return li(4,2,a2,b2)}__name(ni,"ni");function oi(a2,b2){return li(4,4,a2,b2)}__name(oi,"oi");function pi(a2,b2){if(typeof b2=="function")return a2=a2(),b2(a2),function(){b2(null)};if(b2!=null)return a2=a2(),b2.current=a2,function(){b2.current=null}}__name(pi,"pi");function qi(a2,b2,c2){return c2=c2!=null?c2.concat([a2]):null,li(4,4,pi.bind(null,b2,a2),c2)}__name(qi,"qi");function ri(){}__name(ri,"ri");function si(a2,b2){var c2=Uh();b2=b2===void 0?null:b2;var d2=c2.memoizedState;return d2!==null&&b2!==null&&Mh(b2,d2[1])?d2[0]:(c2.memoizedState=[a2,b2],a2)}__name(si,"si");function ti(a2,b2){var c2=Uh();b2=b2===void 0?null:b2;var d2=c2.memoizedState;return d2!==null&&b2!==null&&Mh(b2,d2[1])?d2[0]:(a2=a2(),c2.memoizedState=[a2,b2],a2)}__name(ti,"ti");function ui(a2,b2,c2){return(Hh2&21)===0?(a2.baseState&&(a2.baseState=!1,dh2=!0),a2.memoizedState=c2):(He2(c2,b2)||(c2=yc(),M2.lanes|=c2,rh|=c2,a2.baseState=!0),b2)}__name(ui,"ui");function vi(a2,b2){var c2=C2;C2=c2!==0&&4>c2?c2:4,a2(!0);var d2=Gh2.transition;Gh2.transition={};try{a2(!1),b2()}finally{C2=c2,Gh2.transition=d2}}__name(vi,"vi");function wi(){return Uh().memoizedState}__name(wi,"wi");function xi(a2,b2,c2){var d2=yi(a2);if(c2={lane:d2,action:c2,hasEagerState:!1,eagerState:null,next:null},zi(a2))Ai(b2,c2);else if(c2=hh(a2,b2,c2,d2),c2!==null){var e2=R2();gi(c2,a2,d2,e2),Bi(c2,b2,d2)}}__name(xi,"xi");function ii(a2,b2,c2){var d2=yi(a2),e2={lane:d2,action:c2,hasEagerState:!1,eagerState:null,next:null};if(zi(a2))Ai(b2,e2);else{var f2=a2.alternate;if(a2.lanes===0&&(f2===null||f2.lanes===0)&&(f2=b2.lastRenderedReducer,f2!==null))try{var g2=b2.lastRenderedState,h2=f2(g2,c2);if(e2.hasEagerState=!0,e2.eagerState=h2,He2(h2,g2)){var k2=b2.interleaved;k2===null?(e2.next=e2,gh(b2)):(e2.next=k2.next,k2.next=e2),b2.interleaved=e2;return}}catch{}finally{}c2=hh(a2,b2,e2,d2),c2!==null&&(e2=R2(),gi(c2,a2,d2,e2),Bi(c2,b2,d2))}}__name(ii,"ii");function zi(a2){var b2=a2.alternate;return a2===M2||b2!==null&&b2===M2}__name(zi,"zi");function Ai(a2,b2){Jh2=Ih2=!0;var c2=a2.pending;c2===null?b2.next=b2:(b2.next=c2.next,c2.next=b2),a2.pending=b2}__name(Ai,"Ai");function Bi(a2,b2,c2){if((c2&4194240)!==0){var d2=b2.lanes;d2&=a2.pendingLanes,c2|=d2,b2.lanes=c2,Cc(a2,c2)}}__name(Bi,"Bi");var Rh2={readContext:eh,useCallback:P2,useContext:P2,useEffect:P2,useImperativeHandle:P2,useInsertionEffect:P2,useLayoutEffect:P2,useMemo:P2,useReducer:P2,useRef:P2,useState:P2,useDebugValue:P2,useDeferredValue:P2,useTransition:P2,useMutableSource:P2,useSyncExternalStore:P2,useId:P2,unstable_isNewReconciler:!1},Oh2={readContext:eh,useCallback:__name(function(a2,b2){return Th().memoizedState=[a2,b2===void 0?null:b2],a2},"useCallback"),useContext:eh,useEffect:mi,useImperativeHandle:__name(function(a2,b2,c2){return c2=c2!=null?c2.concat([a2]):null,ki(4194308,4,pi.bind(null,b2,a2),c2)},"useImperativeHandle"),useLayoutEffect:__name(function(a2,b2){return ki(4194308,4,a2,b2)},"useLayoutEffect"),useInsertionEffect:__name(function(a2,b2){return ki(4,2,a2,b2)},"useInsertionEffect"),useMemo:__name(function(a2,b2){var c2=Th();return b2=b2===void 0?null:b2,a2=a2(),c2.memoizedState=[a2,b2],a2},"useMemo"),useReducer:__name(function(a2,b2,c2){var d2=Th();return b2=c2!==void 0?c2(b2):b2,d2.memoizedState=d2.baseState=b2,a2={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a2,lastRenderedState:b2},d2.queue=a2,a2=a2.dispatch=xi.bind(null,M2,a2),[d2.memoizedState,a2]},"useReducer"),useRef:__name(function(a2){var b2=Th();return a2={current:a2},b2.memoizedState=a2},"useRef"),useState:hi,useDebugValue:ri,useDeferredValue:__name(function(a2){return Th().memoizedState=a2},"useDeferredValue"),useTransition:__name(function(){var a2=hi(!1),b2=a2[0];return a2=vi.bind(null,a2[1]),Th().memoizedState=a2,[b2,a2]},"useTransition"),useMutableSource:__name(function(){},"useMutableSource"),useSyncExternalStore:__name(function(a2,b2,c2){var d2=M2,e2=Th();if(I2){if(c2===void 0)throw Error(p2(407));c2=c2()}else{if(c2=b2(),Q2===null)throw Error(p2(349));(Hh2&30)!==0||di(d2,b2,c2)}e2.memoizedState=c2;var f2={value:c2,getSnapshot:b2};return e2.queue=f2,mi(ai.bind(null,d2,f2,a2),[a2]),d2.flags|=2048,bi(9,ci.bind(null,d2,f2,c2,b2),void 0,null),c2},"useSyncExternalStore"),useId:__name(function(){var a2=Th(),b2=Q2.identifierPrefix;if(I2){var c2=sg2,d2=rg2;c2=(d2&~(1<<32-oc2(d2)-1)).toString(32)+c2,b2=":"+b2+"R"+c2,c2=Kh2++,0<c2&&(b2+="H"+c2.toString(32)),b2+=":"}else c2=Lh2++,b2=":"+b2+"r"+c2.toString(32)+":";return a2.memoizedState=b2},"useId"),unstable_isNewReconciler:!1},Ph2={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:__name(function(){return Wh(Vh)},"useState"),useDebugValue:ri,useDeferredValue:__name(function(a2){var b2=Uh();return ui(b2,N2.memoizedState,a2)},"useDeferredValue"),useTransition:__name(function(){var a2=Wh(Vh)[0],b2=Uh().memoizedState;return[a2,b2]},"useTransition"),useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},Qh2={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:__name(function(){return Xh(Vh)},"useState"),useDebugValue:ri,useDeferredValue:__name(function(a2){var b2=Uh();return N2===null?b2.memoizedState=a2:ui(b2,N2.memoizedState,a2)},"useDeferredValue"),useTransition:__name(function(){var a2=Xh(Vh)[0],b2=Uh().memoizedState;return[a2,b2]},"useTransition"),useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(a2,b2){if(a2&&a2.defaultProps){b2=A2({},b2),a2=a2.defaultProps;for(var c2 in a2)b2[c2]===void 0&&(b2[c2]=a2[c2]);return b2}return b2}__name(Ci,"Ci");function Di(a2,b2,c2,d2){b2=a2.memoizedState,c2=c2(d2,b2),c2=c2==null?b2:A2({},b2,c2),a2.memoizedState=c2,a2.lanes===0&&(a2.updateQueue.baseState=c2)}__name(Di,"Di");var Ei2={isMounted:__name(function(a2){return(a2=a2._reactInternals)?Vb(a2)===a2:!1},"isMounted"),enqueueSetState:__name(function(a2,b2,c2){a2=a2._reactInternals;var d2=R2(),e2=yi(a2),f2=mh(d2,e2);f2.payload=b2,c2!=null&&(f2.callback=c2),b2=nh(a2,f2,e2),b2!==null&&(gi(b2,a2,e2,d2),oh(b2,a2,e2))},"enqueueSetState"),enqueueReplaceState:__name(function(a2,b2,c2){a2=a2._reactInternals;var d2=R2(),e2=yi(a2),f2=mh(d2,e2);f2.tag=1,f2.payload=b2,c2!=null&&(f2.callback=c2),b2=nh(a2,f2,e2),b2!==null&&(gi(b2,a2,e2,d2),oh(b2,a2,e2))},"enqueueReplaceState"),enqueueForceUpdate:__name(function(a2,b2){a2=a2._reactInternals;var c2=R2(),d2=yi(a2),e2=mh(c2,d2);e2.tag=2,b2!=null&&(e2.callback=b2),b2=nh(a2,e2,d2),b2!==null&&(gi(b2,a2,d2,c2),oh(b2,a2,d2))},"enqueueForceUpdate")};function Fi(a2,b2,c2,d2,e2,f2,g2){return a2=a2.stateNode,typeof a2.shouldComponentUpdate=="function"?a2.shouldComponentUpdate(d2,f2,g2):b2.prototype&&b2.prototype.isPureReactComponent?!Ie(c2,d2)||!Ie(e2,f2):!0}__name(Fi,"Fi");function Gi(a2,b2,c2){var d2=!1,e2=Vf2,f2=b2.contextType;return typeof f2=="object"&&f2!==null?f2=eh(f2):(e2=Zf(b2)?Xf2:H2.current,d2=b2.contextTypes,f2=(d2=d2!=null)?Yf(a2,e2):Vf2),b2=new b2(c2,f2),a2.memoizedState=b2.state!==null&&b2.state!==void 0?b2.state:null,b2.updater=Ei2,a2.stateNode=b2,b2._reactInternals=a2,d2&&(a2=a2.stateNode,a2.__reactInternalMemoizedUnmaskedChildContext=e2,a2.__reactInternalMemoizedMaskedChildContext=f2),b2}__name(Gi,"Gi");function Hi(a2,b2,c2,d2){a2=b2.state,typeof b2.componentWillReceiveProps=="function"&&b2.componentWillReceiveProps(c2,d2),typeof b2.UNSAFE_componentWillReceiveProps=="function"&&b2.UNSAFE_componentWillReceiveProps(c2,d2),b2.state!==a2&&Ei2.enqueueReplaceState(b2,b2.state,null)}__name(Hi,"Hi");function Ii(a2,b2,c2,d2){var e2=a2.stateNode;e2.props=c2,e2.state=a2.memoizedState,e2.refs={},kh(a2);var f2=b2.contextType;typeof f2=="object"&&f2!==null?e2.context=eh(f2):(f2=Zf(b2)?Xf2:H2.current,e2.context=Yf(a2,f2)),e2.state=a2.memoizedState,f2=b2.getDerivedStateFromProps,typeof f2=="function"&&(Di(a2,b2,f2,c2),e2.state=a2.memoizedState),typeof b2.getDerivedStateFromProps=="function"||typeof e2.getSnapshotBeforeUpdate=="function"||typeof e2.UNSAFE_componentWillMount!="function"&&typeof e2.componentWillMount!="function"||(b2=e2.state,typeof e2.componentWillMount=="function"&&e2.componentWillMount(),typeof e2.UNSAFE_componentWillMount=="function"&&e2.UNSAFE_componentWillMount(),b2!==e2.state&&Ei2.enqueueReplaceState(e2,e2.state,null),qh(a2,c2,e2,d2),e2.state=a2.memoizedState),typeof e2.componentDidMount=="function"&&(a2.flags|=4194308)}__name(Ii,"Ii");function Ji(a2,b2){try{var c2="",d2=b2;do c2+=Pa(d2),d2=d2.return;while(d2);var e2=c2}catch(f2){e2=`
Error generating stack: `+f2.message+`
`+f2.stack}return{value:a2,source:b2,stack:e2,digest:null}}__name(Ji,"Ji");function Ki(a2,b2,c2){return{value:a2,source:null,stack:c2??null,digest:b2??null}}__name(Ki,"Ki");function Li(a2,b2){try{console.error(b2.value)}catch(c2){setTimeout(function(){throw c2})}}__name(Li,"Li");var Mi2=typeof WeakMap=="function"?WeakMap:Map;function Ni(a2,b2,c2){c2=mh(-1,c2),c2.tag=3,c2.payload={element:null};var d2=b2.value;return c2.callback=function(){Oi2||(Oi2=!0,Pi2=d2),Li(a2,b2)},c2}__name(Ni,"Ni");function Qi(a2,b2,c2){c2=mh(-1,c2),c2.tag=3;var d2=a2.type.getDerivedStateFromError;if(typeof d2=="function"){var e2=b2.value;c2.payload=function(){return d2(e2)},c2.callback=function(){Li(a2,b2)}}var f2=a2.stateNode;return f2!==null&&typeof f2.componentDidCatch=="function"&&(c2.callback=function(){Li(a2,b2),typeof d2!="function"&&(Ri2===null?Ri2=new Set([this]):Ri2.add(this));var c3=b2.stack;this.componentDidCatch(b2.value,{componentStack:c3!==null?c3:""})}),c2}__name(Qi,"Qi");function Si(a2,b2,c2){var d2=a2.pingCache;if(d2===null){d2=a2.pingCache=new Mi2;var e2=new Set;d2.set(b2,e2)}else e2=d2.get(b2),e2===void 0&&(e2=new Set,d2.set(b2,e2));e2.has(c2)||(e2.add(c2),a2=Ti.bind(null,a2,b2,c2),b2.then(a2,a2))}__name(Si,"Si");function Ui(a2){do{var b2;if((b2=a2.tag===13)&&(b2=a2.memoizedState,b2=b2!==null?b2.dehydrated!==null:!0),b2)return a2;a2=a2.return}while(a2!==null);return null}__name(Ui,"Ui");function Vi(a2,b2,c2,d2,e2){return(a2.mode&1)===0?(a2===b2?a2.flags|=65536:(a2.flags|=128,c2.flags|=131072,c2.flags&=-52805,c2.tag===1&&(c2.alternate===null?c2.tag=17:(b2=mh(-1,1),b2.tag=2,nh(c2,b2,1))),c2.lanes|=1),a2):(a2.flags|=65536,a2.lanes=e2,a2)}__name(Vi,"Vi");var Wi2=ua2.ReactCurrentOwner,dh2=!1;function Xi(a2,b2,c2,d2){b2.child=a2===null?Vg(b2,null,c2,d2):Ug(b2,a2.child,c2,d2)}__name(Xi,"Xi");function Yi(a2,b2,c2,d2,e2){c2=c2.render;var f2=b2.ref;return ch(b2,e2),d2=Nh(a2,b2,c2,d2,f2,e2),c2=Sh(),a2!==null&&!dh2?(b2.updateQueue=a2.updateQueue,b2.flags&=-2053,a2.lanes&=~e2,Zi(a2,b2,e2)):(I2&&c2&&vg(b2),b2.flags|=1,Xi(a2,b2,d2,e2),b2.child)}__name(Yi,"Yi");function $i(a2,b2,c2,d2,e2){if(a2===null){var f2=c2.type;return typeof f2=="function"&&!aj(f2)&&f2.defaultProps===void 0&&c2.compare===null&&c2.defaultProps===void 0?(b2.tag=15,b2.type=f2,bj(a2,b2,f2,d2,e2)):(a2=Rg(c2.type,null,d2,b2,b2.mode,e2),a2.ref=b2.ref,a2.return=b2,b2.child=a2)}if(f2=a2.child,(a2.lanes&e2)===0){var g2=f2.memoizedProps;if(c2=c2.compare,c2=c2!==null?c2:Ie,c2(g2,d2)&&a2.ref===b2.ref)return Zi(a2,b2,e2)}return b2.flags|=1,a2=Pg(f2,d2),a2.ref=b2.ref,a2.return=b2,b2.child=a2}__name($i,"$i");function bj(a2,b2,c2,d2,e2){if(a2!==null){var f2=a2.memoizedProps;if(Ie(f2,d2)&&a2.ref===b2.ref)if(dh2=!1,b2.pendingProps=d2=f2,(a2.lanes&e2)!==0)(a2.flags&131072)!==0&&(dh2=!0);else return b2.lanes=a2.lanes,Zi(a2,b2,e2)}return cj(a2,b2,c2,d2,e2)}__name(bj,"bj");function dj(a2,b2,c2){var d2=b2.pendingProps,e2=d2.children,f2=a2!==null?a2.memoizedState:null;if(d2.mode==="hidden")if((b2.mode&1)===0)b2.memoizedState={baseLanes:0,cachePool:null,transitions:null},G2(ej,fj),fj|=c2;else{if((c2&1073741824)===0)return a2=f2!==null?f2.baseLanes|c2:c2,b2.lanes=b2.childLanes=1073741824,b2.memoizedState={baseLanes:a2,cachePool:null,transitions:null},b2.updateQueue=null,G2(ej,fj),fj|=a2,null;b2.memoizedState={baseLanes:0,cachePool:null,transitions:null},d2=f2!==null?f2.baseLanes:c2,G2(ej,fj),fj|=d2}else f2!==null?(d2=f2.baseLanes|c2,b2.memoizedState=null):d2=c2,G2(ej,fj),fj|=d2;return Xi(a2,b2,e2,c2),b2.child}__name(dj,"dj");function gj(a2,b2){var c2=b2.ref;(a2===null&&c2!==null||a2!==null&&a2.ref!==c2)&&(b2.flags|=512,b2.flags|=2097152)}__name(gj,"gj");function cj(a2,b2,c2,d2,e2){var f2=Zf(c2)?Xf2:H2.current;return f2=Yf(b2,f2),ch(b2,e2),c2=Nh(a2,b2,c2,d2,f2,e2),d2=Sh(),a2!==null&&!dh2?(b2.updateQueue=a2.updateQueue,b2.flags&=-2053,a2.lanes&=~e2,Zi(a2,b2,e2)):(I2&&d2&&vg(b2),b2.flags|=1,Xi(a2,b2,c2,e2),b2.child)}__name(cj,"cj");function hj(a2,b2,c2,d2,e2){if(Zf(c2)){var f2=!0;cg(b2)}else f2=!1;if(ch(b2,e2),b2.stateNode===null)ij(a2,b2),Gi(b2,c2,d2),Ii(b2,c2,d2,e2),d2=!0;else if(a2===null){var g2=b2.stateNode,h2=b2.memoizedProps;g2.props=h2;var k2=g2.context,l2=c2.contextType;typeof l2=="object"&&l2!==null?l2=eh(l2):(l2=Zf(c2)?Xf2:H2.current,l2=Yf(b2,l2));var m2=c2.getDerivedStateFromProps,q2=typeof m2=="function"||typeof g2.getSnapshotBeforeUpdate=="function";q2||typeof g2.UNSAFE_componentWillReceiveProps!="function"&&typeof g2.componentWillReceiveProps!="function"||(h2!==d2||k2!==l2)&&Hi(b2,g2,d2,l2),jh2=!1;var r2=b2.memoizedState;g2.state=r2,qh(b2,d2,g2,e2),k2=b2.memoizedState,h2!==d2||r2!==k2||Wf2.current||jh2?(typeof m2=="function"&&(Di(b2,c2,m2,d2),k2=b2.memoizedState),(h2=jh2||Fi(b2,c2,h2,d2,r2,k2,l2))?(q2||typeof g2.UNSAFE_componentWillMount!="function"&&typeof g2.componentWillMount!="function"||(typeof g2.componentWillMount=="function"&&g2.componentWillMount(),typeof g2.UNSAFE_componentWillMount=="function"&&g2.UNSAFE_componentWillMount()),typeof g2.componentDidMount=="function"&&(b2.flags|=4194308)):(typeof g2.componentDidMount=="function"&&(b2.flags|=4194308),b2.memoizedProps=d2,b2.memoizedState=k2),g2.props=d2,g2.state=k2,g2.context=l2,d2=h2):(typeof g2.componentDidMount=="function"&&(b2.flags|=4194308),d2=!1)}else{g2=b2.stateNode,lh(a2,b2),h2=b2.memoizedProps,l2=b2.type===b2.elementType?h2:Ci(b2.type,h2),g2.props=l2,q2=b2.pendingProps,r2=g2.context,k2=c2.contextType,typeof k2=="object"&&k2!==null?k2=eh(k2):(k2=Zf(c2)?Xf2:H2.current,k2=Yf(b2,k2));var y2=c2.getDerivedStateFromProps;(m2=typeof y2=="function"||typeof g2.getSnapshotBeforeUpdate=="function")||typeof g2.UNSAFE_componentWillReceiveProps!="function"&&typeof g2.componentWillReceiveProps!="function"||(h2!==q2||r2!==k2)&&Hi(b2,g2,d2,k2),jh2=!1,r2=b2.memoizedState,g2.state=r2,qh(b2,d2,g2,e2);var n2=b2.memoizedState;h2!==q2||r2!==n2||Wf2.current||jh2?(typeof y2=="function"&&(Di(b2,c2,y2,d2),n2=b2.memoizedState),(l2=jh2||Fi(b2,c2,l2,d2,r2,n2,k2)||!1)?(m2||typeof g2.UNSAFE_componentWillUpdate!="function"&&typeof g2.componentWillUpdate!="function"||(typeof g2.componentWillUpdate=="function"&&g2.componentWillUpdate(d2,n2,k2),typeof g2.UNSAFE_componentWillUpdate=="function"&&g2.UNSAFE_componentWillUpdate(d2,n2,k2)),typeof g2.componentDidUpdate=="function"&&(b2.flags|=4),typeof g2.getSnapshotBeforeUpdate=="function"&&(b2.flags|=1024)):(typeof g2.componentDidUpdate!="function"||h2===a2.memoizedProps&&r2===a2.memoizedState||(b2.flags|=4),typeof g2.getSnapshotBeforeUpdate!="function"||h2===a2.memoizedProps&&r2===a2.memoizedState||(b2.flags|=1024),b2.memoizedProps=d2,b2.memoizedState=n2),g2.props=d2,g2.state=n2,g2.context=k2,d2=l2):(typeof g2.componentDidUpdate!="function"||h2===a2.memoizedProps&&r2===a2.memoizedState||(b2.flags|=4),typeof g2.getSnapshotBeforeUpdate!="function"||h2===a2.memoizedProps&&r2===a2.memoizedState||(b2.flags|=1024),d2=!1)}return jj(a2,b2,c2,d2,f2,e2)}__name(hj,"hj");function jj(a2,b2,c2,d2,e2,f2){gj(a2,b2);var g2=(b2.flags&128)!==0;if(!d2&&!g2)return e2&&dg(b2,c2,!1),Zi(a2,b2,f2);d2=b2.stateNode,Wi2.current=b2;var h2=g2&&typeof c2.getDerivedStateFromError!="function"?null:d2.render();return b2.flags|=1,a2!==null&&g2?(b2.child=Ug(b2,a2.child,null,f2),b2.child=Ug(b2,null,h2,f2)):Xi(a2,b2,h2,f2),b2.memoizedState=d2.state,e2&&dg(b2,c2,!0),b2.child}__name(jj,"jj");function kj(a2){var b2=a2.stateNode;b2.pendingContext?ag(a2,b2.pendingContext,b2.pendingContext!==b2.context):b2.context&&ag(a2,b2.context,!1),yh(a2,b2.containerInfo)}__name(kj,"kj");function lj(a2,b2,c2,d2,e2){return Ig(),Jg(e2),b2.flags|=256,Xi(a2,b2,c2,d2),b2.child}__name(lj,"lj");var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(a2){return{baseLanes:a2,cachePool:null,transitions:null}}__name(nj,"nj");function oj(a2,b2,c2){var d2=b2.pendingProps,e2=L2.current,f2=!1,g2=(b2.flags&128)!==0,h2;if((h2=g2)||(h2=a2!==null&&a2.memoizedState===null?!1:(e2&2)!==0),h2?(f2=!0,b2.flags&=-129):(a2===null||a2.memoizedState!==null)&&(e2|=1),G2(L2,e2&1),a2===null)return Eg(b2),a2=b2.memoizedState,a2!==null&&(a2=a2.dehydrated,a2!==null)?((b2.mode&1)===0?b2.lanes=1:a2.data==="$!"?b2.lanes=8:b2.lanes=1073741824,null):(g2=d2.children,a2=d2.fallback,f2?(d2=b2.mode,f2=b2.child,g2={mode:"hidden",children:g2},(d2&1)===0&&f2!==null?(f2.childLanes=0,f2.pendingProps=g2):f2=pj(g2,d2,0,null),a2=Tg(a2,d2,c2,null),f2.return=b2,a2.return=b2,f2.sibling=a2,b2.child=f2,b2.child.memoizedState=nj(c2),b2.memoizedState=mj,a2):qj(b2,g2));if(e2=a2.memoizedState,e2!==null&&(h2=e2.dehydrated,h2!==null))return rj(a2,b2,g2,d2,h2,e2,c2);if(f2){f2=d2.fallback,g2=b2.mode,e2=a2.child,h2=e2.sibling;var k2={mode:"hidden",children:d2.children};return(g2&1)===0&&b2.child!==e2?(d2=b2.child,d2.childLanes=0,d2.pendingProps=k2,b2.deletions=null):(d2=Pg(e2,k2),d2.subtreeFlags=e2.subtreeFlags&14680064),h2!==null?f2=Pg(h2,f2):(f2=Tg(f2,g2,c2,null),f2.flags|=2),f2.return=b2,d2.return=b2,d2.sibling=f2,b2.child=d2,d2=f2,f2=b2.child,g2=a2.child.memoizedState,g2=g2===null?nj(c2):{baseLanes:g2.baseLanes|c2,cachePool:null,transitions:g2.transitions},f2.memoizedState=g2,f2.childLanes=a2.childLanes&~c2,b2.memoizedState=mj,d2}return f2=a2.child,a2=f2.sibling,d2=Pg(f2,{mode:"visible",children:d2.children}),(b2.mode&1)===0&&(d2.lanes=c2),d2.return=b2,d2.sibling=null,a2!==null&&(c2=b2.deletions,c2===null?(b2.deletions=[a2],b2.flags|=16):c2.push(a2)),b2.child=d2,b2.memoizedState=null,d2}__name(oj,"oj");function qj(a2,b2){return b2=pj({mode:"visible",children:b2},a2.mode,0,null),b2.return=a2,a2.child=b2}__name(qj,"qj");function sj(a2,b2,c2,d2){return d2!==null&&Jg(d2),Ug(b2,a2.child,null,c2),a2=qj(b2,b2.pendingProps.children),a2.flags|=2,b2.memoizedState=null,a2}__name(sj,"sj");function rj(a2,b2,c2,d2,e2,f2,g2){if(c2)return b2.flags&256?(b2.flags&=-257,d2=Ki(Error(p2(422))),sj(a2,b2,g2,d2)):b2.memoizedState!==null?(b2.child=a2.child,b2.flags|=128,null):(f2=d2.fallback,e2=b2.mode,d2=pj({mode:"visible",children:d2.children},e2,0,null),f2=Tg(f2,e2,g2,null),f2.flags|=2,d2.return=b2,f2.return=b2,d2.sibling=f2,b2.child=d2,(b2.mode&1)!==0&&Ug(b2,a2.child,null,g2),b2.child.memoizedState=nj(g2),b2.memoizedState=mj,f2);if((b2.mode&1)===0)return sj(a2,b2,g2,null);if(e2.data==="$!"){if(d2=e2.nextSibling&&e2.nextSibling.dataset,d2)var h2=d2.dgst;return d2=h2,f2=Error(p2(419)),d2=Ki(f2,d2,void 0),sj(a2,b2,g2,d2)}if(h2=(g2&a2.childLanes)!==0,dh2||h2){if(d2=Q2,d2!==null){switch(g2&-g2){case 4:e2=2;break;case 16:e2=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:e2=32;break;case 536870912:e2=268435456;break;default:e2=0}e2=(e2&(d2.suspendedLanes|g2))!==0?0:e2,e2!==0&&e2!==f2.retryLane&&(f2.retryLane=e2,ih(a2,e2),gi(d2,a2,e2,-1))}return tj(),d2=Ki(Error(p2(421))),sj(a2,b2,g2,d2)}return e2.data==="$?"?(b2.flags|=128,b2.child=a2.child,b2=uj.bind(null,a2),e2._reactRetry=b2,null):(a2=f2.treeContext,yg2=Lf(e2.nextSibling),xg2=b2,I2=!0,zg=null,a2!==null&&(og2[pg2++]=rg2,og2[pg2++]=sg2,og2[pg2++]=qg,rg2=a2.id,sg2=a2.overflow,qg=b2),b2=qj(b2,d2.children),b2.flags|=4096,b2)}__name(rj,"rj");function vj(a2,b2,c2){a2.lanes|=b2;var d2=a2.alternate;d2!==null&&(d2.lanes|=b2),bh(a2.return,b2,c2)}__name(vj,"vj");function wj(a2,b2,c2,d2,e2){var f2=a2.memoizedState;f2===null?a2.memoizedState={isBackwards:b2,rendering:null,renderingStartTime:0,last:d2,tail:c2,tailMode:e2}:(f2.isBackwards=b2,f2.rendering=null,f2.renderingStartTime=0,f2.last=d2,f2.tail=c2,f2.tailMode=e2)}__name(wj,"wj");function xj(a2,b2,c2){var d2=b2.pendingProps,e2=d2.revealOrder,f2=d2.tail;if(Xi(a2,b2,d2.children,c2),d2=L2.current,(d2&2)!==0)d2=d2&1|2,b2.flags|=128;else{if(a2!==null&&(a2.flags&128)!==0)a:for(a2=b2.child;a2!==null;){if(a2.tag===13)a2.memoizedState!==null&&vj(a2,c2,b2);else if(a2.tag===19)vj(a2,c2,b2);else if(a2.child!==null){a2.child.return=a2,a2=a2.child;continue}if(a2===b2)break a;for(;a2.sibling===null;){if(a2.return===null||a2.return===b2)break a;a2=a2.return}a2.sibling.return=a2.return,a2=a2.sibling}d2&=1}if(G2(L2,d2),(b2.mode&1)===0)b2.memoizedState=null;else switch(e2){case"forwards":for(c2=b2.child,e2=null;c2!==null;)a2=c2.alternate,a2!==null&&Ch(a2)===null&&(e2=c2),c2=c2.sibling;c2=e2,c2===null?(e2=b2.child,b2.child=null):(e2=c2.sibling,c2.sibling=null),wj(b2,!1,e2,c2,f2);break;case"backwards":for(c2=null,e2=b2.child,b2.child=null;e2!==null;){if(a2=e2.alternate,a2!==null&&Ch(a2)===null){b2.child=e2;break}a2=e2.sibling,e2.sibling=c2,c2=e2,e2=a2}wj(b2,!0,c2,null,f2);break;case"together":wj(b2,!1,null,null,void 0);break;default:b2.memoizedState=null}return b2.child}__name(xj,"xj");function ij(a2,b2){(b2.mode&1)===0&&a2!==null&&(a2.alternate=null,b2.alternate=null,b2.flags|=2)}__name(ij,"ij");function Zi(a2,b2,c2){if(a2!==null&&(b2.dependencies=a2.dependencies),rh|=b2.lanes,(c2&b2.childLanes)===0)return null;if(a2!==null&&b2.child!==a2.child)throw Error(p2(153));if(b2.child!==null){for(a2=b2.child,c2=Pg(a2,a2.pendingProps),b2.child=c2,c2.return=b2;a2.sibling!==null;)a2=a2.sibling,c2=c2.sibling=Pg(a2,a2.pendingProps),c2.return=b2;c2.sibling=null}return b2.child}__name(Zi,"Zi");function yj(a2,b2,c2){switch(b2.tag){case 3:kj(b2),Ig();break;case 5:Ah(b2);break;case 1:Zf(b2.type)&&cg(b2);break;case 4:yh(b2,b2.stateNode.containerInfo);break;case 10:var d2=b2.type._context,e2=b2.memoizedProps.value;G2(Wg,d2._currentValue),d2._currentValue=e2;break;case 13:if(d2=b2.memoizedState,d2!==null)return d2.dehydrated!==null?(G2(L2,L2.current&1),b2.flags|=128,null):(c2&b2.child.childLanes)!==0?oj(a2,b2,c2):(G2(L2,L2.current&1),a2=Zi(a2,b2,c2),a2!==null?a2.sibling:null);G2(L2,L2.current&1);break;case 19:if(d2=(c2&b2.childLanes)!==0,(a2.flags&128)!==0){if(d2)return xj(a2,b2,c2);b2.flags|=128}if(e2=b2.memoizedState,e2!==null&&(e2.rendering=null,e2.tail=null,e2.lastEffect=null),G2(L2,L2.current),d2)break;return null;case 22:case 23:return b2.lanes=0,dj(a2,b2,c2)}return Zi(a2,b2,c2)}__name(yj,"yj");var zj,Aj,Bj,Cj;zj=__name(function(a2,b2){for(var c2=b2.child;c2!==null;){if(c2.tag===5||c2.tag===6)a2.appendChild(c2.stateNode);else if(c2.tag!==4&&c2.child!==null){c2.child.return=c2,c2=c2.child;continue}if(c2===b2)break;for(;c2.sibling===null;){if(c2.return===null||c2.return===b2)return;c2=c2.return}c2.sibling.return=c2.return,c2=c2.sibling}},"zj"),Aj=__name(function(){},"Aj"),Bj=__name(function(a2,b2,c2,d2){var e2=a2.memoizedProps;if(e2!==d2){a2=b2.stateNode,xh(uh.current);var f2=null;switch(c2){case"input":e2=Ya(a2,e2),d2=Ya(a2,d2),f2=[];break;case"select":e2=A2({},e2,{value:void 0}),d2=A2({},d2,{value:void 0}),f2=[];break;case"textarea":e2=gb(a2,e2),d2=gb(a2,d2),f2=[];break;default:typeof e2.onClick!="function"&&typeof d2.onClick=="function"&&(a2.onclick=Bf)}ub(c2,d2);var g2;c2=null;for(l2 in e2)if(!d2.hasOwnProperty(l2)&&e2.hasOwnProperty(l2)&&e2[l2]!=null)if(l2==="style"){var h2=e2[l2];for(g2 in h2)h2.hasOwnProperty(g2)&&(c2||(c2={}),c2[g2]="")}else l2!=="dangerouslySetInnerHTML"&&l2!=="children"&&l2!=="suppressContentEditableWarning"&&l2!=="suppressHydrationWarning"&&l2!=="autoFocus"&&(ea2.hasOwnProperty(l2)?f2||(f2=[]):(f2=f2||[]).push(l2,null));for(l2 in d2){var k2=d2[l2];if(h2=e2!=null?e2[l2]:void 0,d2.hasOwnProperty(l2)&&k2!==h2&&(k2!=null||h2!=null))if(l2==="style")if(h2){for(g2 in h2)!h2.hasOwnProperty(g2)||k2&&k2.hasOwnProperty(g2)||(c2||(c2={}),c2[g2]="");for(g2 in k2)k2.hasOwnProperty(g2)&&h2[g2]!==k2[g2]&&(c2||(c2={}),c2[g2]=k2[g2])}else c2||(f2||(f2=[]),f2.push(l2,c2)),c2=k2;else l2==="dangerouslySetInnerHTML"?(k2=k2?k2.__html:void 0,h2=h2?h2.__html:void 0,k2!=null&&h2!==k2&&(f2=f2||[]).push(l2,k2)):l2==="children"?typeof k2!="string"&&typeof k2!="number"||(f2=f2||[]).push(l2,""+k2):l2!=="suppressContentEditableWarning"&&l2!=="suppressHydrationWarning"&&(ea2.hasOwnProperty(l2)?(k2!=null&&l2==="onScroll"&&D2("scroll",a2),f2||h2===k2||(f2=[])):(f2=f2||[]).push(l2,k2))}c2&&(f2=f2||[]).push("style",c2);var l2=f2;(b2.updateQueue=l2)&&(b2.flags|=4)}},"Bj"),Cj=__name(function(a2,b2,c2,d2){c2!==d2&&(b2.flags|=4)},"Cj");function Dj(a2,b2){if(!I2)switch(a2.tailMode){case"hidden":b2=a2.tail;for(var c2=null;b2!==null;)b2.alternate!==null&&(c2=b2),b2=b2.sibling;c2===null?a2.tail=null:c2.sibling=null;break;case"collapsed":c2=a2.tail;for(var d2=null;c2!==null;)c2.alternate!==null&&(d2=c2),c2=c2.sibling;d2===null?b2||a2.tail===null?a2.tail=null:a2.tail.sibling=null:d2.sibling=null}}__name(Dj,"Dj");function S2(a2){var b2=a2.alternate!==null&&a2.alternate.child===a2.child,c2=0,d2=0;if(b2)for(var e2=a2.child;e2!==null;)c2|=e2.lanes|e2.childLanes,d2|=e2.subtreeFlags&14680064,d2|=e2.flags&14680064,e2.return=a2,e2=e2.sibling;else for(e2=a2.child;e2!==null;)c2|=e2.lanes|e2.childLanes,d2|=e2.subtreeFlags,d2|=e2.flags,e2.return=a2,e2=e2.sibling;return a2.subtreeFlags|=d2,a2.childLanes=c2,b2}__name(S2,"S");function Ej(a2,b2,c2){var d2=b2.pendingProps;switch(wg(b2),b2.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S2(b2),null;case 1:return Zf(b2.type)&&$f(),S2(b2),null;case 3:return d2=b2.stateNode,zh(),E2(Wf2),E2(H2),Eh(),d2.pendingContext&&(d2.context=d2.pendingContext,d2.pendingContext=null),(a2===null||a2.child===null)&&(Gg(b2)?b2.flags|=4:a2===null||a2.memoizedState.isDehydrated&&(b2.flags&256)===0||(b2.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(a2,b2),S2(b2),null;case 5:Bh(b2);var e2=xh(wh2.current);if(c2=b2.type,a2!==null&&b2.stateNode!=null)Bj(a2,b2,c2,d2,e2),a2.ref!==b2.ref&&(b2.flags|=512,b2.flags|=2097152);else{if(!d2){if(b2.stateNode===null)throw Error(p2(166));return S2(b2),null}if(a2=xh(uh.current),Gg(b2)){d2=b2.stateNode,c2=b2.type;var f2=b2.memoizedProps;switch(d2[Of2]=b2,d2[Pf2]=f2,a2=(b2.mode&1)!==0,c2){case"dialog":D2("cancel",d2),D2("close",d2);break;case"iframe":case"object":case"embed":D2("load",d2);break;case"video":case"audio":for(e2=0;e2<lf2.length;e2++)D2(lf2[e2],d2);break;case"source":D2("error",d2);break;case"img":case"image":case"link":D2("error",d2),D2("load",d2);break;case"details":D2("toggle",d2);break;case"input":Za(d2,f2),D2("invalid",d2);break;case"select":d2._wrapperState={wasMultiple:!!f2.multiple},D2("invalid",d2);break;case"textarea":hb(d2,f2),D2("invalid",d2)}ub(c2,f2),e2=null;for(var g2 in f2)if(f2.hasOwnProperty(g2)){var h2=f2[g2];g2==="children"?typeof h2=="string"?d2.textContent!==h2&&(f2.suppressHydrationWarning!==!0&&Af(d2.textContent,h2,a2),e2=["children",h2]):typeof h2=="number"&&d2.textContent!==""+h2&&(f2.suppressHydrationWarning!==!0&&Af(d2.textContent,h2,a2),e2=["children",""+h2]):ea2.hasOwnProperty(g2)&&h2!=null&&g2==="onScroll"&&D2("scroll",d2)}switch(c2){case"input":Va(d2),db(d2,f2,!0);break;case"textarea":Va(d2),jb(d2);break;case"select":case"option":break;default:typeof f2.onClick=="function"&&(d2.onclick=Bf)}d2=e2,b2.updateQueue=d2,d2!==null&&(b2.flags|=4)}else{g2=e2.nodeType===9?e2:e2.ownerDocument,a2==="http://www.w3.org/1999/xhtml"&&(a2=kb(c2)),a2==="http://www.w3.org/1999/xhtml"?c2==="script"?(a2=g2.createElement("div"),a2.innerHTML="<script><\/script>",a2=a2.removeChild(a2.firstChild)):typeof d2.is=="string"?a2=g2.createElement(c2,{is:d2.is}):(a2=g2.createElement(c2),c2==="select"&&(g2=a2,d2.multiple?g2.multiple=!0:d2.size&&(g2.size=d2.size))):a2=g2.createElementNS(a2,c2),a2[Of2]=b2,a2[Pf2]=d2,zj(a2,b2,!1,!1),b2.stateNode=a2;a:{switch(g2=vb(c2,d2),c2){case"dialog":D2("cancel",a2),D2("close",a2),e2=d2;break;case"iframe":case"object":case"embed":D2("load",a2),e2=d2;break;case"video":case"audio":for(e2=0;e2<lf2.length;e2++)D2(lf2[e2],a2);e2=d2;break;case"source":D2("error",a2),e2=d2;break;case"img":case"image":case"link":D2("error",a2),D2("load",a2),e2=d2;break;case"details":D2("toggle",a2),e2=d2;break;case"input":Za(a2,d2),e2=Ya(a2,d2),D2("invalid",a2);break;case"option":e2=d2;break;case"select":a2._wrapperState={wasMultiple:!!d2.multiple},e2=A2({},d2,{value:void 0}),D2("invalid",a2);break;case"textarea":hb(a2,d2),e2=gb(a2,d2),D2("invalid",a2);break;default:e2=d2}ub(c2,e2),h2=e2;for(f2 in h2)if(h2.hasOwnProperty(f2)){var k2=h2[f2];f2==="style"?sb(a2,k2):f2==="dangerouslySetInnerHTML"?(k2=k2?k2.__html:void 0,k2!=null&&nb(a2,k2)):f2==="children"?typeof k2=="string"?(c2!=="textarea"||k2!=="")&&ob(a2,k2):typeof k2=="number"&&ob(a2,""+k2):f2!=="suppressContentEditableWarning"&&f2!=="suppressHydrationWarning"&&f2!=="autoFocus"&&(ea2.hasOwnProperty(f2)?k2!=null&&f2==="onScroll"&&D2("scroll",a2):k2!=null&&ta(a2,f2,k2,g2))}switch(c2){case"input":Va(a2),db(a2,d2,!1);break;case"textarea":Va(a2),jb(a2);break;case"option":d2.value!=null&&a2.setAttribute("value",""+Sa(d2.value));break;case"select":a2.multiple=!!d2.multiple,f2=d2.value,f2!=null?fb(a2,!!d2.multiple,f2,!1):d2.defaultValue!=null&&fb(a2,!!d2.multiple,d2.defaultValue,!0);break;default:typeof e2.onClick=="function"&&(a2.onclick=Bf)}switch(c2){case"button":case"input":case"select":case"textarea":d2=!!d2.autoFocus;break a;case"img":d2=!0;break a;default:d2=!1}}d2&&(b2.flags|=4)}b2.ref!==null&&(b2.flags|=512,b2.flags|=2097152)}return S2(b2),null;case 6:if(a2&&b2.stateNode!=null)Cj(a2,b2,a2.memoizedProps,d2);else{if(typeof d2!="string"&&b2.stateNode===null)throw Error(p2(166));if(c2=xh(wh2.current),xh(uh.current),Gg(b2)){if(d2=b2.stateNode,c2=b2.memoizedProps,d2[Of2]=b2,(f2=d2.nodeValue!==c2)&&(a2=xg2,a2!==null))switch(a2.tag){case 3:Af(d2.nodeValue,c2,(a2.mode&1)!==0);break;case 5:a2.memoizedProps.suppressHydrationWarning!==!0&&Af(d2.nodeValue,c2,(a2.mode&1)!==0)}f2&&(b2.flags|=4)}else d2=(c2.nodeType===9?c2:c2.ownerDocument).createTextNode(d2),d2[Of2]=b2,b2.stateNode=d2}return S2(b2),null;case 13:if(E2(L2),d2=b2.memoizedState,a2===null||a2.memoizedState!==null&&a2.memoizedState.dehydrated!==null){if(I2&&yg2!==null&&(b2.mode&1)!==0&&(b2.flags&128)===0)Hg(),Ig(),b2.flags|=98560,f2=!1;else if(f2=Gg(b2),d2!==null&&d2.dehydrated!==null){if(a2===null){if(!f2)throw Error(p2(318));if(f2=b2.memoizedState,f2=f2!==null?f2.dehydrated:null,!f2)throw Error(p2(317));f2[Of2]=b2}else Ig(),(b2.flags&128)===0&&(b2.memoizedState=null),b2.flags|=4;S2(b2),f2=!1}else zg!==null&&(Fj(zg),zg=null),f2=!0;if(!f2)return b2.flags&65536?b2:null}return(b2.flags&128)!==0?(b2.lanes=c2,b2):(d2=d2!==null,d2!==(a2!==null&&a2.memoizedState!==null)&&d2&&(b2.child.flags|=8192,(b2.mode&1)!==0&&(a2===null||(L2.current&1)!==0?T2===0&&(T2=3):tj())),b2.updateQueue!==null&&(b2.flags|=4),S2(b2),null);case 4:return zh(),Aj(a2,b2),a2===null&&sf(b2.stateNode.containerInfo),S2(b2),null;case 10:return ah(b2.type._context),S2(b2),null;case 17:return Zf(b2.type)&&$f(),S2(b2),null;case 19:if(E2(L2),f2=b2.memoizedState,f2===null)return S2(b2),null;if(d2=(b2.flags&128)!==0,g2=f2.rendering,g2===null)if(d2)Dj(f2,!1);else{if(T2!==0||a2!==null&&(a2.flags&128)!==0)for(a2=b2.child;a2!==null;){if(g2=Ch(a2),g2!==null){for(b2.flags|=128,Dj(f2,!1),d2=g2.updateQueue,d2!==null&&(b2.updateQueue=d2,b2.flags|=4),b2.subtreeFlags=0,d2=c2,c2=b2.child;c2!==null;)f2=c2,a2=d2,f2.flags&=14680066,g2=f2.alternate,g2===null?(f2.childLanes=0,f2.lanes=a2,f2.child=null,f2.subtreeFlags=0,f2.memoizedProps=null,f2.memoizedState=null,f2.updateQueue=null,f2.dependencies=null,f2.stateNode=null):(f2.childLanes=g2.childLanes,f2.lanes=g2.lanes,f2.child=g2.child,f2.subtreeFlags=0,f2.deletions=null,f2.memoizedProps=g2.memoizedProps,f2.memoizedState=g2.memoizedState,f2.updateQueue=g2.updateQueue,f2.type=g2.type,a2=g2.dependencies,f2.dependencies=a2===null?null:{lanes:a2.lanes,firstContext:a2.firstContext}),c2=c2.sibling;return G2(L2,L2.current&1|2),b2.child}a2=a2.sibling}f2.tail!==null&&B2()>Gj&&(b2.flags|=128,d2=!0,Dj(f2,!1),b2.lanes=4194304)}else{if(!d2)if(a2=Ch(g2),a2!==null){if(b2.flags|=128,d2=!0,c2=a2.updateQueue,c2!==null&&(b2.updateQueue=c2,b2.flags|=4),Dj(f2,!0),f2.tail===null&&f2.tailMode==="hidden"&&!g2.alternate&&!I2)return S2(b2),null}else 2*B2()-f2.renderingStartTime>Gj&&c2!==1073741824&&(b2.flags|=128,d2=!0,Dj(f2,!1),b2.lanes=4194304);f2.isBackwards?(g2.sibling=b2.child,b2.child=g2):(c2=f2.last,c2!==null?c2.sibling=g2:b2.child=g2,f2.last=g2)}return f2.tail!==null?(b2=f2.tail,f2.rendering=b2,f2.tail=b2.sibling,f2.renderingStartTime=B2(),b2.sibling=null,c2=L2.current,G2(L2,d2?c2&1|2:c2&1),b2):(S2(b2),null);case 22:case 23:return Hj(),d2=b2.memoizedState!==null,a2!==null&&a2.memoizedState!==null!==d2&&(b2.flags|=8192),d2&&(b2.mode&1)!==0?(fj&1073741824)!==0&&(S2(b2),b2.subtreeFlags&6&&(b2.flags|=8192)):S2(b2),null;case 24:return null;case 25:return null}throw Error(p2(156,b2.tag))}__name(Ej,"Ej");function Ij(a2,b2){switch(wg(b2),b2.tag){case 1:return Zf(b2.type)&&$f(),a2=b2.flags,a2&65536?(b2.flags=a2&-65537|128,b2):null;case 3:return zh(),E2(Wf2),E2(H2),Eh(),a2=b2.flags,(a2&65536)!==0&&(a2&128)===0?(b2.flags=a2&-65537|128,b2):null;case 5:return Bh(b2),null;case 13:if(E2(L2),a2=b2.memoizedState,a2!==null&&a2.dehydrated!==null){if(b2.alternate===null)throw Error(p2(340));Ig()}return a2=b2.flags,a2&65536?(b2.flags=a2&-65537|128,b2):null;case 19:return E2(L2),null;case 4:return zh(),null;case 10:return ah(b2.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}__name(Ij,"Ij");var Jj=!1,U2=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V2=null;function Lj(a2,b2){var c2=a2.ref;if(c2!==null)if(typeof c2=="function")try{c2(null)}catch(d2){W2(a2,b2,d2)}else c2.current=null}__name(Lj,"Lj");function Mj(a2,b2,c2){try{c2()}catch(d2){W2(a2,b2,d2)}}__name(Mj,"Mj");var Nj=!1;function Oj(a2,b2){if(Cf2=dd2,a2=Me(),Ne(a2)){if("selectionStart"in a2)var c2={start:a2.selectionStart,end:a2.selectionEnd};else a:{c2=(c2=a2.ownerDocument)&&c2.defaultView||window;var d2=c2.getSelection&&c2.getSelection();if(d2&&d2.rangeCount!==0){c2=d2.anchorNode;var e2=d2.anchorOffset,f2=d2.focusNode;d2=d2.focusOffset;try{c2.nodeType,f2.nodeType}catch{c2=null;break a}var g2=0,h2=-1,k2=-1,l2=0,m2=0,q2=a2,r2=null;b:for(;;){for(var y2;q2!==c2||e2!==0&&q2.nodeType!==3||(h2=g2+e2),q2!==f2||d2!==0&&q2.nodeType!==3||(k2=g2+d2),q2.nodeType===3&&(g2+=q2.nodeValue.length),(y2=q2.firstChild)!==null;)r2=q2,q2=y2;for(;;){if(q2===a2)break b;if(r2===c2&&++l2===e2&&(h2=g2),r2===f2&&++m2===d2&&(k2=g2),(y2=q2.nextSibling)!==null)break;q2=r2,r2=q2.parentNode}q2=y2}c2=h2===-1||k2===-1?null:{start:h2,end:k2}}else c2=null}c2=c2||{start:0,end:0}}else c2=null;for(Df2={focusedElem:a2,selectionRange:c2},dd2=!1,V2=b2;V2!==null;)if(b2=V2,a2=b2.child,(b2.subtreeFlags&1028)!==0&&a2!==null)a2.return=b2,V2=a2;else for(;V2!==null;){b2=V2;try{var n2=b2.alternate;if((b2.flags&1024)!==0)switch(b2.tag){case 0:case 11:case 15:break;case 1:if(n2!==null){var t2=n2.memoizedProps,J2=n2.memoizedState,x2=b2.stateNode,w2=x2.getSnapshotBeforeUpdate(b2.elementType===b2.type?t2:Ci(b2.type,t2),J2);x2.__reactInternalSnapshotBeforeUpdate=w2}break;case 3:var u2=b2.stateNode.containerInfo;u2.nodeType===1?u2.textContent="":u2.nodeType===9&&u2.documentElement&&u2.removeChild(u2.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p2(163))}}catch(F2){W2(b2,b2.return,F2)}if(a2=b2.sibling,a2!==null){a2.return=b2.return,V2=a2;break}V2=b2.return}return n2=Nj,Nj=!1,n2}__name(Oj,"Oj");function Pj(a2,b2,c2){var d2=b2.updateQueue;if(d2=d2!==null?d2.lastEffect:null,d2!==null){var e2=d2=d2.next;do{if((e2.tag&a2)===a2){var f2=e2.destroy;e2.destroy=void 0,f2!==void 0&&Mj(b2,c2,f2)}e2=e2.next}while(e2!==d2)}}__name(Pj,"Pj");function Qj(a2,b2){if(b2=b2.updateQueue,b2=b2!==null?b2.lastEffect:null,b2!==null){var c2=b2=b2.next;do{if((c2.tag&a2)===a2){var d2=c2.create;c2.destroy=d2()}c2=c2.next}while(c2!==b2)}}__name(Qj,"Qj");function Rj(a2){var b2=a2.ref;if(b2!==null){var c2=a2.stateNode;switch(a2.tag){case 5:a2=c2;break;default:a2=c2}typeof b2=="function"?b2(a2):b2.current=a2}}__name(Rj,"Rj");function Sj(a2){var b2=a2.alternate;b2!==null&&(a2.alternate=null,Sj(b2)),a2.child=null,a2.deletions=null,a2.sibling=null,a2.tag===5&&(b2=a2.stateNode,b2!==null&&(delete b2[Of2],delete b2[Pf2],delete b2[of2],delete b2[Qf2],delete b2[Rf2])),a2.stateNode=null,a2.return=null,a2.dependencies=null,a2.memoizedProps=null,a2.memoizedState=null,a2.pendingProps=null,a2.stateNode=null,a2.updateQueue=null}__name(Sj,"Sj");function Tj(a2){return a2.tag===5||a2.tag===3||a2.tag===4}__name(Tj,"Tj");function Uj(a2){a:for(;;){for(;a2.sibling===null;){if(a2.return===null||Tj(a2.return))return null;a2=a2.return}for(a2.sibling.return=a2.return,a2=a2.sibling;a2.tag!==5&&a2.tag!==6&&a2.tag!==18;){if(a2.flags&2||a2.child===null||a2.tag===4)continue a;a2.child.return=a2,a2=a2.child}if(!(a2.flags&2))return a2.stateNode}}__name(Uj,"Uj");function Vj(a2,b2,c2){var d2=a2.tag;if(d2===5||d2===6)a2=a2.stateNode,b2?c2.nodeType===8?c2.parentNode.insertBefore(a2,b2):c2.insertBefore(a2,b2):(c2.nodeType===8?(b2=c2.parentNode,b2.insertBefore(a2,c2)):(b2=c2,b2.appendChild(a2)),c2=c2._reactRootContainer,c2!=null||b2.onclick!==null||(b2.onclick=Bf));else if(d2!==4&&(a2=a2.child,a2!==null))for(Vj(a2,b2,c2),a2=a2.sibling;a2!==null;)Vj(a2,b2,c2),a2=a2.sibling}__name(Vj,"Vj");function Wj(a2,b2,c2){var d2=a2.tag;if(d2===5||d2===6)a2=a2.stateNode,b2?c2.insertBefore(a2,b2):c2.appendChild(a2);else if(d2!==4&&(a2=a2.child,a2!==null))for(Wj(a2,b2,c2),a2=a2.sibling;a2!==null;)Wj(a2,b2,c2),a2=a2.sibling}__name(Wj,"Wj");var X2=null,Xj=!1;function Yj(a2,b2,c2){for(c2=c2.child;c2!==null;)Zj(a2,b2,c2),c2=c2.sibling}__name(Yj,"Yj");function Zj(a2,b2,c2){if(lc2&&typeof lc2.onCommitFiberUnmount=="function")try{lc2.onCommitFiberUnmount(kc2,c2)}catch{}switch(c2.tag){case 5:U2||Lj(c2,b2);case 6:var d2=X2,e2=Xj;X2=null,Yj(a2,b2,c2),X2=d2,Xj=e2,X2!==null&&(Xj?(a2=X2,c2=c2.stateNode,a2.nodeType===8?a2.parentNode.removeChild(c2):a2.removeChild(c2)):X2.removeChild(c2.stateNode));break;case 18:X2!==null&&(Xj?(a2=X2,c2=c2.stateNode,a2.nodeType===8?Kf(a2.parentNode,c2):a2.nodeType===1&&Kf(a2,c2),bd(a2)):Kf(X2,c2.stateNode));break;case 4:d2=X2,e2=Xj,X2=c2.stateNode.containerInfo,Xj=!0,Yj(a2,b2,c2),X2=d2,Xj=e2;break;case 0:case 11:case 14:case 15:if(!U2&&(d2=c2.updateQueue,d2!==null&&(d2=d2.lastEffect,d2!==null))){e2=d2=d2.next;do{var f2=e2,g2=f2.destroy;f2=f2.tag,g2!==void 0&&((f2&2)!==0||(f2&4)!==0)&&Mj(c2,b2,g2),e2=e2.next}while(e2!==d2)}Yj(a2,b2,c2);break;case 1:if(!U2&&(Lj(c2,b2),d2=c2.stateNode,typeof d2.componentWillUnmount=="function"))try{d2.props=c2.memoizedProps,d2.state=c2.memoizedState,d2.componentWillUnmount()}catch(h2){W2(c2,b2,h2)}Yj(a2,b2,c2);break;case 21:Yj(a2,b2,c2);break;case 22:c2.mode&1?(U2=(d2=U2)||c2.memoizedState!==null,Yj(a2,b2,c2),U2=d2):Yj(a2,b2,c2);break;default:Yj(a2,b2,c2)}}__name(Zj,"Zj");function ak(a2){var b2=a2.updateQueue;if(b2!==null){a2.updateQueue=null;var c2=a2.stateNode;c2===null&&(c2=a2.stateNode=new Kj),b2.forEach(function(b3){var d2=bk.bind(null,a2,b3);c2.has(b3)||(c2.add(b3),b3.then(d2,d2))})}}__name(ak,"ak");function ck(a2,b2){var c2=b2.deletions;if(c2!==null)for(var d2=0;d2<c2.length;d2++){var e2=c2[d2];try{var f2=a2,g2=b2,h2=g2;a:for(;h2!==null;){switch(h2.tag){case 5:X2=h2.stateNode,Xj=!1;break a;case 3:X2=h2.stateNode.containerInfo,Xj=!0;break a;case 4:X2=h2.stateNode.containerInfo,Xj=!0;break a}h2=h2.return}if(X2===null)throw Error(p2(160));Zj(f2,g2,e2),X2=null,Xj=!1;var k2=e2.alternate;k2!==null&&(k2.return=null),e2.return=null}catch(l2){W2(e2,b2,l2)}}if(b2.subtreeFlags&12854)for(b2=b2.child;b2!==null;)dk(b2,a2),b2=b2.sibling}__name(ck,"ck");function dk(a2,b2){var c2=a2.alternate,d2=a2.flags;switch(a2.tag){case 0:case 11:case 14:case 15:if(ck(b2,a2),ek(a2),d2&4){try{Pj(3,a2,a2.return),Qj(3,a2)}catch(t2){W2(a2,a2.return,t2)}try{Pj(5,a2,a2.return)}catch(t2){W2(a2,a2.return,t2)}}break;case 1:ck(b2,a2),ek(a2),d2&512&&c2!==null&&Lj(c2,c2.return);break;case 5:if(ck(b2,a2),ek(a2),d2&512&&c2!==null&&Lj(c2,c2.return),a2.flags&32){var e2=a2.stateNode;try{ob(e2,"")}catch(t2){W2(a2,a2.return,t2)}}if(d2&4&&(e2=a2.stateNode,e2!=null)){var f2=a2.memoizedProps,g2=c2!==null?c2.memoizedProps:f2,h2=a2.type,k2=a2.updateQueue;if(a2.updateQueue=null,k2!==null)try{h2==="input"&&f2.type==="radio"&&f2.name!=null&&ab(e2,f2),vb(h2,g2);var l2=vb(h2,f2);for(g2=0;g2<k2.length;g2+=2){var m2=k2[g2],q2=k2[g2+1];m2==="style"?sb(e2,q2):m2==="dangerouslySetInnerHTML"?nb(e2,q2):m2==="children"?ob(e2,q2):ta(e2,m2,q2,l2)}switch(h2){case"input":bb(e2,f2);break;case"textarea":ib(e2,f2);break;case"select":var r2=e2._wrapperState.wasMultiple;e2._wrapperState.wasMultiple=!!f2.multiple;var y2=f2.value;y2!=null?fb(e2,!!f2.multiple,y2,!1):r2!==!!f2.multiple&&(f2.defaultValue!=null?fb(e2,!!f2.multiple,f2.defaultValue,!0):fb(e2,!!f2.multiple,f2.multiple?[]:"",!1))}e2[Pf2]=f2}catch(t2){W2(a2,a2.return,t2)}}break;case 6:if(ck(b2,a2),ek(a2),d2&4){if(a2.stateNode===null)throw Error(p2(162));e2=a2.stateNode,f2=a2.memoizedProps;try{e2.nodeValue=f2}catch(t2){W2(a2,a2.return,t2)}}break;case 3:if(ck(b2,a2),ek(a2),d2&4&&c2!==null&&c2.memoizedState.isDehydrated)try{bd(b2.containerInfo)}catch(t2){W2(a2,a2.return,t2)}break;case 4:ck(b2,a2),ek(a2);break;case 13:ck(b2,a2),ek(a2),e2=a2.child,e2.flags&8192&&(f2=e2.memoizedState!==null,e2.stateNode.isHidden=f2,!f2||e2.alternate!==null&&e2.alternate.memoizedState!==null||(fk=B2())),d2&4&&ak(a2);break;case 22:if(m2=c2!==null&&c2.memoizedState!==null,a2.mode&1?(U2=(l2=U2)||m2,ck(b2,a2),U2=l2):ck(b2,a2),ek(a2),d2&8192){if(l2=a2.memoizedState!==null,(a2.stateNode.isHidden=l2)&&!m2&&(a2.mode&1)!==0)for(V2=a2,m2=a2.child;m2!==null;){for(q2=V2=m2;V2!==null;){switch(r2=V2,y2=r2.child,r2.tag){case 0:case 11:case 14:case 15:Pj(4,r2,r2.return);break;case 1:Lj(r2,r2.return);var n2=r2.stateNode;if(typeof n2.componentWillUnmount=="function"){d2=r2,c2=r2.return;try{b2=d2,n2.props=b2.memoizedProps,n2.state=b2.memoizedState,n2.componentWillUnmount()}catch(t2){W2(d2,c2,t2)}}break;case 5:Lj(r2,r2.return);break;case 22:if(r2.memoizedState!==null){gk(q2);continue}}y2!==null?(y2.return=r2,V2=y2):gk(q2)}m2=m2.sibling}a:for(m2=null,q2=a2;;){if(q2.tag===5){if(m2===null){m2=q2;try{e2=q2.stateNode,l2?(f2=e2.style,typeof f2.setProperty=="function"?f2.setProperty("display","none","important"):f2.display="none"):(h2=q2.stateNode,k2=q2.memoizedProps.style,g2=k2!=null&&k2.hasOwnProperty("display")?k2.display:null,h2.style.display=rb("display",g2))}catch(t2){W2(a2,a2.return,t2)}}}else if(q2.tag===6){if(m2===null)try{q2.stateNode.nodeValue=l2?"":q2.memoizedProps}catch(t2){W2(a2,a2.return,t2)}}else if((q2.tag!==22&&q2.tag!==23||q2.memoizedState===null||q2===a2)&&q2.child!==null){q2.child.return=q2,q2=q2.child;continue}if(q2===a2)break a;for(;q2.sibling===null;){if(q2.return===null||q2.return===a2)break a;m2===q2&&(m2=null),q2=q2.return}m2===q2&&(m2=null),q2.sibling.return=q2.return,q2=q2.sibling}}break;case 19:ck(b2,a2),ek(a2),d2&4&&ak(a2);break;case 21:break;default:ck(b2,a2),ek(a2)}}__name(dk,"dk");function ek(a2){var b2=a2.flags;if(b2&2){try{a:{for(var c2=a2.return;c2!==null;){if(Tj(c2)){var d2=c2;break a}c2=c2.return}throw Error(p2(160))}switch(d2.tag){case 5:var e2=d2.stateNode;d2.flags&32&&(ob(e2,""),d2.flags&=-33);var f2=Uj(a2);Wj(a2,f2,e2);break;case 3:case 4:var g2=d2.stateNode.containerInfo,h2=Uj(a2);Vj(a2,h2,g2);break;default:throw Error(p2(161))}}catch(k2){W2(a2,a2.return,k2)}a2.flags&=-3}b2&4096&&(a2.flags&=-4097)}__name(ek,"ek");function hk(a2,b2,c2){V2=a2,ik(a2)}__name(hk,"hk");function ik(a2,b2,c2){for(var d2=(a2.mode&1)!==0;V2!==null;){var e2=V2,f2=e2.child;if(e2.tag===22&&d2){var g2=e2.memoizedState!==null||Jj;if(!g2){var h2=e2.alternate,k2=h2!==null&&h2.memoizedState!==null||U2;h2=Jj;var l2=U2;if(Jj=g2,(U2=k2)&&!l2)for(V2=e2;V2!==null;)g2=V2,k2=g2.child,g2.tag===22&&g2.memoizedState!==null?jk(e2):k2!==null?(k2.return=g2,V2=k2):jk(e2);for(;f2!==null;)V2=f2,ik(f2),f2=f2.sibling;V2=e2,Jj=h2,U2=l2}kk(a2)}else(e2.subtreeFlags&8772)!==0&&f2!==null?(f2.return=e2,V2=f2):kk(a2)}}__name(ik,"ik");function kk(a2){for(;V2!==null;){var b2=V2;if((b2.flags&8772)!==0){var c2=b2.alternate;try{if((b2.flags&8772)!==0)switch(b2.tag){case 0:case 11:case 15:U2||Qj(5,b2);break;case 1:var d2=b2.stateNode;if(b2.flags&4&&!U2)if(c2===null)d2.componentDidMount();else{var e2=b2.elementType===b2.type?c2.memoizedProps:Ci(b2.type,c2.memoizedProps);d2.componentDidUpdate(e2,c2.memoizedState,d2.__reactInternalSnapshotBeforeUpdate)}var f2=b2.updateQueue;f2!==null&&sh(b2,f2,d2);break;case 3:var g2=b2.updateQueue;if(g2!==null){if(c2=null,b2.child!==null)switch(b2.child.tag){case 5:c2=b2.child.stateNode;break;case 1:c2=b2.child.stateNode}sh(b2,g2,c2)}break;case 5:var h2=b2.stateNode;if(c2===null&&b2.flags&4){c2=h2;var k2=b2.memoizedProps;switch(b2.type){case"button":case"input":case"select":case"textarea":k2.autoFocus&&c2.focus();break;case"img":k2.src&&(c2.src=k2.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(b2.memoizedState===null){var l2=b2.alternate;if(l2!==null){var m2=l2.memoizedState;if(m2!==null){var q2=m2.dehydrated;q2!==null&&bd(q2)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p2(163))}U2||b2.flags&512&&Rj(b2)}catch(r2){W2(b2,b2.return,r2)}}if(b2===a2){V2=null;break}if(c2=b2.sibling,c2!==null){c2.return=b2.return,V2=c2;break}V2=b2.return}}__name(kk,"kk");function gk(a2){for(;V2!==null;){var b2=V2;if(b2===a2){V2=null;break}var c2=b2.sibling;if(c2!==null){c2.return=b2.return,V2=c2;break}V2=b2.return}}__name(gk,"gk");function jk(a2){for(;V2!==null;){var b2=V2;try{switch(b2.tag){case 0:case 11:case 15:var c2=b2.return;try{Qj(4,b2)}catch(k2){W2(b2,c2,k2)}break;case 1:var d2=b2.stateNode;if(typeof d2.componentDidMount=="function"){var e2=b2.return;try{d2.componentDidMount()}catch(k2){W2(b2,e2,k2)}}var f2=b2.return;try{Rj(b2)}catch(k2){W2(b2,f2,k2)}break;case 5:var g2=b2.return;try{Rj(b2)}catch(k2){W2(b2,g2,k2)}}}catch(k2){W2(b2,b2.return,k2)}if(b2===a2){V2=null;break}var h2=b2.sibling;if(h2!==null){h2.return=b2.return,V2=h2;break}V2=b2.return}}__name(jk,"jk");var lk=Math.ceil,mk=ua2.ReactCurrentDispatcher,nk=ua2.ReactCurrentOwner,ok=ua2.ReactCurrentBatchConfig,K2=0,Q2=null,Y2=null,Z2=0,fj=0,ej=Uf(0),T2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi2=!1,Pi2=null,Ri2=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R2(){return(K2&6)!==0?B2():Ak!==-1?Ak:Ak=B2()}__name(R2,"R");function yi(a2){return(a2.mode&1)===0?1:(K2&2)!==0&&Z2!==0?Z2&-Z2:Kg.transition!==null?(Bk===0&&(Bk=yc()),Bk):(a2=C2,a2!==0||(a2=window.event,a2=a2===void 0?16:jd(a2.type)),a2)}__name(yi,"yi");function gi(a2,b2,c2,d2){if(50<yk)throw yk=0,zk=null,Error(p2(185));Ac(a2,c2,d2),((K2&2)===0||a2!==Q2)&&(a2===Q2&&((K2&2)===0&&(qk|=c2),T2===4&&Ck(a2,Z2)),Dk(a2,d2),c2===1&&K2===0&&(b2.mode&1)===0&&(Gj=B2()+500,fg2&&jg()))}__name(gi,"gi");function Dk(a2,b2){var c2=a2.callbackNode;wc(a2,b2);var d2=uc(a2,a2===Q2?Z2:0);if(d2===0)c2!==null&&bc2(c2),a2.callbackNode=null,a2.callbackPriority=0;else if(b2=d2&-d2,a2.callbackPriority!==b2){if(c2!=null&&bc2(c2),b2===1)a2.tag===0?ig(Ek.bind(null,a2)):hg(Ek.bind(null,a2)),Jf2(function(){(K2&6)===0&&jg()}),c2=null;else{switch(Dc(d2)){case 1:c2=fc2;break;case 4:c2=gc2;break;case 16:c2=hc2;break;case 536870912:c2=jc2;break;default:c2=hc2}c2=Fk(c2,Gk.bind(null,a2))}a2.callbackPriority=b2,a2.callbackNode=c2}}__name(Dk,"Dk");function Gk(a2,b2){if(Ak=-1,Bk=0,(K2&6)!==0)throw Error(p2(327));var c2=a2.callbackNode;if(Hk()&&a2.callbackNode!==c2)return null;var d2=uc(a2,a2===Q2?Z2:0);if(d2===0)return null;if((d2&30)!==0||(d2&a2.expiredLanes)!==0||b2)b2=Ik(a2,d2);else{b2=d2;var e2=K2;K2|=2;var f2=Jk();(Q2!==a2||Z2!==b2)&&(uk=null,Gj=B2()+500,Kk(a2,b2));do try{Lk();break}catch(h2){Mk(a2,h2)}while(!0);$g(),mk.current=f2,K2=e2,Y2!==null?b2=0:(Q2=null,Z2=0,b2=T2)}if(b2!==0){if(b2===2&&(e2=xc(a2),e2!==0&&(d2=e2,b2=Nk(a2,e2))),b2===1)throw c2=pk,Kk(a2,0),Ck(a2,d2),Dk(a2,B2()),c2;if(b2===6)Ck(a2,d2);else{if(e2=a2.current.alternate,(d2&30)===0&&!Ok(e2)&&(b2=Ik(a2,d2),b2===2&&(f2=xc(a2),f2!==0&&(d2=f2,b2=Nk(a2,f2))),b2===1))throw c2=pk,Kk(a2,0),Ck(a2,d2),Dk(a2,B2()),c2;switch(a2.finishedWork=e2,a2.finishedLanes=d2,b2){case 0:case 1:throw Error(p2(345));case 2:Pk(a2,tk,uk);break;case 3:if(Ck(a2,d2),(d2&130023424)===d2&&(b2=fk+500-B2(),10<b2)){if(uc(a2,0)!==0)break;if(e2=a2.suspendedLanes,(e2&d2)!==d2){R2(),a2.pingedLanes|=a2.suspendedLanes&e2;break}a2.timeoutHandle=Ff2(Pk.bind(null,a2,tk,uk),b2);break}Pk(a2,tk,uk);break;case 4:if(Ck(a2,d2),(d2&4194240)===d2)break;for(b2=a2.eventTimes,e2=-1;0<d2;){var g2=31-oc2(d2);f2=1<<g2,g2=b2[g2],g2>e2&&(e2=g2),d2&=~f2}if(d2=e2,d2=B2()-d2,d2=(120>d2?120:480>d2?480:1080>d2?1080:1920>d2?1920:3e3>d2?3e3:4320>d2?4320:1960*lk(d2/1960))-d2,10<d2){a2.timeoutHandle=Ff2(Pk.bind(null,a2,tk,uk),d2);break}Pk(a2,tk,uk);break;case 5:Pk(a2,tk,uk);break;default:throw Error(p2(329))}}}return Dk(a2,B2()),a2.callbackNode===c2?Gk.bind(null,a2):null}__name(Gk,"Gk");function Nk(a2,b2){var c2=sk;return a2.current.memoizedState.isDehydrated&&(Kk(a2,b2).flags|=256),a2=Ik(a2,b2),a2!==2&&(b2=tk,tk=c2,b2!==null&&Fj(b2)),a2}__name(Nk,"Nk");function Fj(a2){tk===null?tk=a2:tk.push.apply(tk,a2)}__name(Fj,"Fj");function Ok(a2){for(var b2=a2;;){if(b2.flags&16384){var c2=b2.updateQueue;if(c2!==null&&(c2=c2.stores,c2!==null))for(var d2=0;d2<c2.length;d2++){var e2=c2[d2],f2=e2.getSnapshot;e2=e2.value;try{if(!He2(f2(),e2))return!1}catch{return!1}}}if(c2=b2.child,b2.subtreeFlags&16384&&c2!==null)c2.return=b2,b2=c2;else{if(b2===a2)break;for(;b2.sibling===null;){if(b2.return===null||b2.return===a2)return!0;b2=b2.return}b2.sibling.return=b2.return,b2=b2.sibling}}return!0}__name(Ok,"Ok");function Ck(a2,b2){for(b2&=~rk,b2&=~qk,a2.suspendedLanes|=b2,a2.pingedLanes&=~b2,a2=a2.expirationTimes;0<b2;){var c2=31-oc2(b2),d2=1<<c2;a2[c2]=-1,b2&=~d2}}__name(Ck,"Ck");function Ek(a2){if((K2&6)!==0)throw Error(p2(327));Hk();var b2=uc(a2,0);if((b2&1)===0)return Dk(a2,B2()),null;var c2=Ik(a2,b2);if(a2.tag!==0&&c2===2){var d2=xc(a2);d2!==0&&(b2=d2,c2=Nk(a2,d2))}if(c2===1)throw c2=pk,Kk(a2,0),Ck(a2,b2),Dk(a2,B2()),c2;if(c2===6)throw Error(p2(345));return a2.finishedWork=a2.current.alternate,a2.finishedLanes=b2,Pk(a2,tk,uk),Dk(a2,B2()),null}__name(Ek,"Ek");function Qk(a2,b2){var c2=K2;K2|=1;try{return a2(b2)}finally{K2=c2,K2===0&&(Gj=B2()+500,fg2&&jg())}}__name(Qk,"Qk");function Rk(a2){wk!==null&&wk.tag===0&&(K2&6)===0&&Hk();var b2=K2;K2|=1;var c2=ok.transition,d2=C2;try{if(ok.transition=null,C2=1,a2)return a2()}finally{C2=d2,ok.transition=c2,K2=b2,(K2&6)===0&&jg()}}__name(Rk,"Rk");function Hj(){fj=ej.current,E2(ej)}__name(Hj,"Hj");function Kk(a2,b2){a2.finishedWork=null,a2.finishedLanes=0;var c2=a2.timeoutHandle;if(c2!==-1&&(a2.timeoutHandle=-1,Gf2(c2)),Y2!==null)for(c2=Y2.return;c2!==null;){var d2=c2;switch(wg(d2),d2.tag){case 1:d2=d2.type.childContextTypes,d2!=null&&$f();break;case 3:zh(),E2(Wf2),E2(H2),Eh();break;case 5:Bh(d2);break;case 4:zh();break;case 13:E2(L2);break;case 19:E2(L2);break;case 10:ah(d2.type._context);break;case 22:case 23:Hj()}c2=c2.return}if(Q2=a2,Y2=a2=Pg(a2.current,null),Z2=fj=b2,T2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh2!==null){for(b2=0;b2<fh2.length;b2++)if(c2=fh2[b2],d2=c2.interleaved,d2!==null){c2.interleaved=null;var e2=d2.next,f2=c2.pending;if(f2!==null){var g2=f2.next;f2.next=e2,d2.next=g2}c2.pending=d2}fh2=null}return a2}__name(Kk,"Kk");function Mk(a2,b2){do{var c2=Y2;try{if($g(),Fh2.current=Rh2,Ih2){for(var d2=M2.memoizedState;d2!==null;){var e2=d2.queue;e2!==null&&(e2.pending=null),d2=d2.next}Ih2=!1}if(Hh2=0,O2=N2=M2=null,Jh2=!1,Kh2=0,nk.current=null,c2===null||c2.return===null){T2=1,pk=b2,Y2=null;break}a:{var f2=a2,g2=c2.return,h2=c2,k2=b2;if(b2=Z2,h2.flags|=32768,k2!==null&&typeof k2=="object"&&typeof k2.then=="function"){var l2=k2,m2=h2,q2=m2.tag;if((m2.mode&1)===0&&(q2===0||q2===11||q2===15)){var r2=m2.alternate;r2?(m2.updateQueue=r2.updateQueue,m2.memoizedState=r2.memoizedState,m2.lanes=r2.lanes):(m2.updateQueue=null,m2.memoizedState=null)}var y2=Ui(g2);if(y2!==null){y2.flags&=-257,Vi(y2,g2,h2,f2,b2),y2.mode&1&&Si(f2,l2,b2),b2=y2,k2=l2;var n2=b2.updateQueue;if(n2===null){var t2=new Set;t2.add(k2),b2.updateQueue=t2}else n2.add(k2);break a}else{if((b2&1)===0){Si(f2,l2,b2),tj();break a}k2=Error(p2(426))}}else if(I2&&h2.mode&1){var J2=Ui(g2);if(J2!==null){(J2.flags&65536)===0&&(J2.flags|=256),Vi(J2,g2,h2,f2,b2),Jg(Ji(k2,h2));break a}}f2=k2=Ji(k2,h2),T2!==4&&(T2=2),sk===null?sk=[f2]:sk.push(f2),f2=g2;do{switch(f2.tag){case 3:f2.flags|=65536,b2&=-b2,f2.lanes|=b2;var x2=Ni(f2,k2,b2);ph(f2,x2);break a;case 1:h2=k2;var w2=f2.type,u2=f2.stateNode;if((f2.flags&128)===0&&(typeof w2.getDerivedStateFromError=="function"||u2!==null&&typeof u2.componentDidCatch=="function"&&(Ri2===null||!Ri2.has(u2)))){f2.flags|=65536,b2&=-b2,f2.lanes|=b2;var F2=Qi(f2,h2,b2);ph(f2,F2);break a}}f2=f2.return}while(f2!==null)}Sk(c2)}catch(na2){b2=na2,Y2===c2&&c2!==null&&(Y2=c2=c2.return);continue}break}while(!0)}__name(Mk,"Mk");function Jk(){var a2=mk.current;return mk.current=Rh2,a2===null?Rh2:a2}__name(Jk,"Jk");function tj(){(T2===0||T2===3||T2===2)&&(T2=4),Q2===null||(rh&268435455)===0&&(qk&268435455)===0||Ck(Q2,Z2)}__name(tj,"tj");function Ik(a2,b2){var c2=K2;K2|=2;var d2=Jk();(Q2!==a2||Z2!==b2)&&(uk=null,Kk(a2,b2));do try{Tk();break}catch(e2){Mk(a2,e2)}while(!0);if($g(),K2=c2,mk.current=d2,Y2!==null)throw Error(p2(261));return Q2=null,Z2=0,T2}__name(Ik,"Ik");function Tk(){for(;Y2!==null;)Uk(Y2)}__name(Tk,"Tk");function Lk(){for(;Y2!==null&&!cc2();)Uk(Y2)}__name(Lk,"Lk");function Uk(a2){var b2=Vk(a2.alternate,a2,fj);a2.memoizedProps=a2.pendingProps,b2===null?Sk(a2):Y2=b2,nk.current=null}__name(Uk,"Uk");function Sk(a2){var b2=a2;do{var c2=b2.alternate;if(a2=b2.return,(b2.flags&32768)===0){if(c2=Ej(c2,b2,fj),c2!==null){Y2=c2;return}}else{if(c2=Ij(c2,b2),c2!==null){c2.flags&=32767,Y2=c2;return}if(a2!==null)a2.flags|=32768,a2.subtreeFlags=0,a2.deletions=null;else{T2=6,Y2=null;return}}if(b2=b2.sibling,b2!==null){Y2=b2;return}Y2=b2=a2}while(b2!==null);T2===0&&(T2=5)}__name(Sk,"Sk");function Pk(a2,b2,c2){var d2=C2,e2=ok.transition;try{ok.transition=null,C2=1,Wk(a2,b2,c2,d2)}finally{ok.transition=e2,C2=d2}return null}__name(Pk,"Pk");function Wk(a2,b2,c2,d2){do Hk();while(wk!==null);if((K2&6)!==0)throw Error(p2(327));c2=a2.finishedWork;var e2=a2.finishedLanes;if(c2===null)return null;if(a2.finishedWork=null,a2.finishedLanes=0,c2===a2.current)throw Error(p2(177));a2.callbackNode=null,a2.callbackPriority=0;var f2=c2.lanes|c2.childLanes;if(Bc(a2,f2),a2===Q2&&(Y2=Q2=null,Z2=0),(c2.subtreeFlags&2064)===0&&(c2.flags&2064)===0||vk||(vk=!0,Fk(hc2,function(){return Hk(),null})),f2=(c2.flags&15990)!==0,(c2.subtreeFlags&15990)!==0||f2){f2=ok.transition,ok.transition=null;var g2=C2;C2=1;var h2=K2;K2|=4,nk.current=null,Oj(a2,c2),dk(c2,a2),Oe(Df2),dd2=!!Cf2,Df2=Cf2=null,a2.current=c2,hk(c2),dc2(),K2=h2,C2=g2,ok.transition=f2}else a2.current=c2;if(vk&&(vk=!1,wk=a2,xk=e2),f2=a2.pendingLanes,f2===0&&(Ri2=null),mc(c2.stateNode),Dk(a2,B2()),b2!==null)for(d2=a2.onRecoverableError,c2=0;c2<b2.length;c2++)e2=b2[c2],d2(e2.value,{componentStack:e2.stack,digest:e2.digest});if(Oi2)throw Oi2=!1,a2=Pi2,Pi2=null,a2;return(xk&1)!==0&&a2.tag!==0&&Hk(),f2=a2.pendingLanes,(f2&1)!==0?a2===zk?yk++:(yk=0,zk=a2):yk=0,jg(),null}__name(Wk,"Wk");function Hk(){if(wk!==null){var a2=Dc(xk),b2=ok.transition,c2=C2;try{if(ok.transition=null,C2=16>a2?16:a2,wk===null)var d2=!1;else{if(a2=wk,wk=null,xk=0,(K2&6)!==0)throw Error(p2(331));var e2=K2;for(K2|=4,V2=a2.current;V2!==null;){var f2=V2,g2=f2.child;if((V2.flags&16)!==0){var h2=f2.deletions;if(h2!==null){for(var k2=0;k2<h2.length;k2++){var l2=h2[k2];for(V2=l2;V2!==null;){var m2=V2;switch(m2.tag){case 0:case 11:case 15:Pj(8,m2,f2)}var q2=m2.child;if(q2!==null)q2.return=m2,V2=q2;else for(;V2!==null;){m2=V2;var r2=m2.sibling,y2=m2.return;if(Sj(m2),m2===l2){V2=null;break}if(r2!==null){r2.return=y2,V2=r2;break}V2=y2}}}var n2=f2.alternate;if(n2!==null){var t2=n2.child;if(t2!==null){n2.child=null;do{var J2=t2.sibling;t2.sibling=null,t2=J2}while(t2!==null)}}V2=f2}}if((f2.subtreeFlags&2064)!==0&&g2!==null)g2.return=f2,V2=g2;else b:for(;V2!==null;){if(f2=V2,(f2.flags&2048)!==0)switch(f2.tag){case 0:case 11:case 15:Pj(9,f2,f2.return)}var x2=f2.sibling;if(x2!==null){x2.return=f2.return,V2=x2;break b}V2=f2.return}}var w2=a2.current;for(V2=w2;V2!==null;){g2=V2;var u2=g2.child;if((g2.subtreeFlags&2064)!==0&&u2!==null)u2.return=g2,V2=u2;else b:for(g2=w2;V2!==null;){if(h2=V2,(h2.flags&2048)!==0)try{switch(h2.tag){case 0:case 11:case 15:Qj(9,h2)}}catch(na2){W2(h2,h2.return,na2)}if(h2===g2){V2=null;break b}var F2=h2.sibling;if(F2!==null){F2.return=h2.return,V2=F2;break b}V2=h2.return}}if(K2=e2,jg(),lc2&&typeof lc2.onPostCommitFiberRoot=="function")try{lc2.onPostCommitFiberRoot(kc2,a2)}catch{}d2=!0}return d2}finally{C2=c2,ok.transition=b2}}return!1}__name(Hk,"Hk");function Xk(a2,b2,c2){b2=Ji(c2,b2),b2=Ni(a2,b2,1),a2=nh(a2,b2,1),b2=R2(),a2!==null&&(Ac(a2,1,b2),Dk(a2,b2))}__name(Xk,"Xk");function W2(a2,b2,c2){if(a2.tag===3)Xk(a2,a2,c2);else for(;b2!==null;){if(b2.tag===3){Xk(b2,a2,c2);break}else if(b2.tag===1){var d2=b2.stateNode;if(typeof b2.type.getDerivedStateFromError=="function"||typeof d2.componentDidCatch=="function"&&(Ri2===null||!Ri2.has(d2))){a2=Ji(c2,a2),a2=Qi(b2,a2,1),b2=nh(b2,a2,1),a2=R2(),b2!==null&&(Ac(b2,1,a2),Dk(b2,a2));break}}b2=b2.return}}__name(W2,"W");function Ti(a2,b2,c2){var d2=a2.pingCache;d2!==null&&d2.delete(b2),b2=R2(),a2.pingedLanes|=a2.suspendedLanes&c2,Q2===a2&&(Z2&c2)===c2&&(T2===4||T2===3&&(Z2&130023424)===Z2&&500>B2()-fk?Kk(a2,0):rk|=c2),Dk(a2,b2)}__name(Ti,"Ti");function Yk(a2,b2){b2===0&&((a2.mode&1)===0?b2=1:(b2=sc2,sc2<<=1,(sc2&130023424)===0&&(sc2=4194304)));var c2=R2();a2=ih(a2,b2),a2!==null&&(Ac(a2,b2,c2),Dk(a2,c2))}__name(Yk,"Yk");function uj(a2){var b2=a2.memoizedState,c2=0;b2!==null&&(c2=b2.retryLane),Yk(a2,c2)}__name(uj,"uj");function bk(a2,b2){var c2=0;switch(a2.tag){case 13:var d2=a2.stateNode,e2=a2.memoizedState;e2!==null&&(c2=e2.retryLane);break;case 19:d2=a2.stateNode;break;default:throw Error(p2(314))}d2!==null&&d2.delete(b2),Yk(a2,c2)}__name(bk,"bk");var Vk;Vk=__name(function(a2,b2,c2){if(a2!==null)if(a2.memoizedProps!==b2.pendingProps||Wf2.current)dh2=!0;else{if((a2.lanes&c2)===0&&(b2.flags&128)===0)return dh2=!1,yj(a2,b2,c2);dh2=(a2.flags&131072)!==0}else dh2=!1,I2&&(b2.flags&1048576)!==0&&ug(b2,ng2,b2.index);switch(b2.lanes=0,b2.tag){case 2:var d2=b2.type;ij(a2,b2),a2=b2.pendingProps;var e2=Yf(b2,H2.current);ch(b2,c2),e2=Nh(null,b2,d2,a2,e2,c2);var f2=Sh();return b2.flags|=1,typeof e2=="object"&&e2!==null&&typeof e2.render=="function"&&e2.$$typeof===void 0?(b2.tag=1,b2.memoizedState=null,b2.updateQueue=null,Zf(d2)?(f2=!0,cg(b2)):f2=!1,b2.memoizedState=e2.state!==null&&e2.state!==void 0?e2.state:null,kh(b2),e2.updater=Ei2,b2.stateNode=e2,e2._reactInternals=b2,Ii(b2,d2,a2,c2),b2=jj(null,b2,d2,!0,f2,c2)):(b2.tag=0,I2&&f2&&vg(b2),Xi(null,b2,e2,c2),b2=b2.child),b2;case 16:d2=b2.elementType;a:{switch(ij(a2,b2),a2=b2.pendingProps,e2=d2._init,d2=e2(d2._payload),b2.type=d2,e2=b2.tag=Zk(d2),a2=Ci(d2,a2),e2){case 0:b2=cj(null,b2,d2,a2,c2);break a;case 1:b2=hj(null,b2,d2,a2,c2);break a;case 11:b2=Yi(null,b2,d2,a2,c2);break a;case 14:b2=$i(null,b2,d2,Ci(d2.type,a2),c2);break a}throw Error(p2(306,d2,""))}return b2;case 0:return d2=b2.type,e2=b2.pendingProps,e2=b2.elementType===d2?e2:Ci(d2,e2),cj(a2,b2,d2,e2,c2);case 1:return d2=b2.type,e2=b2.pendingProps,e2=b2.elementType===d2?e2:Ci(d2,e2),hj(a2,b2,d2,e2,c2);case 3:a:{if(kj(b2),a2===null)throw Error(p2(387));d2=b2.pendingProps,f2=b2.memoizedState,e2=f2.element,lh(a2,b2),qh(b2,d2,null,c2);var g2=b2.memoizedState;if(d2=g2.element,f2.isDehydrated)if(f2={element:d2,isDehydrated:!1,cache:g2.cache,pendingSuspenseBoundaries:g2.pendingSuspenseBoundaries,transitions:g2.transitions},b2.updateQueue.baseState=f2,b2.memoizedState=f2,b2.flags&256){e2=Ji(Error(p2(423)),b2),b2=lj(a2,b2,d2,c2,e2);break a}else if(d2!==e2){e2=Ji(Error(p2(424)),b2),b2=lj(a2,b2,d2,c2,e2);break a}else for(yg2=Lf(b2.stateNode.containerInfo.firstChild),xg2=b2,I2=!0,zg=null,c2=Vg(b2,null,d2,c2),b2.child=c2;c2;)c2.flags=c2.flags&-3|4096,c2=c2.sibling;else{if(Ig(),d2===e2){b2=Zi(a2,b2,c2);break a}Xi(a2,b2,d2,c2)}b2=b2.child}return b2;case 5:return Ah(b2),a2===null&&Eg(b2),d2=b2.type,e2=b2.pendingProps,f2=a2!==null?a2.memoizedProps:null,g2=e2.children,Ef(d2,e2)?g2=null:f2!==null&&Ef(d2,f2)&&(b2.flags|=32),gj(a2,b2),Xi(a2,b2,g2,c2),b2.child;case 6:return a2===null&&Eg(b2),null;case 13:return oj(a2,b2,c2);case 4:return yh(b2,b2.stateNode.containerInfo),d2=b2.pendingProps,a2===null?b2.child=Ug(b2,null,d2,c2):Xi(a2,b2,d2,c2),b2.child;case 11:return d2=b2.type,e2=b2.pendingProps,e2=b2.elementType===d2?e2:Ci(d2,e2),Yi(a2,b2,d2,e2,c2);case 7:return Xi(a2,b2,b2.pendingProps,c2),b2.child;case 8:return Xi(a2,b2,b2.pendingProps.children,c2),b2.child;case 12:return Xi(a2,b2,b2.pendingProps.children,c2),b2.child;case 10:a:{if(d2=b2.type._context,e2=b2.pendingProps,f2=b2.memoizedProps,g2=e2.value,G2(Wg,d2._currentValue),d2._currentValue=g2,f2!==null)if(He2(f2.value,g2)){if(f2.children===e2.children&&!Wf2.current){b2=Zi(a2,b2,c2);break a}}else for(f2=b2.child,f2!==null&&(f2.return=b2);f2!==null;){var h2=f2.dependencies;if(h2!==null){g2=f2.child;for(var k2=h2.firstContext;k2!==null;){if(k2.context===d2){if(f2.tag===1){k2=mh(-1,c2&-c2),k2.tag=2;var l2=f2.updateQueue;if(l2!==null){l2=l2.shared;var m2=l2.pending;m2===null?k2.next=k2:(k2.next=m2.next,m2.next=k2),l2.pending=k2}}f2.lanes|=c2,k2=f2.alternate,k2!==null&&(k2.lanes|=c2),bh(f2.return,c2,b2),h2.lanes|=c2;break}k2=k2.next}}else if(f2.tag===10)g2=f2.type===b2.type?null:f2.child;else if(f2.tag===18){if(g2=f2.return,g2===null)throw Error(p2(341));g2.lanes|=c2,h2=g2.alternate,h2!==null&&(h2.lanes|=c2),bh(g2,c2,b2),g2=f2.sibling}else g2=f2.child;if(g2!==null)g2.return=f2;else for(g2=f2;g2!==null;){if(g2===b2){g2=null;break}if(f2=g2.sibling,f2!==null){f2.return=g2.return,g2=f2;break}g2=g2.return}f2=g2}Xi(a2,b2,e2.children,c2),b2=b2.child}return b2;case 9:return e2=b2.type,d2=b2.pendingProps.children,ch(b2,c2),e2=eh(e2),d2=d2(e2),b2.flags|=1,Xi(a2,b2,d2,c2),b2.child;case 14:return d2=b2.type,e2=Ci(d2,b2.pendingProps),e2=Ci(d2.type,e2),$i(a2,b2,d2,e2,c2);case 15:return bj(a2,b2,b2.type,b2.pendingProps,c2);case 17:return d2=b2.type,e2=b2.pendingProps,e2=b2.elementType===d2?e2:Ci(d2,e2),ij(a2,b2),b2.tag=1,Zf(d2)?(a2=!0,cg(b2)):a2=!1,ch(b2,c2),Gi(b2,d2,e2),Ii(b2,d2,e2,c2),jj(null,b2,d2,!0,a2,c2);case 19:return xj(a2,b2,c2);case 22:return dj(a2,b2,c2)}throw Error(p2(156,b2.tag))},"Vk");function Fk(a2,b2){return ac2(a2,b2)}__name(Fk,"Fk");function $k(a2,b2,c2,d2){this.tag=a2,this.key=c2,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b2,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d2,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}__name($k,"$k");function Bg(a2,b2,c2,d2){return new $k(a2,b2,c2,d2)}__name(Bg,"Bg");function aj(a2){return a2=a2.prototype,!(!a2||!a2.isReactComponent)}__name(aj,"aj");function Zk(a2){if(typeof a2=="function")return aj(a2)?1:0;if(a2!=null){if(a2=a2.$$typeof,a2===Da2)return 11;if(a2===Ga2)return 14}return 2}__name(Zk,"Zk");function Pg(a2,b2){var c2=a2.alternate;return c2===null?(c2=Bg(a2.tag,b2,a2.key,a2.mode),c2.elementType=a2.elementType,c2.type=a2.type,c2.stateNode=a2.stateNode,c2.alternate=a2,a2.alternate=c2):(c2.pendingProps=b2,c2.type=a2.type,c2.flags=0,c2.subtreeFlags=0,c2.deletions=null),c2.flags=a2.flags&14680064,c2.childLanes=a2.childLanes,c2.lanes=a2.lanes,c2.child=a2.child,c2.memoizedProps=a2.memoizedProps,c2.memoizedState=a2.memoizedState,c2.updateQueue=a2.updateQueue,b2=a2.dependencies,c2.dependencies=b2===null?null:{lanes:b2.lanes,firstContext:b2.firstContext},c2.sibling=a2.sibling,c2.index=a2.index,c2.ref=a2.ref,c2}__name(Pg,"Pg");function Rg(a2,b2,c2,d2,e2,f2){var g2=2;if(d2=a2,typeof a2=="function")aj(a2)&&(g2=1);else if(typeof a2=="string")g2=5;else a:switch(a2){case ya2:return Tg(c2.children,e2,f2,b2);case za2:g2=8,e2|=8;break;case Aa2:return a2=Bg(12,c2,b2,e2|2),a2.elementType=Aa2,a2.lanes=f2,a2;case Ea2:return a2=Bg(13,c2,b2,e2),a2.elementType=Ea2,a2.lanes=f2,a2;case Fa2:return a2=Bg(19,c2,b2,e2),a2.elementType=Fa2,a2.lanes=f2,a2;case Ia2:return pj(c2,e2,f2,b2);default:if(typeof a2=="object"&&a2!==null)switch(a2.$$typeof){case Ba2:g2=10;break a;case Ca2:g2=9;break a;case Da2:g2=11;break a;case Ga2:g2=14;break a;case Ha2:g2=16,d2=null;break a}throw Error(p2(130,a2==null?a2:typeof a2,""))}return b2=Bg(g2,c2,b2,e2),b2.elementType=a2,b2.type=d2,b2.lanes=f2,b2}__name(Rg,"Rg");function Tg(a2,b2,c2,d2){return a2=Bg(7,a2,d2,b2),a2.lanes=c2,a2}__name(Tg,"Tg");function pj(a2,b2,c2,d2){return a2=Bg(22,a2,d2,b2),a2.elementType=Ia2,a2.lanes=c2,a2.stateNode={isHidden:!1},a2}__name(pj,"pj");function Qg(a2,b2,c2){return a2=Bg(6,a2,null,b2),a2.lanes=c2,a2}__name(Qg,"Qg");function Sg(a2,b2,c2){return b2=Bg(4,a2.children!==null?a2.children:[],a2.key,b2),b2.lanes=c2,b2.stateNode={containerInfo:a2.containerInfo,pendingChildren:null,implementation:a2.implementation},b2}__name(Sg,"Sg");function al(a2,b2,c2,d2,e2){this.tag=b2,this.containerInfo=a2,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=d2,this.onRecoverableError=e2,this.mutableSourceEagerHydrationData=null}__name(al,"al");function bl(a2,b2,c2,d2,e2,f2,g2,h2,k2){return a2=new al(a2,b2,c2,h2,k2),b2===1?(b2=1,f2===!0&&(b2|=8)):b2=0,f2=Bg(3,null,null,b2),a2.current=f2,f2.stateNode=a2,f2.memoizedState={element:d2,isDehydrated:c2,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(f2),a2}__name(bl,"bl");function cl(a2,b2,c2){var d2=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa2,key:d2==null?null:""+d2,children:a2,containerInfo:b2,implementation:c2}}__name(cl,"cl");function dl(a2){if(!a2)return Vf2;a2=a2._reactInternals;a:{if(Vb(a2)!==a2||a2.tag!==1)throw Error(p2(170));var b2=a2;do{switch(b2.tag){case 3:b2=b2.stateNode.context;break a;case 1:if(Zf(b2.type)){b2=b2.stateNode.__reactInternalMemoizedMergedChildContext;break a}}b2=b2.return}while(b2!==null);throw Error(p2(171))}if(a2.tag===1){var c2=a2.type;if(Zf(c2))return bg(a2,c2,b2)}return b2}__name(dl,"dl");function el(a2,b2,c2,d2,e2,f2,g2,h2,k2){return a2=bl(c2,d2,!0,a2,e2,f2,g2,h2,k2),a2.context=dl(null),c2=a2.current,d2=R2(),e2=yi(c2),f2=mh(d2,e2),f2.callback=b2??null,nh(c2,f2,e2),a2.current.lanes=e2,Ac(a2,e2,d2),Dk(a2,d2),a2}__name(el,"el");function fl(a2,b2,c2,d2){var e2=b2.current,f2=R2(),g2=yi(e2);return c2=dl(c2),b2.context===null?b2.context=c2:b2.pendingContext=c2,b2=mh(f2,g2),b2.payload={element:a2},d2=d2===void 0?null:d2,d2!==null&&(b2.callback=d2),a2=nh(e2,b2,g2),a2!==null&&(gi(a2,e2,g2,f2),oh(a2,e2,g2)),g2}__name(fl,"fl");function gl2(a2){if(a2=a2.current,!a2.child)return null;switch(a2.child.tag){case 5:return a2.child.stateNode;default:return a2.child.stateNode}}__name(gl2,"gl");function hl(a2,b2){if(a2=a2.memoizedState,a2!==null&&a2.dehydrated!==null){var c2=a2.retryLane;a2.retryLane=c2!==0&&c2<b2?c2:b2}}__name(hl,"hl");function il(a2,b2){hl(a2,b2),(a2=a2.alternate)&&hl(a2,b2)}__name(il,"il");function jl(){return null}__name(jl,"jl");var kl2=typeof reportError=="function"?reportError:function(a2){console.error(a2)};function ll(a2){this._internalRoot=a2}__name(ll,"ll"),ml.prototype.render=ll.prototype.render=function(a2){var b2=this._internalRoot;if(b2===null)throw Error(p2(409));fl(a2,b2,null,null)},ml.prototype.unmount=ll.prototype.unmount=function(){var a2=this._internalRoot;if(a2!==null){this._internalRoot=null;var b2=a2.containerInfo;Rk(function(){fl(null,a2,null,null)}),b2[uf2]=null}};function ml(a2){this._internalRoot=a2}__name(ml,"ml"),ml.prototype.unstable_scheduleHydration=function(a2){if(a2){var b2=Hc2();a2={blockedOn:null,target:a2,priority:b2};for(var c2=0;c2<Qc2.length&&b2!==0&&b2<Qc2[c2].priority;c2++);Qc2.splice(c2,0,a2),c2===0&&Vc(a2)}};function nl(a2){return!(!a2||a2.nodeType!==1&&a2.nodeType!==9&&a2.nodeType!==11)}__name(nl,"nl");function ol(a2){return!(!a2||a2.nodeType!==1&&a2.nodeType!==9&&a2.nodeType!==11&&(a2.nodeType!==8||a2.nodeValue!==" react-mount-point-unstable "))}__name(ol,"ol");function pl(){}__name(pl,"pl");function ql(a2,b2,c2,d2,e2){if(e2){if(typeof d2=="function"){var f2=d2;d2=__name(function(){var a3=gl2(g2);f2.call(a3)},"d")}var g2=el(b2,d2,a2,0,null,!1,!1,"",pl);return a2._reactRootContainer=g2,a2[uf2]=g2.current,sf(a2.nodeType===8?a2.parentNode:a2),Rk(),g2}for(;e2=a2.lastChild;)a2.removeChild(e2);if(typeof d2=="function"){var h2=d2;d2=__name(function(){var a3=gl2(k2);h2.call(a3)},"d")}var k2=bl(a2,0,!1,null,null,!1,!1,"",pl);return a2._reactRootContainer=k2,a2[uf2]=k2.current,sf(a2.nodeType===8?a2.parentNode:a2),Rk(function(){fl(b2,k2,c2,d2)}),k2}__name(ql,"ql");function rl(a2,b2,c2,d2,e2){var f2=c2._reactRootContainer;if(f2){var g2=f2;if(typeof e2=="function"){var h2=e2;e2=__name(function(){var a3=gl2(g2);h2.call(a3)},"e")}fl(b2,g2,a2,e2)}else g2=ql(c2,b2,a2,e2,d2);return gl2(g2)}__name(rl,"rl"),Ec2=__name(function(a2){switch(a2.tag){case 3:var b2=a2.stateNode;if(b2.current.memoizedState.isDehydrated){var c2=tc(b2.pendingLanes);c2!==0&&(Cc(b2,c2|1),Dk(b2,B2()),(K2&6)===0&&(Gj=B2()+500,jg()))}break;case 13:Rk(function(){var b3=ih(a2,1);if(b3!==null){var c3=R2();gi(b3,a2,1,c3)}}),il(a2,1)}},"Ec"),Fc2=__name(function(a2){if(a2.tag===13){var b2=ih(a2,134217728);if(b2!==null){var c2=R2();gi(b2,a2,134217728,c2)}il(a2,134217728)}},"Fc"),Gc2=__name(function(a2){if(a2.tag===13){var b2=yi(a2),c2=ih(a2,b2);if(c2!==null){var d2=R2();gi(c2,a2,b2,d2)}il(a2,b2)}},"Gc"),Hc2=__name(function(){return C2},"Hc"),Ic2=__name(function(a2,b2){var c2=C2;try{return C2=a2,b2()}finally{C2=c2}},"Ic"),yb=__name(function(a2,b2,c2){switch(b2){case"input":if(bb(a2,c2),b2=c2.name,c2.type==="radio"&&b2!=null){for(c2=a2;c2.parentNode;)c2=c2.parentNode;for(c2=c2.querySelectorAll("input[name="+JSON.stringify(""+b2)+'][type="radio"]'),b2=0;b2<c2.length;b2++){var d2=c2[b2];if(d2!==a2&&d2.form===a2.form){var e2=Db(d2);if(!e2)throw Error(p2(90));Wa(d2),bb(d2,e2)}}}break;case"textarea":ib(a2,c2);break;case"select":b2=c2.value,b2!=null&&fb(a2,!!c2.multiple,b2,!1)}},"yb"),Gb=Qk,Hb=Rk;var sl2={usingClientEntryPoint:!1,Events:[Cb,ue2,Db,Eb,Fb,Qk]},tl2={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul2={bundleType:tl2.bundleType,version:tl2.version,rendererPackageName:tl2.rendererPackageName,rendererConfig:tl2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua2.ReactCurrentDispatcher,findHostInstanceByFiber:__name(function(a2){return a2=Zb(a2),a2===null?null:a2.stateNode},"findHostInstanceByFiber"),findFiberByHostInstance:tl2.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl2.isDisabled&&vl2.supportsFiber)try{kc2=vl2.inject(ul2),lc2=vl2}catch{}}return reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl2,reactDom_production_min.createPortal=function(a2,b2){var c2=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(b2))throw Error(p2(200));return cl(a2,b2,null,c2)},reactDom_production_min.createRoot=function(a2,b2){if(!nl(a2))throw Error(p2(299));var c2=!1,d2="",e2=kl2;return b2!=null&&(b2.unstable_strictMode===!0&&(c2=!0),b2.identifierPrefix!==void 0&&(d2=b2.identifierPrefix),b2.onRecoverableError!==void 0&&(e2=b2.onRecoverableError)),b2=bl(a2,1,!1,null,null,c2,!1,d2,e2),a2[uf2]=b2.current,sf(a2.nodeType===8?a2.parentNode:a2),new ll(b2)},reactDom_production_min.findDOMNode=function(a2){if(a2==null)return null;if(a2.nodeType===1)return a2;var b2=a2._reactInternals;if(b2===void 0)throw typeof a2.render=="function"?Error(p2(188)):(a2=Object.keys(a2).join(","),Error(p2(268,a2)));return a2=Zb(b2),a2=a2===null?null:a2.stateNode,a2},reactDom_production_min.flushSync=function(a2){return Rk(a2)},reactDom_production_min.hydrate=function(a2,b2,c2){if(!ol(b2))throw Error(p2(200));return rl(null,a2,b2,!0,c2)},reactDom_production_min.hydrateRoot=function(a2,b2,c2){if(!nl(a2))throw Error(p2(405));var d2=c2!=null&&c2.hydratedSources||null,e2=!1,f2="",g2=kl2;if(c2!=null&&(c2.unstable_strictMode===!0&&(e2=!0),c2.identifierPrefix!==void 0&&(f2=c2.identifierPrefix),c2.onRecoverableError!==void 0&&(g2=c2.onRecoverableError)),b2=el(b2,null,a2,1,c2??null,e2,!1,f2,g2),a2[uf2]=b2.current,sf(a2),d2)for(a2=0;a2<d2.length;a2++)c2=d2[a2],e2=c2._getVersion,e2=e2(c2._source),b2.mutableSourceEagerHydrationData==null?b2.mutableSourceEagerHydrationData=[c2,e2]:b2.mutableSourceEagerHydrationData.push(c2,e2);return new ml(b2)},reactDom_production_min.render=function(a2,b2,c2){if(!ol(b2))throw Error(p2(200));return rl(null,a2,b2,!1,c2)},reactDom_production_min.unmountComponentAtNode=function(a2){if(!ol(a2))throw Error(p2(40));return a2._reactRootContainer?(Rk(function(){rl(null,null,a2,!1,function(){a2._reactRootContainer=null,a2[uf2]=null})}),!0):!1},reactDom_production_min.unstable_batchedUpdates=Qk,reactDom_production_min.unstable_renderSubtreeIntoContainer=function(a2,b2,c2,d2){if(!ol(c2))throw Error(p2(200));if(a2==null||a2._reactInternals===void 0)throw Error(p2(38));return rl(a2,b2,c2,!1,d2)},reactDom_production_min.version="18.3.1-next-f1338f8080-20240426",reactDom_production_min}__name(requireReactDom_production_min$1,"requireReactDom_production_min$1");var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}return __name(checkDCE,"checkDCE"),checkDCE(),reactDom.exports=requireReactDom_production_min$1(),reactDom.exports}__name(requireReactDom,"requireReactDom");var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client;hasRequiredClient=1;var m2=requireReactDom();return client.createRoot=m2.createRoot,client.hydrateRoot=m2.hydrateRoot,client}__name(requireClient,"requireClient");var clientExports=requireClient(),dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=parse2,dist.serialize=serialize;const cookieNameRegExp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,cookieValueRegExp=/^[\u0021-\u003A\u003C-\u007E]*$/,domainValueRegExp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,pathValueRegExp=/^[\u0020-\u003A\u003D-\u007E]*$/,__toString=Object.prototype.toString,NullObject=(()=>{const C2=__name(function(){},"C");return C2.prototype=Object.create(null),C2})();function parse2(str,options){const obj=new NullObject,len=str.length;if(len<2)return obj;const dec2=(options==null?void 0:options.decode)||decode;let index=0;do{const eqIdx=str.indexOf("=",index);if(eqIdx===-1)break;const colonIdx=str.indexOf(";",index),endIdx=colonIdx===-1?len:colonIdx;if(eqIdx>endIdx){index=str.lastIndexOf(";",eqIdx-1)+1;continue}const keyStartIdx=startIndex(str,index,eqIdx),keyEndIdx=endIndex(str,eqIdx,keyStartIdx),key=str.slice(keyStartIdx,keyEndIdx);if(obj[key]===void 0){let valStartIdx=startIndex(str,eqIdx+1,endIdx),valEndIdx=endIndex(str,endIdx,valStartIdx);const value=dec2(str.slice(valStartIdx,valEndIdx));obj[key]=value}index=endIdx+1}while(index<len);return obj}__name(parse2,"parse");function startIndex(str,index,max){do{const code=str.charCodeAt(index);if(code!==32&&code!==9)return index}while(++index<max);return max}__name(startIndex,"startIndex");function endIndex(str,index,min){for(;index>min;){const code=str.charCodeAt(--index);if(code!==32&&code!==9)return index+1}return min}__name(endIndex,"endIndex");function serialize(name,val,options){const enc=(options==null?void 0:options.encode)||encodeURIComponent;if(!cookieNameRegExp.test(name))throw new TypeError(`argument name is invalid: ${name}`);const value=enc(val);if(!cookieValueRegExp.test(value))throw new TypeError(`argument val is invalid: ${val}`);let str=name+"="+value;if(!options)return str;if(options.maxAge!==void 0){if(!Number.isInteger(options.maxAge))throw new TypeError(`option maxAge is invalid: ${options.maxAge}`);str+="; Max-Age="+options.maxAge}if(options.domain){if(!domainValueRegExp.test(options.domain))throw new TypeError(`option domain is invalid: ${options.domain}`);str+="; Domain="+options.domain}if(options.path){if(!pathValueRegExp.test(options.path))throw new TypeError(`option path is invalid: ${options.path}`);str+="; Path="+options.path}if(options.expires){if(!isDate(options.expires)||!Number.isFinite(options.expires.valueOf()))throw new TypeError(`option expires is invalid: ${options.expires}`);str+="; Expires="+options.expires.toUTCString()}if(options.httpOnly&&(str+="; HttpOnly"),options.secure&&(str+="; Secure"),options.partitioned&&(str+="; Partitioned"),options.priority)switch(typeof options.priority=="string"?options.priority.toLowerCase():void 0){case"low":str+="; Priority=Low";break;case"medium":str+="; Priority=Medium";break;case"high":str+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${options.priority}`)}if(options.sameSite)switch(typeof options.sameSite=="string"?options.sameSite.toLowerCase():options.sameSite){case!0:case"strict":str+="; SameSite=Strict";break;case"lax":str+="; SameSite=Lax";break;case"none":str+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${options.sameSite}`)}return str}__name(serialize,"serialize");function decode(str){if(str.indexOf("%")===-1)return str;try{return decodeURIComponent(str)}catch{return str}}__name(decode,"decode");function isDate(val){return __toString.call(val)==="[object Date]"}return __name(isDate,"isDate"),dist}__name(requireDist,"requireDist");requireDist();var PopStateEventType="popstate";function createHashHistory(options={}){function createHashLocation(window2,globalHistory){let{pathname="/",search="",hash=""}=parsePath(window2.location.hash.substring(1));return!pathname.startsWith("/")&&!pathname.startsWith(".")&&(pathname="/"+pathname),createLocation("",{pathname,search,hash},globalHistory.state&&globalHistory.state.usr||null,globalHistory.state&&globalHistory.state.key||"default")}__name(createHashLocation,"createHashLocation");function createHashHref(window2,to2){let base=window2.document.querySelector("base"),href2="";if(base&&base.getAttribute("href")){let url2=window2.location.href,hashIndex=url2.indexOf("#");href2=hashIndex===-1?url2:url2.slice(0,hashIndex)}return href2+"#"+(typeof to2=="string"?to2:createPath(to2))}__name(createHashHref,"createHashHref");function validateHashLocation(location,to2){warning(location.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(to2)})`)}return __name(validateHashLocation,"validateHashLocation"),getUrlBasedHistory(createHashLocation,createHashHref,validateHashLocation,options)}__name(createHashHistory,"createHashHistory");function invariant$2(value,message){if(value===!1||value===null||typeof value>"u")throw new Error(message)}__name(invariant$2,"invariant$2");function warning(cond,message){if(!cond){typeof console<"u"&&console.warn(message);try{throw new Error(message)}catch{}}}__name(warning,"warning");function createKey(){return Math.random().toString(36).substring(2,10)}__name(createKey,"createKey");function getHistoryState(location,index){return{usr:location.state,key:location.key,idx:index}}__name(getHistoryState,"getHistoryState");function createLocation(current,to2,state=null,key){return{pathname:typeof current=="string"?current:current.pathname,search:"",hash:"",...typeof to2=="string"?parsePath(to2):to2,state,key:to2&&to2.key||key||createKey()}}__name(createLocation,"createLocation");function createPath({pathname="/",search="",hash=""}){return search&&search!=="?"&&(pathname+=search.charAt(0)==="?"?search:"?"+search),hash&&hash!=="#"&&(pathname+=hash.charAt(0)==="#"?hash:"#"+hash),pathname}__name(createPath,"createPath");function parsePath(path){let parsedPath={};if(path){let hashIndex=path.indexOf("#");hashIndex>=0&&(parsedPath.hash=path.substring(hashIndex),path=path.substring(0,hashIndex));let searchIndex=path.indexOf("?");searchIndex>=0&&(parsedPath.search=path.substring(searchIndex),path=path.substring(0,searchIndex)),path&&(parsedPath.pathname=path)}return parsedPath}__name(parsePath,"parsePath");function getUrlBasedHistory(getLocation,createHref2,validateLocation,options={}){let{window:window2=document.defaultView,v5Compat=!1}=options,globalHistory=window2.history,action="POP",listener=null,index=getIndex();index==null&&(index=0,globalHistory.replaceState({...globalHistory.state,idx:index},""));function getIndex(){return(globalHistory.state||{idx:null}).idx}__name(getIndex,"getIndex");function handlePop(){action="POP";let nextIndex=getIndex(),delta=nextIndex==null?null:nextIndex-index;index=nextIndex,listener&&listener({action,location:history2.location,delta})}__name(handlePop,"handlePop");function push(to2,state){action="PUSH";let location=createLocation(history2.location,to2,state);validateLocation&&validateLocation(location,to2),index=getIndex()+1;let historyState=getHistoryState(location,index),url2=history2.createHref(location);try{globalHistory.pushState(historyState,"",url2)}catch(error){if(error instanceof DOMException&&error.name==="DataCloneError")throw error;window2.location.assign(url2)}v5Compat&&listener&&listener({action,location:history2.location,delta:1})}__name(push,"push");function replace2(to2,state){action="REPLACE";let location=createLocation(history2.location,to2,state);validateLocation&&validateLocation(location,to2),index=getIndex();let historyState=getHistoryState(location,index),url2=history2.createHref(location);globalHistory.replaceState(historyState,"",url2),v5Compat&&listener&&listener({action,location:history2.location,delta:0})}__name(replace2,"replace2");function createURL(to2){return createBrowserURLImpl(to2)}__name(createURL,"createURL");let history2={get action(){return action},get location(){return getLocation(window2,globalHistory)},listen(fn2){if(listener)throw new Error("A history only accepts one active listener");return window2.addEventListener(PopStateEventType,handlePop),listener=fn2,()=>{window2.removeEventListener(PopStateEventType,handlePop),listener=null}},createHref(to2){return createHref2(window2,to2)},createURL,encodeLocation(to2){let url2=createURL(to2);return{pathname:url2.pathname,search:url2.search,hash:url2.hash}},push,replace:replace2,go(n2){return globalHistory.go(n2)}};return history2}__name(getUrlBasedHistory,"getUrlBasedHistory");function createBrowserURLImpl(to2,isAbsolute=!1){let base="http://localhost";typeof window<"u"&&(base=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$2(base,"No window.location.(origin|href) available to create URL");let href2=typeof to2=="string"?to2:createPath(to2);return href2=href2.replace(/ $/,"%20"),!isAbsolute&&href2.startsWith("//")&&(href2=base+href2),new URL(href2,base)}__name(createBrowserURLImpl,"createBrowserURLImpl");function matchRoutes(routes,locationArg,basename="/"){return matchRoutesImpl(routes,locationArg,basename,!1)}__name(matchRoutes,"matchRoutes");function matchRoutesImpl(routes,locationArg,basename,allowPartial){let location=typeof locationArg=="string"?parsePath(locationArg):locationArg,pathname=stripBasename(location.pathname||"/",basename);if(pathname==null)return null;let branches=flattenRoutes(routes);rankRouteBranches(branches);let matches=null;for(let i2=0;matches==null&&i2<branches.length;++i2){let decoded=decodePath(pathname);matches=matchRouteBranch(branches[i2],decoded,allowPartial)}return matches}__name(matchRoutesImpl,"matchRoutesImpl");function flattenRoutes(routes,branches=[],parentsMeta=[],parentPath=""){let flattenRoute=__name((route,index,relativePath)=>{let meta={relativePath:relativePath===void 0?route.path||"":relativePath,caseSensitive:route.caseSensitive===!0,childrenIndex:index,route};meta.relativePath.startsWith("/")&&(invariant$2(meta.relativePath.startsWith(parentPath),`Absolute route path "${meta.relativePath}" nested under path "${parentPath}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),meta.relativePath=meta.relativePath.slice(parentPath.length));let path=joinPaths([parentPath,meta.relativePath]),routesMeta=parentsMeta.concat(meta);route.children&&route.children.length>0&&(invariant$2(route.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${path}".`),flattenRoutes(route.children,branches,routesMeta,path)),!(route.path==null&&!route.index)&&branches.push({path,score:computeScore(path,route.index),routesMeta})},"flattenRoute");return routes.forEach((route,index)=>{var _a19;if(route.path===""||!((_a19=route.path)!=null&&_a19.includes("?")))flattenRoute(route,index);else for(let exploded of explodeOptionalSegments(route.path))flattenRoute(route,index,exploded)}),branches}__name(flattenRoutes,"flattenRoutes");function explodeOptionalSegments(path){let segments=path.split("/");if(segments.length===0)return[];let[first,...rest]=segments,isOptional=first.endsWith("?"),required=first.replace(/\?$/,"");if(rest.length===0)return isOptional?[required,""]:[required];let restExploded=explodeOptionalSegments(rest.join("/")),result=[];return result.push(...restExploded.map(subpath=>subpath===""?required:[required,subpath].join("/"))),isOptional&&result.push(...restExploded),result.map(exploded=>path.startsWith("/")&&exploded===""?"/":exploded)}__name(explodeOptionalSegments,"explodeOptionalSegments");function rankRouteBranches(branches){branches.sort((a2,b2)=>a2.score!==b2.score?b2.score-a2.score:compareIndexes(a2.routesMeta.map(meta=>meta.childrenIndex),b2.routesMeta.map(meta=>meta.childrenIndex)))}__name(rankRouteBranches,"rankRouteBranches");var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=__name(s2=>s2==="*","isSplat");function computeScore(path,index){let segments=path.split("/"),initialScore=segments.length;return segments.some(isSplat)&&(initialScore+=splatPenalty),index&&(initialScore+=indexRouteValue),segments.filter(s2=>!isSplat(s2)).reduce((score2,segment)=>score2+(paramRe.test(segment)?dynamicSegmentValue:segment===""?emptySegmentValue:staticSegmentValue),initialScore)}__name(computeScore,"computeScore");function compareIndexes(a2,b2){return a2.length===b2.length&&a2.slice(0,-1).every((n2,i2)=>n2===b2[i2])?a2[a2.length-1]-b2[b2.length-1]:0}__name(compareIndexes,"compareIndexes");function matchRouteBranch(branch,pathname,allowPartial=!1){let{routesMeta}=branch,matchedParams={},matchedPathname="/",matches=[];for(let i2=0;i2<routesMeta.length;++i2){let meta=routesMeta[i2],end=i2===routesMeta.length-1,remainingPathname=matchedPathname==="/"?pathname:pathname.slice(matchedPathname.length)||"/",match=matchPath({path:meta.relativePath,caseSensitive:meta.caseSensitive,end},remainingPathname),route=meta.route;if(!match&&end&&allowPartial&&!routesMeta[routesMeta.length-1].route.index&&(match=matchPath({path:meta.relativePath,caseSensitive:meta.caseSensitive,end:!1},remainingPathname)),!match)return null;Object.assign(matchedParams,match.params),matches.push({params:matchedParams,pathname:joinPaths([matchedPathname,match.pathname]),pathnameBase:normalizePathname(joinPaths([matchedPathname,match.pathnameBase])),route}),match.pathnameBase!=="/"&&(matchedPathname=joinPaths([matchedPathname,match.pathnameBase]))}return matches}__name(matchRouteBranch,"matchRouteBranch");function matchPath(pattern,pathname){typeof pattern=="string"&&(pattern={path:pattern,caseSensitive:!1,end:!0});let[matcher,compiledParams]=compilePath(pattern.path,pattern.caseSensitive,pattern.end),match=pathname.match(matcher);if(!match)return null;let matchedPathname=match[0],pathnameBase=matchedPathname.replace(/(.)\/+$/,"$1"),captureGroups=match.slice(1);return{params:compiledParams.reduce((memo2,{paramName,isOptional},index)=>{if(paramName==="*"){let splatValue=captureGroups[index]||"";pathnameBase=matchedPathname.slice(0,matchedPathname.length-splatValue.length).replace(/(.)\/+$/,"$1")}const value=captureGroups[index];return isOptional&&!value?memo2[paramName]=void 0:memo2[paramName]=(value||"").replace(/%2F/g,"/"),memo2},{}),pathname:matchedPathname,pathnameBase,pattern}}__name(matchPath,"matchPath");function compilePath(path,caseSensitive=!1,end=!0){warning(path==="*"||!path.endsWith("*")||path.endsWith("/*"),`Route path "${path}" will be treated as if it were "${path.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${path.replace(/\*$/,"/*")}".`);let params=[],regexpSource="^"+path.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_2,paramName,isOptional)=>(params.push({paramName,isOptional:isOptional!=null}),isOptional?"/?([^\\/]+)?":"/([^\\/]+)"));return path.endsWith("*")?(params.push({paramName:"*"}),regexpSource+=path==="*"||path==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):end?regexpSource+="\\/*$":path!==""&&path!=="/"&&(regexpSource+="(?:(?=\\/|$))"),[new RegExp(regexpSource,caseSensitive?void 0:"i"),params]}__name(compilePath,"compilePath");function decodePath(value){try{return value.split("/").map(v2=>decodeURIComponent(v2).replace(/\//g,"%2F")).join("/")}catch(error){return warning(!1,`The URL path "${value}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${error}).`),value}}__name(decodePath,"decodePath");function stripBasename(pathname,basename){if(basename==="/")return pathname;if(!pathname.toLowerCase().startsWith(basename.toLowerCase()))return null;let startIndex=basename.endsWith("/")?basename.length-1:basename.length,nextChar2=pathname.charAt(startIndex);return nextChar2&&nextChar2!=="/"?null:pathname.slice(startIndex)||"/"}__name(stripBasename,"stripBasename");function resolvePath(to2,fromPathname="/"){let{pathname:toPathname,search="",hash=""}=typeof to2=="string"?parsePath(to2):to2;return{pathname:toPathname?toPathname.startsWith("/")?toPathname:resolvePathname(toPathname,fromPathname):fromPathname,search:normalizeSearch(search),hash:normalizeHash(hash)}}__name(resolvePath,"resolvePath");function resolvePathname(relativePath,fromPathname){let segments=fromPathname.replace(/\/+$/,"").split("/");return relativePath.split("/").forEach(segment=>{segment===".."?segments.length>1&&segments.pop():segment!=="."&&segments.push(segment)}),segments.length>1?segments.join("/"):"/"}__name(resolvePathname,"resolvePathname");function getInvalidPathError(char,field,dest,path){return`Cannot include a '${char}' character in a manually specified \`to.${field}\` field [${JSON.stringify(path)}].  Please separate it out to the \`to.${dest}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}__name(getInvalidPathError,"getInvalidPathError");function getPathContributingMatches(matches){return matches.filter((match,index)=>index===0||match.route.path&&match.route.path.length>0)}__name(getPathContributingMatches,"getPathContributingMatches");function getResolveToMatches(matches){let pathMatches=getPathContributingMatches(matches);return pathMatches.map((match,idx)=>idx===pathMatches.length-1?match.pathname:match.pathnameBase)}__name(getResolveToMatches,"getResolveToMatches");function resolveTo(toArg,routePathnames,locationPathname,isPathRelative=!1){let to2;typeof toArg=="string"?to2=parsePath(toArg):(to2={...toArg},invariant$2(!to2.pathname||!to2.pathname.includes("?"),getInvalidPathError("?","pathname","search",to2)),invariant$2(!to2.pathname||!to2.pathname.includes("#"),getInvalidPathError("#","pathname","hash",to2)),invariant$2(!to2.search||!to2.search.includes("#"),getInvalidPathError("#","search","hash",to2)));let isEmptyPath=toArg===""||to2.pathname==="",toPathname=isEmptyPath?"/":to2.pathname,from;if(toPathname==null)from=locationPathname;else{let routePathnameIndex=routePathnames.length-1;if(!isPathRelative&&toPathname.startsWith("..")){let toSegments=toPathname.split("/");for(;toSegments[0]==="..";)toSegments.shift(),routePathnameIndex-=1;to2.pathname=toSegments.join("/")}from=routePathnameIndex>=0?routePathnames[routePathnameIndex]:"/"}let path=resolvePath(to2,from),hasExplicitTrailingSlash=toPathname&&toPathname!=="/"&&toPathname.endsWith("/"),hasCurrentTrailingSlash=(isEmptyPath||toPathname===".")&&locationPathname.endsWith("/");return!path.pathname.endsWith("/")&&(hasExplicitTrailingSlash||hasCurrentTrailingSlash)&&(path.pathname+="/"),path}__name(resolveTo,"resolveTo");var joinPaths=__name(paths=>paths.join("/").replace(/\/\/+/g,"/"),"joinPaths"),normalizePathname=__name(pathname=>pathname.replace(/\/+$/,"").replace(/^\/*/,"/"),"normalizePathname"),normalizeSearch=__name(search=>!search||search==="?"?"":search.startsWith("?")?search:"?"+search,"normalizeSearch"),normalizeHash=__name(hash=>!hash||hash==="#"?"":hash.startsWith("#")?hash:"#"+hash,"normalizeHash");function isRouteErrorResponse(error){return error!=null&&typeof error.status=="number"&&typeof error.statusText=="string"&&typeof error.internal=="boolean"&&"data"in error}__name(isRouteErrorResponse,"isRouteErrorResponse");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(to2,{relative}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename,navigator:navigator2}=reactExports.useContext(NavigationContext),{hash,pathname,search}=useResolvedPath(to2,{relative}),joinedPathname=pathname;return basename!=="/"&&(joinedPathname=pathname==="/"?basename:joinPaths([basename,pathname])),navigator2.createHref({pathname:joinedPathname,search,hash})}__name(useHref,"useHref");function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}__name(useInRouterContext,"useInRouterContext");function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}__name(useLocation,"useLocation");var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect(cb){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(cb)}__name(useIsomorphicLayoutEffect,"useIsomorphicLayoutEffect");function useNavigate(){let{isDataRoute}=reactExports.useContext(RouteContext);return isDataRoute?useNavigateStable():useNavigateUnstable()}__name(useNavigate,"useNavigate");function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let dataRouterContext=reactExports.useContext(DataRouterContext),{basename,navigator:navigator2}=reactExports.useContext(NavigationContext),{matches}=reactExports.useContext(RouteContext),{pathname:locationPathname}=useLocation(),routePathnamesJson=JSON.stringify(getResolveToMatches(matches)),activeRef=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{activeRef.current=!0}),reactExports.useCallback((to2,options={})=>{if(warning(activeRef.current,navigateEffectWarning),!activeRef.current)return;if(typeof to2=="number"){navigator2.go(to2);return}let path=resolveTo(to2,JSON.parse(routePathnamesJson),locationPathname,options.relative==="path");dataRouterContext==null&&basename!=="/"&&(path.pathname=path.pathname==="/"?basename:joinPaths([basename,path.pathname])),(options.replace?navigator2.replace:navigator2.push)(path,options.state,options)},[basename,navigator2,routePathnamesJson,locationPathname,dataRouterContext])}__name(useNavigateUnstable,"useNavigateUnstable");reactExports.createContext(null);function useResolvedPath(to2,{relative}={}){let{matches}=reactExports.useContext(RouteContext),{pathname:locationPathname}=useLocation(),routePathnamesJson=JSON.stringify(getResolveToMatches(matches));return reactExports.useMemo(()=>resolveTo(to2,JSON.parse(routePathnamesJson),locationPathname,relative==="path"),[to2,routePathnamesJson,locationPathname,relative])}__name(useResolvedPath,"useResolvedPath");function useRoutes(routes,locationArg){return useRoutesImpl(routes,locationArg)}__name(useRoutes,"useRoutes");function useRoutesImpl(routes,locationArg,dataRouterState,future){var _a19;invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:navigator2,static:isStatic}=reactExports.useContext(NavigationContext),{matches:parentMatches}=reactExports.useContext(RouteContext),routeMatch=parentMatches[parentMatches.length-1],parentParams=routeMatch?routeMatch.params:{},parentPathname=routeMatch?routeMatch.pathname:"/",parentPathnameBase=routeMatch?routeMatch.pathnameBase:"/",parentRoute=routeMatch&&routeMatch.route;{let parentPath=parentRoute&&parentRoute.path||"";warningOnce(parentPathname,!parentRoute||parentPath.endsWith("*")||parentPath.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${parentPathname}" (under <Route path="${parentPath}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${parentPath}"> to <Route path="${parentPath==="/"?"*":`${parentPath}/*`}">.`)}let locationFromContext=useLocation(),location;if(locationArg){let parsedLocationArg=typeof locationArg=="string"?parsePath(locationArg):locationArg;invariant$2(parentPathnameBase==="/"||((_a19=parsedLocationArg.pathname)==null?void 0:_a19.startsWith(parentPathnameBase)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${parentPathnameBase}" but pathname "${parsedLocationArg.pathname}" was given in the \`location\` prop.`),location=parsedLocationArg}else location=locationFromContext;let pathname=location.pathname||"/",remainingPathname=pathname;if(parentPathnameBase!=="/"){let parentSegments=parentPathnameBase.replace(/^\//,"").split("/");remainingPathname="/"+pathname.replace(/^\//,"").split("/").slice(parentSegments.length).join("/")}let matches=!isStatic&&dataRouterState&&dataRouterState.matches&&dataRouterState.matches.length>0?dataRouterState.matches:matchRoutes(routes,{pathname:remainingPathname});warning(parentRoute||matches!=null,`No routes matched location "${location.pathname}${location.search}${location.hash}" `),warning(matches==null||matches[matches.length-1].route.element!==void 0||matches[matches.length-1].route.Component!==void 0||matches[matches.length-1].route.lazy!==void 0,`Matched leaf route at location "${location.pathname}${location.search}${location.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let renderedMatches=_renderMatches(matches&&matches.map(match=>Object.assign({},match,{params:Object.assign({},parentParams,match.params),pathname:joinPaths([parentPathnameBase,navigator2.encodeLocation?navigator2.encodeLocation(match.pathname).pathname:match.pathname]),pathnameBase:match.pathnameBase==="/"?parentPathnameBase:joinPaths([parentPathnameBase,navigator2.encodeLocation?navigator2.encodeLocation(match.pathnameBase).pathname:match.pathnameBase])})),parentMatches,dataRouterState,future);return locationArg&&renderedMatches?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...location},navigationType:"POP"}},renderedMatches):renderedMatches}__name(useRoutesImpl,"useRoutesImpl");function DefaultErrorComponent(){let error=useRouteError(),message=isRouteErrorResponse(error)?`${error.status} ${error.statusText}`:error instanceof Error?error.message:JSON.stringify(error),stack=error instanceof Error?error.stack:null,lightgrey="rgba(200,200,200, 0.5)",preStyles={padding:"0.5rem",backgroundColor:lightgrey},codeStyles={padding:"2px 4px",backgroundColor:lightgrey},devInfo=null;return console.error("Error handled by React Router default ErrorBoundary:",error),devInfo=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"💿 Hey developer 👋"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:codeStyles},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:codeStyles},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},message),stack?reactExports.createElement("pre",{style:preStyles},stack):null,devInfo)}__name(DefaultErrorComponent,"DefaultErrorComponent");var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),_a,RenderErrorBoundary=(_a=class extends reactExports.Component{constructor(props){super(props),this.state={location:props.location,revalidation:props.revalidation,error:props.error}}static getDerivedStateFromError(error){return{error}}static getDerivedStateFromProps(props,state){return state.location!==props.location||state.revalidation!=="idle"&&props.revalidation==="idle"?{error:props.error,location:props.location,revalidation:props.revalidation}:{error:props.error!==void 0?props.error:state.error,location:state.location,revalidation:props.revalidation||state.revalidation}}componentDidCatch(error,errorInfo){console.error("React Router caught the following error during render",error,errorInfo)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}},__name(_a,"RenderErrorBoundary"),_a);function RenderedRoute({routeContext,match,children}){let dataRouterContext=reactExports.useContext(DataRouterContext);return dataRouterContext&&dataRouterContext.static&&dataRouterContext.staticContext&&(match.route.errorElement||match.route.ErrorBoundary)&&(dataRouterContext.staticContext._deepestRenderedBoundaryId=match.route.id),reactExports.createElement(RouteContext.Provider,{value:routeContext},children)}__name(RenderedRoute,"RenderedRoute");function _renderMatches(matches,parentMatches=[],dataRouterState=null,future=null){if(matches==null){if(!dataRouterState)return null;if(dataRouterState.errors)matches=dataRouterState.matches;else if(parentMatches.length===0&&!dataRouterState.initialized&&dataRouterState.matches.length>0)matches=dataRouterState.matches;else return null}let renderedMatches=matches,errors=dataRouterState==null?void 0:dataRouterState.errors;if(errors!=null){let errorIndex=renderedMatches.findIndex(m2=>m2.route.id&&(errors==null?void 0:errors[m2.route.id])!==void 0);invariant$2(errorIndex>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(errors).join(",")}`),renderedMatches=renderedMatches.slice(0,Math.min(renderedMatches.length,errorIndex+1))}let renderFallback=!1,fallbackIndex=-1;if(dataRouterState)for(let i2=0;i2<renderedMatches.length;i2++){let match=renderedMatches[i2];if((match.route.HydrateFallback||match.route.hydrateFallbackElement)&&(fallbackIndex=i2),match.route.id){let{loaderData,errors:errors2}=dataRouterState,needsToRunLoader=match.route.loader&&!loaderData.hasOwnProperty(match.route.id)&&(!errors2||errors2[match.route.id]===void 0);if(match.route.lazy||needsToRunLoader){renderFallback=!0,fallbackIndex>=0?renderedMatches=renderedMatches.slice(0,fallbackIndex+1):renderedMatches=[renderedMatches[0]];break}}}return renderedMatches.reduceRight((outlet,match,index)=>{let error,shouldRenderHydrateFallback=!1,errorElement=null,hydrateFallbackElement=null;dataRouterState&&(error=errors&&match.route.id?errors[match.route.id]:void 0,errorElement=match.route.errorElement||defaultErrorElement,renderFallback&&(fallbackIndex<0&&index===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),shouldRenderHydrateFallback=!0,hydrateFallbackElement=null):fallbackIndex===index&&(shouldRenderHydrateFallback=!0,hydrateFallbackElement=match.route.hydrateFallbackElement||null)));let matches2=parentMatches.concat(renderedMatches.slice(0,index+1)),getChildren2=__name(()=>{let children;return error?children=errorElement:shouldRenderHydrateFallback?children=hydrateFallbackElement:match.route.Component?children=reactExports.createElement(match.route.Component,null):match.route.element?children=match.route.element:children=outlet,reactExports.createElement(RenderedRoute,{match,routeContext:{outlet,matches:matches2,isDataRoute:dataRouterState!=null},children})},"getChildren");return dataRouterState&&(match.route.ErrorBoundary||match.route.errorElement||index===0)?reactExports.createElement(RenderErrorBoundary,{location:dataRouterState.location,revalidation:dataRouterState.revalidation,component:errorElement,error,children:getChildren2(),routeContext:{outlet:null,matches:matches2,isDataRoute:!0}}):getChildren2()},null)}__name(_renderMatches,"_renderMatches");function getDataRouterConsoleError(hookName){return`${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}__name(getDataRouterConsoleError,"getDataRouterConsoleError");function useDataRouterContext(hookName){let ctx=reactExports.useContext(DataRouterContext);return invariant$2(ctx,getDataRouterConsoleError(hookName)),ctx}__name(useDataRouterContext,"useDataRouterContext");function useDataRouterState(hookName){let state=reactExports.useContext(DataRouterStateContext);return invariant$2(state,getDataRouterConsoleError(hookName)),state}__name(useDataRouterState,"useDataRouterState");function useRouteContext(hookName){let route=reactExports.useContext(RouteContext);return invariant$2(route,getDataRouterConsoleError(hookName)),route}__name(useRouteContext,"useRouteContext");function useCurrentRouteId(hookName){let route=useRouteContext(hookName),thisRoute=route.matches[route.matches.length-1];return invariant$2(thisRoute.route.id,`${hookName} can only be used on routes that contain a unique "id"`),thisRoute.route.id}__name(useCurrentRouteId,"useCurrentRouteId");function useRouteId(){return useCurrentRouteId("useRouteId")}__name(useRouteId,"useRouteId");function useRouteError(){var _a19;let error=reactExports.useContext(RouteErrorContext),state=useDataRouterState("useRouteError"),routeId=useCurrentRouteId("useRouteError");return error!==void 0?error:(_a19=state.errors)==null?void 0:_a19[routeId]}__name(useRouteError,"useRouteError");function useNavigateStable(){let{router}=useDataRouterContext("useNavigate"),id2=useCurrentRouteId("useNavigate"),activeRef=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{activeRef.current=!0}),reactExports.useCallback(async(to2,options={})=>{warning(activeRef.current,navigateEffectWarning),activeRef.current&&(typeof to2=="number"?router.navigate(to2):await router.navigate(to2,{fromRouteId:id2,...options}))},[router,id2])}__name(useNavigateStable,"useNavigateStable");var alreadyWarned={};function warningOnce(key,cond,message){!cond&&!alreadyWarned[key]&&(alreadyWarned[key]=!0,warning(!1,message))}__name(warningOnce,"warningOnce");reactExports.memo(DataRoutes);function DataRoutes({routes,future,state}){return useRoutesImpl(routes,void 0,state,future)}__name(DataRoutes,"DataRoutes");function Route(_props){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}__name(Route,"Route");function Router({basename:basenameProp="/",children=null,location:locationProp,navigationType="POP",navigator:navigator2,static:staticProp=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let basename=basenameProp.replace(/^\/*/,"/"),navigationContext=reactExports.useMemo(()=>({basename,navigator:navigator2,static:staticProp,future:{}}),[basename,navigator2,staticProp]);typeof locationProp=="string"&&(locationProp=parsePath(locationProp));let{pathname="/",search="",hash="",state=null,key="default"}=locationProp,locationContext=reactExports.useMemo(()=>{let trailingPathname=stripBasename(pathname,basename);return trailingPathname==null?null:{location:{pathname:trailingPathname,search,hash,state,key},navigationType}},[basename,pathname,search,hash,state,key,navigationType]);return warning(locationContext!=null,`<Router basename="${basename}"> is not able to match the URL "${pathname}${search}${hash}" because it does not start with the basename, so the <Router> won't render anything.`),locationContext==null?null:reactExports.createElement(NavigationContext.Provider,{value:navigationContext},reactExports.createElement(LocationContext.Provider,{children,value:locationContext}))}__name(Router,"Router");function Routes({children,location}){return useRoutes(createRoutesFromChildren(children),location)}__name(Routes,"Routes");function createRoutesFromChildren(children,parentPath=[]){let routes=[];return reactExports.Children.forEach(children,(element,index)=>{if(!reactExports.isValidElement(element))return;let treePath=[...parentPath,index];if(element.type===reactExports.Fragment){routes.push.apply(routes,createRoutesFromChildren(element.props.children,treePath));return}invariant$2(element.type===Route,`[${typeof element.type=="string"?element.type:element.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!element.props.index||!element.props.children,"An index route cannot have child routes.");let route={id:element.props.id||treePath.join("-"),caseSensitive:element.props.caseSensitive,element:element.props.element,Component:element.props.Component,index:element.props.index,path:element.props.path,loader:element.props.loader,action:element.props.action,hydrateFallbackElement:element.props.hydrateFallbackElement,HydrateFallback:element.props.HydrateFallback,errorElement:element.props.errorElement,ErrorBoundary:element.props.ErrorBoundary,hasErrorBoundary:element.props.hasErrorBoundary===!0||element.props.ErrorBoundary!=null||element.props.errorElement!=null,shouldRevalidate:element.props.shouldRevalidate,handle:element.props.handle,lazy:element.props.lazy};element.props.children&&(route.children=createRoutesFromChildren(element.props.children,treePath)),routes.push(route)}),routes}__name(createRoutesFromChildren,"createRoutesFromChildren");var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement$1(object){return object!=null&&typeof object.tagName=="string"}__name(isHtmlElement$1,"isHtmlElement$1");function isButtonElement(object){return isHtmlElement$1(object)&&object.tagName.toLowerCase()==="button"}__name(isButtonElement,"isButtonElement");function isFormElement(object){return isHtmlElement$1(object)&&object.tagName.toLowerCase()==="form"}__name(isFormElement,"isFormElement");function isInputElement(object){return isHtmlElement$1(object)&&object.tagName.toLowerCase()==="input"}__name(isInputElement,"isInputElement");function isModifiedEvent(event){return!!(event.metaKey||event.altKey||event.ctrlKey||event.shiftKey)}__name(isModifiedEvent,"isModifiedEvent");function shouldProcessLinkClick(event,target){return event.button===0&&(!target||target==="_self")&&!isModifiedEvent(event)}__name(shouldProcessLinkClick,"shouldProcessLinkClick");var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}__name(isFormDataSubmitterSupported,"isFormDataSubmitterSupported");var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(encType){return encType!=null&&!supportedFormEncTypes.has(encType)?(warning(!1,`"${encType}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):encType}__name(getFormEncType,"getFormEncType");function getFormSubmissionInfo(target,basename){let method,action,encType,formData,body;if(isFormElement(target)){let attr=target.getAttribute("action");action=attr?stripBasename(attr,basename):null,method=target.getAttribute("method")||defaultMethod,encType=getFormEncType(target.getAttribute("enctype"))||defaultEncType,formData=new FormData(target)}else if(isButtonElement(target)||isInputElement(target)&&(target.type==="submit"||target.type==="image")){let form=target.form;if(form==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let attr=target.getAttribute("formaction")||form.getAttribute("action");if(action=attr?stripBasename(attr,basename):null,method=target.getAttribute("formmethod")||form.getAttribute("method")||defaultMethod,encType=getFormEncType(target.getAttribute("formenctype"))||getFormEncType(form.getAttribute("enctype"))||defaultEncType,formData=new FormData(form,target),!isFormDataSubmitterSupported()){let{name,type,value}=target;if(type==="image"){let prefix=name?`${name}.`:"";formData.append(`${prefix}x`,"0"),formData.append(`${prefix}y`,"0")}else name&&formData.append(name,value)}}else{if(isHtmlElement$1(target))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');method=defaultMethod,action=null,encType=defaultEncType,body=target}return formData&&encType==="text/plain"&&(body=formData,formData=void 0),{action,method:method.toLowerCase(),encType,formData,body}}__name(getFormSubmissionInfo,"getFormSubmissionInfo");function invariant2(value,message){if(value===!1||value===null||typeof value>"u")throw new Error(message)}__name(invariant2,"invariant2");async function loadRouteModule(route,routeModulesCache){if(route.id in routeModulesCache)return routeModulesCache[route.id];try{let routeModule=await import(route.module);return routeModulesCache[route.id]=routeModule,routeModule}catch(error){return console.error(`Error loading route module \`${route.module}\`, reloading page...`),console.error(error),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}__name(loadRouteModule,"loadRouteModule");function isHtmlLinkDescriptor(object){return object==null?!1:object.href==null?object.rel==="preload"&&typeof object.imageSrcSet=="string"&&typeof object.imageSizes=="string":typeof object.rel=="string"&&typeof object.href=="string"}__name(isHtmlLinkDescriptor,"isHtmlLinkDescriptor");async function getKeyedPrefetchLinks(matches,manifest,routeModules){let links=await Promise.all(matches.map(async match=>{let route=manifest.routes[match.route.id];if(route){let mod=await loadRouteModule(route,routeModules);return mod.links?mod.links():[]}return[]}));return dedupeLinkDescriptors(links.flat(1).filter(isHtmlLinkDescriptor).filter(link=>link.rel==="stylesheet"||link.rel==="preload").map(link=>link.rel==="stylesheet"?{...link,rel:"prefetch",as:"style"}:{...link,rel:"prefetch"}))}__name(getKeyedPrefetchLinks,"getKeyedPrefetchLinks");function getNewMatchesForLinks(page,nextMatches,currentMatches,manifest,location,mode){let isNew=__name((match,index)=>currentMatches[index]?match.route.id!==currentMatches[index].route.id:!0,"isNew"),matchPathChanged=__name((match,index)=>{var _a19;return currentMatches[index].pathname!==match.pathname||((_a19=currentMatches[index].route.path)==null?void 0:_a19.endsWith("*"))&&currentMatches[index].params["*"]!==match.params["*"]},"matchPathChanged");return mode==="assets"?nextMatches.filter((match,index)=>isNew(match,index)||matchPathChanged(match,index)):mode==="data"?nextMatches.filter((match,index)=>{var _a19;let manifestRoute=manifest.routes[match.route.id];if(!manifestRoute||!manifestRoute.hasLoader)return!1;if(isNew(match,index)||matchPathChanged(match,index))return!0;if(match.route.shouldRevalidate){let routeChoice=match.route.shouldRevalidate({currentUrl:new URL(location.pathname+location.search+location.hash,window.origin),currentParams:((_a19=currentMatches[0])==null?void 0:_a19.params)||{},nextUrl:new URL(page,window.origin),nextParams:match.params,defaultShouldRevalidate:!0});if(typeof routeChoice=="boolean")return routeChoice}return!0}):[]}__name(getNewMatchesForLinks,"getNewMatchesForLinks");function getModuleLinkHrefs(matches,manifest,{includeHydrateFallback}={}){return dedupeHrefs(matches.map(match=>{let route=manifest.routes[match.route.id];if(!route)return[];let hrefs=[route.module];return route.clientActionModule&&(hrefs=hrefs.concat(route.clientActionModule)),route.clientLoaderModule&&(hrefs=hrefs.concat(route.clientLoaderModule)),includeHydrateFallback&&route.hydrateFallbackModule&&(hrefs=hrefs.concat(route.hydrateFallbackModule)),route.imports&&(hrefs=hrefs.concat(route.imports)),hrefs}).flat(1))}__name(getModuleLinkHrefs,"getModuleLinkHrefs");function dedupeHrefs(hrefs){return[...new Set(hrefs)]}__name(dedupeHrefs,"dedupeHrefs");function sortKeys(obj){let sorted={},keys=Object.keys(obj).sort();for(let key of keys)sorted[key]=obj[key];return sorted}__name(sortKeys,"sortKeys");function dedupeLinkDescriptors(descriptors,preloads){let set=new Set;return new Set(preloads),descriptors.reduce((deduped,descriptor)=>{let key=JSON.stringify(sortKeys(descriptor));return set.has(key)||(set.add(key),deduped.push({key,link:descriptor})),deduped},[])}__name(dedupeLinkDescriptors,"dedupeLinkDescriptors");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NO_BODY_STATUS_CODES=new Set([100,101,204,205]);function singleFetchUrl(reqUrl,basename){let url2=typeof reqUrl=="string"?new URL(reqUrl,typeof window>"u"?"server://singlefetch/":window.location.origin):reqUrl;return url2.pathname==="/"?url2.pathname="_root.data":basename&&stripBasename(url2.pathname,basename)==="/"?url2.pathname=`${basename.replace(/\/$/,"")}/_root.data`:url2.pathname=`${url2.pathname.replace(/\/$/,"")}.data`,url2}__name(singleFetchUrl,"singleFetchUrl");function useDataRouterContext2(){let context=reactExports.useContext(DataRouterContext);return invariant2(context,"You must render this element inside a <DataRouterContext.Provider> element"),context}__name(useDataRouterContext2,"useDataRouterContext2");function useDataRouterStateContext(){let context=reactExports.useContext(DataRouterStateContext);return invariant2(context,"You must render this element inside a <DataRouterStateContext.Provider> element"),context}__name(useDataRouterStateContext,"useDataRouterStateContext");var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let context=reactExports.useContext(FrameworkContext);return invariant2(context,"You must render this element inside a <HydratedRouter> element"),context}__name(useFrameworkContext,"useFrameworkContext");function usePrefetchBehavior(prefetch,theirElementProps){let frameworkContext=reactExports.useContext(FrameworkContext),[maybePrefetch,setMaybePrefetch]=reactExports.useState(!1),[shouldPrefetch,setShouldPrefetch]=reactExports.useState(!1),{onFocus,onBlur,onMouseEnter,onMouseLeave,onTouchStart}=theirElementProps,ref=reactExports.useRef(null);reactExports.useEffect(()=>{if(prefetch==="render"&&setShouldPrefetch(!0),prefetch==="viewport"){let callback=__name(entries=>{entries.forEach(entry=>{setShouldPrefetch(entry.isIntersecting)})},"callback"),observer=new IntersectionObserver(callback,{threshold:.5});return ref.current&&observer.observe(ref.current),()=>{observer.disconnect()}}},[prefetch]),reactExports.useEffect(()=>{if(maybePrefetch){let id2=setTimeout(()=>{setShouldPrefetch(!0)},100);return()=>{clearTimeout(id2)}}},[maybePrefetch]);let setIntent=__name(()=>{setMaybePrefetch(!0)},"setIntent"),cancelIntent=__name(()=>{setMaybePrefetch(!1),setShouldPrefetch(!1)},"cancelIntent");return frameworkContext?prefetch!=="intent"?[shouldPrefetch,ref,{}]:[shouldPrefetch,ref,{onFocus:composeEventHandlers(onFocus,setIntent),onBlur:composeEventHandlers(onBlur,cancelIntent),onMouseEnter:composeEventHandlers(onMouseEnter,setIntent),onMouseLeave:composeEventHandlers(onMouseLeave,cancelIntent),onTouchStart:composeEventHandlers(onTouchStart,setIntent)}]:[!1,ref,{}]}__name(usePrefetchBehavior,"usePrefetchBehavior");function composeEventHandlers(theirHandler,ourHandler){return event=>{theirHandler&&theirHandler(event),event.defaultPrevented||ourHandler(event)}}__name(composeEventHandlers,"composeEventHandlers");function PrefetchPageLinks({page,...dataLinkProps}){let{router}=useDataRouterContext2(),matches=reactExports.useMemo(()=>matchRoutes(router.routes,page,router.basename),[router.routes,page,router.basename]);return matches?reactExports.createElement(PrefetchPageLinksImpl,{page,matches,...dataLinkProps}):null}__name(PrefetchPageLinks,"PrefetchPageLinks");function useKeyedPrefetchLinks(matches){let{manifest,routeModules}=useFrameworkContext(),[keyedPrefetchLinks,setKeyedPrefetchLinks]=reactExports.useState([]);return reactExports.useEffect(()=>{let interrupted=!1;return getKeyedPrefetchLinks(matches,manifest,routeModules).then(links=>{interrupted||setKeyedPrefetchLinks(links)}),()=>{interrupted=!0}},[matches,manifest,routeModules]),keyedPrefetchLinks}__name(useKeyedPrefetchLinks,"useKeyedPrefetchLinks");function PrefetchPageLinksImpl({page,matches:nextMatches,...linkProps}){let location=useLocation(),{manifest,routeModules}=useFrameworkContext(),{basename}=useDataRouterContext2(),{loaderData,matches}=useDataRouterStateContext(),newMatchesForData=reactExports.useMemo(()=>getNewMatchesForLinks(page,nextMatches,matches,manifest,location,"data"),[page,nextMatches,matches,manifest,location]),newMatchesForAssets=reactExports.useMemo(()=>getNewMatchesForLinks(page,nextMatches,matches,manifest,location,"assets"),[page,nextMatches,matches,manifest,location]),dataHrefs=reactExports.useMemo(()=>{if(page===location.pathname+location.search+location.hash)return[];let routesParams=new Set,foundOptOutRoute=!1;if(nextMatches.forEach(m2=>{var _a19;let manifestRoute=manifest.routes[m2.route.id];!manifestRoute||!manifestRoute.hasLoader||(!newMatchesForData.some(m22=>m22.route.id===m2.route.id)&&m2.route.id in loaderData&&((_a19=routeModules[m2.route.id])!=null&&_a19.shouldRevalidate)||manifestRoute.hasClientLoader?foundOptOutRoute=!0:routesParams.add(m2.route.id))}),routesParams.size===0)return[];let url2=singleFetchUrl(page,basename);return foundOptOutRoute&&routesParams.size>0&&url2.searchParams.set("_routes",nextMatches.filter(m2=>routesParams.has(m2.route.id)).map(m2=>m2.route.id).join(",")),[url2.pathname+url2.search]},[basename,loaderData,location,manifest,newMatchesForData,nextMatches,page,routeModules]),moduleHrefs=reactExports.useMemo(()=>getModuleLinkHrefs(newMatchesForAssets,manifest),[newMatchesForAssets,manifest]),keyedPrefetchLinks=useKeyedPrefetchLinks(newMatchesForAssets);return reactExports.createElement(reactExports.Fragment,null,dataHrefs.map(href2=>reactExports.createElement("link",{key:href2,rel:"prefetch",as:"fetch",href:href2,...linkProps})),moduleHrefs.map(href2=>reactExports.createElement("link",{key:href2,rel:"modulepreload",href:href2,...linkProps})),keyedPrefetchLinks.map(({key,link})=>reactExports.createElement("link",{key,...link})))}__name(PrefetchPageLinksImpl,"PrefetchPageLinksImpl");function mergeRefs(...refs){return value=>{refs.forEach(ref=>{typeof ref=="function"?ref(value):ref!=null&&(ref.current=value)})}}__name(mergeRefs,"mergeRefs");var isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser&&(window.__reactRouterVersion="7.6.0")}catch{}function HashRouter({basename,children,window:window2}){let historyRef=reactExports.useRef();historyRef.current==null&&(historyRef.current=createHashHistory({window:window2,v5Compat:!0}));let history2=historyRef.current,[state,setStateImpl]=reactExports.useState({action:history2.action,location:history2.location}),setState=reactExports.useCallback(newState=>{reactExports.startTransition(()=>setStateImpl(newState))},[setStateImpl]);return reactExports.useLayoutEffect(()=>history2.listen(setState),[history2,setState]),reactExports.createElement(Router,{basename,children,location:state.location,navigationType:state.action,navigator:history2})}__name(HashRouter,"HashRouter");var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(__name(function({onClick,discover="render",prefetch="none",relative,reloadDocument,replace:replace2,state,target,to:to2,preventScrollReset,viewTransition,...rest},forwardedRef){let{basename}=reactExports.useContext(NavigationContext),isAbsolute=typeof to2=="string"&&ABSOLUTE_URL_REGEX2.test(to2),absoluteHref,isExternal=!1;if(typeof to2=="string"&&isAbsolute&&(absoluteHref=to2,isBrowser))try{let currentUrl=new URL(window.location.href),targetUrl=to2.startsWith("//")?new URL(currentUrl.protocol+to2):new URL(to2),path=stripBasename(targetUrl.pathname,basename);targetUrl.origin===currentUrl.origin&&path!=null?to2=path+targetUrl.search+targetUrl.hash:isExternal=!0}catch{warning(!1,`<Link to="${to2}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let href2=useHref(to2,{relative}),[shouldPrefetch,prefetchRef,prefetchHandlers]=usePrefetchBehavior(prefetch,rest),internalOnClick=useLinkClickHandler(to2,{replace:replace2,state,target,preventScrollReset,relative,viewTransition});function handleClick(event){onClick&&onClick(event),event.defaultPrevented||internalOnClick(event)}__name(handleClick,"handleClick");let link=reactExports.createElement("a",{...rest,...prefetchHandlers,href:absoluteHref||href2,onClick:isExternal||reloadDocument?onClick:handleClick,ref:mergeRefs(forwardedRef,prefetchRef),target,"data-discover":!isAbsolute&&discover==="render"?"true":void 0});return shouldPrefetch&&!isAbsolute?reactExports.createElement(reactExports.Fragment,null,link,reactExports.createElement(PrefetchPageLinks,{page:href2})):link},"LinkWithRef"));Link.displayName="Link";var NavLink=reactExports.forwardRef(__name(function({"aria-current":ariaCurrentProp="page",caseSensitive=!1,className:classNameProp="",end=!1,style:styleProp,to:to2,viewTransition,children,...rest},ref){let path=useResolvedPath(to2,{relative:rest.relative}),location=useLocation(),routerState=reactExports.useContext(DataRouterStateContext),{navigator:navigator2,basename}=reactExports.useContext(NavigationContext),isTransitioning=routerState!=null&&useViewTransitionState(path)&&viewTransition===!0,toPathname=navigator2.encodeLocation?navigator2.encodeLocation(path).pathname:path.pathname,locationPathname=location.pathname,nextLocationPathname=routerState&&routerState.navigation&&routerState.navigation.location?routerState.navigation.location.pathname:null;caseSensitive||(locationPathname=locationPathname.toLowerCase(),nextLocationPathname=nextLocationPathname?nextLocationPathname.toLowerCase():null,toPathname=toPathname.toLowerCase()),nextLocationPathname&&basename&&(nextLocationPathname=stripBasename(nextLocationPathname,basename)||nextLocationPathname);const endSlashPosition=toPathname!=="/"&&toPathname.endsWith("/")?toPathname.length-1:toPathname.length;let isActive2=locationPathname===toPathname||!end&&locationPathname.startsWith(toPathname)&&locationPathname.charAt(endSlashPosition)==="/",isPending=nextLocationPathname!=null&&(nextLocationPathname===toPathname||!end&&nextLocationPathname.startsWith(toPathname)&&nextLocationPathname.charAt(toPathname.length)==="/"),renderProps={isActive:isActive2,isPending,isTransitioning},ariaCurrent=isActive2?ariaCurrentProp:void 0,className;typeof classNameProp=="function"?className=classNameProp(renderProps):className=[classNameProp,isActive2?"active":null,isPending?"pending":null,isTransitioning?"transitioning":null].filter(Boolean).join(" ");let style=typeof styleProp=="function"?styleProp(renderProps):styleProp;return reactExports.createElement(Link,{...rest,"aria-current":ariaCurrent,className,ref,style,to:to2,viewTransition},typeof children=="function"?children(renderProps):children)},"NavLinkWithRef"));NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover="render",fetcherKey,navigate,reloadDocument,replace:replace2,state,method=defaultMethod,action,onSubmit,relative,preventScrollReset,viewTransition,...props},forwardedRef)=>{let submit=useSubmit(),formAction=useFormAction(action,{relative}),formMethod=method.toLowerCase()==="get"?"get":"post",isAbsolute=typeof action=="string"&&ABSOLUTE_URL_REGEX2.test(action),submitHandler=__name(event=>{if(onSubmit&&onSubmit(event),event.defaultPrevented)return;event.preventDefault();let submitter=event.nativeEvent.submitter,submitMethod=(submitter==null?void 0:submitter.getAttribute("formmethod"))||method;submit(submitter||event.currentTarget,{fetcherKey,method:submitMethod,navigate,replace:replace2,state,relative,preventScrollReset,viewTransition})},"submitHandler");return reactExports.createElement("form",{ref:forwardedRef,method:formMethod,action:formAction,onSubmit:reloadDocument?onSubmit:submitHandler,...props,"data-discover":!isAbsolute&&discover==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(hookName){return`${hookName} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}__name(getDataRouterConsoleError2,"getDataRouterConsoleError2");function useDataRouterContext3(hookName){let ctx=reactExports.useContext(DataRouterContext);return invariant$2(ctx,getDataRouterConsoleError2(hookName)),ctx}__name(useDataRouterContext3,"useDataRouterContext3");function useLinkClickHandler(to2,{target,replace:replaceProp,state,preventScrollReset,relative,viewTransition}={}){let navigate=useNavigate(),location=useLocation(),path=useResolvedPath(to2,{relative});return reactExports.useCallback(event=>{if(shouldProcessLinkClick(event,target)){event.preventDefault();let replace2=replaceProp!==void 0?replaceProp:createPath(location)===createPath(path);navigate(to2,{replace:replace2,state,preventScrollReset,relative,viewTransition})}},[location,navigate,path,replaceProp,state,target,to2,preventScrollReset,relative,viewTransition])}__name(useLinkClickHandler,"useLinkClickHandler");var fetcherId=0,getUniqueFetcherId=__name(()=>`__${String(++fetcherId)}__`,"getUniqueFetcherId");function useSubmit(){let{router}=useDataRouterContext3("useSubmit"),{basename}=reactExports.useContext(NavigationContext),currentRouteId=useRouteId();return reactExports.useCallback(async(target,options={})=>{let{action,method,encType,formData,body}=getFormSubmissionInfo(target,basename);if(options.navigate===!1){let key=options.fetcherKey||getUniqueFetcherId();await router.fetch(key,currentRouteId,options.action||action,{preventScrollReset:options.preventScrollReset,formData,body,formMethod:options.method||method,formEncType:options.encType||encType,flushSync:options.flushSync})}else await router.navigate(options.action||action,{preventScrollReset:options.preventScrollReset,formData,body,formMethod:options.method||method,formEncType:options.encType||encType,replace:options.replace,state:options.state,fromRouteId:currentRouteId,flushSync:options.flushSync,viewTransition:options.viewTransition})},[router,basename,currentRouteId])}__name(useSubmit,"useSubmit");function useFormAction(action,{relative}={}){let{basename}=reactExports.useContext(NavigationContext),routeContext=reactExports.useContext(RouteContext);invariant$2(routeContext,"useFormAction must be used inside a RouteContext");let[match]=routeContext.matches.slice(-1),path={...useResolvedPath(action||".",{relative})},location=useLocation();if(action==null){path.search=location.search;let params=new URLSearchParams(path.search),indexValues=params.getAll("index");if(indexValues.some(v2=>v2==="")){params.delete("index"),indexValues.filter(v2=>v2).forEach(v2=>params.append("index",v2));let qs2=params.toString();path.search=qs2?`?${qs2}`:""}}return(!action||action===".")&&match.route.index&&(path.search=path.search?path.search.replace(/^\?/,"?index&"):"?index"),basename!=="/"&&(path.pathname=path.pathname==="/"?basename:joinPaths([basename,path.pathname])),createPath(path)}__name(useFormAction,"useFormAction");function useViewTransitionState(to2,opts={}){let vtContext=reactExports.useContext(ViewTransitionContext);invariant$2(vtContext!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename}=useDataRouterContext3("useViewTransitionState"),path=useResolvedPath(to2,{relative:opts.relative});if(!vtContext.isTransitioning)return!1;let currentPath=stripBasename(vtContext.currentLocation.pathname,basename)||vtContext.currentLocation.pathname,nextPath=stripBasename(vtContext.nextLocation.pathname,basename)||vtContext.nextLocation.pathname;return matchPath(path.pathname,nextPath)!=null||matchPath(path.pathname,currentPath)!=null}__name(useViewTransitionState,"useViewTransitionState");[...NO_BODY_STATUS_CODES];const SvgIcon=__name(props=>jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.5",clipRule:"evenodd",viewBox:"0 0 1383 1384",className:props.className,children:jsxRuntimeExports.jsx("g",{transform:"translate(-11290 -51923)",children:jsxRuntimeExports.jsxs("g",{id:"Artboard10",children:[jsxRuntimeExports.jsx("path",{fill:"none",d:"M11290.083 51923.766h1382.825v1382.824h-1382.825z"}),jsxRuntimeExports.jsx("path",{fill:"none",stroke:"#E6C61E",strokeWidth:"179.17",d:"M11636.648 53004.745s-129.7-164.1-129.7-390.899 126.3-407.598 126.3-407.598"}),jsxRuntimeExports.jsx("path",{fill:"none",stroke:"#E6C61E",strokeWidth:"187.5",d:"M11971.64 53053.006v-827.096"}),jsxRuntimeExports.jsx("path",{fill:"#E6C61E",d:"m12205.948 52376.04 174.425-174.425 174.426 174.425-174.426 174.426z"})]})})}),"SvgIcon"),FullscreenLoader=__name(()=>jsxRuntimeExports.jsx("div",{className:"loader__backdrop",children:jsxRuntimeExports.jsxs("div",{className:"loader__logoWrap",children:[jsxRuntimeExports.jsx(SvgIcon,{className:"loader__logoBase"}),jsxRuntimeExports.jsx(SvgIcon,{className:"loader__logoShimmer"})]})}),"FullscreenLoader");var t$1=__name(function(n2,r2){return t$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t2,n3){t2.__proto__=n3}||function(t2,n3){for(var r3 in n3)Object.prototype.hasOwnProperty.call(n3,r3)&&(t2[r3]=n3[r3])},t$1(n2,r2)},"t$1"),n$2=__name(function(){return n$2=Object.assign||function(t2){for(var n2,r2=1,e2=arguments.length;r2<e2;r2++)for(var i2 in n2=arguments[r2])Object.prototype.hasOwnProperty.call(n2,i2)&&(t2[i2]=n2[i2]);return t2},n$2.apply(this,arguments)},"n$2");function r$1(t2){var n2=typeof Symbol=="function"&&Symbol.iterator,r2=n2&&t2[n2],e2=0;if(r2)return r2.call(t2);if(t2&&typeof t2.length=="number")return{next:__name(function(){return t2&&e2>=t2.length&&(t2=void 0),{value:t2&&t2[e2++],done:!t2}},"next")};throw new TypeError(n2?"Object is not iterable.":"Symbol.iterator is not defined.")}__name(r$1,"r$1");function e$2(t2,n2){var r2=typeof Symbol=="function"&&t2[Symbol.iterator];if(!r2)return t2;var e2,i2,o2=r2.call(t2),u2=[];try{for(;(n2===void 0||n2-- >0)&&!(e2=o2.next()).done;)u2.push(e2.value)}catch(t3){i2={error:t3}}finally{try{e2&&!e2.done&&(r2=o2.return)&&r2.call(o2)}finally{if(i2)throw i2.error}}return u2}__name(e$2,"e$2");function i$1(t2,n2,r2){if(arguments.length===2)for(var e2,i2=0,o2=n2.length;i2<o2;i2++)!e2&&i2 in n2||(e2||(e2=Array.prototype.slice.call(n2,0,i2)),e2[i2]=n2[i2]);return t2.concat(e2||Array.prototype.slice.call(n2))}__name(i$1,"i$1");function o$1(t2,n2){return[t2[0]+n2[0],t2[1]+n2[1]]}__name(o$1,"o$1");function u$1(t2,n2){return[t2[0]-n2[0],t2[1]-n2[1]]}__name(u$1,"u$1");function a$1(t2,n2){return[t2[0]*n2[0],t2[1]*n2[1]]}__name(a$1,"a$1");function c(t2){return Math.sqrt(Math.pow(t2[0],2)+Math.pow(t2[1],2))}__name(c,"c");function f$1(t2,n2){return t2[0]*n2[0]+t2[1]*n2[1]}__name(f$1,"f$1");function s$1(t2,n2){return[t2[0]*n2,t2[1]*n2]}__name(s$1,"s$1");function l$1(t2,n2){var r2=e$2([t2[0][0],t2[0][1],t2[2][0],t2[2][1]],4),i2=r2[0],o2=r2[1],u2=r2[2],a2=r2[3],c2=e$2([n2[0][0],n2[0][1],n2[2][0],n2[2][1]],4),f2=c2[0],s2=c2[1],l2=c2[2],h2=c2[3];return!(i2>l2||u2<f2)&&!(o2>h2||a2<s2)}__name(l$1,"l$1");var h=function(){function t2(t3,n2,r2){t3===void 0&&(t3=[0,0]),n2===void 0&&(n2=0),r2===void 0&&(r2=0),this._o=t3,this._w=n2,this._h=r2}return __name(t2,"t"),Object.defineProperty(t2.prototype,"w",{get:__name(function(){return this._w},"get"),set:__name(function(t3){this._w=t3},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(t2.prototype,"h",{get:__name(function(){return this._h},"get"),set:__name(function(t3){this._h=t3},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(t2.prototype,"o",{get:__name(function(){return this._o},"get"),set:__name(function(t3){this._o=t3},"set"),enumerable:!1,configurable:!0}),t2.prototype.pointInside=function(t3){var n2={x:t3[0],y:t3[1]},r2=n2.x,e2=n2.y,i2={oX:this.o[0],oY:this.o[1]},o2=i2.oX,u2=i2.oY;return!(r2<o2||r2>o2+this.w)&&!(e2<u2||e2>u2+this.h)},t2.prototype.clone=function(){return new t2(i$1([],e$2(this.o),!1),this.w,this.h)},t2.prototype.getBoundingBox=function(){return[this.o,o$1(this.o,[this.w,0]),o$1(this.o,[this.w,this.h]),o$1(this.o,[0,this.h])]},t2.prototype.getCenter=function(){return o$1(this.o,[this.w/2,this.h/2])},t2}(),p$1=function(r2){function i2(){var t2=r2.call(this)||this;return t2.layer=0,t2.children=[],t2._isPrimaryCamera=!1,t2._needsUpdate=!1,t2._needsUpdate_root=!1,t2._renderAlways=!1,t2.updateWhenCameraChanges=!1,t2.state=void 0,t2.context={},t2.windowDidMountPrimitiveIsRunning=!1,t2.childIndex=0,t2.isCanvasRoot=!1,t2.props={},t2.globalPositioning=!1,t2}return __name(i2,"i"),function(n2,r3){if(typeof r3!="function"&&r3!==null)throw new TypeError("Class extends value "+String(r3)+" is not a constructor or null");function e2(){this.constructor=n2}__name(e2,"e"),t$1(n2,r3),n2.prototype=r3===null?Object.create(r3):(e2.prototype=r3.prototype,new e2)}(i2,r2),Object.defineProperty(i2.prototype,"_cameraSnapshot",{get:__name(function(){var t2;if(!this._root)throw new Error("Root not connected");return(t2=this._root)===null||t2===void 0?void 0:t2.cameraSnapshot},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"_canvas",{get:__name(function(){var t2;if(!this._root)throw new Error("Root not connected");return(t2=this._root)===null||t2===void 0?void 0:t2.canvas},"get"),enumerable:!1,configurable:!0}),i2.prototype.setAsPrimaryCamera=function(){var t2;(t2=this._root)===null||t2===void 0||t2.installCamera(this)},i2.prototype.setState=function(t2){var n2,r3;if(this.state===t2)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=t2:(this._isPrimaryCamera&&((n2=this._root)===null||n2===void 0||n2.windows.forEach(function(t3){t3.updateWhenCameraChanges&&(t3._needsUpdate=!0)})),(r3=this._root)===null||r3===void 0||r3.scheduleStateUpdate(this,t2))},i2.prototype.setContext=function(t2,n2){var r3,e2;this.windowDidMountPrimitiveIsRunning?this.context[t2]=n2:(this._isPrimaryCamera&&((r3=this._root)===null||r3===void 0||r3.windows.forEach(function(t3){t3.updateWhenCameraChanges&&(t3._needsUpdate=!0)})),this.context[t2]=n2,(e2=this._root)===null||e2===void 0||e2.scheduleContextUpdate(this,t2,n2))},i2.prototype.windowDidMountPrimitive=function(t2){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(t2),this.windowDidMountPrimitiveIsRunning=!1},i2.prototype.windowDidMount=function(t2){},i2.prototype.windowDidUpdate=function(t2){},i2.prototype.cameraDidUpdate=function(){},i2.prototype.windowWillUnmount=function(){},i2.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var t2=this.getBox();return this._boxSnapshot=t2,t2},i2.prototype.getBox=function(){return new h([0,0],0,0)},Object.defineProperty(i2.prototype,"o",{get:__name(function(){return this.getBoxPrimitive().o},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"w",{get:__name(function(){return this.getBoxPrimitive().w},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"h",{get:__name(function(){return this.getBoxPrimitive().h},"get"),enumerable:!1,configurable:!0}),i2.prototype.cameraPassUpdateSelf=function(){var t2,r3,e2=this;this._isPrimaryCamera?(t2=this._root)===null||t2===void 0||t2.windows.forEach(function(t3){var n2;(n2=e2._root)===null||n2===void 0||n2.taintLayer(t3.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r3=this._root)===null||r3===void 0||r3.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(n$2({},this.props)))},i2.prototype.cameraPassUpdateChildren=function(){var t2=this;this.childIndex=0;var n2=this.getChildren(this.props).map(function(n3){return n3(t2)}),r3=this.children.filter(function(t3){return!n2.includes(t3)}),e2=n2.filter(function(n3){return!t2.children.includes(n3)});this.children=n2,r3.forEach(function(t3){return t3.windowWillUnmount()}),e2.forEach(function(t3){return t3.windowDidMountPrimitive(t3.props)});var i3=this.children.find(function(t3){return t3._needsUpdate});this.children.forEach(function(t3){t3._needsUpdate=!0}),i3&&i3.cameraPassUpdateSelf()},i2.prototype.regularPassUpdateSelf=function(){var t2;this._boxSnapshot=void 0,(t2=this._root)===null||t2===void 0||t2.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(n$2({},this.props))},i2.prototype.regularPassUpdateChildren=function(){var t2=this;this.childIndex=0;var n2=this.getChildren(this.props).map(function(n3){return n3(t2)}),r3=this.children.filter(function(t3){return!n2.includes(t3)}),e2=n2.filter(function(n3){return!t2.children.includes(n3)});this.children=n2,r3.forEach(function(t3){return t3.windowWillUnmount()}),e2.forEach(function(t3){t3.windowDidMountPrimitive(t3.props)}),this.children.forEach(function(t3){t3.regularPassUpdateSelf()})},i2.prototype.getChildren=function(t2){return[]},i2.prototype.incChildIndex=function(){this.childIndex++},i2.Node=function(t2){var r3=this,e2=this.name;return function(i3){if(i3.isCanvasRoot){var o2=void 0;return(o2=new r3)._root=i3,o2.setKey("root"),o2.props=t2||{},o2.context=n$2({},o2.context),o2}var u2=i3.childIndex;t2||(t2={});var a2=t2.key?t2.key:"".concat(e2,"[").concat(u2,"]");return o2=void 0,i3.children.findIndex(function(t3){return t3.key===a2})!==-1?o2=i3.children.find(function(t3){return t3.key===a2}):((o2=new r3)._parent=i3,o2._root=i3._root,o2.setKey(a2)),o2.props=n$2({},t2),o2.context=n$2(n$2({},o2.context),i3.context),i3.incChildIndex(),o2}},Object.defineProperty(i2.prototype,"parentO",{get:__name(function(){return this._parent?this._parent.globalO:[0,0]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"parentW",{get:__name(function(){return this._parent?this._parent.w:0},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"parentH",{get:__name(function(){return this._parent?this._parent.h:0},"get"),enumerable:!1,configurable:!0}),i2.prototype.getChildByKey=function(t2){return this.children.find(function(n2){return n2.key===t2})},i2.prototype.getBoundingBox=function(){var t2=e$2(this.globalO,2),n2=t2[0],r3=t2[1];return[[n2,r3],[n2+this.w,r3],[n2+this.w,r3+this.h],[n2,r3+this.h]]},i2.prototype.pointInside=function(t2){return r2.prototype.pointInside.call(this,u$1(t2,this.parentO))},Object.defineProperty(i2.prototype,"globalO",{get:__name(function(){if(!this._parent||this.globalPositioning)return this.o;var t2=e$2(this._parent.globalO,2),n2=t2[0],r3=t2[1],i3=e$2(this.o,2);return[n2+i3[0],r3+i3[1]]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"globalKey",{get:__name(function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},"get"),enumerable:!1,configurable:!0}),i2.prototype.getLayer=function(){return this.layer},i2.prototype.setLayer=function(t2){this.layer=t2},i2.prototype.setKey=function(t2){this.key=t2},Object.defineProperty(i2.prototype,"displayConnected",{get:__name(function(){return this._cameraSnapshot&&this._canvas},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"canvasUnit",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"absoluteUnit",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"canvasO",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},"get"),enumerable:!1,configurable:!0}),i2.prototype.absoluteToCanvasMeasure=function(t2){return a$1(t2,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},i2.prototype.canvasToAbsoluteMeasure=function(t2){return a$1(t2,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(i2.prototype,"cameraSnapshot",{get:__name(function(){return this._cameraSnapshot},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(i2.prototype,"canvas",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},"get"),enumerable:!1,configurable:!0}),i2.prototype.prepareHandlerProps=function(){var t2=this.cameraSnapshot,n2=this.canvas,r3=this.absoluteToCanvasMeasure.bind(this),e2=this.canvasToAbsoluteMeasure.bind(this),i3=this.canvasUnit,o2=this.absoluteUnit,u2=this.canvasO;return{canvasDimensions:[n2.width,n2.height],absoluteToCanvasMeasure:r3,canvasToAbsoluteMeasure:e2,camera:t2,canvasUnit:i3,canvasO:u2,absoluteUnit:o2}},i2.prototype.preparePostBoxHandlerProps=function(){var t2=this,r3=this._cameraSnapshot,i3=this._canvas,c2=__name(function(n2){var o2=t2.globalO,u2=e$2(n2,2),a2=u2[0],c3=u2[1],f3=e$2(o2,2),s2=e$2([f3[0]+a2,f3[1]+c3],2),l2=s2[0],h2=s2[1],p2=e$2(r3.o,2),d2=e$2([l2-p2[0],h2-p2[1]],2),v2=d2[0],_2=d2[1];return[v2*(i3.width/r3.w),_2*(i3.height/r3.h)]},"c"),f2=c2([0,0]);return n$2(n$2({},this.prepareHandlerProps()),{localToCanvas:c2,canvasToLocal:__name(function(n2){var e2=t2.globalO;return u$1(o$1(a$1(n2,[r3.w/i3.width,r3.h/i3.height]),r3.o),e2)},"canvasToLocal"),absoluteO:f2})},i2.prototype.prepareMouseHandlerProps=function(t2,r3){var i3=this.preparePostBoxHandlerProps(),o2=e$2(this.canvasUnit,2),a2=o2[0],c2=o2[1],f2=e$2(this.canvasO,2),s2=f2[0],l2=f2[1],h2=e$2(t2,2),p2=[s2+h2[0]*a2,l2+h2[1]*c2],d2=u$1(p2,this.globalO),v2=this.pointInside(p2);return n$2(n$2({},i3),{relativePos:d2,canvasPos:t2,absolutePos:p2,pointInside:v2,terminateEvent:r3})},i2.prototype.prepareWheelHandlerProps=function(t2){var r3=this.preparePostBoxHandlerProps();return n$2(n$2({},r3),{terminateEvent:t2})},i2.prototype.renderPrimitive=function(t2){if(this.render){var r3=this.preparePostBoxHandlerProps();this.render(n$2(n$2({},r3),{ctx:t2}))}},i2.prototype.render=function(t2){},i2.prototype.onMouseDownPrimitive=function(t2,n2,r3){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(t2,n2),r3)},i2.prototype.onMouseDown=function(t2,n2){},i2.prototype.onMouseMovePrimitive=function(t2,n2,r3){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(t2,n2),r3)},i2.prototype.onMouseMove=function(t2,n2){},i2.prototype.onMouseUpPrimitive=function(t2,n2,r3){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(t2,n2),r3)},i2.prototype.onMouseUp=function(t2,n2){},i2.prototype.onClickPrimitive=function(t2,n2,r3){this.onClick&&this.onClick(this.prepareMouseHandlerProps(t2,n2),r3)},i2.prototype.onClick=function(t2,n2){},i2.prototype.onWheelPrimitive=function(t2,n2){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(t2),n2)},i2.prototype.onWheel=function(t2,n2){},i2.prototype.strokeOutline=function(t2,n2){t2.ctx.strokeStyle=n2;var r3=t2.absoluteO,i3=t2.absoluteUnit,o2=e$2(r3,2),u2=o2[0],a2=o2[1],c2=e$2(i3,2),f2=c2[0],s2=c2[1];t2.ctx.strokeRect(u2,a2,this.w*f2,this.h*s2)},i2}(h),d$1={};function v$2(t2,n2,o2,u2,a2){var c2=(t2=new h(i$1([],e$2(t2.o),!1),t2.w,t2.h)).getBoundingBox(),f2=n2.filter(function(t3){return t3._renderAlways||l$1(t3.getBoundingBox(),c2)}),s2=Array.from(new Set(f2.map(function(t3){return t3.getLayer()}))).sort(function(t3,n3){return t3-n3});u2.clearRect(0,0,o2.width,o2.height);for(var p2=function(t3){var n3,e2,i2=s2[t3],c3=f2.filter(function(n4){return n4.getLayer()===s2[t3]});if(a2.includes(i2)){var l2=i2+"";if(d$1[l2]===void 0){var h2=document.createElement("canvas");d$1[l2]=h2}var p3=d$1[l2];p3.width=o2.width,p3.height=o2.height;var v3=p3.getContext("2d");v3.clearRect(0,0,p3.width,p3.height);try{for(var _2=(n3=void 0,r$1(c3)),g2=_2.next();!g2.done;g2=_2.next())g2.value.renderPrimitive(v3)}catch(t4){n3={error:t4}}finally{try{g2&&!g2.done&&(e2=_2.return)&&e2.call(_2)}finally{if(n3)throw n3.error}}}var y2=i2+"";d$1[y2]&&u2.drawImage(d$1[y2],0,0)},v2=0;v2<s2.length;v2++)p2(v2)}__name(v$2,"v$2");function _$1(t2,n2,o2,u2,a2){var c2,f2,s2=(t2=new h(i$1([],e$2(t2.o),!1),t2.w,t2.h)).getBoundingBox(),p2=n2.filter(function(t3){return l$1(t3.getBoundingBox(),s2)}).reverse(),d2=!0,v2=__name(function(){d2=!1},"v");try{for(var _2=r$1(p2),g2=_2.next();!g2.done&&(g2.value.onClickPrimitive(u2,v2,a2),!!d2);g2=_2.next());}catch(t3){c2={error:t3}}finally{try{g2&&!g2.done&&(f2=_2.return)&&f2.call(_2)}finally{if(c2)throw c2.error}}}__name(_$1,"_$1");function g$1(t2,n2,o2,u2,a2){var c2,f2,s2=(t2=new h(i$1([],e$2(t2.o),!1),t2.w,t2.h)).getBoundingBox(),p2=n2.filter(function(t3){return l$1(t3.getBoundingBox(),s2)}).reverse(),d2=!0,v2=__name(function(){d2=!1},"v");try{for(var _2=r$1(p2),g2=_2.next();!g2.done&&(g2.value.onMouseDownPrimitive(u2,v2,a2),!!d2);g2=_2.next());}catch(t3){c2={error:t3}}finally{try{g2&&!g2.done&&(f2=_2.return)&&f2.call(_2)}finally{if(c2)throw c2.error}}}__name(g$1,"g$1");function y$1(t2,n2,o2,u2,a2){var c2,f2,s2=(t2=new h(i$1([],e$2(t2.o),!1),t2.w,t2.h)).getBoundingBox(),p2=n2.filter(function(t3){return l$1(t3.getBoundingBox(),s2)}).reverse(),d2=!0,v2=__name(function(){d2=!1},"v");try{for(var _2=r$1(p2),g2=_2.next();!g2.done&&(g2.value.onMouseMovePrimitive(u2,v2,a2),!!d2);g2=_2.next());}catch(t3){c2={error:t3}}finally{try{g2&&!g2.done&&(f2=_2.return)&&f2.call(_2)}finally{if(c2)throw c2.error}}}__name(y$1,"y$1");function w$2(t2,n2,o2,u2,a2){var c2,f2,s2=(t2=new h(i$1([],e$2(t2.o),!1),t2.w,t2.h)).getBoundingBox(),p2=n2.filter(function(t3){return l$1(t3.getBoundingBox(),s2)}).reverse(),d2=!0,v2=__name(function(){d2=!1},"v");try{for(var _2=r$1(p2),g2=_2.next();!g2.done&&(g2.value.onMouseUpPrimitive(u2,v2,a2),!!d2);g2=_2.next());}catch(t3){c2={error:t3}}finally{try{g2&&!g2.done&&(f2=_2.return)&&f2.call(_2)}finally{if(c2)throw c2.error}}}__name(w$2,"w$2");function b$1(t2,n2,o2,u2){var a2,c2,f2=(t2=new h(i$1([],e$2(t2.o),!1),t2.w,t2.h)).getBoundingBox(),s2=n2.filter(function(t3){return l$1(t3.getBoundingBox(),f2)}).reverse(),p2=!0,d2=__name(function(){p2=!1},"d");try{for(var v2=r$1(s2),_2=v2.next();!_2.done&&(_2.value.onWheelPrimitive(d2,u2),!!p2);_2=v2.next());}catch(t3){a2={error:t3}}finally{try{_2&&!_2.done&&(c2=v2.return)&&c2.call(v2)}finally{if(a2)throw a2.error}}}__name(b$1,"b$1");var m,x$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U$1={exports:{}},S$1,O$1,j$1=(m||(m=1,S$1=U$1,O$1=U$1.exports,(function(){var t2,n2="Expected a function",r2="__lodash_hash_undefined__",e2="__lodash_placeholder__",i2=16,o2=32,u2=64,a2=128,c2=256,f2=1/0,s2=9007199254740991,l2=NaN,h2=4294967295,p2=[["ary",a2],["bind",1],["bindKey",2],["curry",8],["curryRight",i2],["flip",512],["partial",o2],["partialRight",u2],["rearg",c2]],d2="[object Arguments]",v2="[object Array]",_2="[object Boolean]",g2="[object Date]",y2="[object Error]",w2="[object Function]",b2="[object GeneratorFunction]",m2="[object Map]",U2="[object Number]",j2="[object Object]",P2="[object Promise]",A2="[object RegExp]",E2="[object Set]",C2="[object String]",I2="[object Symbol]",M2="[object WeakMap]",R2="[object ArrayBuffer]",k2="[object DataView]",B2="[object Float32Array]",N2="[object Float64Array]",D2="[object Int8Array]",L2="[object Int16Array]",T2="[object Int32Array]",W2="[object Uint8Array]",z2="[object Uint8ClampedArray]",F2="[object Uint16Array]",$2="[object Uint32Array]",H2=/\b__p \+= '';/g,K2=/\b(__p \+=) '' \+/g,q2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G2=/&(?:amp|lt|gt|quot|#39);/g,Z2=/[&<>"']/g,J2=RegExp(G2.source),Y2=RegExp(Z2.source),V2=/<%-([\s\S]+?)%>/g,X2=/<%([\s\S]+?)%>/g,Q2=/<%=([\s\S]+?)%>/g,tt2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nt2=/^\w*$/,rt2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et2=/[\\^$.*+?()[\]{}|]/g,it2=RegExp(et2.source),ot2=/^\s+/,ut2=/\s/,at2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ct2=/\{\n\/\* \[wrapped with (.+)\] \*/,ft2=/,? & /,st2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt2=/[()=,{}\[\]\/\s]/,ht2=/\\(\\)?/g,pt2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dt2=/\w*$/,vt2=/^[-+]0x[0-9a-f]+$/i,_t2=/^0b[01]+$/i,gt2=/^\[object .+?Constructor\]$/,yt2=/^0o[0-7]+$/i,wt2=/^(?:0|[1-9]\d*)$/,bt2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mt2=/($^)/,xt2=/['\n\r\u2028\u2029\\]/g,Ut2="\\ud800-\\udfff",St2="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ot2="\\u2700-\\u27bf",jt2="a-z\\xdf-\\xf6\\xf8-\\xff",Pt2="A-Z\\xc0-\\xd6\\xd8-\\xde",At2="\\ufe0e\\ufe0f",Et2="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct2="['’]",It2="["+Ut2+"]",Mt2="["+Et2+"]",Rt2="["+St2+"]",kt2="\\d+",Bt="["+Ot2+"]",Nt2="["+jt2+"]",Dt2="[^"+Ut2+Et2+kt2+Ot2+jt2+Pt2+"]",Lt2="\\ud83c[\\udffb-\\udfff]",Tt2="[^"+Ut2+"]",Wt2="(?:\\ud83c[\\udde6-\\uddff]){2}",zt2="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft2="["+Pt2+"]",$t2="\\u200d",Ht2="(?:"+Nt2+"|"+Dt2+")",Kt2="(?:"+Ft2+"|"+Dt2+")",qt2="(?:['’](?:d|ll|m|re|s|t|ve))?",Gt2="(?:['’](?:D|LL|M|RE|S|T|VE))?",Zt2="(?:"+Rt2+"|"+Lt2+")?",Jt2="["+At2+"]?",Yt2=Jt2+Zt2+"(?:"+$t2+"(?:"+[Tt2,Wt2,zt2].join("|")+")"+Jt2+Zt2+")*",Vt2="(?:"+[Bt,Wt2,zt2].join("|")+")"+Yt2,Xt2="(?:"+[Tt2+Rt2+"?",Rt2,Wt2,zt2,It2].join("|")+")",Qt2=RegExp(Ct2,"g"),tn=RegExp(Rt2,"g"),nn=RegExp(Lt2+"(?="+Lt2+")|"+Xt2+Yt2,"g"),rn=RegExp([Ft2+"?"+Nt2+"+"+qt2+"(?="+[Mt2,Ft2,"$"].join("|")+")",Kt2+"+"+Gt2+"(?="+[Mt2,Ft2+Ht2,"$"].join("|")+")",Ft2+"?"+Ht2+"+"+qt2,Ft2+"+"+Gt2,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kt2,Vt2].join("|"),"g"),en=RegExp("["+$t2+Ut2+St2+At2+"]"),on=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,un2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],an=-1,cn2={};cn2[B2]=cn2[N2]=cn2[D2]=cn2[L2]=cn2[T2]=cn2[W2]=cn2[z2]=cn2[F2]=cn2[$2]=!0,cn2[d2]=cn2[v2]=cn2[R2]=cn2[_2]=cn2[k2]=cn2[g2]=cn2[y2]=cn2[w2]=cn2[m2]=cn2[U2]=cn2[j2]=cn2[A2]=cn2[E2]=cn2[C2]=cn2[M2]=!1;var fn2={};fn2[d2]=fn2[v2]=fn2[R2]=fn2[k2]=fn2[_2]=fn2[g2]=fn2[B2]=fn2[N2]=fn2[D2]=fn2[L2]=fn2[T2]=fn2[m2]=fn2[U2]=fn2[j2]=fn2[A2]=fn2[E2]=fn2[C2]=fn2[I2]=fn2[W2]=fn2[z2]=fn2[F2]=fn2[$2]=!0,fn2[y2]=fn2[w2]=fn2[M2]=!1;var sn2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ln2=parseFloat,hn2=parseInt,pn2=typeof x$1=="object"&&x$1&&x$1.Object===Object&&x$1,dn2=typeof self=="object"&&self&&self.Object===Object&&self,vn2=pn2||dn2||Function("return this")(),_n2=O$1&&!O$1.nodeType&&O$1,gn2=_n2&&S$1&&!S$1.nodeType&&S$1,yn2=gn2&&gn2.exports===_n2,wn2=yn2&&pn2.process,bn2=function(){try{var t3=gn2&&gn2.require&&gn2.require("util").types;return t3||wn2&&wn2.binding&&wn2.binding("util")}catch{}}(),mn2=bn2&&bn2.isArrayBuffer,xn2=bn2&&bn2.isDate,Un2=bn2&&bn2.isMap,Sn2=bn2&&bn2.isRegExp,On2=bn2&&bn2.isSet,jn2=bn2&&bn2.isTypedArray;function Pn2(t3,n3,r3){switch(r3.length){case 0:return t3.call(n3);case 1:return t3.call(n3,r3[0]);case 2:return t3.call(n3,r3[0],r3[1]);case 3:return t3.call(n3,r3[0],r3[1],r3[2])}return t3.apply(n3,r3)}__name(Pn2,"Pn");function An2(t3,n3,r3,e3){for(var i3=-1,o3=t3==null?0:t3.length;++i3<o3;){var u3=t3[i3];n3(e3,u3,r3(u3),t3)}return e3}__name(An2,"An");function En2(t3,n3){for(var r3=-1,e3=t3==null?0:t3.length;++r3<e3&&n3(t3[r3],r3,t3)!==!1;);return t3}__name(En2,"En");function Cn2(t3,n3){for(var r3=t3==null?0:t3.length;r3--&&n3(t3[r3],r3,t3)!==!1;);return t3}__name(Cn2,"Cn");function In2(t3,n3){for(var r3=-1,e3=t3==null?0:t3.length;++r3<e3;)if(!n3(t3[r3],r3,t3))return!1;return!0}__name(In2,"In");function Mn2(t3,n3){for(var r3=-1,e3=t3==null?0:t3.length,i3=0,o3=[];++r3<e3;){var u3=t3[r3];n3(u3,r3,t3)&&(o3[i3++]=u3)}return o3}__name(Mn2,"Mn");function Rn2(t3,n3){return!(t3==null||!t3.length)&&$n2(t3,n3,0)>-1}__name(Rn2,"Rn");function kn2(t3,n3,r3){for(var e3=-1,i3=t3==null?0:t3.length;++e3<i3;)if(r3(n3,t3[e3]))return!0;return!1}__name(kn2,"kn");function Bn2(t3,n3){for(var r3=-1,e3=t3==null?0:t3.length,i3=Array(e3);++r3<e3;)i3[r3]=n3(t3[r3],r3,t3);return i3}__name(Bn2,"Bn");function Nn2(t3,n3){for(var r3=-1,e3=n3.length,i3=t3.length;++r3<e3;)t3[i3+r3]=n3[r3];return t3}__name(Nn2,"Nn");function Dn2(t3,n3,r3,e3){var i3=-1,o3=t3==null?0:t3.length;for(e3&&o3&&(r3=t3[++i3]);++i3<o3;)r3=n3(r3,t3[i3],i3,t3);return r3}__name(Dn2,"Dn");function Ln2(t3,n3,r3,e3){var i3=t3==null?0:t3.length;for(e3&&i3&&(r3=t3[--i3]);i3--;)r3=n3(r3,t3[i3],i3,t3);return r3}__name(Ln2,"Ln");function Tn2(t3,n3){for(var r3=-1,e3=t3==null?0:t3.length;++r3<e3;)if(n3(t3[r3],r3,t3))return!0;return!1}__name(Tn2,"Tn");var Wn2=Gn("length");function zn2(t3,n3,r3){var e3;return r3(t3,function(t4,r4,i3){if(n3(t4,r4,i3))return e3=r4,!1}),e3}__name(zn2,"zn");function Fn2(t3,n3,r3,e3){for(var i3=t3.length,o3=r3+(e3?1:-1);e3?o3--:++o3<i3;)if(n3(t3[o3],o3,t3))return o3;return-1}__name(Fn2,"Fn");function $n2(t3,n3,r3){return n3==n3?function(t4,n4,r4){for(var e3=r4-1,i3=t4.length;++e3<i3;)if(t4[e3]===n4)return e3;return-1}(t3,n3,r3):Fn2(t3,Kn2,r3)}__name($n2,"$n");function Hn2(t3,n3,r3,e3){for(var i3=r3-1,o3=t3.length;++i3<o3;)if(e3(t3[i3],n3))return i3;return-1}__name(Hn2,"Hn");function Kn2(t3){return t3!=t3}__name(Kn2,"Kn");function qn2(t3,n3){var r3=t3==null?0:t3.length;return r3?Yn(t3,n3)/r3:l2}__name(qn2,"qn");function Gn(n3){return function(r3){return r3==null?t2:r3[n3]}}__name(Gn,"Gn");function Zn2(n3){return function(r3){return n3==null?t2:n3[r3]}}__name(Zn2,"Zn");function Jn2(t3,n3,r3,e3,i3){return i3(t3,function(t4,i4,o3){r3=e3?(e3=!1,t4):n3(r3,t4,i4,o3)}),r3}__name(Jn2,"Jn");function Yn(n3,r3){for(var e3,i3=-1,o3=n3.length;++i3<o3;){var u3=r3(n3[i3]);u3!==t2&&(e3=e3===t2?u3:e3+u3)}return e3}__name(Yn,"Yn");function Vn2(t3,n3){for(var r3=-1,e3=Array(t3);++r3<t3;)e3[r3]=n3(r3);return e3}__name(Vn2,"Vn");function Xn(t3){return t3&&t3.slice(0,vr2(t3)+1).replace(ot2,"")}__name(Xn,"Xn");function Qn2(t3){return function(n3){return t3(n3)}}__name(Qn2,"Qn");function tr2(t3,n3){return Bn2(n3,function(n4){return t3[n4]})}__name(tr2,"tr");function nr2(t3,n3){return t3.has(n3)}__name(nr2,"nr");function rr2(t3,n3){for(var r3=-1,e3=t3.length;++r3<e3&&$n2(n3,t3[r3],0)>-1;);return r3}__name(rr2,"rr");function er2(t3,n3){for(var r3=t3.length;r3--&&$n2(n3,t3[r3],0)>-1;);return r3}__name(er2,"er");var ir2=Zn2({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),or2=Zn2({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ur2(t3){return"\\"+sn2[t3]}__name(ur2,"ur");function ar2(t3){return en.test(t3)}__name(ar2,"ar");function cr2(t3){var n3=-1,r3=Array(t3.size);return t3.forEach(function(t4,e3){r3[++n3]=[e3,t4]}),r3}__name(cr2,"cr");function fr2(t3,n3){return function(r3){return t3(n3(r3))}}__name(fr2,"fr");function sr2(t3,n3){for(var r3=-1,i3=t3.length,o3=0,u3=[];++r3<i3;){var a3=t3[r3];a3!==n3&&a3!==e2||(t3[r3]=e2,u3[o3++]=r3)}return u3}__name(sr2,"sr");function lr2(t3){var n3=-1,r3=Array(t3.size);return t3.forEach(function(t4){r3[++n3]=t4}),r3}__name(lr2,"lr");function hr2(t3){var n3=-1,r3=Array(t3.size);return t3.forEach(function(t4){r3[++n3]=[t4,t4]}),r3}__name(hr2,"hr");function pr2(t3){return ar2(t3)?function(t4){for(var n3=nn.lastIndex=0;nn.test(t4);)++n3;return n3}(t3):Wn2(t3)}__name(pr2,"pr");function dr2(t3){return ar2(t3)?function(t4){return t4.match(nn)||[]}(t3):function(t4){return t4.split("")}(t3)}__name(dr2,"dr");function vr2(t3){for(var n3=t3.length;n3--&&ut2.test(t3.charAt(n3)););return n3}__name(vr2,"vr");var _r2=Zn2({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gr2=__name(function x2(S2){var O2,ut3=(S2=S2==null?vn2:gr2.defaults(vn2.Object(),S2,gr2.pick(vn2,un2))).Array,Ut3=S2.Date,St3=S2.Error,Ot3=S2.Function,jt3=S2.Math,Pt3=S2.Object,At3=S2.RegExp,Et3=S2.String,Ct3=S2.TypeError,It3=ut3.prototype,Mt3=Ot3.prototype,Rt3=Pt3.prototype,kt3=S2["__core-js_shared__"],Bt2=Mt3.toString,Nt3=Rt3.hasOwnProperty,Dt3=0,Lt3=(O2=/[^.]+$/.exec(kt3&&kt3.keys&&kt3.keys.IE_PROTO||""))?"Symbol(src)_1."+O2:"",Tt3=Rt3.toString,Wt3=Bt2.call(Pt3),zt3=vn2._,Ft3=At3("^"+Bt2.call(Nt3).replace(et2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t3=yn2?S2.Buffer:t2,Ht3=S2.Symbol,Kt3=S2.Uint8Array,qt3=$t3?$t3.allocUnsafe:t2,Gt3=fr2(Pt3.getPrototypeOf,Pt3),Zt3=Pt3.create,Jt3=Rt3.propertyIsEnumerable,Yt3=It3.splice,Vt3=Ht3?Ht3.isConcatSpreadable:t2,Xt3=Ht3?Ht3.iterator:t2,nn2=Ht3?Ht3.toStringTag:t2,en2=function(){try{var t3=ho2(Pt3,"defineProperty");return t3({},"",{}),t3}catch{}}(),sn3=S2.clearTimeout!==vn2.clearTimeout&&S2.clearTimeout,pn3=Ut3&&Ut3.now!==vn2.Date.now&&Ut3.now,dn3=S2.setTimeout!==vn2.setTimeout&&S2.setTimeout,_n3=jt3.ceil,gn3=jt3.floor,wn3=Pt3.getOwnPropertySymbols,bn3=$t3?$t3.isBuffer:t2,Wn3=S2.isFinite,Zn3=It3.join,yr2=fr2(Pt3.keys,Pt3),wr2=jt3.max,br2=jt3.min,mr2=Ut3.now,xr2=S2.parseInt,Ur2=jt3.random,Sr2=It3.reverse,Or=ho2(S2,"DataView"),jr2=ho2(S2,"Map"),Pr=ho2(S2,"Promise"),Ar2=ho2(S2,"Set"),Er2=ho2(S2,"WeakMap"),Cr=ho2(Pt3,"create"),Ir2=Er2&&new Er2,Mr2={},Rr2=To2(Or),kr=To2(jr2),Br2=To2(Pr),Nr2=To2(Ar2),Dr2=To2(Er2),Lr2=Ht3?Ht3.prototype:t2,Tr2=Lr2?Lr2.valueOf:t2,Wr2=Lr2?Lr2.toString:t2;function zr2(t3){if(ra2(t3)&&!Ku2(t3)&&!(t3 instanceof Kr2)){if(t3 instanceof Hr2)return t3;if(Nt3.call(t3,"__wrapped__"))return Wo2(t3)}return new Hr2(t3)}__name(zr2,"zr");var Fr2=function(){function n3(){}return __name(n3,"n"),function(r3){if(!na2(r3))return{};if(Zt3)return Zt3(r3);n3.prototype=r3;var e3=new n3;return n3.prototype=t2,e3}}();function $r2(){}__name($r2,"$r");function Hr2(n3,r3){this.__wrapped__=n3,this.__actions__=[],this.__chain__=!!r3,this.__index__=0,this.__values__=t2}__name(Hr2,"Hr");function Kr2(t3){this.__wrapped__=t3,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h2,this.__views__=[]}__name(Kr2,"Kr");function qr2(t3){var n3=-1,r3=t3==null?0:t3.length;for(this.clear();++n3<r3;){var e3=t3[n3];this.set(e3[0],e3[1])}}__name(qr2,"qr");function Gr2(t3){var n3=-1,r3=t3==null?0:t3.length;for(this.clear();++n3<r3;){var e3=t3[n3];this.set(e3[0],e3[1])}}__name(Gr2,"Gr");function Zr2(t3){var n3=-1,r3=t3==null?0:t3.length;for(this.clear();++n3<r3;){var e3=t3[n3];this.set(e3[0],e3[1])}}__name(Zr2,"Zr");function Jr2(t3){var n3=-1,r3=t3==null?0:t3.length;for(this.__data__=new Zr2;++n3<r3;)this.add(t3[n3])}__name(Jr2,"Jr");function Yr2(t3){var n3=this.__data__=new Gr2(t3);this.size=n3.size}__name(Yr2,"Yr");function Vr2(t3,n3){var r3=Ku2(t3),e3=!r3&&Hu2(t3),i3=!r3&&!e3&&Ju2(t3),o3=!r3&&!e3&&!i3&&sa(t3),u3=r3||e3||i3||o3,a3=u3?Vn2(t3.length,Et3):[],c3=a3.length;for(var f3 in t3)!n3&&!Nt3.call(t3,f3)||u3&&(f3=="length"||i3&&(f3=="offset"||f3=="parent")||o3&&(f3=="buffer"||f3=="byteLength"||f3=="byteOffset")||bo2(f3,c3))||a3.push(f3);return a3}__name(Vr2,"Vr");function Xr2(n3){var r3=n3.length;return r3?n3[Je(0,r3-1)]:t2}__name(Xr2,"Xr");function Qr2(t3,n3){return No2(Ci(t3),ce2(n3,0,t3.length))}__name(Qr2,"Qr");function te2(t3){return No2(Ci(t3))}__name(te2,"te");function ne2(n3,r3,e3){(e3!==t2&&!zu2(n3[r3],e3)||e3===t2&&!(r3 in n3))&&ue2(n3,r3,e3)}__name(ne2,"ne");function re2(n3,r3,e3){var i3=n3[r3];Nt3.call(n3,r3)&&zu2(i3,e3)&&(e3!==t2||r3 in n3)||ue2(n3,r3,e3)}__name(re2,"re");function ee2(t3,n3){for(var r3=t3.length;r3--;)if(zu2(t3[r3][0],n3))return r3;return-1}__name(ee2,"ee");function ie2(t3,n3,r3,e3){return pe2(t3,function(t4,i3,o3){n3(e3,t4,r3(t4),o3)}),e3}__name(ie2,"ie");function oe2(t3,n3){return t3&&Ii(n3,Ma(n3),t3)}__name(oe2,"oe");function ue2(t3,n3,r3){n3=="__proto__"&&en2?en2(t3,n3,{configurable:!0,enumerable:!0,value:r3,writable:!0}):t3[n3]=r3}__name(ue2,"ue");function ae2(n3,r3){for(var e3=-1,i3=r3.length,o3=ut3(i3),u3=n3==null;++e3<i3;)o3[e3]=u3?t2:Pa(n3,r3[e3]);return o3}__name(ae2,"ae");function ce2(n3,r3,e3){return n3==n3&&(e3!==t2&&(n3=n3<=e3?n3:e3),r3!==t2&&(n3=n3>=r3?n3:r3)),n3}__name(ce2,"ce");function fe2(n3,r3,e3,i3,o3,u3){var a3,c3=1&r3,f3=2&r3,s3=4&r3;if(e3&&(a3=o3?e3(n3,i3,o3,u3):e3(n3)),a3!==t2)return a3;if(!na2(n3))return n3;var l3=Ku2(n3);if(l3){if(a3=function(t3){var n4=t3.length,r4=new t3.constructor(n4);return n4&&typeof t3[0]=="string"&&Nt3.call(t3,"index")&&(r4.index=t3.index,r4.input=t3.input),r4}(n3),!c3)return Ci(n3,a3)}else{var h3=_o2(n3),p3=h3==w2||h3==b2;if(Ju2(n3))return Si(n3,c3);if(h3==j2||h3==d2||p3&&!o3){if(a3=f3||p3?{}:yo2(n3),!c3)return f3?function(t3,n4){return Ii(t3,vo2(t3),n4)}(n3,function(t3,n4){return t3&&Ii(n4,Ra(n4),t3)}(a3,n3)):function(t3,n4){return Ii(t3,po2(t3),n4)}(n3,oe2(a3,n3))}else{if(!fn2[h3])return o3?n3:{};a3=function(t3,n4,r4){var e4,i4=t3.constructor;switch(n4){case R2:return Oi2(t3);case _2:case g2:return new i4(+t3);case k2:return function(t4,n5){var r5=n5?Oi2(t4.buffer):t4.buffer;return new t4.constructor(r5,t4.byteOffset,t4.byteLength)}(t3,r4);case B2:case N2:case D2:case L2:case T2:case W2:case z2:case F2:case $2:return ji(t3,r4);case m2:return new i4;case U2:case C2:return new i4(t3);case A2:return function(t4){var n5=new t4.constructor(t4.source,dt2.exec(t4));return n5.lastIndex=t4.lastIndex,n5}(t3);case E2:return new i4;case I2:return e4=t3,Tr2?Pt3(Tr2.call(e4)):{}}}(n3,h3,c3)}}u3||(u3=new Yr2);var v3=u3.get(n3);if(v3)return v3;u3.set(n3,a3),aa2(n3)?n3.forEach(function(t3){a3.add(fe2(t3,r3,e3,t3,n3,u3))}):ea2(n3)&&n3.forEach(function(t3,i4){a3.set(i4,fe2(t3,r3,e3,i4,n3,u3))});var y3=l3?t2:(s3?f3?oo2:io2:f3?Ra:Ma)(n3);return En2(y3||n3,function(t3,i4){y3&&(t3=n3[i4=t3]),re2(a3,i4,fe2(t3,r3,e3,i4,n3,u3))}),a3}__name(fe2,"fe");function se2(n3,r3,e3){var i3=e3.length;if(n3==null)return!i3;for(n3=Pt3(n3);i3--;){var o3=e3[i3],u3=r3[o3],a3=n3[o3];if(a3===t2&&!(o3 in n3)||!u3(a3))return!1}return!0}__name(se2,"se");function le2(r3,e3,i3){if(typeof r3!="function")throw new Ct3(n2);return Mo2(function(){r3.apply(t2,i3)},e3)}__name(le2,"le");function he2(t3,n3,r3,e3){var i3=-1,o3=Rn2,u3=!0,a3=t3.length,c3=[],f3=n3.length;if(!a3)return c3;r3&&(n3=Bn2(n3,Qn2(r3))),e3?(o3=kn2,u3=!1):n3.length>=200&&(o3=nr2,u3=!1,n3=new Jr2(n3));t:for(;++i3<a3;){var s3=t3[i3],l3=r3==null?s3:r3(s3);if(s3=e3||s3!==0?s3:0,u3&&l3==l3){for(var h3=f3;h3--;)if(n3[h3]===l3)continue t;c3.push(s3)}else o3(n3,l3,e3)||c3.push(s3)}return c3}__name(he2,"he"),zr2.templateSettings={escape:V2,evaluate:X2,interpolate:Q2,variable:"",imports:{_:zr2}},zr2.prototype=$r2.prototype,zr2.prototype.constructor=zr2,Hr2.prototype=Fr2($r2.prototype),Hr2.prototype.constructor=Hr2,Kr2.prototype=Fr2($r2.prototype),Kr2.prototype.constructor=Kr2,qr2.prototype.clear=function(){this.__data__=Cr?Cr(null):{},this.size=0},qr2.prototype.delete=function(t3){var n3=this.has(t3)&&delete this.__data__[t3];return this.size-=n3?1:0,n3},qr2.prototype.get=function(n3){var e3=this.__data__;if(Cr){var i3=e3[n3];return i3===r2?t2:i3}return Nt3.call(e3,n3)?e3[n3]:t2},qr2.prototype.has=function(n3){var r3=this.__data__;return Cr?r3[n3]!==t2:Nt3.call(r3,n3)},qr2.prototype.set=function(n3,e3){var i3=this.__data__;return this.size+=this.has(n3)?0:1,i3[n3]=Cr&&e3===t2?r2:e3,this},Gr2.prototype.clear=function(){this.__data__=[],this.size=0},Gr2.prototype.delete=function(t3){var n3=this.__data__,r3=ee2(n3,t3);return!(r3<0||(r3==n3.length-1?n3.pop():Yt3.call(n3,r3,1),--this.size,0))},Gr2.prototype.get=function(n3){var r3=this.__data__,e3=ee2(r3,n3);return e3<0?t2:r3[e3][1]},Gr2.prototype.has=function(t3){return ee2(this.__data__,t3)>-1},Gr2.prototype.set=function(t3,n3){var r3=this.__data__,e3=ee2(r3,t3);return e3<0?(++this.size,r3.push([t3,n3])):r3[e3][1]=n3,this},Zr2.prototype.clear=function(){this.size=0,this.__data__={hash:new qr2,map:new(jr2||Gr2),string:new qr2}},Zr2.prototype.delete=function(t3){var n3=so2(this,t3).delete(t3);return this.size-=n3?1:0,n3},Zr2.prototype.get=function(t3){return so2(this,t3).get(t3)},Zr2.prototype.has=function(t3){return so2(this,t3).has(t3)},Zr2.prototype.set=function(t3,n3){var r3=so2(this,t3),e3=r3.size;return r3.set(t3,n3),this.size+=r3.size==e3?0:1,this},Jr2.prototype.add=Jr2.prototype.push=function(t3){return this.__data__.set(t3,r2),this},Jr2.prototype.has=function(t3){return this.__data__.has(t3)},Yr2.prototype.clear=function(){this.__data__=new Gr2,this.size=0},Yr2.prototype.delete=function(t3){var n3=this.__data__,r3=n3.delete(t3);return this.size=n3.size,r3},Yr2.prototype.get=function(t3){return this.__data__.get(t3)},Yr2.prototype.has=function(t3){return this.__data__.has(t3)},Yr2.prototype.set=function(t3,n3){var r3=this.__data__;if(r3 instanceof Gr2){var e3=r3.__data__;if(!jr2||e3.length<199)return e3.push([t3,n3]),this.size=++r3.size,this;r3=this.__data__=new Zr2(e3)}return r3.set(t3,n3),this.size=r3.size,this};var pe2=ki(me2),de2=ki(xe,!0);function ve2(t3,n3){var r3=!0;return pe2(t3,function(t4,e3,i3){return r3=!!n3(t4,e3,i3)}),r3}__name(ve2,"ve");function _e2(n3,r3,e3){for(var i3=-1,o3=n3.length;++i3<o3;){var u3=n3[i3],a3=r3(u3);if(a3!=null&&(c3===t2?a3==a3&&!fa(a3):e3(a3,c3)))var c3=a3,f3=u3}return f3}__name(_e2,"_e");function ge2(t3,n3){var r3=[];return pe2(t3,function(t4,e3,i3){n3(t4,e3,i3)&&r3.push(t4)}),r3}__name(ge2,"ge");function ye2(t3,n3,r3,e3,i3){var o3=-1,u3=t3.length;for(r3||(r3=wo2),i3||(i3=[]);++o3<u3;){var a3=t3[o3];n3>0&&r3(a3)?n3>1?ye2(a3,n3-1,r3,e3,i3):Nn2(i3,a3):e3||(i3[i3.length]=a3)}return i3}__name(ye2,"ye");var we=Bi(),be2=Bi(!0);function me2(t3,n3){return t3&&we(t3,n3,Ma)}__name(me2,"me");function xe(t3,n3){return t3&&be2(t3,n3,Ma)}__name(xe,"xe");function Ue(t3,n3){return Mn2(n3,function(n4){return Xu2(t3[n4])})}__name(Ue,"Ue");function Se2(n3,r3){for(var e3=0,i3=(r3=bi(r3,n3)).length;n3!=null&&e3<i3;)n3=n3[Lo2(r3[e3++])];return e3&&e3==i3?n3:t2}__name(Se2,"Se");function Oe(t3,n3,r3){var e3=n3(t3);return Ku2(t3)?e3:Nn2(e3,r3(t3))}__name(Oe,"Oe");function je(n3){return n3==null?n3===t2?"[object Undefined]":"[object Null]":nn2&&nn2 in Pt3(n3)?function(n4){var r3=Nt3.call(n4,nn2),e3=n4[nn2];try{n4[nn2]=t2;var i3=!0}catch{}var o3=Tt3.call(n4);return i3&&(r3?n4[nn2]=e3:delete n4[nn2]),o3}(n3):function(t3){return Tt3.call(t3)}(n3)}__name(je,"je");function Pe2(t3,n3){return t3>n3}__name(Pe2,"Pe");function Ae(t3,n3){return t3!=null&&Nt3.call(t3,n3)}__name(Ae,"Ae");function Ee(t3,n3){return t3!=null&&n3 in Pt3(t3)}__name(Ee,"Ee");function Ce(n3,r3,e3){for(var i3=e3?kn2:Rn2,o3=n3[0].length,u3=n3.length,a3=u3,c3=ut3(u3),f3=1/0,s3=[];a3--;){var l3=n3[a3];a3&&r3&&(l3=Bn2(l3,Qn2(r3))),f3=br2(l3.length,f3),c3[a3]=!e3&&(r3||o3>=120&&l3.length>=120)?new Jr2(a3&&l3):t2}l3=n3[0];var h3=-1,p3=c3[0];t:for(;++h3<o3&&s3.length<f3;){var d3=l3[h3],v3=r3?r3(d3):d3;if(d3=e3||d3!==0?d3:0,!(p3?nr2(p3,v3):i3(s3,v3,e3))){for(a3=u3;--a3;){var _3=c3[a3];if(!(_3?nr2(_3,v3):i3(n3[a3],v3,e3)))continue t}p3&&p3.push(v3),s3.push(d3)}}return s3}__name(Ce,"Ce");function Ie(n3,r3,e3){var i3=(n3=Eo2(n3,r3=bi(r3,n3)))==null?n3:n3[Lo2(Vo2(r3))];return i3==null?t2:Pn2(i3,n3,e3)}__name(Ie,"Ie");function Me(t3){return ra2(t3)&&je(t3)==d2}__name(Me,"Me");function Re2(n3,r3,e3,i3,o3){return n3===r3||(n3==null||r3==null||!ra2(n3)&&!ra2(r3)?n3!=n3&&r3!=r3:function(n4,r4,e4,i4,o4,u3){var a3=Ku2(n4),c3=Ku2(r4),f3=a3?v2:_o2(n4),s3=c3?v2:_o2(r4),l3=(f3=f3==d2?j2:f3)==j2,h3=(s3=s3==d2?j2:s3)==j2,p3=f3==s3;if(p3&&Ju2(n4)){if(!Ju2(r4))return!1;a3=!0,l3=!1}if(p3&&!l3)return u3||(u3=new Yr2),a3||sa(n4)?ro2(n4,r4,e4,i4,o4,u3):function(t3,n5,r5,e5,i5,o5,u4){switch(r5){case k2:if(t3.byteLength!=n5.byteLength||t3.byteOffset!=n5.byteOffset)return!1;t3=t3.buffer,n5=n5.buffer;case R2:return!(t3.byteLength!=n5.byteLength||!o5(new Kt3(t3),new Kt3(n5)));case _2:case g2:case U2:return zu2(+t3,+n5);case y2:return t3.name==n5.name&&t3.message==n5.message;case A2:case C2:return t3==n5+"";case m2:var a4=cr2;case E2:var c4=1&e5;if(a4||(a4=lr2),t3.size!=n5.size&&!c4)return!1;var f4=u4.get(t3);if(f4)return f4==n5;e5|=2,u4.set(t3,n5);var s4=ro2(a4(t3),a4(n5),e5,i5,o5,u4);return u4.delete(t3),s4;case I2:if(Tr2)return Tr2.call(t3)==Tr2.call(n5)}return!1}(n4,r4,f3,e4,i4,o4,u3);if(!(1&e4)){var w3=l3&&Nt3.call(n4,"__wrapped__"),b3=h3&&Nt3.call(r4,"__wrapped__");if(w3||b3){var x3=w3?n4.value():n4,S3=b3?r4.value():r4;return u3||(u3=new Yr2),o4(x3,S3,e4,i4,u3)}}return!!p3&&(u3||(u3=new Yr2),function(n5,r5,e5,i5,o5,u4){var a4=1&e5,c4=io2(n5),f4=c4.length,s4=io2(r5),l4=s4.length;if(f4!=l4&&!a4)return!1;for(var h4=f4;h4--;){var p4=c4[h4];if(!(a4?p4 in r5:Nt3.call(r5,p4)))return!1}var d3=u4.get(n5),v3=u4.get(r5);if(d3&&v3)return d3==r5&&v3==n5;var _3=!0;u4.set(n5,r5),u4.set(r5,n5);for(var g3=a4;++h4<f4;){var y3=n5[p4=c4[h4]],w4=r5[p4];if(i5)var b4=a4?i5(w4,y3,p4,r5,n5,u4):i5(y3,w4,p4,n5,r5,u4);if(!(b4===t2?y3===w4||o5(y3,w4,e5,i5,u4):b4)){_3=!1;break}g3||(g3=p4=="constructor")}if(_3&&!g3){var m3=n5.constructor,x4=r5.constructor;m3==x4||!("constructor"in n5)||!("constructor"in r5)||typeof m3=="function"&&m3 instanceof m3&&typeof x4=="function"&&x4 instanceof x4||(_3=!1)}return u4.delete(n5),u4.delete(r5),_3}(n4,r4,e4,i4,o4,u3))}(n3,r3,e3,i3,Re2,o3))}__name(Re2,"Re");function ke(n3,r3,e3,i3){var o3=e3.length,u3=o3,a3=!i3;if(n3==null)return!u3;for(n3=Pt3(n3);o3--;){var c3=e3[o3];if(a3&&c3[2]?c3[1]!==n3[c3[0]]:!(c3[0]in n3))return!1}for(;++o3<u3;){var f3=(c3=e3[o3])[0],s3=n3[f3],l3=c3[1];if(a3&&c3[2]){if(s3===t2&&!(f3 in n3))return!1}else{var h3=new Yr2;if(i3)var p3=i3(s3,l3,f3,n3,r3,h3);if(!(p3===t2?Re2(l3,s3,3,i3,h3):p3))return!1}}return!0}__name(ke,"ke");function Be(t3){return!(!na2(t3)||(n3=t3,Lt3&&Lt3 in n3))&&(Xu2(t3)?Ft3:gt2).test(To2(t3));var n3}__name(Be,"Be");function Ne(t3){return typeof t3=="function"?t3:t3==null?ic2:typeof t3=="object"?Ku2(t3)?Fe(t3[0],t3[1]):ze2(t3):pc2(t3)}__name(Ne,"Ne");function De(t3){if(!Oo2(t3))return yr2(t3);var n3=[];for(var r3 in Pt3(t3))Nt3.call(t3,r3)&&r3!="constructor"&&n3.push(r3);return n3}__name(De,"De");function Le(t3){if(!na2(t3))return function(t4){var n4=[];if(t4!=null)for(var r4 in Pt3(t4))n4.push(r4);return n4}(t3);var n3=Oo2(t3),r3=[];for(var e3 in t3)(e3!="constructor"||!n3&&Nt3.call(t3,e3))&&r3.push(e3);return r3}__name(Le,"Le");function Te(t3,n3){return t3<n3}__name(Te,"Te");function We2(t3,n3){var r3=-1,e3=Gu2(t3)?ut3(t3.length):[];return pe2(t3,function(t4,i3,o3){e3[++r3]=n3(t4,i3,o3)}),e3}__name(We2,"We");function ze2(t3){var n3=lo2(t3);return n3.length==1&&n3[0][2]?Po2(n3[0][0],n3[0][1]):function(r3){return r3===t3||ke(r3,t3,n3)}}__name(ze2,"ze");function Fe(n3,r3){return xo2(n3)&&jo2(r3)?Po2(Lo2(n3),r3):function(e3){var i3=Pa(e3,n3);return i3===t2&&i3===r3?Aa2(e3,n3):Re2(r3,i3,3)}}__name(Fe,"Fe");function $e2(n3,r3,e3,i3,o3){n3!==r3&&we(r3,function(u3,a3){if(o3||(o3=new Yr2),na2(u3))(function(n4,r4,e4,i4,o4,u4,a4){var c4=Co2(n4,e4),f3=Co2(r4,e4),s3=a4.get(f3);if(s3)ne2(n4,e4,s3);else{var l3=u4?u4(c4,f3,e4+"",n4,r4,a4):t2,h3=l3===t2;if(h3){var p3=Ku2(f3),d3=!p3&&Ju2(f3),v3=!p3&&!d3&&sa(f3);l3=f3,p3||d3||v3?Ku2(c4)?l3=c4:Zu2(c4)?l3=Ci(c4):d3?(h3=!1,l3=Si(f3,!0)):v3?(h3=!1,l3=ji(f3,!0)):l3=[]:oa(f3)||Hu2(f3)?(l3=c4,Hu2(c4)?l3=ya2(c4):na2(c4)&&!Xu2(c4)||(l3=yo2(f3))):h3=!1}h3&&(a4.set(f3,l3),o4(l3,f3,i4,u4,a4),a4.delete(f3)),ne2(n4,e4,l3)}})(n3,r3,a3,e3,$e2,i3,o3);else{var c3=i3?i3(Co2(n3,a3),u3,a3+"",n3,r3,o3):t2;c3===t2&&(c3=u3),ne2(n3,a3,c3)}},Ra)}__name($e2,"$e");function He2(n3,r3){var e3=n3.length;if(e3)return bo2(r3+=r3<0?e3:0,e3)?n3[r3]:t2}__name(He2,"He");function Ke(t3,n3,r3){n3=n3.length?Bn2(n3,function(t4){return Ku2(t4)?function(n4){return Se2(n4,t4.length===1?t4[0]:t4)}:t4}):[ic2];var e3=-1;n3=Bn2(n3,Qn2(fo2()));var i3=We2(t3,function(t4,r4,i4){var o3=Bn2(n3,function(n4){return n4(t4)});return{criteria:o3,index:++e3,value:t4}});return function(t4,n4){var r4=t4.length;for(t4.sort(n4);r4--;)t4[r4]=t4[r4].value;return t4}(i3,function(t4,n4){return function(t5,n5,r4){for(var e4=-1,i4=t5.criteria,o3=n5.criteria,u3=i4.length,a3=r4.length;++e4<u3;){var c3=Pi2(i4[e4],o3[e4]);if(c3)return e4>=a3?c3:c3*(r4[e4]=="desc"?-1:1)}return t5.index-n5.index}(t4,n4,r3)})}__name(Ke,"Ke");function qe(t3,n3,r3){for(var e3=-1,i3=n3.length,o3={};++e3<i3;){var u3=n3[e3],a3=Se2(t3,u3);r3(a3,u3)&&ti(o3,bi(u3,t3),a3)}return o3}__name(qe,"qe");function Ge(t3,n3,r3,e3){var i3=e3?Hn2:$n2,o3=-1,u3=n3.length,a3=t3;for(t3===n3&&(n3=Ci(n3)),r3&&(a3=Bn2(t3,Qn2(r3)));++o3<u3;)for(var c3=0,f3=n3[o3],s3=r3?r3(f3):f3;(c3=i3(a3,s3,c3,e3))>-1;)a3!==t3&&Yt3.call(a3,c3,1),Yt3.call(t3,c3,1);return t3}__name(Ge,"Ge");function Ze(t3,n3){for(var r3=t3?n3.length:0,e3=r3-1;r3--;){var i3=n3[r3];if(r3==e3||i3!==o3){var o3=i3;bo2(i3)?Yt3.call(t3,i3,1):hi(t3,i3)}}return t3}__name(Ze,"Ze");function Je(t3,n3){return t3+gn3(Ur2()*(n3-t3+1))}__name(Je,"Je");function Ye(t3,n3){var r3="";if(!t3||n3<1||n3>s2)return r3;do n3%2&&(r3+=t3),(n3=gn3(n3/2))&&(t3+=t3);while(n3);return r3}__name(Ye,"Ye");function Ve(t3,n3){return Ro2(Ao2(t3,n3,ic2),t3+"")}__name(Ve,"Ve");function Xe2(t3){return Xr2(za2(t3))}__name(Xe2,"Xe");function Qe2(t3,n3){var r3=za2(t3);return No2(r3,ce2(n3,0,r3.length))}__name(Qe2,"Qe");function ti(n3,r3,e3,i3){if(!na2(n3))return n3;for(var o3=-1,u3=(r3=bi(r3,n3)).length,a3=u3-1,c3=n3;c3!=null&&++o3<u3;){var f3=Lo2(r3[o3]),s3=e3;if(f3==="__proto__"||f3==="constructor"||f3==="prototype")return n3;if(o3!=a3){var l3=c3[f3];(s3=i3?i3(l3,f3,c3):t2)===t2&&(s3=na2(l3)?l3:bo2(r3[o3+1])?[]:{})}re2(c3,f3,s3),c3=c3[f3]}return n3}__name(ti,"ti");var ni=Ir2?function(t3,n3){return Ir2.set(t3,n3),t3}:ic2,ri=en2?function(t3,n3){return en2(t3,"toString",{configurable:!0,enumerable:!1,value:nc(n3),writable:!0})}:ic2;function ei(t3){return No2(za2(t3))}__name(ei,"ei");function ii(t3,n3,r3){var e3=-1,i3=t3.length;n3<0&&(n3=-n3>i3?0:i3+n3),(r3=r3>i3?i3:r3)<0&&(r3+=i3),i3=n3>r3?0:r3-n3>>>0,n3>>>=0;for(var o3=ut3(i3);++e3<i3;)o3[e3]=t3[e3+n3];return o3}__name(ii,"ii");function oi(t3,n3){var r3;return pe2(t3,function(t4,e3,i3){return!(r3=n3(t4,e3,i3))}),!!r3}__name(oi,"oi");function ui(t3,n3,r3){var e3=0,i3=t3==null?e3:t3.length;if(typeof n3=="number"&&n3==n3&&i3<=2147483647){for(;e3<i3;){var o3=e3+i3>>>1,u3=t3[o3];u3!==null&&!fa(u3)&&(r3?u3<=n3:u3<n3)?e3=o3+1:i3=o3}return i3}return ai(t3,n3,ic2,r3)}__name(ui,"ui");function ai(n3,r3,e3,i3){var o3=0,u3=n3==null?0:n3.length;if(u3===0)return 0;for(var a3=(r3=e3(r3))!=r3,c3=r3===null,f3=fa(r3),s3=r3===t2;o3<u3;){var l3=gn3((o3+u3)/2),h3=e3(n3[l3]),p3=h3!==t2,d3=h3===null,v3=h3==h3,_3=fa(h3);if(a3)var g3=i3||v3;else g3=s3?v3&&(i3||p3):c3?v3&&p3&&(i3||!d3):f3?v3&&p3&&!d3&&(i3||!_3):!d3&&!_3&&(i3?h3<=r3:h3<r3);g3?o3=l3+1:u3=l3}return br2(u3,4294967294)}__name(ai,"ai");function ci(t3,n3){for(var r3=-1,e3=t3.length,i3=0,o3=[];++r3<e3;){var u3=t3[r3],a3=n3?n3(u3):u3;if(!r3||!zu2(a3,c3)){var c3=a3;o3[i3++]=u3===0?0:u3}}return o3}__name(ci,"ci");function fi(t3){return typeof t3=="number"?t3:fa(t3)?l2:+t3}__name(fi,"fi");function si(t3){if(typeof t3=="string")return t3;if(Ku2(t3))return Bn2(t3,si)+"";if(fa(t3))return Wr2?Wr2.call(t3):"";var n3=t3+"";return n3=="0"&&1/t3==-1/0?"-0":n3}__name(si,"si");function li(t3,n3,r3){var e3=-1,i3=Rn2,o3=t3.length,u3=!0,a3=[],c3=a3;if(r3)u3=!1,i3=kn2;else if(o3>=200){var f3=n3?null:Yi(t3);if(f3)return lr2(f3);u3=!1,i3=nr2,c3=new Jr2}else c3=n3?[]:a3;t:for(;++e3<o3;){var s3=t3[e3],l3=n3?n3(s3):s3;if(s3=r3||s3!==0?s3:0,u3&&l3==l3){for(var h3=c3.length;h3--;)if(c3[h3]===l3)continue t;n3&&c3.push(l3),a3.push(s3)}else i3(c3,l3,r3)||(c3!==a3&&c3.push(l3),a3.push(s3))}return a3}__name(li,"li");function hi(t3,n3){return(t3=Eo2(t3,n3=bi(n3,t3)))==null||delete t3[Lo2(Vo2(n3))]}__name(hi,"hi");function pi(t3,n3,r3,e3){return ti(t3,n3,r3(Se2(t3,n3)),e3)}__name(pi,"pi");function di(t3,n3,r3,e3){for(var i3=t3.length,o3=e3?i3:-1;(e3?o3--:++o3<i3)&&n3(t3[o3],o3,t3););return r3?ii(t3,e3?0:o3,e3?o3+1:i3):ii(t3,e3?o3+1:0,e3?i3:o3)}__name(di,"di");function vi(t3,n3){var r3=t3;return r3 instanceof Kr2&&(r3=r3.value()),Dn2(n3,function(t4,n4){return n4.func.apply(n4.thisArg,Nn2([t4],n4.args))},r3)}__name(vi,"vi");function _i2(t3,n3,r3){var e3=t3.length;if(e3<2)return e3?li(t3[0]):[];for(var i3=-1,o3=ut3(e3);++i3<e3;)for(var u3=t3[i3],a3=-1;++a3<e3;)a3!=i3&&(o3[i3]=he2(o3[i3]||u3,t3[a3],n3,r3));return li(ye2(o3,1),n3,r3)}__name(_i2,"_i");function gi(n3,r3,e3){for(var i3=-1,o3=n3.length,u3=r3.length,a3={};++i3<o3;){var c3=i3<u3?r3[i3]:t2;e3(a3,n3[i3],c3)}return a3}__name(gi,"gi");function yi(t3){return Zu2(t3)?t3:[]}__name(yi,"yi");function wi(t3){return typeof t3=="function"?t3:ic2}__name(wi,"wi");function bi(t3,n3){return Ku2(t3)?t3:xo2(t3,n3)?[t3]:Do2(wa2(t3))}__name(bi,"bi");var mi=Ve;function xi(n3,r3,e3){var i3=n3.length;return e3=e3===t2?i3:e3,!r3&&e3>=i3?n3:ii(n3,r3,e3)}__name(xi,"xi");var Ui=sn3||function(t3){return vn2.clearTimeout(t3)};function Si(t3,n3){if(n3)return t3.slice();var r3=t3.length,e3=qt3?qt3(r3):new t3.constructor(r3);return t3.copy(e3),e3}__name(Si,"Si");function Oi2(t3){var n3=new t3.constructor(t3.byteLength);return new Kt3(n3).set(new Kt3(t3)),n3}__name(Oi2,"Oi");function ji(t3,n3){var r3=n3?Oi2(t3.buffer):t3.buffer;return new t3.constructor(r3,t3.byteOffset,t3.length)}__name(ji,"ji");function Pi2(n3,r3){if(n3!==r3){var e3=n3!==t2,i3=n3===null,o3=n3==n3,u3=fa(n3),a3=r3!==t2,c3=r3===null,f3=r3==r3,s3=fa(r3);if(!c3&&!s3&&!u3&&n3>r3||u3&&a3&&f3&&!c3&&!s3||i3&&a3&&f3||!e3&&f3||!o3)return 1;if(!i3&&!u3&&!s3&&n3<r3||s3&&e3&&o3&&!i3&&!u3||c3&&e3&&o3||!a3&&o3||!f3)return-1}return 0}__name(Pi2,"Pi");function Ai(t3,n3,r3,e3){for(var i3=-1,o3=t3.length,u3=r3.length,a3=-1,c3=n3.length,f3=wr2(o3-u3,0),s3=ut3(c3+f3),l3=!e3;++a3<c3;)s3[a3]=n3[a3];for(;++i3<u3;)(l3||i3<o3)&&(s3[r3[i3]]=t3[i3]);for(;f3--;)s3[a3++]=t3[i3++];return s3}__name(Ai,"Ai");function Ei2(t3,n3,r3,e3){for(var i3=-1,o3=t3.length,u3=-1,a3=r3.length,c3=-1,f3=n3.length,s3=wr2(o3-a3,0),l3=ut3(s3+f3),h3=!e3;++i3<s3;)l3[i3]=t3[i3];for(var p3=i3;++c3<f3;)l3[p3+c3]=n3[c3];for(;++u3<a3;)(h3||i3<o3)&&(l3[p3+r3[u3]]=t3[i3++]);return l3}__name(Ei2,"Ei");function Ci(t3,n3){var r3=-1,e3=t3.length;for(n3||(n3=ut3(e3));++r3<e3;)n3[r3]=t3[r3];return n3}__name(Ci,"Ci");function Ii(n3,r3,e3,i3){var o3=!e3;e3||(e3={});for(var u3=-1,a3=r3.length;++u3<a3;){var c3=r3[u3],f3=i3?i3(e3[c3],n3[c3],c3,e3,n3):t2;f3===t2&&(f3=n3[c3]),o3?ue2(e3,c3,f3):re2(e3,c3,f3)}return e3}__name(Ii,"Ii");function Mi2(t3,n3){return function(r3,e3){var i3=Ku2(r3)?An2:ie2,o3=n3?n3():{};return i3(r3,t3,fo2(e3,2),o3)}}__name(Mi2,"Mi");function Ri2(n3){return Ve(function(r3,e3){var i3=-1,o3=e3.length,u3=o3>1?e3[o3-1]:t2,a3=o3>2?e3[2]:t2;for(u3=n3.length>3&&typeof u3=="function"?(o3--,u3):t2,a3&&mo2(e3[0],e3[1],a3)&&(u3=o3<3?t2:u3,o3=1),r3=Pt3(r3);++i3<o3;){var c3=e3[i3];c3&&n3(r3,c3,i3,u3)}return r3})}__name(Ri2,"Ri");function ki(t3,n3){return function(r3,e3){if(r3==null)return r3;if(!Gu2(r3))return t3(r3,e3);for(var i3=r3.length,o3=n3?i3:-1,u3=Pt3(r3);(n3?o3--:++o3<i3)&&e3(u3[o3],o3,u3)!==!1;);return r3}}__name(ki,"ki");function Bi(t3){return function(n3,r3,e3){for(var i3=-1,o3=Pt3(n3),u3=e3(n3),a3=u3.length;a3--;){var c3=u3[t3?a3:++i3];if(r3(o3[c3],c3,o3)===!1)break}return n3}}__name(Bi,"Bi");function Ni(n3){return function(r3){var e3=ar2(r3=wa2(r3))?dr2(r3):t2,i3=e3?e3[0]:r3.charAt(0),o3=e3?xi(e3,1).join(""):r3.slice(1);return i3[n3]()+o3}}__name(Ni,"Ni");function Di(t3){return function(n3){return Dn2(Xa(Ha2(n3).replace(Qt2,"")),t3,"")}}__name(Di,"Di");function Li(t3){return function(){var n3=arguments;switch(n3.length){case 0:return new t3;case 1:return new t3(n3[0]);case 2:return new t3(n3[0],n3[1]);case 3:return new t3(n3[0],n3[1],n3[2]);case 4:return new t3(n3[0],n3[1],n3[2],n3[3]);case 5:return new t3(n3[0],n3[1],n3[2],n3[3],n3[4]);case 6:return new t3(n3[0],n3[1],n3[2],n3[3],n3[4],n3[5]);case 7:return new t3(n3[0],n3[1],n3[2],n3[3],n3[4],n3[5],n3[6])}var r3=Fr2(t3.prototype),e3=t3.apply(r3,n3);return na2(e3)?e3:r3}}__name(Li,"Li");function Ti(n3){return function(r3,e3,i3){var o3=Pt3(r3);if(!Gu2(r3)){var u3=fo2(e3,3);r3=Ma(r3),e3=__name(function(t3){return u3(o3[t3],t3,o3)},"e")}var a3=n3(r3,e3,i3);return a3>-1?o3[u3?r3[a3]:a3]:t2}}__name(Ti,"Ti");function Wi2(r3){return eo2(function(e3){var i3=e3.length,o3=i3,u3=Hr2.prototype.thru;for(r3&&e3.reverse();o3--;){var a3=e3[o3];if(typeof a3!="function")throw new Ct3(n2);if(u3&&!c3&&ao2(a3)=="wrapper")var c3=new Hr2([],!0)}for(o3=c3?o3:i3;++o3<i3;){var f3=ao2(a3=e3[o3]),s3=f3=="wrapper"?uo2(a3):t2;c3=s3&&Uo2(s3[0])&&s3[1]==424&&!s3[4].length&&s3[9]==1?c3[ao2(s3[0])].apply(c3,s3[3]):a3.length==1&&Uo2(a3)?c3[f3]():c3.thru(a3)}return function(){var t3=arguments,n3=t3[0];if(c3&&t3.length==1&&Ku2(n3))return c3.plant(n3).value();for(var r4=0,o4=i3?e3[r4].apply(this,t3):n3;++r4<i3;)o4=e3[r4].call(this,o4);return o4}})}__name(Wi2,"Wi");function zi(n3,r3,e3,i3,o3,u3,c3,f3,s3,l3){var h3=r3&a2,p3=1&r3,d3=2&r3,v3=24&r3,_3=512&r3,g3=d3?t2:Li(n3);return __name(function a3(){for(var y3=arguments.length,w3=ut3(y3),b3=y3;b3--;)w3[b3]=arguments[b3];if(v3)var m3=co2(a3),x3=function(t3,n4){for(var r4=t3.length,e4=0;r4--;)t3[r4]===n4&&++e4;return e4}(w3,m3);if(i3&&(w3=Ai(w3,i3,o3,v3)),u3&&(w3=Ei2(w3,u3,c3,v3)),y3-=x3,v3&&y3<l3){var U3=sr2(w3,m3);return Zi(n3,r3,zi,a3.placeholder,e3,w3,U3,f3,s3,l3-y3)}var S3=p3?e3:this,O3=d3?S3[n3]:n3;return y3=w3.length,f3?w3=function(n4,r4){for(var e4=n4.length,i4=br2(r4.length,e4),o4=Ci(n4);i4--;){var u4=r4[i4];n4[i4]=bo2(u4,e4)?o4[u4]:t2}return n4}(w3,f3):_3&&y3>1&&w3.reverse(),h3&&s3<y3&&(w3.length=s3),this&&this!==vn2&&this instanceof a3&&(O3=g3||Li(O3)),O3.apply(S3,w3)},"a")}__name(zi,"zi");function Fi(t3,n3){return function(r3,e3){return function(t4,n4,r4,e4){return me2(t4,function(t5,i3,o3){n4(e4,r4(t5),i3,o3)}),e4}(r3,t3,n3(e3),{})}}__name(Fi,"Fi");function $i(n3,r3){return function(e3,i3){var o3;if(e3===t2&&i3===t2)return r3;if(e3!==t2&&(o3=e3),i3!==t2){if(o3===t2)return i3;typeof e3=="string"||typeof i3=="string"?(e3=si(e3),i3=si(i3)):(e3=fi(e3),i3=fi(i3)),o3=n3(e3,i3)}return o3}}__name($i,"$i");function Hi(t3){return eo2(function(n3){return n3=Bn2(n3,Qn2(fo2())),Ve(function(r3){var e3=this;return t3(n3,function(t4){return Pn2(t4,e3,r3)})})})}__name(Hi,"Hi");function Ki(n3,r3){var e3=(r3=r3===t2?" ":si(r3)).length;if(e3<2)return e3?Ye(r3,n3):r3;var i3=Ye(r3,_n3(n3/pr2(r3)));return ar2(r3)?xi(dr2(i3),0,n3).join(""):i3.slice(0,n3)}__name(Ki,"Ki");function qi(n3){return function(r3,e3,i3){return i3&&typeof i3!="number"&&mo2(r3,e3,i3)&&(e3=i3=t2),r3=da2(r3),e3===t2?(e3=r3,r3=0):e3=da2(e3),function(t3,n4,r4,e4){for(var i4=-1,o3=wr2(_n3((n4-t3)/(r4||1)),0),u3=ut3(o3);o3--;)u3[e4?o3:++i4]=t3,t3+=r4;return u3}(r3,e3,i3=i3===t2?r3<e3?1:-1:da2(i3),n3)}}__name(qi,"qi");function Gi(t3){return function(n3,r3){return typeof n3=="string"&&typeof r3=="string"||(n3=ga2(n3),r3=ga2(r3)),t3(n3,r3)}}__name(Gi,"Gi");function Zi(n3,r3,e3,i3,a3,c3,f3,s3,l3,h3){var p3=8&r3;r3|=p3?o2:u2,4&(r3&=~(p3?u2:o2))||(r3&=-4);var d3=[n3,r3,a3,p3?c3:t2,p3?f3:t2,p3?t2:c3,p3?t2:f3,s3,l3,h3],v3=e3.apply(t2,d3);return Uo2(n3)&&Io2(v3,d3),v3.placeholder=i3,ko2(v3,n3,r3)}__name(Zi,"Zi");function Ji(t3){var n3=jt3[t3];return function(t4,r3){if(t4=ga2(t4),(r3=r3==null?0:br2(va2(r3),292))&&Wn3(t4)){var e3=(wa2(t4)+"e").split("e");return+((e3=(wa2(n3(e3[0]+"e"+(+e3[1]+r3)))+"e").split("e"))[0]+"e"+(+e3[1]-r3))}return n3(t4)}}__name(Ji,"Ji");var Yi=Ar2&&1/lr2(new Ar2([,-0]))[1]==f2?function(t3){return new Ar2(t3)}:fc2;function Vi(t3){return function(n3){var r3=_o2(n3);return r3==m2?cr2(n3):r3==E2?hr2(n3):function(t4,n4){return Bn2(n4,function(n5){return[n5,t4[n5]]})}(n3,t3(n3))}}__name(Vi,"Vi");function Xi(r3,f3,s3,l3,h3,p3,d3,v3){var _3=2&f3;if(!_3&&typeof r3!="function")throw new Ct3(n2);var g3=l3?l3.length:0;if(g3||(f3&=-97,l3=h3=t2),d3=d3===t2?d3:wr2(va2(d3),0),v3=v3===t2?v3:va2(v3),g3-=h3?h3.length:0,f3&u2){var y3=l3,w3=h3;l3=h3=t2}var b3=_3?t2:uo2(r3),m3=[r3,f3,s3,l3,h3,y3,w3,p3,d3,v3];if(b3&&function(t3,n3){var r4=t3[1],i3=n3[1],o3=r4|i3,u3=o3<131,f4=i3==a2&&r4==8||i3==a2&&r4==c2&&t3[7].length<=n3[8]||i3==384&&n3[7].length<=n3[8]&&r4==8;if(!u3&&!f4)return t3;1&i3&&(t3[2]=n3[2],o3|=1&r4?0:4);var s4=n3[3];if(s4){var l4=t3[3];t3[3]=l4?Ai(l4,s4,n3[4]):s4,t3[4]=l4?sr2(t3[3],e2):n3[4]}(s4=n3[5])&&(l4=t3[5],t3[5]=l4?Ei2(l4,s4,n3[6]):s4,t3[6]=l4?sr2(t3[5],e2):n3[6]),(s4=n3[7])&&(t3[7]=s4),i3&a2&&(t3[8]=t3[8]==null?n3[8]:br2(t3[8],n3[8])),t3[9]==null&&(t3[9]=n3[9]),t3[0]=n3[0],t3[1]=o3}(m3,b3),r3=m3[0],f3=m3[1],s3=m3[2],l3=m3[3],h3=m3[4],!(v3=m3[9]=m3[9]===t2?_3?0:r3.length:wr2(m3[9]-g3,0))&&24&f3&&(f3&=-25),f3&&f3!=1)x3=f3==8||f3==i2?function(n3,r4,e3){var i3=Li(n3);return __name(function o3(){for(var u3=arguments.length,a3=ut3(u3),c3=u3,f4=co2(o3);c3--;)a3[c3]=arguments[c3];var s4=u3<3&&a3[0]!==f4&&a3[u3-1]!==f4?[]:sr2(a3,f4);return(u3-=s4.length)<e3?Zi(n3,r4,zi,o3.placeholder,t2,a3,s4,t2,t2,e3-u3):Pn2(this&&this!==vn2&&this instanceof o3?i3:n3,this,a3)},"o")}(r3,f3,v3):f3!=o2&&f3!=33||h3.length?zi.apply(t2,m3):function(t3,n3,r4,e3){var i3=1&n3,o3=Li(t3);return __name(function n4(){for(var u3=-1,a3=arguments.length,c3=-1,f4=e3.length,s4=ut3(f4+a3),l4=this&&this!==vn2&&this instanceof n4?o3:t3;++c3<f4;)s4[c3]=e3[c3];for(;a3--;)s4[c3++]=arguments[++u3];return Pn2(l4,i3?r4:this,s4)},"n")}(r3,f3,s3,l3);else var x3=function(t3,n3,r4){var e3=1&n3,i3=Li(t3);return __name(function n4(){return(this&&this!==vn2&&this instanceof n4?i3:t3).apply(e3?r4:this,arguments)},"n")}(r3,f3,s3);return ko2((b3?ni:Io2)(x3,m3),r3,f3)}__name(Xi,"Xi");function Qi(n3,r3,e3,i3){return n3===t2||zu2(n3,Rt3[e3])&&!Nt3.call(i3,e3)?r3:n3}__name(Qi,"Qi");function to2(n3,r3,e3,i3,o3,u3){return na2(n3)&&na2(r3)&&(u3.set(r3,n3),$e2(n3,r3,t2,to2,u3),u3.delete(r3)),n3}__name(to2,"to");function no2(n3){return oa(n3)?t2:n3}__name(no2,"no");function ro2(n3,r3,e3,i3,o3,u3){var a3=1&e3,c3=n3.length,f3=r3.length;if(c3!=f3&&!(a3&&f3>c3))return!1;var s3=u3.get(n3),l3=u3.get(r3);if(s3&&l3)return s3==r3&&l3==n3;var h3=-1,p3=!0,d3=2&e3?new Jr2:t2;for(u3.set(n3,r3),u3.set(r3,n3);++h3<c3;){var v3=n3[h3],_3=r3[h3];if(i3)var g3=a3?i3(_3,v3,h3,r3,n3,u3):i3(v3,_3,h3,n3,r3,u3);if(g3!==t2){if(g3)continue;p3=!1;break}if(d3){if(!Tn2(r3,function(t3,n4){if(!nr2(d3,n4)&&(v3===t3||o3(v3,t3,e3,i3,u3)))return d3.push(n4)})){p3=!1;break}}else if(v3!==_3&&!o3(v3,_3,e3,i3,u3)){p3=!1;break}}return u3.delete(n3),u3.delete(r3),p3}__name(ro2,"ro");function eo2(n3){return Ro2(Ao2(n3,t2,qo2),n3+"")}__name(eo2,"eo");function io2(t3){return Oe(t3,Ma,po2)}__name(io2,"io");function oo2(t3){return Oe(t3,Ra,vo2)}__name(oo2,"oo");var uo2=Ir2?function(t3){return Ir2.get(t3)}:fc2;function ao2(t3){for(var n3=t3.name+"",r3=Mr2[n3],e3=Nt3.call(Mr2,n3)?r3.length:0;e3--;){var i3=r3[e3],o3=i3.func;if(o3==null||o3==t3)return i3.name}return n3}__name(ao2,"ao");function co2(t3){return(Nt3.call(zr2,"placeholder")?zr2:t3).placeholder}__name(co2,"co");function fo2(){var t3=zr2.iteratee||oc2;return t3=t3===oc2?Ne:t3,arguments.length?t3(arguments[0],arguments[1]):t3}__name(fo2,"fo");function so2(t3,n3){var r3,e3,i3=t3.__data__;return((e3=typeof(r3=n3))=="string"||e3=="number"||e3=="symbol"||e3=="boolean"?r3!=="__proto__":r3===null)?i3[typeof n3=="string"?"string":"hash"]:i3.map}__name(so2,"so");function lo2(t3){for(var n3=Ma(t3),r3=n3.length;r3--;){var e3=n3[r3],i3=t3[e3];n3[r3]=[e3,i3,jo2(i3)]}return n3}__name(lo2,"lo");function ho2(n3,r3){var e3=function(n4,r4){return n4==null?t2:n4[r4]}(n3,r3);return Be(e3)?e3:t2}__name(ho2,"ho");var po2=wn3?function(t3){return t3==null?[]:(t3=Pt3(t3),Mn2(wn3(t3),function(n3){return Jt3.call(t3,n3)}))}:_c2,vo2=wn3?function(t3){for(var n3=[];t3;)Nn2(n3,po2(t3)),t3=Gt3(t3);return n3}:_c2,_o2=je;function go(t3,n3,r3){for(var e3=-1,i3=(n3=bi(n3,t3)).length,o3=!1;++e3<i3;){var u3=Lo2(n3[e3]);if(!(o3=t3!=null&&r3(t3,u3)))break;t3=t3[u3]}return o3||++e3!=i3?o3:!!(i3=t3==null?0:t3.length)&&ta(i3)&&bo2(u3,i3)&&(Ku2(t3)||Hu2(t3))}__name(go,"go");function yo2(t3){return typeof t3.constructor!="function"||Oo2(t3)?{}:Fr2(Gt3(t3))}__name(yo2,"yo");function wo2(t3){return Ku2(t3)||Hu2(t3)||!!(Vt3&&t3&&t3[Vt3])}__name(wo2,"wo");function bo2(t3,n3){var r3=typeof t3;return!!(n3=n3??s2)&&(r3=="number"||r3!="symbol"&&wt2.test(t3))&&t3>-1&&t3%1==0&&t3<n3}__name(bo2,"bo");function mo2(t3,n3,r3){if(!na2(r3))return!1;var e3=typeof n3;return!!(e3=="number"?Gu2(r3)&&bo2(n3,r3.length):e3=="string"&&n3 in r3)&&zu2(r3[n3],t3)}__name(mo2,"mo");function xo2(t3,n3){if(Ku2(t3))return!1;var r3=typeof t3;return!(r3!="number"&&r3!="symbol"&&r3!="boolean"&&t3!=null&&!fa(t3))||nt2.test(t3)||!tt2.test(t3)||n3!=null&&t3 in Pt3(n3)}__name(xo2,"xo");function Uo2(t3){var n3=ao2(t3),r3=zr2[n3];if(typeof r3!="function"||!(n3 in Kr2.prototype))return!1;if(t3===r3)return!0;var e3=uo2(r3);return!!e3&&t3===e3[0]}__name(Uo2,"Uo"),(Or&&_o2(new Or(new ArrayBuffer(1)))!=k2||jr2&&_o2(new jr2)!=m2||Pr&&_o2(Pr.resolve())!=P2||Ar2&&_o2(new Ar2)!=E2||Er2&&_o2(new Er2)!=M2)&&(_o2=__name(function(n3){var r3=je(n3),e3=r3==j2?n3.constructor:t2,i3=e3?To2(e3):"";if(i3)switch(i3){case Rr2:return k2;case kr:return m2;case Br2:return P2;case Nr2:return E2;case Dr2:return M2}return r3},"_o"));var So2=kt3?Xu2:gc2;function Oo2(t3){var n3=t3&&t3.constructor;return t3===(typeof n3=="function"&&n3.prototype||Rt3)}__name(Oo2,"Oo");function jo2(t3){return t3==t3&&!na2(t3)}__name(jo2,"jo");function Po2(n3,r3){return function(e3){return e3!=null&&e3[n3]===r3&&(r3!==t2||n3 in Pt3(e3))}}__name(Po2,"Po");function Ao2(n3,r3,e3){return r3=wr2(r3===t2?n3.length-1:r3,0),function(){for(var t3=arguments,i3=-1,o3=wr2(t3.length-r3,0),u3=ut3(o3);++i3<o3;)u3[i3]=t3[r3+i3];i3=-1;for(var a3=ut3(r3+1);++i3<r3;)a3[i3]=t3[i3];return a3[r3]=e3(u3),Pn2(n3,this,a3)}}__name(Ao2,"Ao");function Eo2(t3,n3){return n3.length<2?t3:Se2(t3,ii(n3,0,-1))}__name(Eo2,"Eo");function Co2(t3,n3){if((n3!=="constructor"||typeof t3[n3]!="function")&&n3!="__proto__")return t3[n3]}__name(Co2,"Co");var Io2=Bo2(ni),Mo2=dn3||function(t3,n3){return vn2.setTimeout(t3,n3)},Ro2=Bo2(ri);function ko2(t3,n3,r3){var e3=n3+"";return Ro2(t3,function(t4,n4){var r4=n4.length;if(!r4)return t4;var e4=r4-1;return n4[e4]=(r4>1?"& ":"")+n4[e4],n4=n4.join(r4>2?", ":" "),t4.replace(at2,`{
/* [wrapped with `+n4+`] */
`)}(e3,function(t4,n4){return En2(p2,function(r4){var e4="_."+r4[0];n4&r4[1]&&!Rn2(t4,e4)&&t4.push(e4)}),t4.sort()}(function(t4){var n4=t4.match(ct2);return n4?n4[1].split(ft2):[]}(e3),r3)))}__name(ko2,"ko");function Bo2(n3){var r3=0,e3=0;return function(){var i3=mr2(),o3=16-(i3-e3);if(e3=i3,o3>0){if(++r3>=800)return arguments[0]}else r3=0;return n3.apply(t2,arguments)}}__name(Bo2,"Bo");function No2(n3,r3){var e3=-1,i3=n3.length,o3=i3-1;for(r3=r3===t2?i3:r3;++e3<r3;){var u3=Je(e3,o3),a3=n3[u3];n3[u3]=n3[e3],n3[e3]=a3}return n3.length=r3,n3}__name(No2,"No");var Do2=function(t3){var n3=Bu2(t3,function(t4){return r3.size===500&&r3.clear(),t4}),r3=n3.cache;return n3}(function(t3){var n3=[];return t3.charCodeAt(0)===46&&n3.push(""),t3.replace(rt2,function(t4,r3,e3,i3){n3.push(e3?i3.replace(ht2,"$1"):r3||t4)}),n3});function Lo2(t3){if(typeof t3=="string"||fa(t3))return t3;var n3=t3+"";return n3=="0"&&1/t3==-1/0?"-0":n3}__name(Lo2,"Lo");function To2(t3){if(t3!=null){try{return Bt2.call(t3)}catch{}try{return t3+""}catch{}}return""}__name(To2,"To");function Wo2(t3){if(t3 instanceof Kr2)return t3.clone();var n3=new Hr2(t3.__wrapped__,t3.__chain__);return n3.__actions__=Ci(t3.__actions__),n3.__index__=t3.__index__,n3.__values__=t3.__values__,n3}__name(Wo2,"Wo");var zo2=Ve(function(t3,n3){return Zu2(t3)?he2(t3,ye2(n3,1,Zu2,!0)):[]}),Fo2=Ve(function(n3,r3){var e3=Vo2(r3);return Zu2(e3)&&(e3=t2),Zu2(n3)?he2(n3,ye2(r3,1,Zu2,!0),fo2(e3,2)):[]}),$o2=Ve(function(n3,r3){var e3=Vo2(r3);return Zu2(e3)&&(e3=t2),Zu2(n3)?he2(n3,ye2(r3,1,Zu2,!0),t2,e3):[]});function Ho2(t3,n3,r3){var e3=t3==null?0:t3.length;if(!e3)return-1;var i3=r3==null?0:va2(r3);return i3<0&&(i3=wr2(e3+i3,0)),Fn2(t3,fo2(n3,3),i3)}__name(Ho2,"Ho");function Ko2(n3,r3,e3){var i3=n3==null?0:n3.length;if(!i3)return-1;var o3=i3-1;return e3!==t2&&(o3=va2(e3),o3=e3<0?wr2(i3+o3,0):br2(o3,i3-1)),Fn2(n3,fo2(r3,3),o3,!0)}__name(Ko2,"Ko");function qo2(t3){return t3!=null&&t3.length?ye2(t3,1):[]}__name(qo2,"qo");function Go2(n3){return n3&&n3.length?n3[0]:t2}__name(Go2,"Go");var Zo2=Ve(function(t3){var n3=Bn2(t3,yi);return n3.length&&n3[0]===t3[0]?Ce(n3):[]}),Jo2=Ve(function(n3){var r3=Vo2(n3),e3=Bn2(n3,yi);return r3===Vo2(e3)?r3=t2:e3.pop(),e3.length&&e3[0]===n3[0]?Ce(e3,fo2(r3,2)):[]}),Yo2=Ve(function(n3){var r3=Vo2(n3),e3=Bn2(n3,yi);return(r3=typeof r3=="function"?r3:t2)&&e3.pop(),e3.length&&e3[0]===n3[0]?Ce(e3,t2,r3):[]});function Vo2(n3){var r3=n3==null?0:n3.length;return r3?n3[r3-1]:t2}__name(Vo2,"Vo");var Xo2=Ve(Qo2);function Qo2(t3,n3){return t3&&t3.length&&n3&&n3.length?Ge(t3,n3):t3}__name(Qo2,"Qo");var tu2=eo2(function(t3,n3){var r3=t3==null?0:t3.length,e3=ae2(t3,n3);return Ze(t3,Bn2(n3,function(t4){return bo2(t4,r3)?+t4:t4}).sort(Pi2)),e3});function nu2(t3){return t3==null?t3:Sr2.call(t3)}__name(nu2,"nu");var ru2=Ve(function(t3){return li(ye2(t3,1,Zu2,!0))}),eu2=Ve(function(n3){var r3=Vo2(n3);return Zu2(r3)&&(r3=t2),li(ye2(n3,1,Zu2,!0),fo2(r3,2))}),iu2=Ve(function(n3){var r3=Vo2(n3);return r3=typeof r3=="function"?r3:t2,li(ye2(n3,1,Zu2,!0),t2,r3)});function ou2(t3){if(!t3||!t3.length)return[];var n3=0;return t3=Mn2(t3,function(t4){if(Zu2(t4))return n3=wr2(t4.length,n3),!0}),Vn2(n3,function(n4){return Bn2(t3,Gn(n4))})}__name(ou2,"ou");function uu2(n3,r3){if(!n3||!n3.length)return[];var e3=ou2(n3);return r3==null?e3:Bn2(e3,function(n4){return Pn2(r3,t2,n4)})}__name(uu2,"uu");var au2=Ve(function(t3,n3){return Zu2(t3)?he2(t3,n3):[]}),cu2=Ve(function(t3){return _i2(Mn2(t3,Zu2))}),fu2=Ve(function(n3){var r3=Vo2(n3);return Zu2(r3)&&(r3=t2),_i2(Mn2(n3,Zu2),fo2(r3,2))}),su2=Ve(function(n3){var r3=Vo2(n3);return r3=typeof r3=="function"?r3:t2,_i2(Mn2(n3,Zu2),t2,r3)}),lu2=Ve(ou2),hu2=Ve(function(n3){var r3=n3.length,e3=r3>1?n3[r3-1]:t2;return e3=typeof e3=="function"?(n3.pop(),e3):t2,uu2(n3,e3)});function pu2(t3){var n3=zr2(t3);return n3.__chain__=!0,n3}__name(pu2,"pu");function du2(t3,n3){return n3(t3)}__name(du2,"du");var vu2=eo2(function(n3){var r3=n3.length,e3=r3?n3[0]:0,i3=this.__wrapped__,o3=__name(function(t3){return ae2(t3,n3)},"o");return!(r3>1||this.__actions__.length)&&i3 instanceof Kr2&&bo2(e3)?((i3=i3.slice(e3,+e3+(r3?1:0))).__actions__.push({func:du2,args:[o3],thisArg:t2}),new Hr2(i3,this.__chain__).thru(function(n4){return r3&&!n4.length&&n4.push(t2),n4})):this.thru(o3)}),_u2=Mi2(function(t3,n3,r3){Nt3.call(t3,r3)?++t3[r3]:ue2(t3,r3,1)}),gu2=Ti(Ho2),yu2=Ti(Ko2);function wu2(t3,n3){return(Ku2(t3)?En2:pe2)(t3,fo2(n3,3))}__name(wu2,"wu");function bu2(t3,n3){return(Ku2(t3)?Cn2:de2)(t3,fo2(n3,3))}__name(bu2,"bu");var mu2=Mi2(function(t3,n3,r3){Nt3.call(t3,r3)?t3[r3].push(n3):ue2(t3,r3,[n3])}),xu2=Ve(function(t3,n3,r3){var e3=-1,i3=typeof n3=="function",o3=Gu2(t3)?ut3(t3.length):[];return pe2(t3,function(t4){o3[++e3]=i3?Pn2(n3,t4,r3):Ie(t4,n3,r3)}),o3}),Uu2=Mi2(function(t3,n3,r3){ue2(t3,r3,n3)});function Su2(t3,n3){return(Ku2(t3)?Bn2:We2)(t3,fo2(n3,3))}__name(Su2,"Su");var Ou2=Mi2(function(t3,n3,r3){t3[r3?0:1].push(n3)},function(){return[[],[]]}),ju2=Ve(function(t3,n3){if(t3==null)return[];var r3=n3.length;return r3>1&&mo2(t3,n3[0],n3[1])?n3=[]:r3>2&&mo2(n3[0],n3[1],n3[2])&&(n3=[n3[0]]),Ke(t3,ye2(n3,1),[])}),Pu2=pn3||function(){return vn2.Date.now()};function Au2(n3,r3,e3){return r3=e3?t2:r3,r3=n3&&r3==null?n3.length:r3,Xi(n3,a2,t2,t2,t2,t2,r3)}__name(Au2,"Au");function Eu2(r3,e3){var i3;if(typeof e3!="function")throw new Ct3(n2);return r3=va2(r3),function(){return--r3>0&&(i3=e3.apply(this,arguments)),r3<=1&&(e3=t2),i3}}__name(Eu2,"Eu");var Cu2=Ve(function(t3,n3,r3){var e3=1;if(r3.length){var i3=sr2(r3,co2(Cu2));e3|=o2}return Xi(t3,e3,n3,r3,i3)}),Iu2=Ve(function(t3,n3,r3){var e3=3;if(r3.length){var i3=sr2(r3,co2(Iu2));e3|=o2}return Xi(n3,e3,t3,r3,i3)});function Mu2(r3,e3,i3){var o3,u3,a3,c3,f3,s3,l3=0,h3=!1,p3=!1,d3=!0;if(typeof r3!="function")throw new Ct3(n2);function v3(n3){var e4=o3,i4=u3;return o3=u3=t2,l3=n3,c3=r3.apply(i4,e4)}__name(v3,"v");function _3(n3){var r4=n3-s3;return s3===t2||r4>=e3||r4<0||p3&&n3-l3>=a3}__name(_3,"_");function g3(){var t3=Pu2();if(_3(t3))return y3(t3);f3=Mo2(g3,function(t4){var n3=e3-(t4-s3);return p3?br2(n3,a3-(t4-l3)):n3}(t3))}__name(g3,"g");function y3(n3){return f3=t2,d3&&o3?v3(n3):(o3=u3=t2,c3)}__name(y3,"y");function w3(){var n3=Pu2(),r4=_3(n3);if(o3=arguments,u3=this,s3=n3,r4){if(f3===t2)return function(t3){return l3=t3,f3=Mo2(g3,e3),h3?v3(t3):c3}(s3);if(p3)return Ui(f3),f3=Mo2(g3,e3),v3(s3)}return f3===t2&&(f3=Mo2(g3,e3)),c3}return __name(w3,"w"),e3=ga2(e3)||0,na2(i3)&&(h3=!!i3.leading,a3=(p3="maxWait"in i3)?wr2(ga2(i3.maxWait)||0,e3):a3,d3="trailing"in i3?!!i3.trailing:d3),w3.cancel=function(){f3!==t2&&Ui(f3),l3=0,o3=s3=u3=f3=t2},w3.flush=function(){return f3===t2?c3:y3(Pu2())},w3}__name(Mu2,"Mu");var Ru2=Ve(function(t3,n3){return le2(t3,1,n3)}),ku2=Ve(function(t3,n3,r3){return le2(t3,ga2(n3)||0,r3)});function Bu2(t3,r3){if(typeof t3!="function"||r3!=null&&typeof r3!="function")throw new Ct3(n2);var e3=__name(function(){var n3=arguments,i3=r3?r3.apply(this,n3):n3[0],o3=e3.cache;if(o3.has(i3))return o3.get(i3);var u3=t3.apply(this,n3);return e3.cache=o3.set(i3,u3)||o3,u3},"e");return e3.cache=new(Bu2.Cache||Zr2),e3}__name(Bu2,"Bu");function Nu2(t3){if(typeof t3!="function")throw new Ct3(n2);return function(){var n3=arguments;switch(n3.length){case 0:return!t3.call(this);case 1:return!t3.call(this,n3[0]);case 2:return!t3.call(this,n3[0],n3[1]);case 3:return!t3.call(this,n3[0],n3[1],n3[2])}return!t3.apply(this,n3)}}__name(Nu2,"Nu"),Bu2.Cache=Zr2;var Du2=mi(function(t3,n3){var r3=(n3=n3.length==1&&Ku2(n3[0])?Bn2(n3[0],Qn2(fo2())):Bn2(ye2(n3,1),Qn2(fo2()))).length;return Ve(function(e3){for(var i3=-1,o3=br2(e3.length,r3);++i3<o3;)e3[i3]=n3[i3].call(this,e3[i3]);return Pn2(t3,this,e3)})}),Lu2=Ve(function(n3,r3){var e3=sr2(r3,co2(Lu2));return Xi(n3,o2,t2,r3,e3)}),Tu2=Ve(function(n3,r3){var e3=sr2(r3,co2(Tu2));return Xi(n3,u2,t2,r3,e3)}),Wu2=eo2(function(n3,r3){return Xi(n3,c2,t2,t2,t2,r3)});function zu2(t3,n3){return t3===n3||t3!=t3&&n3!=n3}__name(zu2,"zu");var Fu2=Gi(Pe2),$u2=Gi(function(t3,n3){return t3>=n3}),Hu2=Me(function(){return arguments}())?Me:function(t3){return ra2(t3)&&Nt3.call(t3,"callee")&&!Jt3.call(t3,"callee")},Ku2=ut3.isArray,qu2=mn2?Qn2(mn2):function(t3){return ra2(t3)&&je(t3)==R2};function Gu2(t3){return t3!=null&&ta(t3.length)&&!Xu2(t3)}__name(Gu2,"Gu");function Zu2(t3){return ra2(t3)&&Gu2(t3)}__name(Zu2,"Zu");var Ju2=bn3||gc2,Yu2=xn2?Qn2(xn2):function(t3){return ra2(t3)&&je(t3)==g2};function Vu2(t3){if(!ra2(t3))return!1;var n3=je(t3);return n3==y2||n3=="[object DOMException]"||typeof t3.message=="string"&&typeof t3.name=="string"&&!oa(t3)}__name(Vu2,"Vu");function Xu2(t3){if(!na2(t3))return!1;var n3=je(t3);return n3==w2||n3==b2||n3=="[object AsyncFunction]"||n3=="[object Proxy]"}__name(Xu2,"Xu");function Qu2(t3){return typeof t3=="number"&&t3==va2(t3)}__name(Qu2,"Qu");function ta(t3){return typeof t3=="number"&&t3>-1&&t3%1==0&&t3<=s2}__name(ta,"ta");function na2(t3){var n3=typeof t3;return t3!=null&&(n3=="object"||n3=="function")}__name(na2,"na");function ra2(t3){return t3!=null&&typeof t3=="object"}__name(ra2,"ra");var ea2=Un2?Qn2(Un2):function(t3){return ra2(t3)&&_o2(t3)==m2};function ia2(t3){return typeof t3=="number"||ra2(t3)&&je(t3)==U2}__name(ia2,"ia");function oa(t3){if(!ra2(t3)||je(t3)!=j2)return!1;var n3=Gt3(t3);if(n3===null)return!0;var r3=Nt3.call(n3,"constructor")&&n3.constructor;return typeof r3=="function"&&r3 instanceof r3&&Bt2.call(r3)==Wt3}__name(oa,"oa");var ua2=Sn2?Qn2(Sn2):function(t3){return ra2(t3)&&je(t3)==A2},aa2=On2?Qn2(On2):function(t3){return ra2(t3)&&_o2(t3)==E2};function ca2(t3){return typeof t3=="string"||!Ku2(t3)&&ra2(t3)&&je(t3)==C2}__name(ca2,"ca");function fa(t3){return typeof t3=="symbol"||ra2(t3)&&je(t3)==I2}__name(fa,"fa");var sa=jn2?Qn2(jn2):function(t3){return ra2(t3)&&ta(t3.length)&&!!cn2[je(t3)]},la2=Gi(Te),ha=Gi(function(t3,n3){return t3<=n3});function pa(t3){if(!t3)return[];if(Gu2(t3))return ca2(t3)?dr2(t3):Ci(t3);if(Xt3&&t3[Xt3])return function(t4){for(var n4,r3=[];!(n4=t4.next()).done;)r3.push(n4.value);return r3}(t3[Xt3]());var n3=_o2(t3);return(n3==m2?cr2:n3==E2?lr2:za2)(t3)}__name(pa,"pa");function da2(t3){return t3?(t3=ga2(t3))===f2||t3===-1/0?17976931348623157e292*(t3<0?-1:1):t3==t3?t3:0:t3===0?t3:0}__name(da2,"da");function va2(t3){var n3=da2(t3),r3=n3%1;return n3==n3?r3?n3-r3:n3:0}__name(va2,"va");function _a19(t3){return t3?ce2(va2(t3),0,h2):0}__name(_a19,"_a");function ga2(t3){if(typeof t3=="number")return t3;if(fa(t3))return l2;if(na2(t3)){var n3=typeof t3.valueOf=="function"?t3.valueOf():t3;t3=na2(n3)?n3+"":n3}if(typeof t3!="string")return t3===0?t3:+t3;t3=Xn(t3);var r3=_t2.test(t3);return r3||yt2.test(t3)?hn2(t3.slice(2),r3?2:8):vt2.test(t3)?l2:+t3}__name(ga2,"ga");function ya2(t3){return Ii(t3,Ra(t3))}__name(ya2,"ya");function wa2(t3){return t3==null?"":si(t3)}__name(wa2,"wa");var ba2=Ri2(function(t3,n3){if(Oo2(n3)||Gu2(n3))Ii(n3,Ma(n3),t3);else for(var r3 in n3)Nt3.call(n3,r3)&&re2(t3,r3,n3[r3])}),ma2=Ri2(function(t3,n3){Ii(n3,Ra(n3),t3)}),xa2=Ri2(function(t3,n3,r3,e3){Ii(n3,Ra(n3),t3,e3)}),Ua=Ri2(function(t3,n3,r3,e3){Ii(n3,Ma(n3),t3,e3)}),Sa=eo2(ae2),Oa=Ve(function(n3,r3){n3=Pt3(n3);var e3=-1,i3=r3.length,o3=i3>2?r3[2]:t2;for(o3&&mo2(r3[0],r3[1],o3)&&(i3=1);++e3<i3;)for(var u3=r3[e3],a3=Ra(u3),c3=-1,f3=a3.length;++c3<f3;){var s3=a3[c3],l3=n3[s3];(l3===t2||zu2(l3,Rt3[s3])&&!Nt3.call(n3,s3))&&(n3[s3]=u3[s3])}return n3}),ja2=Ve(function(n3){return n3.push(t2,to2),Pn2(Ba2,t2,n3)});function Pa(n3,r3,e3){var i3=n3==null?t2:Se2(n3,r3);return i3===t2?e3:i3}__name(Pa,"Pa");function Aa2(t3,n3){return t3!=null&&go(t3,n3,Ee)}__name(Aa2,"Aa");var Ea2=Fi(function(t3,n3,r3){n3!=null&&typeof n3.toString!="function"&&(n3=Tt3.call(n3)),t3[n3]=r3},nc(ic2)),Ca2=Fi(function(t3,n3,r3){n3!=null&&typeof n3.toString!="function"&&(n3=Tt3.call(n3)),Nt3.call(t3,n3)?t3[n3].push(r3):t3[n3]=[r3]},fo2),Ia2=Ve(Ie);function Ma(t3){return Gu2(t3)?Vr2(t3):De(t3)}__name(Ma,"Ma");function Ra(t3){return Gu2(t3)?Vr2(t3,!0):Le(t3)}__name(Ra,"Ra");var ka2=Ri2(function(t3,n3,r3){$e2(t3,n3,r3)}),Ba2=Ri2(function(t3,n3,r3,e3){$e2(t3,n3,r3,e3)}),Na2=eo2(function(t3,n3){var r3={};if(t3==null)return r3;var e3=!1;n3=Bn2(n3,function(n4){return n4=bi(n4,t3),e3||(e3=n4.length>1),n4}),Ii(t3,oo2(t3),r3),e3&&(r3=fe2(r3,7,no2));for(var i3=n3.length;i3--;)hi(r3,n3[i3]);return r3}),Da2=eo2(function(t3,n3){return t3==null?{}:function(t4,n4){return qe(t4,n4,function(n5,r3){return Aa2(t4,r3)})}(t3,n3)});function La2(t3,n3){if(t3==null)return{};var r3=Bn2(oo2(t3),function(t4){return[t4]});return n3=fo2(n3),qe(t3,r3,function(t4,r4){return n3(t4,r4[0])})}__name(La2,"La");var Ta=Vi(Ma),Wa=Vi(Ra);function za2(t3){return t3==null?[]:tr2(t3,Ma(t3))}__name(za2,"za");var Fa2=Di(function(t3,n3,r3){return n3=n3.toLowerCase(),t3+(r3?$a2(n3):n3)});function $a2(t3){return Va(wa2(t3).toLowerCase())}__name($a2,"$a");function Ha2(t3){return(t3=wa2(t3))&&t3.replace(bt2,ir2).replace(tn,"")}__name(Ha2,"Ha");var Ka=Di(function(t3,n3,r3){return t3+(r3?"-":"")+n3.toLowerCase()}),qa=Di(function(t3,n3,r3){return t3+(r3?" ":"")+n3.toLowerCase()}),Ga2=Ni("toLowerCase"),Za=Di(function(t3,n3,r3){return t3+(r3?"_":"")+n3.toLowerCase()}),Ja2=Di(function(t3,n3,r3){return t3+(r3?" ":"")+Va(n3)}),Ya=Di(function(t3,n3,r3){return t3+(r3?" ":"")+n3.toUpperCase()}),Va=Ni("toUpperCase");function Xa(n3,r3,e3){return n3=wa2(n3),(r3=e3?t2:r3)===t2?function(t3){return on.test(t3)}(n3)?function(t3){return t3.match(rn)||[]}(n3):function(t3){return t3.match(st2)||[]}(n3):n3.match(r3)||[]}__name(Xa,"Xa");var Qa=Ve(function(n3,r3){try{return Pn2(n3,t2,r3)}catch(t3){return Vu2(t3)?t3:new St3(t3)}}),tc=eo2(function(t3,n3){return En2(n3,function(n4){n4=Lo2(n4),ue2(t3,n4,Cu2(t3[n4],t3))}),t3});function nc(t3){return function(){return t3}}__name(nc,"nc");var rc2=Wi2(),ec2=Wi2(!0);function ic2(t3){return t3}__name(ic2,"ic");function oc2(t3){return Ne(typeof t3=="function"?t3:fe2(t3,1))}__name(oc2,"oc");var uc=Ve(function(t3,n3){return function(r3){return Ie(r3,t3,n3)}}),ac2=Ve(function(t3,n3){return function(r3){return Ie(t3,r3,n3)}});function cc2(t3,n3,r3){var e3=Ma(n3),i3=Ue(n3,e3);r3!=null||na2(n3)&&(i3.length||!e3.length)||(r3=n3,n3=t3,t3=this,i3=Ue(n3,Ma(n3)));var o3=!(na2(r3)&&"chain"in r3&&!r3.chain),u3=Xu2(t3);return En2(i3,function(r4){var e4=n3[r4];t3[r4]=e4,u3&&(t3.prototype[r4]=function(){var n4=this.__chain__;if(o3||n4){var r5=t3(this.__wrapped__);return(r5.__actions__=Ci(this.__actions__)).push({func:e4,args:arguments,thisArg:t3}),r5.__chain__=n4,r5}return e4.apply(t3,Nn2([this.value()],arguments))})}),t3}__name(cc2,"cc");function fc2(){}__name(fc2,"fc");var sc2=Hi(Bn2),lc2=Hi(In2),hc2=Hi(Tn2);function pc2(t3){return xo2(t3)?Gn(Lo2(t3)):function(t4){return function(n3){return Se2(n3,t4)}}(t3)}__name(pc2,"pc");var dc2=qi(),vc=qi(!0);function _c2(){return[]}__name(_c2,"_c");function gc2(){return!1}__name(gc2,"gc");var yc,wc=$i(function(t3,n3){return t3+n3},0),bc2=Ji("ceil"),mc=$i(function(t3,n3){return t3/n3},1),xc=Ji("floor"),Uc=$i(function(t3,n3){return t3*n3},1),Sc=Ji("round"),Oc2=$i(function(t3,n3){return t3-n3},0);return zr2.after=function(t3,r3){if(typeof r3!="function")throw new Ct3(n2);return t3=va2(t3),function(){if(--t3<1)return r3.apply(this,arguments)}},zr2.ary=Au2,zr2.assign=ba2,zr2.assignIn=ma2,zr2.assignInWith=xa2,zr2.assignWith=Ua,zr2.at=Sa,zr2.before=Eu2,zr2.bind=Cu2,zr2.bindAll=tc,zr2.bindKey=Iu2,zr2.castArray=function(){if(!arguments.length)return[];var t3=arguments[0];return Ku2(t3)?t3:[t3]},zr2.chain=pu2,zr2.chunk=function(n3,r3,e3){r3=(e3?mo2(n3,r3,e3):r3===t2)?1:wr2(va2(r3),0);var i3=n3==null?0:n3.length;if(!i3||r3<1)return[];for(var o3=0,u3=0,a3=ut3(_n3(i3/r3));o3<i3;)a3[u3++]=ii(n3,o3,o3+=r3);return a3},zr2.compact=function(t3){for(var n3=-1,r3=t3==null?0:t3.length,e3=0,i3=[];++n3<r3;){var o3=t3[n3];o3&&(i3[e3++]=o3)}return i3},zr2.concat=function(){var t3=arguments.length;if(!t3)return[];for(var n3=ut3(t3-1),r3=arguments[0],e3=t3;e3--;)n3[e3-1]=arguments[e3];return Nn2(Ku2(r3)?Ci(r3):[r3],ye2(n3,1))},zr2.cond=function(t3){var r3=t3==null?0:t3.length,e3=fo2();return t3=r3?Bn2(t3,function(t4){if(typeof t4[1]!="function")throw new Ct3(n2);return[e3(t4[0]),t4[1]]}):[],Ve(function(n3){for(var e4=-1;++e4<r3;){var i3=t3[e4];if(Pn2(i3[0],this,n3))return Pn2(i3[1],this,n3)}})},zr2.conforms=function(t3){return function(t4){var n3=Ma(t4);return function(r3){return se2(r3,t4,n3)}}(fe2(t3,1))},zr2.constant=nc,zr2.countBy=_u2,zr2.create=function(t3,n3){var r3=Fr2(t3);return n3==null?r3:oe2(r3,n3)},zr2.curry=__name(function n3(r3,e3,i3){var o3=Xi(r3,8,t2,t2,t2,t2,t2,e3=i3?t2:e3);return o3.placeholder=n3.placeholder,o3},"n"),zr2.curryRight=__name(function n3(r3,e3,o3){var u3=Xi(r3,i2,t2,t2,t2,t2,t2,e3=o3?t2:e3);return u3.placeholder=n3.placeholder,u3},"n"),zr2.debounce=Mu2,zr2.defaults=Oa,zr2.defaultsDeep=ja2,zr2.defer=Ru2,zr2.delay=ku2,zr2.difference=zo2,zr2.differenceBy=Fo2,zr2.differenceWith=$o2,zr2.drop=function(n3,r3,e3){var i3=n3==null?0:n3.length;return i3?ii(n3,(r3=e3||r3===t2?1:va2(r3))<0?0:r3,i3):[]},zr2.dropRight=function(n3,r3,e3){var i3=n3==null?0:n3.length;return i3?ii(n3,0,(r3=i3-(r3=e3||r3===t2?1:va2(r3)))<0?0:r3):[]},zr2.dropRightWhile=function(t3,n3){return t3&&t3.length?di(t3,fo2(n3,3),!0,!0):[]},zr2.dropWhile=function(t3,n3){return t3&&t3.length?di(t3,fo2(n3,3),!0):[]},zr2.fill=function(n3,r3,e3,i3){var o3=n3==null?0:n3.length;return o3?(e3&&typeof e3!="number"&&mo2(n3,r3,e3)&&(e3=0,i3=o3),function(n4,r4,e4,i4){var o4=n4.length;for((e4=va2(e4))<0&&(e4=-e4>o4?0:o4+e4),(i4=i4===t2||i4>o4?o4:va2(i4))<0&&(i4+=o4),i4=e4>i4?0:_a19(i4);e4<i4;)n4[e4++]=r4;return n4}(n3,r3,e3,i3)):[]},zr2.filter=function(t3,n3){return(Ku2(t3)?Mn2:ge2)(t3,fo2(n3,3))},zr2.flatMap=function(t3,n3){return ye2(Su2(t3,n3),1)},zr2.flatMapDeep=function(t3,n3){return ye2(Su2(t3,n3),f2)},zr2.flatMapDepth=function(n3,r3,e3){return e3=e3===t2?1:va2(e3),ye2(Su2(n3,r3),e3)},zr2.flatten=qo2,zr2.flattenDeep=function(t3){return t3!=null&&t3.length?ye2(t3,f2):[]},zr2.flattenDepth=function(n3,r3){return n3!=null&&n3.length?ye2(n3,r3=r3===t2?1:va2(r3)):[]},zr2.flip=function(t3){return Xi(t3,512)},zr2.flow=rc2,zr2.flowRight=ec2,zr2.fromPairs=function(t3){for(var n3=-1,r3=t3==null?0:t3.length,e3={};++n3<r3;){var i3=t3[n3];e3[i3[0]]=i3[1]}return e3},zr2.functions=function(t3){return t3==null?[]:Ue(t3,Ma(t3))},zr2.functionsIn=function(t3){return t3==null?[]:Ue(t3,Ra(t3))},zr2.groupBy=mu2,zr2.initial=function(t3){return t3!=null&&t3.length?ii(t3,0,-1):[]},zr2.intersection=Zo2,zr2.intersectionBy=Jo2,zr2.intersectionWith=Yo2,zr2.invert=Ea2,zr2.invertBy=Ca2,zr2.invokeMap=xu2,zr2.iteratee=oc2,zr2.keyBy=Uu2,zr2.keys=Ma,zr2.keysIn=Ra,zr2.map=Su2,zr2.mapKeys=function(t3,n3){var r3={};return n3=fo2(n3,3),me2(t3,function(t4,e3,i3){ue2(r3,n3(t4,e3,i3),t4)}),r3},zr2.mapValues=function(t3,n3){var r3={};return n3=fo2(n3,3),me2(t3,function(t4,e3,i3){ue2(r3,e3,n3(t4,e3,i3))}),r3},zr2.matches=function(t3){return ze2(fe2(t3,1))},zr2.matchesProperty=function(t3,n3){return Fe(t3,fe2(n3,1))},zr2.memoize=Bu2,zr2.merge=ka2,zr2.mergeWith=Ba2,zr2.method=uc,zr2.methodOf=ac2,zr2.mixin=cc2,zr2.negate=Nu2,zr2.nthArg=function(t3){return t3=va2(t3),Ve(function(n3){return He2(n3,t3)})},zr2.omit=Na2,zr2.omitBy=function(t3,n3){return La2(t3,Nu2(fo2(n3)))},zr2.once=function(t3){return Eu2(2,t3)},zr2.orderBy=function(n3,r3,e3,i3){return n3==null?[]:(Ku2(r3)||(r3=r3==null?[]:[r3]),Ku2(e3=i3?t2:e3)||(e3=e3==null?[]:[e3]),Ke(n3,r3,e3))},zr2.over=sc2,zr2.overArgs=Du2,zr2.overEvery=lc2,zr2.overSome=hc2,zr2.partial=Lu2,zr2.partialRight=Tu2,zr2.partition=Ou2,zr2.pick=Da2,zr2.pickBy=La2,zr2.property=pc2,zr2.propertyOf=function(n3){return function(r3){return n3==null?t2:Se2(n3,r3)}},zr2.pull=Xo2,zr2.pullAll=Qo2,zr2.pullAllBy=function(t3,n3,r3){return t3&&t3.length&&n3&&n3.length?Ge(t3,n3,fo2(r3,2)):t3},zr2.pullAllWith=function(n3,r3,e3){return n3&&n3.length&&r3&&r3.length?Ge(n3,r3,t2,e3):n3},zr2.pullAt=tu2,zr2.range=dc2,zr2.rangeRight=vc,zr2.rearg=Wu2,zr2.reject=function(t3,n3){return(Ku2(t3)?Mn2:ge2)(t3,Nu2(fo2(n3,3)))},zr2.remove=function(t3,n3){var r3=[];if(!t3||!t3.length)return r3;var e3=-1,i3=[],o3=t3.length;for(n3=fo2(n3,3);++e3<o3;){var u3=t3[e3];n3(u3,e3,t3)&&(r3.push(u3),i3.push(e3))}return Ze(t3,i3),r3},zr2.rest=function(r3,e3){if(typeof r3!="function")throw new Ct3(n2);return Ve(r3,e3=e3===t2?e3:va2(e3))},zr2.reverse=nu2,zr2.sampleSize=function(n3,r3,e3){return r3=(e3?mo2(n3,r3,e3):r3===t2)?1:va2(r3),(Ku2(n3)?Qr2:Qe2)(n3,r3)},zr2.set=function(t3,n3,r3){return t3==null?t3:ti(t3,n3,r3)},zr2.setWith=function(n3,r3,e3,i3){return i3=typeof i3=="function"?i3:t2,n3==null?n3:ti(n3,r3,e3,i3)},zr2.shuffle=function(t3){return(Ku2(t3)?te2:ei)(t3)},zr2.slice=function(n3,r3,e3){var i3=n3==null?0:n3.length;return i3?(e3&&typeof e3!="number"&&mo2(n3,r3,e3)?(r3=0,e3=i3):(r3=r3==null?0:va2(r3),e3=e3===t2?i3:va2(e3)),ii(n3,r3,e3)):[]},zr2.sortBy=ju2,zr2.sortedUniq=function(t3){return t3&&t3.length?ci(t3):[]},zr2.sortedUniqBy=function(t3,n3){return t3&&t3.length?ci(t3,fo2(n3,2)):[]},zr2.split=function(n3,r3,e3){return e3&&typeof e3!="number"&&mo2(n3,r3,e3)&&(r3=e3=t2),(e3=e3===t2?h2:e3>>>0)?(n3=wa2(n3))&&(typeof r3=="string"||r3!=null&&!ua2(r3))&&!(r3=si(r3))&&ar2(n3)?xi(dr2(n3),0,e3):n3.split(r3,e3):[]},zr2.spread=function(t3,r3){if(typeof t3!="function")throw new Ct3(n2);return r3=r3==null?0:wr2(va2(r3),0),Ve(function(n3){var e3=n3[r3],i3=xi(n3,0,r3);return e3&&Nn2(i3,e3),Pn2(t3,this,i3)})},zr2.tail=function(t3){var n3=t3==null?0:t3.length;return n3?ii(t3,1,n3):[]},zr2.take=function(n3,r3,e3){return n3&&n3.length?ii(n3,0,(r3=e3||r3===t2?1:va2(r3))<0?0:r3):[]},zr2.takeRight=function(n3,r3,e3){var i3=n3==null?0:n3.length;return i3?ii(n3,(r3=i3-(r3=e3||r3===t2?1:va2(r3)))<0?0:r3,i3):[]},zr2.takeRightWhile=function(t3,n3){return t3&&t3.length?di(t3,fo2(n3,3),!1,!0):[]},zr2.takeWhile=function(t3,n3){return t3&&t3.length?di(t3,fo2(n3,3)):[]},zr2.tap=function(t3,n3){return n3(t3),t3},zr2.throttle=function(t3,r3,e3){var i3=!0,o3=!0;if(typeof t3!="function")throw new Ct3(n2);return na2(e3)&&(i3="leading"in e3?!!e3.leading:i3,o3="trailing"in e3?!!e3.trailing:o3),Mu2(t3,r3,{leading:i3,maxWait:r3,trailing:o3})},zr2.thru=du2,zr2.toArray=pa,zr2.toPairs=Ta,zr2.toPairsIn=Wa,zr2.toPath=function(t3){return Ku2(t3)?Bn2(t3,Lo2):fa(t3)?[t3]:Ci(Do2(wa2(t3)))},zr2.toPlainObject=ya2,zr2.transform=function(t3,n3,r3){var e3=Ku2(t3),i3=e3||Ju2(t3)||sa(t3);if(n3=fo2(n3,4),r3==null){var o3=t3&&t3.constructor;r3=i3?e3?new o3:[]:na2(t3)&&Xu2(o3)?Fr2(Gt3(t3)):{}}return(i3?En2:me2)(t3,function(t4,e4,i4){return n3(r3,t4,e4,i4)}),r3},zr2.unary=function(t3){return Au2(t3,1)},zr2.union=ru2,zr2.unionBy=eu2,zr2.unionWith=iu2,zr2.uniq=function(t3){return t3&&t3.length?li(t3):[]},zr2.uniqBy=function(t3,n3){return t3&&t3.length?li(t3,fo2(n3,2)):[]},zr2.uniqWith=function(n3,r3){return r3=typeof r3=="function"?r3:t2,n3&&n3.length?li(n3,t2,r3):[]},zr2.unset=function(t3,n3){return t3==null||hi(t3,n3)},zr2.unzip=ou2,zr2.unzipWith=uu2,zr2.update=function(t3,n3,r3){return t3==null?t3:pi(t3,n3,wi(r3))},zr2.updateWith=function(n3,r3,e3,i3){return i3=typeof i3=="function"?i3:t2,n3==null?n3:pi(n3,r3,wi(e3),i3)},zr2.values=za2,zr2.valuesIn=function(t3){return t3==null?[]:tr2(t3,Ra(t3))},zr2.without=au2,zr2.words=Xa,zr2.wrap=function(t3,n3){return Lu2(wi(n3),t3)},zr2.xor=cu2,zr2.xorBy=fu2,zr2.xorWith=su2,zr2.zip=lu2,zr2.zipObject=function(t3,n3){return gi(t3||[],n3||[],re2)},zr2.zipObjectDeep=function(t3,n3){return gi(t3||[],n3||[],ti)},zr2.zipWith=hu2,zr2.entries=Ta,zr2.entriesIn=Wa,zr2.extend=ma2,zr2.extendWith=xa2,cc2(zr2,zr2),zr2.add=wc,zr2.attempt=Qa,zr2.camelCase=Fa2,zr2.capitalize=$a2,zr2.ceil=bc2,zr2.clamp=function(n3,r3,e3){return e3===t2&&(e3=r3,r3=t2),e3!==t2&&(e3=(e3=ga2(e3))==e3?e3:0),r3!==t2&&(r3=(r3=ga2(r3))==r3?r3:0),ce2(ga2(n3),r3,e3)},zr2.clone=function(t3){return fe2(t3,4)},zr2.cloneDeep=function(t3){return fe2(t3,5)},zr2.cloneDeepWith=function(n3,r3){return fe2(n3,5,r3=typeof r3=="function"?r3:t2)},zr2.cloneWith=function(n3,r3){return fe2(n3,4,r3=typeof r3=="function"?r3:t2)},zr2.conformsTo=function(t3,n3){return n3==null||se2(t3,n3,Ma(n3))},zr2.deburr=Ha2,zr2.defaultTo=function(t3,n3){return t3==null||t3!=t3?n3:t3},zr2.divide=mc,zr2.endsWith=function(n3,r3,e3){n3=wa2(n3),r3=si(r3);var i3=n3.length,o3=e3=e3===t2?i3:ce2(va2(e3),0,i3);return(e3-=r3.length)>=0&&n3.slice(e3,o3)==r3},zr2.eq=zu2,zr2.escape=function(t3){return(t3=wa2(t3))&&Y2.test(t3)?t3.replace(Z2,or2):t3},zr2.escapeRegExp=function(t3){return(t3=wa2(t3))&&it2.test(t3)?t3.replace(et2,"\\$&"):t3},zr2.every=function(n3,r3,e3){var i3=Ku2(n3)?In2:ve2;return e3&&mo2(n3,r3,e3)&&(r3=t2),i3(n3,fo2(r3,3))},zr2.find=gu2,zr2.findIndex=Ho2,zr2.findKey=function(t3,n3){return zn2(t3,fo2(n3,3),me2)},zr2.findLast=yu2,zr2.findLastIndex=Ko2,zr2.findLastKey=function(t3,n3){return zn2(t3,fo2(n3,3),xe)},zr2.floor=xc,zr2.forEach=wu2,zr2.forEachRight=bu2,zr2.forIn=function(t3,n3){return t3==null?t3:we(t3,fo2(n3,3),Ra)},zr2.forInRight=function(t3,n3){return t3==null?t3:be2(t3,fo2(n3,3),Ra)},zr2.forOwn=function(t3,n3){return t3&&me2(t3,fo2(n3,3))},zr2.forOwnRight=function(t3,n3){return t3&&xe(t3,fo2(n3,3))},zr2.get=Pa,zr2.gt=Fu2,zr2.gte=$u2,zr2.has=function(t3,n3){return t3!=null&&go(t3,n3,Ae)},zr2.hasIn=Aa2,zr2.head=Go2,zr2.identity=ic2,zr2.includes=function(t3,n3,r3,e3){t3=Gu2(t3)?t3:za2(t3),r3=r3&&!e3?va2(r3):0;var i3=t3.length;return r3<0&&(r3=wr2(i3+r3,0)),ca2(t3)?r3<=i3&&t3.indexOf(n3,r3)>-1:!!i3&&$n2(t3,n3,r3)>-1},zr2.indexOf=function(t3,n3,r3){var e3=t3==null?0:t3.length;if(!e3)return-1;var i3=r3==null?0:va2(r3);return i3<0&&(i3=wr2(e3+i3,0)),$n2(t3,n3,i3)},zr2.inRange=function(n3,r3,e3){return r3=da2(r3),e3===t2?(e3=r3,r3=0):e3=da2(e3),function(t3,n4,r4){return t3>=br2(n4,r4)&&t3<wr2(n4,r4)}(n3=ga2(n3),r3,e3)},zr2.invoke=Ia2,zr2.isArguments=Hu2,zr2.isArray=Ku2,zr2.isArrayBuffer=qu2,zr2.isArrayLike=Gu2,zr2.isArrayLikeObject=Zu2,zr2.isBoolean=function(t3){return t3===!0||t3===!1||ra2(t3)&&je(t3)==_2},zr2.isBuffer=Ju2,zr2.isDate=Yu2,zr2.isElement=function(t3){return ra2(t3)&&t3.nodeType===1&&!oa(t3)},zr2.isEmpty=function(t3){if(t3==null)return!0;if(Gu2(t3)&&(Ku2(t3)||typeof t3=="string"||typeof t3.splice=="function"||Ju2(t3)||sa(t3)||Hu2(t3)))return!t3.length;var n3=_o2(t3);if(n3==m2||n3==E2)return!t3.size;if(Oo2(t3))return!De(t3).length;for(var r3 in t3)if(Nt3.call(t3,r3))return!1;return!0},zr2.isEqual=function(t3,n3){return Re2(t3,n3)},zr2.isEqualWith=function(n3,r3,e3){var i3=(e3=typeof e3=="function"?e3:t2)?e3(n3,r3):t2;return i3===t2?Re2(n3,r3,t2,e3):!!i3},zr2.isError=Vu2,zr2.isFinite=function(t3){return typeof t3=="number"&&Wn3(t3)},zr2.isFunction=Xu2,zr2.isInteger=Qu2,zr2.isLength=ta,zr2.isMap=ea2,zr2.isMatch=function(t3,n3){return t3===n3||ke(t3,n3,lo2(n3))},zr2.isMatchWith=function(n3,r3,e3){return e3=typeof e3=="function"?e3:t2,ke(n3,r3,lo2(r3),e3)},zr2.isNaN=function(t3){return ia2(t3)&&t3!=+t3},zr2.isNative=function(t3){if(So2(t3))throw new St3("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Be(t3)},zr2.isNil=function(t3){return t3==null},zr2.isNull=function(t3){return t3===null},zr2.isNumber=ia2,zr2.isObject=na2,zr2.isObjectLike=ra2,zr2.isPlainObject=oa,zr2.isRegExp=ua2,zr2.isSafeInteger=function(t3){return Qu2(t3)&&t3>=-9007199254740991&&t3<=s2},zr2.isSet=aa2,zr2.isString=ca2,zr2.isSymbol=fa,zr2.isTypedArray=sa,zr2.isUndefined=function(n3){return n3===t2},zr2.isWeakMap=function(t3){return ra2(t3)&&_o2(t3)==M2},zr2.isWeakSet=function(t3){return ra2(t3)&&je(t3)=="[object WeakSet]"},zr2.join=function(t3,n3){return t3==null?"":Zn3.call(t3,n3)},zr2.kebabCase=Ka,zr2.last=Vo2,zr2.lastIndexOf=function(n3,r3,e3){var i3=n3==null?0:n3.length;if(!i3)return-1;var o3=i3;return e3!==t2&&(o3=(o3=va2(e3))<0?wr2(i3+o3,0):br2(o3,i3-1)),r3==r3?function(t3,n4,r4){for(var e4=r4+1;e4--;)if(t3[e4]===n4)return e4;return e4}(n3,r3,o3):Fn2(n3,Kn2,o3,!0)},zr2.lowerCase=qa,zr2.lowerFirst=Ga2,zr2.lt=la2,zr2.lte=ha,zr2.max=function(n3){return n3&&n3.length?_e2(n3,ic2,Pe2):t2},zr2.maxBy=function(n3,r3){return n3&&n3.length?_e2(n3,fo2(r3,2),Pe2):t2},zr2.mean=function(t3){return qn2(t3,ic2)},zr2.meanBy=function(t3,n3){return qn2(t3,fo2(n3,2))},zr2.min=function(n3){return n3&&n3.length?_e2(n3,ic2,Te):t2},zr2.minBy=function(n3,r3){return n3&&n3.length?_e2(n3,fo2(r3,2),Te):t2},zr2.stubArray=_c2,zr2.stubFalse=gc2,zr2.stubObject=function(){return{}},zr2.stubString=function(){return""},zr2.stubTrue=function(){return!0},zr2.multiply=Uc,zr2.nth=function(n3,r3){return n3&&n3.length?He2(n3,va2(r3)):t2},zr2.noConflict=function(){return vn2._===this&&(vn2._=zt3),this},zr2.noop=fc2,zr2.now=Pu2,zr2.pad=function(t3,n3,r3){t3=wa2(t3);var e3=(n3=va2(n3))?pr2(t3):0;if(!n3||e3>=n3)return t3;var i3=(n3-e3)/2;return Ki(gn3(i3),r3)+t3+Ki(_n3(i3),r3)},zr2.padEnd=function(t3,n3,r3){t3=wa2(t3);var e3=(n3=va2(n3))?pr2(t3):0;return n3&&e3<n3?t3+Ki(n3-e3,r3):t3},zr2.padStart=function(t3,n3,r3){t3=wa2(t3);var e3=(n3=va2(n3))?pr2(t3):0;return n3&&e3<n3?Ki(n3-e3,r3)+t3:t3},zr2.parseInt=function(t3,n3,r3){return r3||n3==null?n3=0:n3&&(n3=+n3),xr2(wa2(t3).replace(ot2,""),n3||0)},zr2.random=function(n3,r3,e3){if(e3&&typeof e3!="boolean"&&mo2(n3,r3,e3)&&(r3=e3=t2),e3===t2&&(typeof r3=="boolean"?(e3=r3,r3=t2):typeof n3=="boolean"&&(e3=n3,n3=t2)),n3===t2&&r3===t2?(n3=0,r3=1):(n3=da2(n3),r3===t2?(r3=n3,n3=0):r3=da2(r3)),n3>r3){var i3=n3;n3=r3,r3=i3}if(e3||n3%1||r3%1){var o3=Ur2();return br2(n3+o3*(r3-n3+ln2("1e-"+((o3+"").length-1))),r3)}return Je(n3,r3)},zr2.reduce=function(t3,n3,r3){var e3=Ku2(t3)?Dn2:Jn2,i3=arguments.length<3;return e3(t3,fo2(n3,4),r3,i3,pe2)},zr2.reduceRight=function(t3,n3,r3){var e3=Ku2(t3)?Ln2:Jn2,i3=arguments.length<3;return e3(t3,fo2(n3,4),r3,i3,de2)},zr2.repeat=function(n3,r3,e3){return r3=(e3?mo2(n3,r3,e3):r3===t2)?1:va2(r3),Ye(wa2(n3),r3)},zr2.replace=function(){var t3=arguments,n3=wa2(t3[0]);return t3.length<3?n3:n3.replace(t3[1],t3[2])},zr2.result=function(n3,r3,e3){var i3=-1,o3=(r3=bi(r3,n3)).length;for(o3||(o3=1,n3=t2);++i3<o3;){var u3=n3==null?t2:n3[Lo2(r3[i3])];u3===t2&&(i3=o3,u3=e3),n3=Xu2(u3)?u3.call(n3):u3}return n3},zr2.round=Sc,zr2.runInContext=x2,zr2.sample=function(t3){return(Ku2(t3)?Xr2:Xe2)(t3)},zr2.size=function(t3){if(t3==null)return 0;if(Gu2(t3))return ca2(t3)?pr2(t3):t3.length;var n3=_o2(t3);return n3==m2||n3==E2?t3.size:De(t3).length},zr2.snakeCase=Za,zr2.some=function(n3,r3,e3){var i3=Ku2(n3)?Tn2:oi;return e3&&mo2(n3,r3,e3)&&(r3=t2),i3(n3,fo2(r3,3))},zr2.sortedIndex=function(t3,n3){return ui(t3,n3)},zr2.sortedIndexBy=function(t3,n3,r3){return ai(t3,n3,fo2(r3,2))},zr2.sortedIndexOf=function(t3,n3){var r3=t3==null?0:t3.length;if(r3){var e3=ui(t3,n3);if(e3<r3&&zu2(t3[e3],n3))return e3}return-1},zr2.sortedLastIndex=function(t3,n3){return ui(t3,n3,!0)},zr2.sortedLastIndexBy=function(t3,n3,r3){return ai(t3,n3,fo2(r3,2),!0)},zr2.sortedLastIndexOf=function(t3,n3){if(t3!=null&&t3.length){var r3=ui(t3,n3,!0)-1;if(zu2(t3[r3],n3))return r3}return-1},zr2.startCase=Ja2,zr2.startsWith=function(t3,n3,r3){return t3=wa2(t3),r3=r3==null?0:ce2(va2(r3),0,t3.length),n3=si(n3),t3.slice(r3,r3+n3.length)==n3},zr2.subtract=Oc2,zr2.sum=function(t3){return t3&&t3.length?Yn(t3,ic2):0},zr2.sumBy=function(t3,n3){return t3&&t3.length?Yn(t3,fo2(n3,2)):0},zr2.template=function(n3,r3,e3){var i3=zr2.templateSettings;e3&&mo2(n3,r3,e3)&&(r3=t2),n3=wa2(n3),r3=xa2({},r3,i3,Qi);var o3,u3,a3=xa2({},r3.imports,i3.imports,Qi),c3=Ma(a3),f3=tr2(a3,c3),s3=0,l3=r3.interpolate||mt2,h3="__p += '",p3=At3((r3.escape||mt2).source+"|"+l3.source+"|"+(l3===Q2?pt2:mt2).source+"|"+(r3.evaluate||mt2).source+"|$","g"),d3="//# sourceURL="+(Nt3.call(r3,"sourceURL")?(r3.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++an+"]")+`
`;n3.replace(p3,function(t3,r4,e4,i4,a4,c4){return e4||(e4=i4),h3+=n3.slice(s3,c4).replace(xt2,ur2),r4&&(o3=!0,h3+=`' +
__e(`+r4+`) +
'`),a4&&(u3=!0,h3+=`';
`+a4+`;
__p += '`),e4&&(h3+=`' +
((__t = (`+e4+`)) == null ? '' : __t) +
'`),s3=c4+t3.length,t3}),h3+=`';
`;var v3=Nt3.call(r3,"variable")&&r3.variable;if(v3){if(lt2.test(v3))throw new St3("Invalid `variable` option passed into `_.template`")}else h3=`with (obj) {
`+h3+`
}
`;h3=(u3?h3.replace(H2,""):h3).replace(K2,"$1").replace(q2,"$1;"),h3="function("+(v3||"obj")+`) {
`+(v3?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(o3?", __e = _.escape":"")+(u3?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h3+`return __p
}`;var _3=Qa(function(){return Ot3(c3,d3+"return "+h3).apply(t2,f3)});if(_3.source=h3,Vu2(_3))throw _3;return _3},zr2.times=function(t3,n3){if((t3=va2(t3))<1||t3>s2)return[];var r3=h2,e3=br2(t3,h2);n3=fo2(n3),t3-=h2;for(var i3=Vn2(e3,n3);++r3<t3;)n3(r3);return i3},zr2.toFinite=da2,zr2.toInteger=va2,zr2.toLength=_a19,zr2.toLower=function(t3){return wa2(t3).toLowerCase()},zr2.toNumber=ga2,zr2.toSafeInteger=function(t3){return t3?ce2(va2(t3),-9007199254740991,s2):t3===0?t3:0},zr2.toString=wa2,zr2.toUpper=function(t3){return wa2(t3).toUpperCase()},zr2.trim=function(n3,r3,e3){if((n3=wa2(n3))&&(e3||r3===t2))return Xn(n3);if(!n3||!(r3=si(r3)))return n3;var i3=dr2(n3),o3=dr2(r3);return xi(i3,rr2(i3,o3),er2(i3,o3)+1).join("")},zr2.trimEnd=function(n3,r3,e3){if((n3=wa2(n3))&&(e3||r3===t2))return n3.slice(0,vr2(n3)+1);if(!n3||!(r3=si(r3)))return n3;var i3=dr2(n3);return xi(i3,0,er2(i3,dr2(r3))+1).join("")},zr2.trimStart=function(n3,r3,e3){if((n3=wa2(n3))&&(e3||r3===t2))return n3.replace(ot2,"");if(!n3||!(r3=si(r3)))return n3;var i3=dr2(n3);return xi(i3,rr2(i3,dr2(r3))).join("")},zr2.truncate=function(n3,r3){var e3=30,i3="...";if(na2(r3)){var o3="separator"in r3?r3.separator:o3;e3="length"in r3?va2(r3.length):e3,i3="omission"in r3?si(r3.omission):i3}var u3=(n3=wa2(n3)).length;if(ar2(n3)){var a3=dr2(n3);u3=a3.length}if(e3>=u3)return n3;var c3=e3-pr2(i3);if(c3<1)return i3;var f3=a3?xi(a3,0,c3).join(""):n3.slice(0,c3);if(o3===t2)return f3+i3;if(a3&&(c3+=f3.length-c3),ua2(o3)){if(n3.slice(c3).search(o3)){var s3,l3=f3;for(o3.global||(o3=At3(o3.source,wa2(dt2.exec(o3))+"g")),o3.lastIndex=0;s3=o3.exec(l3);)var h3=s3.index;f3=f3.slice(0,h3===t2?c3:h3)}}else if(n3.indexOf(si(o3),c3)!=c3){var p3=f3.lastIndexOf(o3);p3>-1&&(f3=f3.slice(0,p3))}return f3+i3},zr2.unescape=function(t3){return(t3=wa2(t3))&&J2.test(t3)?t3.replace(G2,_r2):t3},zr2.uniqueId=function(t3){var n3=++Dt3;return wa2(t3)+n3},zr2.upperCase=Ya,zr2.upperFirst=Va,zr2.each=wu2,zr2.eachRight=bu2,zr2.first=Go2,cc2(zr2,(yc={},me2(zr2,function(t3,n3){Nt3.call(zr2.prototype,n3)||(yc[n3]=t3)}),yc),{chain:!1}),zr2.VERSION="4.17.21",En2(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t3){zr2[t3].placeholder=zr2}),En2(["drop","take"],function(n3,r3){Kr2.prototype[n3]=function(e3){e3=e3===t2?1:wr2(va2(e3),0);var i3=this.__filtered__&&!r3?new Kr2(this):this.clone();return i3.__filtered__?i3.__takeCount__=br2(e3,i3.__takeCount__):i3.__views__.push({size:br2(e3,h2),type:n3+(i3.__dir__<0?"Right":"")}),i3},Kr2.prototype[n3+"Right"]=function(t3){return this.reverse()[n3](t3).reverse()}}),En2(["filter","map","takeWhile"],function(t3,n3){var r3=n3+1,e3=r3==1||r3==3;Kr2.prototype[t3]=function(t4){var n4=this.clone();return n4.__iteratees__.push({iteratee:fo2(t4,3),type:r3}),n4.__filtered__=n4.__filtered__||e3,n4}}),En2(["head","last"],function(t3,n3){var r3="take"+(n3?"Right":"");Kr2.prototype[t3]=function(){return this[r3](1).value()[0]}}),En2(["initial","tail"],function(t3,n3){var r3="drop"+(n3?"":"Right");Kr2.prototype[t3]=function(){return this.__filtered__?new Kr2(this):this[r3](1)}}),Kr2.prototype.compact=function(){return this.filter(ic2)},Kr2.prototype.find=function(t3){return this.filter(t3).head()},Kr2.prototype.findLast=function(t3){return this.reverse().find(t3)},Kr2.prototype.invokeMap=Ve(function(t3,n3){return typeof t3=="function"?new Kr2(this):this.map(function(r3){return Ie(r3,t3,n3)})}),Kr2.prototype.reject=function(t3){return this.filter(Nu2(fo2(t3)))},Kr2.prototype.slice=function(n3,r3){n3=va2(n3);var e3=this;return e3.__filtered__&&(n3>0||r3<0)?new Kr2(e3):(n3<0?e3=e3.takeRight(-n3):n3&&(e3=e3.drop(n3)),r3!==t2&&(e3=(r3=va2(r3))<0?e3.dropRight(-r3):e3.take(r3-n3)),e3)},Kr2.prototype.takeRightWhile=function(t3){return this.reverse().takeWhile(t3).reverse()},Kr2.prototype.toArray=function(){return this.take(h2)},me2(Kr2.prototype,function(n3,r3){var e3=/^(?:filter|find|map|reject)|While$/.test(r3),i3=/^(?:head|last)$/.test(r3),o3=zr2[i3?"take"+(r3=="last"?"Right":""):r3],u3=i3||/^find/.test(r3);o3&&(zr2.prototype[r3]=function(){var r4=this.__wrapped__,a3=i3?[1]:arguments,c3=r4 instanceof Kr2,f3=a3[0],s3=c3||Ku2(r4),l3=__name(function(t3){var n4=o3.apply(zr2,Nn2([t3],a3));return i3&&h3?n4[0]:n4},"l");s3&&e3&&typeof f3=="function"&&f3.length!=1&&(c3=s3=!1);var h3=this.__chain__,p3=!!this.__actions__.length,d3=u3&&!h3,v3=c3&&!p3;if(!u3&&s3){r4=v3?r4:new Kr2(this);var _3=n3.apply(r4,a3);return _3.__actions__.push({func:du2,args:[l3],thisArg:t2}),new Hr2(_3,h3)}return d3&&v3?n3.apply(this,a3):(_3=this.thru(l3),d3?i3?_3.value()[0]:_3.value():_3)})}),En2(["pop","push","shift","sort","splice","unshift"],function(t3){var n3=It3[t3],r3=/^(?:push|sort|unshift)$/.test(t3)?"tap":"thru",e3=/^(?:pop|shift)$/.test(t3);zr2.prototype[t3]=function(){var t4=arguments;if(e3&&!this.__chain__){var i3=this.value();return n3.apply(Ku2(i3)?i3:[],t4)}return this[r3](function(r4){return n3.apply(Ku2(r4)?r4:[],t4)})}}),me2(Kr2.prototype,function(t3,n3){var r3=zr2[n3];if(r3){var e3=r3.name+"";Nt3.call(Mr2,e3)||(Mr2[e3]=[]),Mr2[e3].push({name:n3,func:r3})}}),Mr2[zi(t2,2).name]=[{name:"wrapper",func:t2}],Kr2.prototype.clone=function(){var t3=new Kr2(this.__wrapped__);return t3.__actions__=Ci(this.__actions__),t3.__dir__=this.__dir__,t3.__filtered__=this.__filtered__,t3.__iteratees__=Ci(this.__iteratees__),t3.__takeCount__=this.__takeCount__,t3.__views__=Ci(this.__views__),t3},Kr2.prototype.reverse=function(){if(this.__filtered__){var t3=new Kr2(this);t3.__dir__=-1,t3.__filtered__=!0}else(t3=this.clone()).__dir__*=-1;return t3},Kr2.prototype.value=function(){var t3=this.__wrapped__.value(),n3=this.__dir__,r3=Ku2(t3),e3=n3<0,i3=r3?t3.length:0,o3=function(t4,n4,r4){for(var e4=-1,i4=r4.length;++e4<i4;){var o4=r4[e4],u4=o4.size;switch(o4.type){case"drop":t4+=u4;break;case"dropRight":n4-=u4;break;case"take":n4=br2(n4,t4+u4);break;case"takeRight":t4=wr2(t4,n4-u4)}}return{start:t4,end:n4}}(0,i3,this.__views__),u3=o3.start,a3=o3.end,c3=a3-u3,f3=e3?a3:u3-1,s3=this.__iteratees__,l3=s3.length,h3=0,p3=br2(c3,this.__takeCount__);if(!r3||!e3&&i3==c3&&p3==c3)return vi(t3,this.__actions__);var d3=[];t:for(;c3--&&h3<p3;){for(var v3=-1,_3=t3[f3+=n3];++v3<l3;){var g3=s3[v3],y3=g3.iteratee,w3=g3.type,b3=y3(_3);if(w3==2)_3=b3;else if(!b3){if(w3==1)continue t;break t}}d3[h3++]=_3}return d3},zr2.prototype.at=vu2,zr2.prototype.chain=function(){return pu2(this)},zr2.prototype.commit=function(){return new Hr2(this.value(),this.__chain__)},zr2.prototype.next=function(){this.__values__===t2&&(this.__values__=pa(this.value()));var n3=this.__index__>=this.__values__.length;return{done:n3,value:n3?t2:this.__values__[this.__index__++]}},zr2.prototype.plant=function(n3){for(var r3,e3=this;e3 instanceof $r2;){var i3=Wo2(e3);i3.__index__=0,i3.__values__=t2,r3?o3.__wrapped__=i3:r3=i3;var o3=i3;e3=e3.__wrapped__}return o3.__wrapped__=n3,r3},zr2.prototype.reverse=function(){var n3=this.__wrapped__;if(n3 instanceof Kr2){var r3=n3;return this.__actions__.length&&(r3=new Kr2(this)),(r3=r3.reverse()).__actions__.push({func:du2,args:[nu2],thisArg:t2}),new Hr2(r3,this.__chain__)}return this.thru(nu2)},zr2.prototype.toJSON=zr2.prototype.valueOf=zr2.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},zr2.prototype.first=zr2.prototype.head,Xt3&&(zr2.prototype[Xt3]=function(){return this}),zr2},"x")();gn2?((gn2.exports=gr2)._=gr2,_n2._=gr2):vn2._=gr2}).call(U$1.exports)),U$1.exports);function P$2(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}__name(P$2,"P$2");var A$1=function(){function t2(t3,n2){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=n2,this.rootNode=t3(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}return __name(t2,"t"),Object.defineProperty(t2.prototype,"windows",{get:__name(function(){var t3=__name(function(n2){return i$1([n2],e$2(n2.children.flatMap(t3)),!1)},"t");return j$1.orderBy(t3(this.rootNode),function(t4){return t4.getLayer()},"asc")},"get"),enumerable:!1,configurable:!0}),t2.prototype.logWindows=function(){var t3=__name(function(n2){var r2=n2._boxSnapshot,e2=[];if(e2.push("KEY: ".concat(n2.key)),n2._isPrimaryCamera&&e2.push("[[PRIMARY CAMERA]]"),e2.push("LAYER: ".concat(n2.getLayer())),e2.push("BOX: [".concat(n2.o[0],", ").concat(n2.o[1],", ").concat(n2.w,", ").concat(n2.h,"]")),e2.push("GLOBAL O: [".concat(n2.globalO[0],", ").concat(n2.globalO[1],"]")),e2.push("CHILDREN:"),n2.children.length>0){for(var i2=n2.children,o2=[],u2=0;u2<i2.length;u2++){var a2=i2[u2];o2.push(t3(a2))}for(e2.push(" |"),u2=0;u2<o2.length;u2++){for(var c2=o2[u2],f2=u2===o2.length-1?" └─":" ├─",s2=0;s2<c2.length;s2++){var l2=s2===0?f2:u2===o2.length-1?"   ":" | ",h2=c2[s2];e2.push("".concat(l2,"  ").concat(h2))}u2<o2.length-1&&e2.push(" |")}}else e2.push("  |"),e2.push("  └─ (no children)");return n2._boxSnapshot=r2,e2},"t");console.log(t3(this.rootNode).join(`
`))},t2.prototype.onUpdate=function(t3){this.onUpdateFunction=t3},Object.defineProperty(t2.prototype,"cameraSnapshot",{get:__name(function(){return this.cameraNode?new h(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new h([0,0],this.canvas.width,this.canvas.height)},"get"),enumerable:!1,configurable:!0}),t2.prototype.scheduleStateUpdate=function(t3,n2){var r2=this.scheduleUpdate(t3);this.scheduledStateUpdates.push([r2,function(){t3.state=n2}])},t2.prototype.scheduleContextUpdate=function(t3,n2,r2){var e2=this.scheduleUpdate(t3);this.scheduledStateUpdates.push([e2,function(){t3.context[n2]=r2}])},t2.prototype.setSingleUpdateFlag=function(t3,n2){this.scheduledUpdateNodeMap[n2]||(this.scheduledUpdateNodeMap[n2]={}),this.scheduledUpdateNodeMap[n2][t3.globalKey]=!0},t2.prototype.scheduleUpdate=function(t3){var n2=this,r2=__name(function(){n2.DEBUG&&console.log("Scheduling update for ".concat(t3.globalKey,". Received id ").concat(n2.currentUpdateId))},"r");if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var e2=P$2();return this.scheduledUpdateIds.push(e2),this.currentUpdateId=e2,Promise.resolve().then(function(){for(n2.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(n2.scheduledUpdateIds,null,2),`.
                    `)),n2.updateRunning=!0;n2.scheduledUpdateIds.length>0;)n2.updateScheduled=!1,n2.updateCurrentId();n2.updateRunning=!1}),this.setSingleUpdateFlag(t3,this.currentUpdateId),r2(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t3,this.currentUpdateId),r2(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,e2=P$2(),this.scheduledUpdateIds.push(e2),this.currentUpdateId=e2,this.setSingleUpdateFlag(t3,this.currentUpdateId),r2(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t3,this.currentUpdateId),r2(),this.currentUpdateId;throw new Error("Invalid state")},t2.prototype.onAnimationFrame=function(){try{this.render()}catch(t3){console.error(t3)}},t2.prototype.propogateUpdateFlags=function(t3){var n2=this,r2=__name(function(t4,e2,i2){n2.scheduledUpdateNodeMap[e2]||(n2.scheduledUpdateNodeMap[e2]={}),n2.scheduledUpdateNodeMap[e2][t4.globalKey]&&(i2=!0),n2.scheduledUpdateNodeMap[e2][t4.globalKey]=i2,t4.children.forEach(function(t5){return r2(t5,e2,i2)})},"r");r2(this.rootNode,t3,!1)},t2.prototype.updateCurrentId=function(){var t3=this,n2=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[n2]).forEach(function(r3){t3.propogateUpdateFlags(n2)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(t4){return e$2(t4,1)[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(t4){return t4!==n2}),this.scheduledStateUpdates.filter(function(t4){return e$2(t4,1)[0]===n2}).forEach(function(t4){var n3=e$2(t4,2);return n3[0],(0,n3[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(t4){return e$2(t4,1)[0]!==n2});var r2=this.scheduledUpdateNodeMap[n2];this.update(r2),delete this.scheduledUpdateNodeMap[n2]},t2.prototype.taintLayer=function(t3){this.taintedLayers.includes(t3)||this.taintedLayers.push(t3)},t2.prototype.findCameraPathRecursive=function(t3,r2){var e2,i2;if(t3._isPrimaryCamera){var o2=t3.globalKey;return f2=n$2(n$2({},r2),((e2={})[o2]=!0,e2))}for(var u2=t3.children,a2=0;a2<u2.length;a2++){var c2=u2[a2],f2=(o2=c2.globalKey,n$2(n$2({},r2),((i2={})[o2]=!0,i2))),s2=this.findCameraPathRecursive(c2,f2);if(s2)return s2}},t2.prototype.AND_updateMaps=function(t3,n2){var r2={};for(var e2 in t3)n2[e2]&&(r2[e2]=!0);return r2},t2.prototype.XOR_updateMaps=function(t3,n2){var r2={};for(var e2 in t3)n2[e2]||(r2[e2]=!0);for(var e2 in n2)t3[e2]||(r2[e2]=!0);return r2},t2.prototype.factorizeUpdateMap=function(t3,n2){var r2=this.AND_updateMaps(t3,n2);return[r2,this.XOR_updateMaps(t3,r2)]},t2.prototype.setNeedsUpdateToMap=function(t3){var n2=__name(function(r2){var e2=r2.globalKey;t3[e2]?r2._needsUpdate=!0:r2._needsUpdate=!1,r2.children.forEach(function(t4){return n2(t4)})},"n");n2(this.rootNode)},t2.prototype.setNeedsUpdateToMapAdd=function(t3){var n2=__name(function(r2){var e2=r2.globalKey;t3[e2]&&(r2._needsUpdate=!0),r2.children.forEach(function(t4){return n2(t4)})},"n");n2(this.rootNode)},t2.prototype.installCamera=function(t3){this.cameraNode!==t3&&(this.scheduledCameraNode=t3,this.scheduleUpdate(this.rootNode))},t2.prototype.update=function(t3){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var n2=this.findCameraPathRecursive(this.rootNode,{});if(!n2)throw new Error("No camera found in the tree");var r2=e$2(this.factorizeUpdateMap(t3,n2),2),i2=r2[0],o2=r2[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(t3),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i2),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(o2),null,2),`
            `));var u2=__name(function(t4,n3){t4._needsUpdate?n3?t4.cameraPassUpdateSelf():t4.regularPassUpdateSelf():t4.children.forEach(function(t5){return u2(t5,n3)})},"u");this.setNeedsUpdateToMap(i2),u2(this.rootNode,!0),this.setNeedsUpdateToMapAdd(o2),u2(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},t2.prototype.render=function(){var t3=this.canvas.getContext("2d");if(!t3)throw new Error("Could not get 2d context from canvas");t3.clearRect(0,0,this.canvas.width,this.canvas.height),v$2(this.cameraSnapshot,this.windows,this.canvas,t3,this.taintedLayers),this.taintedLayers=[]},t2.prototype.mouseDownHandler=function(t3,n2){g$1(this.cameraSnapshot,this.windows,this.canvas,t3,n2)},t2.prototype.mouseMoveHandler=function(t3,n2){y$1(this.cameraSnapshot,this.windows,this.canvas,t3,n2)},t2.prototype.mouseUpHandler=function(t3,n2){w$2(this.cameraSnapshot,this.windows,this.canvas,t3,n2)},t2.prototype.mouseWheelHandler=function(t3){b$1(this.cameraSnapshot,this.windows,this.canvas,t3)},t2.prototype.clickHandler=function(t3,n2){_$1(this.cameraSnapshot,this.windows,this.canvas,t3,n2)},t2}();function n$1(n2,e2){var t2=typeof Symbol=="function"&&n2[Symbol.iterator];if(!t2)return n2;var a2,r2,i2=t2.call(n2),o2=[];try{for(;(e2===void 0||e2-- >0)&&!(a2=i2.next()).done;)o2.push(a2.value)}catch(n3){r2={error:n3}}finally{try{a2&&!a2.done&&(t2=i2.return)&&t2.call(i2)}finally{if(r2)throw r2.error}}return o2}__name(n$1,"n$1");function e$1(n2,e2,t2){if(arguments.length===2)for(var a2,r2=0,i2=e2.length;r2<i2;r2++)!a2&&r2 in e2||(a2||(a2=Array.prototype.slice.call(e2,0,r2)),a2[r2]=e2[r2]);return n2.concat(a2||Array.prototype.slice.call(e2))}__name(e$1,"e$1");(function(t2){var a2,r2=((a2=t2%2147483647)<=0&&(a2+=2147483646),function(){return((a2=16807*a2%2147483647)-1)/2147483646}),i2=Array(256).fill(0).map(function(){return 2*r2()-1}),o2=Array(256).fill(0).map(function(n2,e2){return e2}).sort(function(){return r2()-.5}),u2=e$1(e$1([],n$1(o2),!1),n$1(o2),!1);return function(n2){var e2,t3=255&Math.floor(n2),a3=n2-Math.floor(n2),r3=(e2=a3)*e2*e2*(e2*(6*e2-15)+10);return function(n3,e3,t4){return n3+t4*(e3-n3)}(i2[u2[t3]]*a3,i2[u2[t3+1]]*(a3-1),r3)}})(42);var v$1,P$1=0,w$1=new Map;function V$1(n2,e2,t2){v$1||((v$1=new Worker(new URL("/pinsandcurves-panels/assets/interpolateSignalValueWorker-BPmjRs-p.js",import.meta.url))).onmessage=function(n3){var e3=n3.data,t3=e3.id,a3=e3.result;w$1.has(t3)&&(w$1.get(t3)(a3),w$1.delete(t3))});var a2=P$1++;return new Promise(function(r2){w$1.set(a2,r2);var i2={project:n2,signalId:e2,frameArray:t2};v$1.postMessage({id:a2,object:i2})})}__name(V$1,"V$1");var t=__name(function(e2,n2){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t2,e3){t2.__proto__=e3}||function(t2,e3){for(var n3 in e3)Object.prototype.hasOwnProperty.call(e3,n3)&&(t2[n3]=e3[n3])},t(e2,n2)},"t");function e(e2,n2){if(typeof n2!="function"&&n2!==null)throw new TypeError("Class extends value "+String(n2)+" is not a constructor or null");function r2(){this.constructor=e2}__name(r2,"r2"),t(e2,n2),e2.prototype=n2===null?Object.create(n2):(r2.prototype=n2.prototype,new r2)}__name(e,"e");var n=__name(function(){return n=Object.assign||function(t2){for(var e2,n2=1,r2=arguments.length;n2<r2;n2++)for(var i2 in e2=arguments[n2])Object.prototype.hasOwnProperty.call(e2,i2)&&(t2[i2]=e2[i2]);return t2},n.apply(this,arguments)},"n");function r(t2){var e2=typeof Symbol=="function"&&Symbol.iterator,n2=e2&&t2[e2],r2=0;if(n2)return n2.call(t2);if(t2&&typeof t2.length=="number")return{next:__name(function(){return t2&&r2>=t2.length&&(t2=void 0),{value:t2&&t2[r2++],done:!t2}},"next")};throw new TypeError(e2?"Object is not iterable.":"Symbol.iterator is not defined.")}__name(r,"r");function i(t2,e2){var n2=typeof Symbol=="function"&&t2[Symbol.iterator];if(!n2)return t2;var r2,i2,a2=n2.call(t2),o2=[];try{for(;(e2===void 0||e2-- >0)&&!(r2=a2.next()).done;)o2.push(r2.value)}catch(t3){i2={error:t3}}finally{try{r2&&!r2.done&&(n2=a2.return)&&n2.call(a2)}finally{if(i2)throw i2.error}}return o2}__name(i,"i");function a(t2,e2,n2){if(arguments.length===2)for(var r2,i2=0,a2=e2.length;i2<a2;i2++)!r2&&i2 in e2||(r2||(r2=Array.prototype.slice.call(e2,0,i2)),r2[i2]=e2[i2]);return t2.concat(r2||Array.prototype.slice.call(e2))}__name(a,"a");var o=function(){function t2(){this._project={metaData:{name:"Empty Project",pinsAndCurvesVersion:"0.0.1"},orgData:{signalIds:[],signalIdByPinId:{},pinIds:[],signalNames:{},signalTypes:{},activeSignalIds:[]},timelineData:{numberOfFrames:100,framesPerSecond:30,playheadPosition:0,focusRange:[0,100],playing:!1,playingTimestamp:0},signalData:{},templateData:{}}}return __name(t2,"t2"),t2.prototype.setName=function(t3){this._project.metaData.name=t3},t2.prototype.addStaticStringSignal=function(t3,e2,n2){this._project.orgData.signalIds.push(t3),this._project.orgData.signalNames[t3]=e2,this._project.orgData.signalTypes[t3]="discrete",this._project.signalData[t3]={id:t3,type:"discrete",pinIds:[],pinTimes:{},pinValues:{},defaultValue:n2,isStatic:!0}},t2.prototype.addStaticNumberSignal=function(t3,e2,n2,r2){this._project.orgData.signalIds.push(t3),this._project.orgData.signalNames[t3]=e2,this._project.orgData.signalTypes[t3]="continuous",this._project.signalData[t3]={id:t3,type:"continuous",pinIds:[],pinTimes:{},pinValues:{},defaultValue:r2,isStatic:!0,range:n2,defaultCurve:"return easyLinear();",curves:{}}},t2.prototype.addDiscreteSignal=function(t3,e2){this._project.orgData.signalIds.push(t3),this._project.orgData.signalNames[t3]=e2,this._project.orgData.signalTypes[t3]="discrete",this._project.signalData[t3]={id:t3,type:"discrete",pinIds:[],pinTimes:{},pinValues:{},defaultValue:"default value",displayValues:!0}},t2.prototype.addContinuousSignal=function(t3,e2,n2){this._project.orgData.signalIds.push(t3),this._project.orgData.signalNames[t3]=e2,this._project.orgData.signalTypes[t3]="continuous",this._project.signalData[t3]={id:t3,type:"continuous",range:n2,pinIds:[],pinTimes:{},pinValues:{},curves:{},defaultCurve:"return easyLinear();",defaultValue:n2[0]}},t2.prototype.addContinuousBezierSignal=function(t3,e2,n2){this._project.orgData.signalIds.push(t3),this._project.orgData.signalNames[t3]=e2,this._project.orgData.signalTypes[t3]="continuous",this._project.signalData[t3]={id:t3,type:"continuous",range:n2,pinIds:[],pinTimes:{},pinValues:{},curves:{},defaultCurve:"return bezier();",defaultValue:n2[0],bezierControlPoints:{},bezier:!0}},t2.prototype.addPin=function(t3,e2,n2,r2){var i2=this._project.signalData[t3],a2=Math.random().toString(36).substring(7);if(this._project.orgData.pinIds.push(a2),this._project.orgData.signalIdByPinId[a2]=t3,i2.type==="continuous"){if(i2.pinIds.push(a2),i2.pinTimes[a2]=e2,typeof n2!="number")throw new Error("Continuous signal pin value must be a number");if(i2.pinValues[a2]=n2,r2)i2.curves[a2]=r2;else{var o2=i2.defaultCurve;i2.curves[a2]=o2}"bezier"in i2&&(this._project.timelineData.numberOfFrames,i2.bezierControlPoints[a2]=[-5,0,5,0])}if(i2.type==="discrete"){if(i2.pinIds.push(a2),i2.pinTimes[a2]=e2,typeof n2!="string")throw new Error("Discrete signal pin value must be a string");i2.pinValues[a2]=n2}},t2.prototype.setTimelineData=function(t3,e2,r2,i2){this._project.timelineData=n(n({},this._project.timelineData),{numberOfFrames:t3,framesPerSecond:e2,playheadPosition:r2,focusRange:i2||this._project.timelineData.focusRange})},t2.prototype.setSignalActiveStatus=function(t3,e2){e2?this._project.orgData.activeSignalIds.push(t3):this._project.orgData.activeSignalIds=this._project.orgData.activeSignalIds.filter(function(e3){return e3!==t3})},t2.prototype.getProject=function(){return this._project},t2.prototype.addCurveTemplate=function(t3,e2){this._project.templateData[t3]=e2},t2}(),u=Object.freeze({__proto__:null,ProjectBuilder:o,defaultProject:__name(function(){var t2=new o;return t2.addDiscreteSignal("signal1","Signal 1"),t2.addContinuousSignal("signal2","Signal 2",[0,1]),t2.addPin("signal1",100,"VALUE"),t2.addPin("signal2",100,0,"return easyLinear();"),t2.setSignalActiveStatus("signal1",!0),t2.setSignalActiveStatus("signal2",!0),t2.getProject()},"defaultProject")}),s=function(){function t2(t3,e2,n2){if(n2===void 0&&(n2=1e4),this.content=t3,this.__transformer=e2,typeof n2=="number"){if(n2<1)throw new Error("Max size must be greater than 0");this.__internal={namedStates:{},states:{initial:{forward:[],backward:[],nextState:void 0,previousState:void 0}},cursor:"initial",maxSize:n2}}else this.__internal=n2;this.__MAX_ITERATIONS=this.__internal.maxSize+1}return __name(t2,"t2"),t2.deserialize=function(e2,n2){var r2=JSON.parse(e2);return new t2(r2.content,n2,r2.__internal)},t2.prototype.serialize=function(){return JSON.stringify({content:this.content,__internal:this.__internal})},t2.prototype.next=function(){var t3=this.__internal.states[this.__internal.cursor].nextState;if(!t3)return{success:!1,message:"No next state"};var e2=this.__internal.cursor,n2=this.__internal.states[e2].forward;return this.__internal.cursor=t3,this.content=this.__transformer(this.content,n2),{success:!0,message:"Next state reached"}},t2.prototype.previous=function(){var t3=this.__internal.states[this.__internal.cursor].previousState;if(!t3)return{success:!1,message:"No previous state"};var e2=this.__internal.cursor,n2=this.__internal.states[e2].backward;return this.__internal.cursor=t3,this.content=this.__transformer(this.content,n2),{success:!0,message:"Previous state reached"}},t2.prototype.goToNamedState=function(t3){var e2=this.__internal.namedStates[t3];if(!e2)return{success:!1,message:"Named state not found"};if(!this.__internal.states[e2])throw new Error("Named state has no corresponding state");var n2=this.__internal.cursor;if(e2===n2)return{success:!0,message:"Already at named state"};for(var r2="forward",i2=n2,a2=0;i2&&a2<this.__MAX_ITERATIONS;)a2++,i2===e2&&(r2="backward"),i2=this.__internal.states[i2].previousState;if(r2==="forward"){for(a2=0;this.__internal.cursor!==e2&&a2<this.__MAX_ITERATIONS;)if(a2++,!(o2=this.next()).success)throw new Error(o2.message)}else for(a2=0;this.__internal.cursor!==e2&&a2<this.__MAX_ITERATIONS;){var o2;if(a2++,!(o2=this.previous()).success)throw new Error(o2.message)}return{success:!0,message:"Moved to named state"}},t2.prototype.saveAsNamedState=function(t3){this.__internal.namedStates[t3]=this.__internal.cursor},t2.prototype.appendToCurrentState=function(t3,e2){this.content=this.__transformer(this.content,t3);var n2=this.__internal.cursor,r2=this.__internal.states[n2].forward,i2=this.__internal.states[n2].backward;this.__internal.states[n2].forward=r2.concat(t3),this.__internal.states[n2].backward=e2.concat(i2)},t2.prototype.addNextState=function(t3,e2){for(var n2=this,r2=[],i2=o2=this.__internal.cursor,a2=0;i2&&a2<this.__MAX_ITERATIONS;)a2++,(i2=this.__internal.states[i2].nextState)&&r2.push(i2);r2.forEach(function(t4){delete n2.__internal.states[t4]});var o2=this.__internal.cursor,u2="state".concat(function(){for(var t4="",e3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n3=0;n3<10;n3++)t4+=e3.charAt(Math.floor(52*Math.random()));return t4}());this.__internal.states[u2]={forward:t3,backward:e2,nextState:void 0,previousState:o2},this.__internal.states[o2].nextState=u2,this.__internal.cursor=u2,this.content=this.__transformer(this.content,t3);var s2=1,c2=(i2=o2=this.__internal.cursor,[o2]);for(a2=0;i2&&s2<this.__internal.maxSize&&a2<this.__MAX_ITERATIONS;)a2++,(i2=this.__internal.states[i2].previousState)&&c2.push(i2),s2++;var l2=Object.keys(this.__internal.states).filter(function(t4){return!c2.includes(t4)});l2.forEach(function(t4){delete n2.__internal.states[t4]}),c2.forEach(function(t4,e3){var r3=n2.__internal.states[t4].previousState,i3=n2.__internal.states[t4].nextState;r3&&!n2.__internal.states[r3]&&(n2.__internal.states[t4].previousState=void 0),i3&&!n2.__internal.states[i3]&&(n2.__internal.states[t4].nextState=void 0)}),Object.keys(this.__internal.namedStates).forEach(function(t4){var e3=n2.__internal.namedStates[t4];if(!e3)throw new Error("Named state has no corresponding state");n2.__internal.states[e3]||delete n2.__internal.namedStates[t4]})},t2.prototype.executeCommand=function(t3){switch(t3.type){case"next":this.next();break;case"previous":this.previous();break;case"goToNamedState":this.goToNamedState(t3.namedState);break;case"saveAsNamedState":this.saveAsNamedState(t3.namedState);break;case"addNextState":this.addNextState(t3.forward,t3.backward);break;case"appendToCurrentState":this.appendToCurrentState(t3.forward,t3.backward);break;default:throw new Error("Invalid command")}},t2.prototype.executeCommands=function(t3){var e2=this;t3.forEach(function(t4){return e2.executeCommand(t4)})},t2}(),l=function(){function t2(t3){this.subscribers=[],this.update=[],this.dispatch=t3,this.authorId="a".concat(d())}return __name(t2,"t2"),t2.prototype.subscribeToProjectUpdates=function(t3){var e2=this;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.subscribers.push(t3),function(){e2.subscribers=e2.subscribers.filter(function(e3){return e3!==t3})}},t2.prototype.getProject=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.worm.content},t2.prototype.pushCommand=function(t3){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var e2=t3();this.worm.executeCommand(e2),this.update.push(e2)}catch(t4){console.error(t4)}},t2.prototype.pushCommands=function(t3){var e2;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var n2=t3();this.worm.executeCommands(n2),(e2=this.update).push.apply(e2,a([],i(n2),!1))}catch(t4){console.error(t4)}},t2.prototype.pushUpdate=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");var t3=this.update;this.update=[];var e2=this.projectStateId;this.projectStateId="ps".concat(d()),this.subscribers.forEach(function(t4){return t4()}),this.dispatch({authorId:this.authorId,authorIsHost:this.host,type:"pushUpdate",instructions:t3,lastAgreedProjectStateId:e2,newProjectStateId:this.projectStateId})},t2.prototype.processUpdate=function(t3){if(this.worm&&this.projectStateId){var e2=t3.lastAgreedProjectStateId,n2=t3.newProjectStateId;(this.host?e2===this.projectStateId&&t3.authorIsHost===!1&&this.update.length===0:e2===this.projectStateId)?(this.update=[],this.worm.executeCommands(t3.instructions),this.projectStateId=n2,this.subscribers.forEach(function(t4){return t4()})):this.host||this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject"})}},t2}(),f=function(t2){function n2(e2,n3){var r2=t2.call(this,e2.dispatch)||this;return r2.host=!0,r2.worm=n3,r2.projectStateId="ps".concat(d()),r2.dispatch({authorId:r2.authorId,authorIsHost:!0,type:"hostIsConnected"}),r2}return __name(n2,"n2"),e(n2,t2),Object.defineProperty(n2.prototype,"initialized",{get:__name(function(){return!0},"get"),enumerable:!1,configurable:!0}),n2.fromProject=function(t3,e2){return new n2(t3,new s(e2,t3.projectTransformer))},n2.fromSerializedWorm=function(t3,e2){return new n2(t3,s.deserialize(e2,t3.projectTransformer))},n2.prototype.receive=function(t3){if(t3.authorId!==this.authorId)switch(t3.type){case"requestProject":this.pushProject(t3.requestId);break;case"hostIsConnected":case"pushProject":break;case"pushUpdate":this.processUpdate(t3);break;default:throw new Error("Invalid event type")}},n2.prototype.pushProject=function(t3){this.dispatch({authorId:this.authorId,authorIsHost:!0,type:"pushProject",serializedWorm:this.worm.serialize(),initialProjectStateId:this.projectStateId,requestId:t3})},n2}(l),p=function(t2){function n2(e2){var n3=t2.call(this,e2.dispatch)||this;return n3.host=!1,n3.projectRequestCallbacks={},n3.__projectTransformer=e2.projectTransformer,n3}return __name(n2,"n2"),e(n2,t2),Object.defineProperty(n2.prototype,"initialized",{get:__name(function(){return this.worm!==void 0&&this.projectStateId!==void 0},"get"),enumerable:!1,configurable:!0}),n2.prototype.receive=function(t3){if(t3.authorId!==this.authorId)switch(t3.type){case"requestProject":break;case"hostIsConnected":this.requestProject();break;case"pushProject":this.worm=s.deserialize(t3.serializedWorm,this.__projectTransformer),this.projectStateId=t3.initialProjectStateId,t3.requestId&&this.projectRequestCallbacks[t3.requestId]&&(this.projectRequestCallbacks[t3.requestId](),delete this.projectRequestCallbacks[t3.requestId]),this.subscribers.forEach(function(t4){return t4()});break;case"pushUpdate":this.processUpdate(t3);break;default:throw new Error("Invalid event type")}},n2.prototype.requestProject=function(t3){var e2;t3&&(e2="r".concat(d()),this.projectRequestCallbacks[e2]=t3),this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject",requestId:e2})},n2}(l),d=__name(function(){for(var t2="",e2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",n2=0;n2<10;n2++)t2+=e2.charAt(Math.floor(52*Math.random()));return t2},"d"),g=Symbol.for("immer-nothing"),v=Symbol.for("immer-draftable"),y=Symbol.for("immer-state");function _(t2,...e2){throw new Error(`[Immer] minified error nr: ${t2}. Full error at: https://bit.ly/3cXEKWf`)}__name(_,"_");var w=Object.getPrototypeOf;function b(t2){return!!t2&&!!t2[y]}__name(b,"b");function S(t2){var _a19;return!!t2&&(P(t2)||Array.isArray(t2)||!!t2[v]||!!((_a19=t2.constructor)!=null&&_a19[v])||C(t2)||N(t2))}__name(S,"S");var I=Object.prototype.constructor.toString();function P(t2){if(!t2||typeof t2!="object")return!1;const e2=w(t2);if(e2===null)return!0;const n2=Object.hasOwnProperty.call(e2,"constructor")&&e2.constructor;return n2===Object||typeof n2=="function"&&Function.toString.call(n2)===I}__name(P,"P");function x(t2,e2){D(t2)===0?Reflect.ownKeys(t2).forEach(n2=>{e2(n2,t2[n2],t2)}):t2.forEach((n2,r2)=>e2(r2,n2,t2))}__name(x,"x");function D(t2){const e2=t2[y];return e2?e2.type_:Array.isArray(t2)?1:C(t2)?2:N(t2)?3:0}__name(D,"D");function j(t2,e2){return D(t2)===2?t2.has(e2):Object.prototype.hasOwnProperty.call(t2,e2)}__name(j,"j");function E(t2,e2,n2){const r2=D(t2);r2===2?t2.set(e2,n2):r2===3?t2.add(n2):t2[e2]=n2}__name(E,"E");function C(t2){return t2 instanceof Map}__name(C,"C");function N(t2){return t2 instanceof Set}__name(N,"N");function T(t2){return t2.copy_||t2.base_}__name(T,"T");function O(t2,e2){if(C(t2))return new Map(t2);if(N(t2))return new Set(t2);if(Array.isArray(t2))return Array.prototype.slice.call(t2);const n2=P(t2);if(e2===!0||e2==="class_only"&&!n2){const e3=Object.getOwnPropertyDescriptors(t2);delete e3[y];let n3=Reflect.ownKeys(e3);for(let r2=0;r2<n3.length;r2++){const i2=n3[r2],a2=e3[i2];a2.writable===!1&&(a2.writable=!0,a2.configurable=!0),(a2.get||a2.set)&&(e3[i2]={configurable:!0,writable:!0,enumerable:a2.enumerable,value:t2[i2]})}return Object.create(w(t2),e3)}{const e3=w(t2);if(e3!==null&&n2)return{...t2};const r2=Object.create(e3);return Object.assign(r2,t2)}}__name(O,"O");function k(t2,e2=!1){return U(t2)||b(t2)||!S(t2)||(D(t2)>1&&(t2.set=t2.add=t2.clear=t2.delete=z),Object.freeze(t2),e2&&Object.entries(t2).forEach(([t3,e3])=>k(e3,!0))),t2}__name(k,"k");function z(){_(2)}__name(z,"z");function U(t2){return Object.isFrozen(t2)}__name(U,"U");var A,M={};function V(t2){const e2=M[t2];return e2||_(0,t2),e2}__name(V,"V");function R(){return A}__name(R,"R");function F(t2,e2){e2&&(V("Patches"),t2.patches_=[],t2.inversePatches_=[],t2.patchListener_=e2)}__name(F,"F");function B(t2){L(t2),t2.drafts_.forEach(q),t2.drafts_=null}__name(B,"B");function L(t2){t2===A&&(A=t2.parent_)}__name(L,"L");function W(t2){return A={drafts_:[],parent_:A,immer_:t2,canAutoFreeze_:!0,unfinalizedDrafts_:0}}__name(W,"W");function q(t2){const e2=t2[y];e2.type_===0||e2.type_===1?e2.revoke_():e2.revoked_=!0}__name(q,"q");function H(t2,e2){e2.unfinalizedDrafts_=e2.drafts_.length;const n2=e2.drafts_[0];return t2!==void 0&&t2!==n2?(n2[y].modified_&&(B(e2),_(4)),S(t2)&&(t2=$(e2,t2),e2.parent_||G(e2,t2)),e2.patches_&&V("Patches").generateReplacementPatches_(n2[y].base_,t2,e2.patches_,e2.inversePatches_)):t2=$(e2,n2,[]),B(e2),e2.patches_&&e2.patchListener_(e2.patches_,e2.inversePatches_),t2!==g?t2:void 0}__name(H,"H");function $(t2,e2,n2){if(U(e2))return e2;const r2=e2[y];if(!r2)return x(e2,(i2,a2)=>K(t2,r2,e2,i2,a2,n2)),e2;if(r2.scope_!==t2)return e2;if(!r2.modified_)return G(t2,r2.base_,!0),r2.base_;if(!r2.finalized_){r2.finalized_=!0,r2.scope_.unfinalizedDrafts_--;const e3=r2.copy_;let i2=e3,a2=!1;r2.type_===3&&(i2=new Set(e3),e3.clear(),a2=!0),x(i2,(i3,o2)=>K(t2,r2,e3,i3,o2,n2,a2)),G(t2,e3,!1),n2&&t2.patches_&&V("Patches").generatePatches_(r2,n2,t2.patches_,t2.inversePatches_)}return r2.copy_}__name($,"$");function K(t2,e2,n2,r2,i2,a2,o2){if(b(i2)){const o3=$(t2,i2,a2&&e2&&e2.type_!==3&&!j(e2.assigned_,r2)?a2.concat(r2):void 0);if(E(n2,r2,o3),!b(o3))return;t2.canAutoFreeze_=!1}else o2&&n2.add(i2);if(S(i2)&&!U(i2)){if(!t2.immer_.autoFreeze_&&t2.unfinalizedDrafts_<1)return;$(t2,i2),e2&&e2.scope_.parent_||typeof r2=="symbol"||!Object.prototype.propertyIsEnumerable.call(n2,r2)||G(t2,i2)}}__name(K,"K");function G(t2,e2,n2=!1){!t2.parent_&&t2.immer_.autoFreeze_&&t2.canAutoFreeze_&&k(e2,n2)}__name(G,"G");var J={get(t2,e2){if(e2===y)return t2;const n2=T(t2);if(!j(n2,e2))return function(t3,e3,n3){var _a19;const r3=Y(e3,n3);return r3?"value"in r3?r3.value:(_a19=r3.get)==null?void 0:_a19.call(t3.draft_):void 0}(t2,n2,e2);const r2=n2[e2];return t2.finalized_||!S(r2)?r2:r2===Z(t2.base_,e2)?(tt$1(t2),t2.copy_[e2]=et$1(r2,t2)):r2},has:__name((t2,e2)=>e2 in T(t2),"has"),ownKeys:__name(t2=>Reflect.ownKeys(T(t2)),"ownKeys"),set(t2,e2,n2){const r2=Y(T(t2),e2);if(r2!=null&&r2.set)return r2.set.call(t2.draft_,n2),!0;if(!t2.modified_){const r3=Z(T(t2),e2),o2=r3==null?void 0:r3[y];if(o2&&o2.base_===n2)return t2.copy_[e2]=n2,t2.assigned_[e2]=!1,!0;if(((i2=n2)===(a2=r3)?i2!==0||1/i2==1/a2:i2!=i2&&a2!=a2)&&(n2!==void 0||j(t2.base_,e2)))return!0;tt$1(t2),Q(t2)}var i2,a2;return t2.copy_[e2]===n2&&(n2!==void 0||e2 in t2.copy_)||Number.isNaN(n2)&&Number.isNaN(t2.copy_[e2])||(t2.copy_[e2]=n2,t2.assigned_[e2]=!0),!0},deleteProperty:__name((t2,e2)=>(Z(t2.base_,e2)!==void 0||e2 in t2.base_?(t2.assigned_[e2]=!1,tt$1(t2),Q(t2)):delete t2.assigned_[e2],t2.copy_&&delete t2.copy_[e2],!0),"deleteProperty"),getOwnPropertyDescriptor(t2,e2){const n2=T(t2),r2=Reflect.getOwnPropertyDescriptor(n2,e2);return r2&&{writable:!0,configurable:t2.type_!==1||e2!=="length",enumerable:r2.enumerable,value:n2[e2]}},defineProperty(){_(11)},getPrototypeOf:__name(t2=>w(t2.base_),"getPrototypeOf"),setPrototypeOf(){_(12)}},X={};function Z(t2,e2){const n2=t2[y];return(n2?T(n2):t2)[e2]}__name(Z,"Z");function Y(t2,e2){if(!(e2 in t2))return;let n2=w(t2);for(;n2;){const t3=Object.getOwnPropertyDescriptor(n2,e2);if(t3)return t3;n2=w(n2)}}__name(Y,"Y");function Q(t2){t2.modified_||(t2.modified_=!0,t2.parent_&&Q(t2.parent_))}__name(Q,"Q");function tt$1(t2){t2.copy_||(t2.copy_=O(t2.base_,t2.scope_.immer_.useStrictShallowCopy_))}__name(tt$1,"tt$1");x(J,(t2,e2)=>{X[t2]=function(){return arguments[0]=arguments[0][0],e2.apply(this,arguments)}}),X.deleteProperty=function(t2,e2){return X.set.call(this,t2,e2,void 0)},X.set=function(t2,e2,n2){return J.set.call(this,t2[0],e2,n2,t2[0])};function et$1(t2,e2){const n2=C(t2)?V("MapSet").proxyMap_(t2,e2):N(t2)?V("MapSet").proxySet_(t2,e2):function(t3,e3){const n3=Array.isArray(t3),r2={type_:n3?1:0,scope_:e3?e3.scope_:R(),modified_:!1,finalized_:!1,assigned_:{},parent_:e3,base_:t3,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i2=r2,a2=J;n3&&(i2=[r2],a2=X);const{revoke:o2,proxy:u2}=Proxy.revocable(i2,a2);return r2.draft_=u2,r2.revoke_=o2,u2}(t2,e2);return(e2?e2.scope_:R()).drafts_.push(n2),n2}__name(et$1,"et$1");function nt$1(t2){if(!S(t2)||U(t2))return t2;const e2=t2[y];let n2;if(e2){if(!e2.modified_)return e2.base_;e2.finalized_=!0,n2=O(t2,e2.scope_.immer_.useStrictShallowCopy_)}else n2=O(t2,!0);return x(n2,(t3,e3)=>{E(n2,t3,nt$1(e3))}),e2&&(e2.finalized_=!1),n2}__name(nt$1,"nt$1");var rt$1=new class{constructor(t2){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t3,e2,n2)=>{if(typeof t3=="function"&&typeof e2!="function"){const n3=e2;e2=t3;const r3=this;return function(t4=n3,...i2){return r3.produce(t4,t5=>e2.call(this,t5,...i2))}}let r2;if(typeof e2!="function"&&_(6),n2!==void 0&&typeof n2!="function"&&_(7),S(t3)){const i2=W(this),a2=et$1(t3,void 0);let o2=!0;try{r2=e2(a2),o2=!1}finally{o2?B(i2):L(i2)}return F(i2,n2),H(r2,i2)}if(!t3||typeof t3!="object"){if(r2=e2(t3),r2===void 0&&(r2=t3),r2===g&&(r2=void 0),this.autoFreeze_&&k(r2,!0),n2){const e3=[],i2=[];V("Patches").generateReplacementPatches_(t3,r2,e3,i2),n2(e3,i2)}return r2}_(1,t3)},this.produceWithPatches=(t3,e2)=>{if(typeof t3=="function")return(e3,...n3)=>this.produceWithPatches(e3,e4=>t3(e4,...n3));let n2,r2;return[this.produce(t3,e2,(t4,e3)=>{n2=t4,r2=e3}),n2,r2]},typeof(t2==null?void 0:t2.autoFreeze)=="boolean"&&this.setAutoFreeze(t2.autoFreeze),typeof(t2==null?void 0:t2.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t2.useStrictShallowCopy)}createDraft(t2){S(t2)||_(8),b(t2)&&(t2=function(t3){return b(t3)||_(10,t3),nt$1(t3)}(t2));const e2=W(this),n2=et$1(t2,void 0);return n2[y].isManual_=!0,L(e2),n2}finishDraft(t2,e2){const n2=t2&&t2[y];n2&&n2.isManual_||_(9);const{scope_:r2}=n2;return F(r2,e2),H(void 0,r2)}setAutoFreeze(t2){this.autoFreeze_=t2}setUseStrictShallowCopy(t2){this.useStrictShallowCopy_=t2}applyPatches(t2,e2){let n2;for(n2=e2.length-1;n2>=0;n2--){const r3=e2[n2];if(r3.path.length===0&&r3.op==="replace"){t2=r3.value;break}}n2>-1&&(e2=e2.slice(n2+1));const r2=V("Patches").applyPatches_;return b(t2)?r2(t2,e2):this.produce(t2,t3=>r2(t3,e2))}},it$1=rt$1.produce;function at$1(t2,e2){var n2=e2.pinId,r2=!1;for(var i2 in t2.signalData){var a2=t2.signalData[i2],o2=a2.pinIds.indexOf(n2);if(o2!==-1){a2.pinIds.splice(o2,1),delete a2.pinTimes[n2],delete a2.pinValues[n2],a2.type==="continuous"&&(delete a2.curves[n2],"bezier"in a2&&delete a2.bezierControlPoints[n2]),r2=!0;break}}if(!r2)throw new Error("Pin with id ".concat(n2," not found"));t2.orgData.pinIds=t2.orgData.pinIds.filter(function(t3){return t3!==n2}),delete t2.orgData.signalIdByPinId[n2]}__name(at$1,"at$1");rt$1.produceWithPatches.bind(rt$1),rt$1.setAutoFreeze.bind(rt$1),rt$1.setUseStrictShallowCopy.bind(rt$1),rt$1.applyPatches.bind(rt$1),rt$1.createDraft.bind(rt$1),rt$1.finishDraft.bind(rt$1);var ot$1={addPin:__name(function(t2,e2){var n2=e2.signalId,r2=e2.pinId,a2=e2.pinTime,o2=e2.pinValue,u2=e2.functionString,s2=e2.bezierControlPoints,c2=t2.signalData[n2];if(!c2)throw new Error("Signal with id ".concat(n2," not found"));var l2=c2.type;if(l2==="continuous"&&typeof o2!="number")throw new Error("Pin value must be a number for continuous signals");if(l2==="discrete"&&typeof o2!="string")throw new Error("Pin value must be a string for discrete signals");for(var f2 in t2.signalData)if(t2.signalData[f2].pinIds.includes(r2))throw new Error("Pin with id ".concat(r2," already exists"));if(Object.values(c2.pinTimes).includes(a2))throw new Error("Pin time must be unique within the signal");var p2=t2.timelineData.numberOfFrames;if(a2<0||a2>p2)throw new Error("Pin time must be between 0 and ".concat(p2));if(l2==="continuous"){var d2=i(c2.range,2),h2=d2[0],g2=d2[1];if(o2<h2||o2>g2)throw new Error("Pin value must be between ".concat(h2," and ").concat(g2));if(!u2)throw new Error("Curve is required for continuous signals");if("bezier"in c2){if(!c2.bezierControlPoints)throw new Error("Bezier control points are required for continuous bezier signals");if(!s2)throw new Error("Bezier control points are required for continuous bezier signals");c2.bezierControlPoints[r2]=s2}}var v2=c2.pinIds;if(v2.length===0)c2.pinIds.push(r2);else{var y2=v2.findIndex(function(t3){return c2.pinTimes[t3]>=a2});y2===-1&&(y2=v2.length),c2.pinIds.splice(y2,0,r2)}c2.pinTimes[r2]=a2,c2.pinValues[r2]=o2,l2==="continuous"&&(c2.curves[r2]=u2),t2.orgData.pinIds.push(r2),t2.orgData.signalIdByPinId[r2]=n2},"addPin"),deletePin:at$1,updatePinTime:__name(function(t2,e2){var n2=e2.pinId,r2=e2.pinTime,i2=t2.timelineData.numberOfFrames;if(r2<0||r2>i2)throw new Error("Pin time must be between 0 and ".concat(i2));var a2=!1,o2=__name(function(e3){var i3=t2.signalData[e3];if(i3.pinIds.includes(n2)){i3.pinTimes[n2]=r2;var o3=i3.pinIds,u3=o3.indexOf(n2);o3.splice(u3,1);var s2=o3.findIndex(function(t3){return i3.pinTimes[t3]>=r2});return s2===-1&&(s2=o3.length),o3.splice(s2,0,n2),a2=!0,"break"}},"o2");for(var u2 in t2.signalData)if(o2(u2)==="break")break;if(!a2)throw new Error("Pin with id ".concat(n2," not found"))},"updatePinTime"),updatePinValue:__name(function(t2,e2){var n2=e2.pinId,r2=e2.pinValue,a2=!1;for(var o2 in t2.signalData){var u2=t2.signalData[o2];if(u2.pinIds.includes(n2)){if(u2.type==="continuous"&&typeof r2!="number")throw new Error("Pin value must be a number for continuous signals");if(u2.type==="discrete"&&typeof r2!="string")throw new Error("Pin value must be a string for discrete signals");if(u2.type==="continuous"){var s2=i(u2.range,2),c2=s2[0],l2=s2[1];if(r2<c2||r2>l2)throw new Error("Pin value must be between ".concat(c2," and ").concat(l2))}u2.pinValues[n2]=r2,a2=!0;break}}if(!a2)throw new Error("Pin with id ".concat(n2," not found"))},"updatePinValue"),updatePins:__name(function(t2,e2){var n2,a2,o2=e2.pins,u2=__name(function(e3){var n3=e3.pinId,r2=e3.pinTime,a3=e3.pinValue,o3=e3.functionString,u3=t2.orgData.signalIdByPinId[n3];if(!u3)throw new Error("Pin with id ".concat(n3," not found"));var s3=t2.signalData[u3];if(s3.type==="continuous"&&typeof a3!="number")throw new Error("Pin value must be a number for continuous signals");if(s3.type==="discrete"&&typeof a3!="string")throw new Error("Pin value must be a string for discrete signals");if(s3.type==="continuous"){var c3=i(s3.range,2),l2=c3[0],f2=c3[1];if(a3<l2||a3>f2)throw new Error("Pin value must be between ".concat(l2," and ").concat(f2));if(!o3)throw new Error("Curve is required for continuous signals")}s3.pinTimes[n3]=r2,s3.pinValues[n3]=a3;var p2=s3.pinIds,d2=p2.indexOf(n3);p2.splice(d2,1);var h2=p2.findIndex(function(t3){return s3.pinTimes[t3]>=r2});h2===-1&&(h2=p2.length),p2.splice(h2,0,n3),s3.type==="continuous"&&(s3.curves[n3]=o3)},"u2");try{for(var s2=r(o2),c2=s2.next();!c2.done;c2=s2.next())u2(c2.value)}catch(t3){n2={error:t3}}finally{try{c2&&!c2.done&&(a2=s2.return)&&a2.call(s2)}finally{if(n2)throw n2.error}}},"updatePins"),updateCurve:__name(function(t2,e2){var n2=e2.pinId,r2=e2.functionString,i2=!1;for(var a2 in t2.signalData){var o2=t2.signalData[a2];if(o2.type!=="discrete"&&o2.pinIds.includes(n2)){o2.curves[n2]=r2,i2=!0;break}}if(!i2)throw new Error("Pin with id ".concat(n2," not found"))},"updateCurve"),createSignal:__name(function(t2,e2){var n2,r2=e2.signalId,a2=e2.signalType,o2=e2.signalName,u2=e2.range,s2=e2.defaultValue,c2=e2.displayValues,l2=e2.isStatic,f2=e2.bezier,p2=e2.defaultCurve;if(t2.signalData[r2])throw new Error("Signal with id ".concat(r2," already exists"));if(a2!=="continuous"&&a2!=="discrete")throw new Error("Signal type must be continuous or discrete");if(a2==="continuous"){if(!u2)throw new Error("Range is required for continuous signals");var d2=i(u2,2);if(d2[0]>=d2[1])throw new Error("Min value must be less than max value");if(typeof s2!="number")throw new Error("Default value must be a number for continuous signals");if(!p2)throw new Error("Default curve is required for continuous signals");n2=f2?{id:r2,type:a2,range:u2,defaultValue:s2,isStatic:l2,bezier:!0,bezierControlPoints:{},defaultCurve:p2,pinIds:[],pinTimes:{},pinValues:{},curves:{}}:{id:r2,type:a2,range:u2,defaultValue:s2,isStatic:l2,defaultCurve:p2,pinIds:[],pinTimes:{},pinValues:{},curves:{}}}if(a2==="discrete"){if(typeof s2!="string")throw new Error("Default value must be a string for discrete signals");n2={id:r2,type:a2,pinIds:[],defaultValue:s2,displayValues:c2,isStatic:l2,pinTimes:{},pinValues:{}}}t2.signalData[r2]=n2,t2.orgData.signalIds.push(r2),t2.orgData.signalNames[r2]=o2,t2.orgData.signalTypes[r2]=a2,t2.orgData.activeSignalIds.push(r2)},"createSignal"),deleteSignal:__name(function(t2,e2){var n2=e2.signalId;if(!t2.signalData[n2])throw new Error("Signal with id ".concat(n2," not found"));var r2=t2.signalData[n2].pinIds;r2.forEach(function(e3){return delete t2.orgData.signalIdByPinId[e3]}),r2.forEach(function(e3){return t2.orgData.pinIds=t2.orgData.pinIds.filter(function(t3){return t3!==e3})}),delete t2.signalData[n2],t2.orgData.signalIds=t2.orgData.signalIds.filter(function(t3){return t3!==n2}),delete t2.orgData.signalNames[n2],t2.orgData.activeSignalIds=t2.orgData.activeSignalIds.filter(function(t3){return t3!==n2}),delete t2.orgData.signalTypes[n2]},"deleteSignal"),updateSignalName:__name(function(t2,e2){var n2=e2.signalId,r2=e2.signalName;if(!t2.signalData[n2])throw new Error("Signal with id ".concat(n2," not found"));t2.orgData.signalNames[n2]=r2},"updateSignalName"),updateSignalRange:__name(function(t2,e2){var n2=e2.signalId,r2=e2.range;if(!t2.signalData[n2])throw new Error("Signal with id ".concat(n2," not found"));if(t2.signalData[n2].type!=="continuous")throw new Error("Range can only be updated for continuous signals");var a2=i(r2,2);if(a2[0]>=a2[1])throw new Error("Min value must be less than max value");t2.signalData[n2].range=r2},"updateSignalRange"),updateSignalIndex:__name(function(t2,e2){var n2=e2.signalId,r2=e2.index,i2=t2.orgData.signalIds,a2=i2.indexOf(n2);if(a2===-1)throw new Error("Signal with id ".concat(n2," not found"));i2.splice(a2,1),i2.splice(r2,0,n2)},"updateSignalIndex"),updateSignalActiveStatus:__name(function(t2,e2){var n2=e2.signalId,r2=e2.active;if(!t2.signalData[n2])throw new Error("Signal with id ".concat(n2," not found"));var i2=t2.orgData.activeSignalIds,a2=i2.indexOf(n2);r2&&a2===-1&&i2.push(n2),r2||a2===-1||i2.splice(a2,1)},"updateSignalActiveStatus"),updateFramesPerSecond:__name(function(t2,e2){var n2=e2.framesPerSecond;if(n2<=0)throw new Error("Frames per second must be greater than 0");t2.timelineData.framesPerSecond=n2},"updateFramesPerSecond"),updatePlayheadPosition:__name(function(t2,e2){var n2=e2.playheadPosition;if(t2.timelineData.playing)throw new Error("Cannot update playhead position while playing");if(n2<0||n2>t2.timelineData.numberOfFrames)throw new Error("Playhead position must be between 0 and ".concat(t2.timelineData.numberOfFrames));t2.timelineData.playheadPosition=n2},"updatePlayheadPosition"),updateNumberOfFrames:__name(function(t2,e2){var n2,i2,a2=e2.numberOfFrames;if(a2<=0)throw new Error("Number of frames must be greater than 0");for(var o2 in t2.timelineData.numberOfFrames=a2,t2.signalData){var u2=t2.signalData[o2];try{for(var s2=(n2=void 0,r(u2.pinIds)),c2=s2.next();!c2.done;c2=s2.next()){var l2=c2.value;u2.pinTimes[l2]>a2&&at$1(t2,{type:"deletePin",pinId:l2})}}catch(t3){n2={error:t3}}finally{try{c2&&!c2.done&&(i2=s2.return)&&i2.call(s2)}finally{if(n2)throw n2.error}}}},"updateNumberOfFrames"),updateProjectName:__name(function(t2,e2){var n2=e2.projectName;t2.metaData.name=n2},"updateProjectName"),updateFocusRange:__name(function(t2,e2){var n2=e2.focusRange,r2=i(n2,2),a2=r2[0],o2=r2[1];if(a2<0||o2>t2.timelineData.numberOfFrames||a2>=o2)throw new Error("Invalid focus range");t2.timelineData.focusRange=n2},"updateFocusRange"),updateCurveTemplate:__name(function(t2,e2){var n2=e2.curveId,r2=e2.functionString;if(!t2.templateData[n2])throw new Error("Curve template with id ".concat(n2," not found"));t2.templateData[n2]=r2},"updateCurveTemplate"),addCurveTemplate:__name(function(t2,e2){var n2=e2.curveId,r2=e2.functionString;if(t2.templateData[n2])throw new Error("Curve template with id ".concat(n2," already exists"));t2.templateData[n2]=r2},"addCurveTemplate"),deleteCurveTemplate:__name(function(t2,e2){var n2=e2.curveId;if(!t2.templateData[n2])throw new Error("Curve template with id ".concat(n2," not found"));delete t2.templateData[n2]},"deleteCurveTemplate"),updatePinBezierControlPoints:__name(function(t2,e2){var n2=e2.pinId,r2=e2.bezierControlPoints,i2=t2.orgData.signalIdByPinId[n2];if(!i2)throw new Error("Pin with id ".concat(n2," not found"));t2.signalData[i2].bezierControlPoints[n2]=r2},"updatePinBezierControlPoints"),updateSignalDefaultValue:__name(function(t2,e2){var n2=e2.signalId,r2=e2.defaultValue;if(!t2.signalData[n2])throw new Error("Signal with id ".concat(n2," not found"));var i2=t2.signalData[n2];if(i2.type==="continuous"&&typeof r2!="number")throw new Error("Default value must be a number for continuous signals");if(i2.type==="discrete"&&typeof r2!="string")throw new Error("Default value must be a string for discrete signals");i2.defaultValue=r2},"updateSignalDefaultValue"),updateSignalDefaultCurve:__name(function(t2,e2){var n2=e2.signalId,r2=e2.defaultCurve;if(!t2.signalData[n2])throw new Error("Signal with id ".concat(n2," not found"));t2.signalData[n2].defaultCurve=r2},"updateSignalDefaultCurve"),updatePlaying:__name(function(t2,e2){var n2=e2.playing,r2=e2.playingTimestamp;t2.timelineData.playing=n2,t2.timelineData.playingTimestamp=r2},"updatePlaying")};function ut$1(t2,e2){return it$1(t2,function(t3){for(var n2=0;n2<e2.length;n2++){var r2=e2[n2];(0,ot$1[r2.type])(t3,r2)}})}__name(ut$1,"ut$1");function ct$1(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}__name(ct$1,"ct$1");var lt$1={type:"saveAsNamedState",namedState:"commit"},ft$1={type:"goToNamedState",namedState:"commit"};function pt(t2,e2,n2,r2,i2,a2,o2){return a2&&!o2&&(t2.timelineData.numberOfFrames,o2=[-5,0,5,0]),{type:"addPin",signalId:e2,pinId:n2,pinTime:r2,pinValue:i2,functionString:a2,bezierControlPoints:o2}}__name(pt,"pt");function dt$1(t2,e2){var n2=t2(),r2=Object.keys(n2.signalData).find(function(t3){var r3;return(r3=n2.signalData[t3])===null||r3===void 0?void 0:r3.pinIds.includes(e2)});if(!r2)throw new Error("Pin not found");var i2=n2.signalData[r2].type,a2=i2==="continuous"&&"bezier"in n2.signalData[r2],o2=n2.signalData[r2].pinTimes[e2],u2=n2.signalData[r2].pinValues[e2],s2=i2==="continuous"?n2.signalData[r2].curves[e2]:void 0,c2=a2?n2.signalData[r2].bezierControlPoints[e2]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:e2}],backward:[pt(n2,r2,e2,o2,u2,s2,c2)]}}__name(dt$1,"dt$1");var ht=f,gt$1=p,vt$1=ut$1,yt$1=function(){function t2(t3,e2,n2,r2){if(e2){if(!n2&&!r2)throw new Error("Project or worm must be provided to host project controller");var i2=void 0;if(n2&&(i2=ht.fromProject({dispatch:t3,projectTransformer:vt$1},n2)).worm.saveAsNamedState("commit"),r2&&(i2=ht.fromSerializedWorm({dispatch:t3,projectTransformer:vt$1},r2)),!i2)throw new Error("Project node not created");this.projectNode=i2,this.connectToHost=function(){throw new Error("Host project controller cannot connect to host")}}else{this.projectNode=new gt$1({dispatch:t3,projectTransformer:vt$1});var a2=this.projectNode.requestProject.bind(this.projectNode);this.connectToHost=a2}}return __name(t2,"t2"),t2.Host=function(e2,n2){return new t2(e2,!0,n2)},t2.HostFromProject=function(e2,n2){return new t2(e2,!0,n2)},t2.prototype.serializeWorm=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");if(!this.projectNode.worm)throw new Error("Project node worm not found");return this.projectNode.worm.serialize()},t2.HostFromSerializedWorm=function(e2,n2){return new t2(e2,!0,void 0,n2)},t2.Client=function(e2){return new t2(e2,!1,void 0)},t2.prototype.receive=function(t3){this.projectNode.receive(t3)},Object.defineProperty(t2.prototype,"projectTools",{get:__name(function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");var t3=this.projectNode.pushUpdate.bind(this.projectNode),e2=this.projectNode.getProject.bind(this.projectNode),n2=this.projectNode.pushCommand.bind(this.projectNode);return this.projectNode.pushCommands.bind(this.projectNode),function(t4,e3,n3,r2){function a2(){e3(function(){return ft$1})}__name(a2,"a2");function o2(){e3(function(){return lt$1})}return __name(o2,"o2"),{returnToLastCommit:__name(function(){a2()},"returnToLastCommit"),pushUpdate:t4,addPinContinuous:__name(function(n4,i2,u2,s2,c2,l2){l2&&a2(),e3(function(){var t5=r2(),e4=t5.signalData[n4],a3=e4.pinTimes,o3=e4.pinIds.findIndex(function(t6){return a3[t6]===u2}),l3=[];o3!==-1&&l3.push({type:"deletePin",pinId:e4.pinIds[o3]}),l3.push(pt(t5,n4,i2,u2,s2,c2));var f2=[];if(f2.push({type:"deletePin",pinId:i2}),o3!==-1){var p2=e4.pinIds[o3];f2.push(pt(t5,n4,p2,e4.pinTimes[p2],e4.pinValues[p2],e4.curves[p2]))}return{type:"addNextState",forward:l3,backward:f2}}),l2&&(o2(),t4())},"addPinContinuous"),addPinDiscrete:__name(function(n4,i2,u2,s2,c2){c2&&a2(),e3(function(){var t5=r2(),e4=t5.signalData[n4],a3=e4.pinTimes,o3=e4.pinIds.findIndex(function(t6){return a3[t6]===u2}),c3=[];o3!==-1&&c3.push({type:"deletePin",pinId:e4.pinIds[o3]}),c3.push(pt(t5,n4,i2,u2,s2));var l2=[];if(l2.push({type:"deletePin",pinId:i2}),o3!==-1){var f2=e4.pinIds[o3];l2.push(pt(t5,n4,f2,e4.pinTimes[f2],e4.pinValues[f2]))}return{type:"addNextState",forward:c3,backward:l2}}),c2&&(o2(),t4())},"addPinDiscrete"),deletePin:__name(function(n4){a2(),e3(function(){return dt$1(r2,n4)}),o2(),t4()},"deletePin"),deletePins:__name(function(n4){a2(),n4.forEach(function(t5){e3(function(){return dt$1(r2,t5)})}),o2(),t4()},"deletePins"),updatePins:__name(function(n4,i2){i2&&a2();var u2=r2(),s2={type:"updatePins",pins:[]},c2={type:"updatePins",pins:[]};n4.forEach(function(t5){var e4=t5.pinId,n5=u2.orgData.signalIdByPinId[e4],r3=t5.pinTime,i3=t5.pinValue,a3=t5.pinType==="continuous"?t5.functionString:void 0,o3=u2.signalData[n5].pinTimes[e4],l2=u2.signalData[n5].pinValues[e4],f2=t5.pinType==="continuous"?u2.signalData[n5].curves[e4]:void 0,p2={pinId:e4,pinTime:r3??o3,pinValue:i3??l2,functionString:a3??f2},d2={pinId:e4,pinTime:o3,pinValue:l2,functionString:f2};s2.pins.push(p2),c2.pins.push(d2)}),e3(function(){return{type:"addNextState",forward:[s2],backward:[c2]}}),i2&&o2(),t4()},"updatePins"),updateCurve:__name(function(n4,i2){a2(),e3(function(){var t5=r2(),e4=Object.keys(t5.signalData).find(function(e5){var r3;return(r3=t5.signalData[e5])===null||r3===void 0?void 0:r3.pinIds.includes(n4)});if(!e4)throw new Error("Pin not found");if(t5.signalData[e4].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:n4,functionString:i2}],backward:[{type:"updateCurve",pinId:n4,functionString:t5.signalData[e4].curves[n4]}]}}),o2(),t4()},"updateCurve"),updatePinBezierControlPoints:__name(function(n4,i2,u2){u2&&a2(),e3(function(){var t5=r2(),e4=Object.keys(t5.signalData).find(function(e5){var r3;return(r3=t5.signalData[e5])===null||r3===void 0?void 0:r3.pinIds.includes(n4)});if(!e4)throw new Error("Pin not found");if(t5.signalData[e4].type==="discrete")throw new Error("Cannot update bezier control points of discrete signal");if(!("bezier"in t5.signalData[e4]))throw new Error("Signal is not a bezier signal");return{type:"addNextState",forward:[{type:"updatePinBezierControlPoints",pinId:n4,bezierControlPoints:i2}],backward:[{type:"updatePinBezierControlPoints",pinId:n4,bezierControlPoints:t5.signalData[e4].bezierControlPoints[n4]}]}}),u2&&o2(),t4()},"updatePinBezierControlPoints"),createDiscreteSignal:__name(function(n4,r3,i2,u2){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"discrete",signalName:r3,defaultValue:i2,isStatic:u2,displayValues:!0}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createDiscreteSignal"),createDiscreteBeatSignal:__name(function(n4,r3){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"discrete",signalName:r3,defaultValue:"beat"}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createDiscreteBeatSignal"),createContinuousSignal:__name(function(n4,r3,i2,u2,s2,c2){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"continuous",signalName:r3,range:i2,defaultValue:u2,defaultCurve:s2,isStatic:c2}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createContinuousSignal"),createContinuousBezierSignal:__name(function(n4,r3,i2,u2,s2,c2){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"continuous",signalName:r3,range:i2,defaultValue:u2,defaultCurve:s2,isStatic:c2,bezier:!0}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createContinuousBezierSignal"),duplicateSignal:__name(function(n4){a2();var i2=ct$1();e3(function(){var t5=r2(),e4=t5.signalData[n4];if(!e4)throw new Error("Signal not found");var a3=t5.orgData.signalNames[n4],o3=e4.defaultValue,u2=e4.type==="continuous"?e4.defaultCurve:void 0,s2=e4.isStatic,c2=e4.type==="continuous"&&"bezier"in e4,l2=e4.type==="discrete"?e4.displayValues:void 0,f2=a3+"_copy",p2=e4.type==="continuous"?e4.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:i2,signalType:e4.type,signalName:f2,range:p2,defaultValue:o3,defaultCurve:u2,isStatic:s2,bezier:!!c2||void 0,displayValues:!!l2||void 0}],backward:[{type:"deleteSignal",signalId:i2}]}}),e3(function(){var t5=r2(),e4=t5.signalData[n4].pinIds,a3=t5.signalData[n4].type,o3=e4.map(function(e5){var r3,i3=t5.signalData[n4].pinTimes[e5],o4=t5.signalData[n4].pinValues[e5];return a3==="continuous"&&(r3=t5.signalData[n4].curves[e5]),{pinTime:i3,pinValue:o4,functionString:r3,pinId:ct$1()}});return{type:"addNextState",forward:o3.map(function(e5){return pt(t5,i2,e5.pinId,e5.pinTime,e5.pinValue,e5.functionString)}),backward:o3.map(function(t6){return{type:"deletePin",pinId:t6.pinId}})}}),o2(),t4()},"duplicateSignal"),deleteSignal:__name(function(n4){a2(),e3(function(){var t5=r2(),e4=t5.signalData[n4];if(!e4)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:n4}],backward:[{type:"createSignal",signalId:n4,signalType:e4.type,signalName:t5.orgData.signalNames[n4],range:e4.type==="continuous"?e4.range:void 0,defaultValue:e4.defaultValue,defaultCurve:e4.type==="continuous"?e4.defaultCurve:void 0,isStatic:e4.isStatic,bezier:e4.type==="continuous"&&"bezier"in e4||void 0,bezierControlPoints:e4.type==="continuous"&&"bezier"in e4?e4.bezierControlPoints:void 0,displayValues:e4.type==="discrete"?e4.displayValues:void 0}]}}),o2(),t4()},"deleteSignal"),updateSignalDefaultValue:__name(function(n4,i2){a2(),e3(function(){var t5=r2().signalData[n4];if(!t5)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalDefaultValue",signalId:n4,defaultValue:i2}],backward:[{type:"updateSignalDefaultValue",signalId:n4,defaultValue:t5.defaultValue}]}}),o2(),t4()},"updateSignalDefaultValue"),updateSignalName:__name(function(n4,i2){a2(),e3(function(){var t5=r2();if(!t5.signalData[n4])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:n4,signalName:i2}],backward:[{type:"updateSignalName",signalId:n4,signalName:t5.orgData.signalNames[n4]}]}}),o2(),t4()},"updateSignalName"),updateSignalRange:__name(function(n4,i2){a2(),e3(function(){var t5=r2().signalData[n4];if(!t5)throw new Error("Signal not found");if(t5.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:n4,range:i2}],backward:[{type:"updateSignalRange",signalId:n4,range:t5.range}]}}),o2(),t4()},"updateSignalRange"),updateSignalIndex:__name(function(n4,i2,u2){u2&&a2(),e3(function(){var t5=r2();if(!t5.signalData[n4])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:n4,index:i2}],backward:[{type:"updateSignalIndex",signalId:n4,index:t5.orgData.activeSignalIds.indexOf(n4)}]}}),u2&&o2(),t4()},"updateSignalIndex"),updateSignalActiveStatus:__name(function(n4,i2){a2(),e3(function(){var t5=r2();if(!t5.signalData[n4])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:n4,active:i2}],backward:[{type:"updateSignalActiveStatus",signalId:n4,active:t5.orgData.activeSignalIds.includes(n4)}]}}),o2(),t4()},"updateSignalActiveStatus"),updateFramesPerSecond:__name(function(n4){a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:n4}],backward:[{type:"updateFramesPerSecond",framesPerSecond:t5.timelineData.framesPerSecond}]}}),o2(),t4()},"updateFramesPerSecond"),updatePlayheadPosition:__name(function(n4,i2){i2&&a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:n4}],backward:[{type:"updatePlayheadPosition",playheadPosition:t5.timelineData.playheadPosition}]}}),i2&&o2(),t4()},"updatePlayheadPosition"),playNextFrame:__name(function(n4){var o3=r2(),u2=o3.timelineData.playheadPosition,s2=i(o3.timelineData.focusRange,2);s2[0],s2[1],a2(),e3(function(){return{type:"addNextState",forward:[{type:"updatePlaying",playing:!0},{type:"updatePlayheadPosition",playheadPosition:n4}],backward:[{type:"updatePlayheadPosition",playheadPosition:u2},{type:"updatePlaying",playing:!1}]}}),t4()},"playNextFrame"),updateFocusRange:__name(function(n4){var u2=i(n4,2),s2=u2[0],c2=u2[1];a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[s2,c2]}],backward:[{type:"updateFocusRange",focusRange:t5.timelineData.focusRange}]}}),o2(),t4()},"updateFocusRange"),updateNumberOfFrames:__name(function(n4){a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:n4}],backward:[{type:"updateNumberOfFrames",numberOfFrames:t5.timelineData.numberOfFrames}]}}),o2(),t4()},"updateNumberOfFrames"),updateProjectName:__name(function(n4){a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:n4}],backward:[{type:"updateProjectName",projectName:t5.metaData.name}]}}),o2(),t4()},"updateProjectName"),undo:__name(function(){a2(),e3(function(){return{type:"previous"}}),o2(),t4()},"undo"),redo:__name(function(){a2(),e3(function(){return{type:"next"}}),o2(),t4()},"redo"),addCurveTemplate:__name(function(n4,r3){e3(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:n4,functionString:r3}],backward:[{type:"deleteCurveTemplate",curveId:n4}]}}),t4()},"addCurveTemplate"),deleteCurveTemplate:__name(function(n4){e3(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:n4}],backward:[{type:"addCurveTemplate",curveId:n4,functionString:r2().templateData[n4]}]}}),t4()},"deleteCurveTemplate"),updateCurveTemplate:__name(function(n4,i2){e3(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:n4,functionString:i2}],backward:[{type:"updateCurveTemplate",curveId:n4,functionString:r2().templateData[n4]}]}}),t4()},"updateCurveTemplate")}}(t3,n2,0,e2)},"get"),enumerable:!1,configurable:!0}),t2.prototype.getProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");return this.projectNode.getProject()},t2.prototype.prettyPrintProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");console.log(JSON.stringify(this.projectNode.getProject(),null,2))},t2.prototype.subscribeToProjectUpdates=function(t3){return this.projectNode.subscribeToProjectUpdates(t3)},t2.prototype.interpolateSignalValueAtTime=function(t3,e2){if(!this.projectNode.initialized)throw new Error("Project not initialized");var n2=this.projectNode.getProject();return Rt$1(n2,t3,e2)},t2}(),mt$1=Object.freeze({__proto__:null,dispatchProjectEvent:__name(function(t2,e2,n2){n2===void 0&&(n2="default");var r2=new URL(e2).origin;return function(e3){var i2={type:"projectNodeEvent",event:e3,channel:n2};t2.postMessage(i2,r2)}},"dispatchProjectEvent"),subscribeToProjectEvents:__name(function(t2,e2){e2===void 0&&(e2="default");var n2=new URL(t2).origin;return function(t3){function r2(r3){if(r3.origin===n2&&r3.data.type==="projectNodeEvent"&&r3.data.channel===e2){var i2=r3.data.event;t3(i2)}}return __name(r2,"r2"),window.addEventListener("message",r2),function(){return window.removeEventListener("message",r2)}}},"subscribeToProjectEvents")}),_t$1=Object.freeze({__proto__:null,dispatchProjectEvent:__name(function(t2){return t2===void 0&&(t2="default"),function(e2){var n2=new CustomEvent("projectNodeEvent",{detail:{event:e2,channel:t2}});window.dispatchEvent(n2)}},"dispatchProjectEvent"),subscribeToProjectEvents:__name(function(t2){return t2===void 0&&(t2="default"),function(e2){function n2(n3){if(n3.type==="projectNodeEvent"&&n3.detail.channel===t2){var r2=n3.detail.event;e2(r2)}}return __name(n2,"n2"),window.addEventListener("projectNodeEvent",n2),function(){return window.removeEventListener("projectNodeEvent",n2)}}},"subscribeToProjectEvents")}),wt$1=Object.freeze({__proto__:null,CustomEventAPI:_t$1,PinsAndCurvesProjectController:yt$1,PostMessageAPI:mt$1});function bt$1(t2,e2,n2){var r2=i(t2,2),a2=r2[0],o2=r2[1],u2=i(e2,2),s2=u2[0],c2=u2[1],l2=i(n2,2),f2=l2[0],p2=l2[1],d2=(a2-s2)*(a2-f2)*(s2-f2);return d2===0?{a:0,b:0,c:0}:{a:(o2*(s2-f2)+c2*(f2-a2)+p2*(a2-s2))/d2,b:(o2*(Math.pow(f2,2)-Math.pow(s2,2))+c2*(Math.pow(a2,2)-Math.pow(f2,2))+p2*(Math.pow(s2,2)-Math.pow(a2,2)))/d2,c:(o2*(s2*f2*(s2-f2))+c2*(f2*a2*(f2-a2))+p2*(a2*s2*(a2-s2)))/d2}}__name(bt$1,"bt$1");var St$1=__name(function(t2){var e2=t2.project,n2=t2.project.orgData.signalIdByPinId[t2.pinId],r2=e2.signalData[n2].pinIds.indexOf(t2.pinId);return r2===0?t2.range[0]:(r2-1)%2===0?function(t3){var e3=t3.project,n3=t3.project.orgData.signalIdByPinId[t3.pinId],r3=e3.signalData[n3].pinIds,i2=r3.indexOf(t3.pinId);if(i2===0)return t3.previousPinValue;if(i2===r3.length-1)return t3.nextPinValue;var a2=r3[i2-1],o2=r3[i2+1],u2=bt$1([e3.signalData[n3].pinTimes[a2],e3.signalData[n3].pinValues[a2]],[t3.nextPinTime,t3.nextPinValue],[e3.signalData[n3].pinTimes[o2],e3.signalData[n3].pinValues[o2]]),s2=u2.a,c2=u2.b,l2=u2.c,f2=t3.frame,p2=s2*f2*f2+c2*f2+l2;return isNaN(p2)?t3.nextPinValue:p2}(t2):function(t3){var e3=t3.project,n3=t3.project.orgData.signalIdByPinId[t3.pinId],r3=e3.signalData[n3].pinIds,i2=r3.indexOf(t3.pinId);if(i2<2)return t3.previousPinValue;var a2=r3[i2-1],o2=r3[i2-2],u2=e3.signalData[n3].pinTimes[a2],s2=e3.signalData[n3].pinValues[a2],c2=t3.nextPinTime,l2=t3.nextPinValue,f2=bt$1([e3.signalData[n3].pinTimes[o2],e3.signalData[n3].pinValues[o2]],[u2,s2],[c2,l2]),p2=f2.a,d2=f2.b,h2=f2.c,g2=t3.frame,v2=p2*g2*g2+d2*g2+h2;return isNaN(v2)?t3.nextPinValue:v2}(t2)},"St$1"),It$1=function(t2){var e2,n2=((e2=t2%2147483647)<=0&&(e2+=2147483646),function(){return((e2=16807*e2%2147483647)-1)/2147483646}),r2=Array(256).fill(0).map(function(){return 2*n2()-1}),o2=Array(256).fill(0).map(function(t3,e3){return e3}).sort(function(){return n2()-.5}),u2=a(a([],i(o2),!1),i(o2),!1);return function(t3){var e3,n3=255&Math.floor(t3),i2=t3-Math.floor(t3),a2=(e3=i2)*e3*e3*(e3*(6*e3-15)+10);return function(t4,e4,n4){return t4+n4*(e4-t4)}(r2[u2[n3]]*i2,r2[u2[n3+1]]*(i2-1),a2)}}(42);function Pt$1(t2,e2,n2){return t2+(e2-t2)*n2}__name(Pt$1,"Pt$1");function xt$1(t2){return t2*t2*t2}__name(xt$1,"xt$1");function Dt$1(t2){return 1-Math.pow(1-t2,3)}__name(Dt$1,"Dt$1");function jt$1(t2){return t2<.5?4*t2*t2*t2:1-Math.pow(-2*t2+2,3)/2}__name(jt$1,"jt$1");function Et$1(t2){var e2=2*Math.PI/3;return t2===0?0:t2===1?1:Math.pow(2,-10*t2)*Math.sin((10*t2-.75)*e2)+1}__name(Et$1,"Et$1");var Ct$1={};function Nt$1(t2,e2){t2 in Ct$1||(Ct$1[t2]=e2)}__name(Nt$1,"Nt$1");function Tt$1(t2){return t2 in Ct$1?Ct$1[t2]:null}__name(Tt$1,"Tt$1");function Ot$1(t2){var e2=t2.nextPinTime,n2=t2.project,r2=t2.range,a2=t2.defaultValue,o2=t2.pinId,u2=t2.frame,s2=t2.numberOfFrames,c2=t2.framesPerSecond,l2=t2.nextPinValue,f2=t2.previousPinTime,p2=t2.previousPinValue,d2=t2.relativeTime,h2=t2.interpolateSignalValueAtTime,g2=i(r2,2),v2=g2[0],y2=g2[1];return{nextPinTime:e2,nextPinValue:l2,project:n2,previousPinTime:f2,defaultValue:a2,previousPinValue:p2,relativeTime:d2,frame:u2,pinId:o2,numberOfFrames:s2,framesPerSecond:c2,maxValue:y2,minValue:v2,linearInterpolation:Pt$1,easeInCubic:xt$1,easeOutCubic:Dt$1,easeInOutCubic:jt$1,easeOutElastic:Et$1,easyLinear:__name(function(){return d2*(l2-p2)+p2},"easyLinear"),bezier:__name(function(){var r3=n2.orgData.signalIdByPinId[t2.pinId],o3=n2.signalData[r3];if(o3&&"bezier"in o3){var u3=i(o3.bezierControlPoints[t2.pinId],2);u3[0];var c3=u3[1];c3+=l2;var h3=o3.pinIds.indexOf(t2.pinId)-1;h3=h3<0?0:h3;var g3=o3.pinIds[h3],v3=i(o3.bezierControlPoints[g3],4);v3[0],v3[1],v3[2];var m2=v3[3];return function(t3,e3,n3,r4,i2){var a3=t3.y,o4=e3.y,u4=n3.y,s4=r4.y;return function(t4){return Math.pow(1-t4,3)*a3+3*Math.pow(1-t4,2)*t4*o4+3*(1-t4)*Math.pow(t4,2)*u4+Math.pow(t4,3)*s4}(i2)}({y:p2},{y:m2+=p2},{y:c3},{y:l2},d2)}return a2},"bezier"),easyStep:__name(function(){return l2},"easyStep"),easyEaseIn:__name(function(){return p2+xt$1(d2)*(l2-p2)},"easyEaseIn"),easyEaseOut:__name(function(){return p2+Dt$1(d2)*(l2-p2)},"easyEaseOut"),easyEase:__name(function(){return p2+jt$1(d2)*(l2-p2)},"easyEase"),easyEaseOutElastic:__name(function(){return p2+Et$1(d2)*(l2-p2)},"easyEaseOutElastic"),easyInOut:__name(function(){return 1},"easyInOut"),noise:It$1,easyThreshold:__name(function(){return l2>(y2-v2)/2?y2:v2},"easyThreshold"),easyRepeat:__name(function(){return d2},"easyRepeat"),easyParabola:__name(function(){return St$1(t2)},"easyParabola"),interpolateSignalValueAtTime:h2,signal:__name(function(t3){return h2(t3,u2)},"signal"),cloneSignal:__name(function(t3){var e3=n2.orgData.signalIds.find(function(e4){return n2.orgData.signalNames[e4]===t3});if(!e3)throw new Error("Signal ".concat(t3," not found"));var r3=n2.signalData[e3];if(!r3)throw new Error("Signal ".concat(t3," not found"));var i2=r3.pinIds;if(i2.length<2)return a2;var o3=r3.pinTimes[i2[0]],u3=r3.pinTimes[i2[i2.length-1]];return h2(t3,o3+(u3-o3)*d2)},"cloneSignal"),fitSignal:__name(function(t3,e3,r3){var i2=n2.orgData.signalIds.find(function(e4){return n2.orgData.signalNames[e4]===t3});if(!i2)throw new Error("Signal ".concat(t3," not found"));var a3=e3??v2,o3=r3??y2,s3=n2.signalData[i2].range;return a3+(h2(t3,u2)-s3[0])/(s3[1]-s3[0])*(o3-a3)},"fitSignal"),flip:__name(function(t3){return y2-t3+v2},"flip"),useAsset:Tt$1,saveAsset:Nt$1}}__name(Ot$1,"Ot$1");var kt$1={},Ut$1={},At$1=1e-6,Mt$1=__name(function(t2,e2,n2,r2){var o2=t2.signalData[e2],u2=i(o2.range,2),s2=u2[0],c2=u2[1],l2=o2.defaultValue,f2=Object.entries(o2.pinTimes).sort(function(t3,e3){return t3[1]-e3[1]}),p2=f2.find(function(t3){var e3=i(t3,2);return e3[0],e3[1]>=n2});if(p2===void 0)return[l2,[]];var d2,h2=i(p2,2),g2=h2[0],v2=h2[1],y2=o2.pinValues[g2],m2=o2.curves[g2],_2=s2,w2=0,b2=f2.findIndex(function(t3){var e3=i(t3,2),n3=e3[0];return e3[1],n3===g2});if(b2>0){var S2=i(f2[b2-1],2),I2=S2[0],P2=S2[1];_2=o2.pinValues[I2],w2=P2}else if(n2<v2)return[l2,[]];var x2=Ut$1[e2+g2];if(x2===void 0||x2.functionString!==m2){var D2=`
            let nextPinTime = context.nextPinTime;
            let nextPinValue = context.nextPinValue;
            let previousPinTime = context.previousPinTime;
            let previousPinValue = context.previousPinValue;
            let relativeTime = context.relativeTime;
            let frame = context.frame;
            let numberOfFrames = context.numberOfFrames;
            let framesPerSecond = context.framesPerSecond;

            let interpolateSignalValue = context.interpolateSignalValue;
            let signal = context.signal;

            let bezier = context.bezier;

            let easyLinear = context.easyLinear;
            let easyEaseIn = context.easyEaseIn;
            let easyEaseOut = context.easyEaseOut;
            let easyStep = context.easyStep;
            let easyEase = context.easyEase;
            let easyEaseOutElastic = context.easyEaseOutElastic;
            let easyRepeat = context.easyRepeat;
            let easyThreshold = context.easyThreshold;
            let easyParabola = context.easyParabola;
            let easyInOut = context.easyInOut;
            let noise = context.noise;
            let fitSignal = context.fitSignal;
            let flip = context.flip;
            let cloneSignal = context.cloneSignal;


            `.concat(m2);d2=new Function("context","templates",D2),Ut$1[e2+g2]={functionString:m2,cachedFunction:d2}}else d2=x2.cachedFunction;var j2=(n2-w2)/(v2!==w2?v2-w2:1),E2=l2,C2=[];try{var N2=Ot$1({nextPinTime:v2,nextPinValue:y2,previousPinTime:w2,project:t2,previousPinValue:_2,defaultValue:l2,relativeTime:j2,pinId:g2,frame:n2,range:[s2,c2],numberOfFrames:t2.timelineData.numberOfFrames,framesPerSecond:t2.timelineData.framesPerSecond,interpolateSignalValueAtTime:__name(function(e3,n3){var o3=t2.orgData.signalIds.find(function(n4){return t2.orgData.signalNames[n4]===e3});if(o3===void 0)throw new Error("Signal not found");var u3=i(Rt$1(t2,o3,n3,r2),2),s3=u3[0],c3=u3[1];if(typeof s3=="string")throw new Error("Interpolation function returned string");return C2.push.apply(C2,a([],i(c3),!1)),s3},"interpolateSignalValueAtTime")}),T2=function(t3){var e3={};return Object.entries(t3.templateData).forEach(function(t4){var n3=i(t4,2),r3=n3[0],a2=n3[1];if(kt$1[r3]!==void 0){if(kt$1[r3].functionString===a2){var o3=kt$1[r3].cachedFunction;return void(e3[r3]=o3)}}else o3=new Function("return ".concat(a2,";"))(),e3[r3]=o3,kt$1[r3]={functionString:a2,cachedFunction:o3}}),e3}(t2);E2=d2(N2,T2)}catch(t3){C2.push({signalId:e2,frame:n2,error:t3.message})}if(isNaN(E2)&&(E2=l2,C2.push({signalId:e2,frame:n2,error:"Interpolated value is NaN"})),E2<s2&&(E2=s2,Math.abs(E2-s2)>At$1&&C2.push({signalId:e2,frame:n2,error:"Interpolated value below minimum"})),E2>c2){var O2=E2;E2=c2,Math.abs(O2-c2)>At$1&&C2.push({signalId:e2,frame:n2,error:"Interpolated value above maximum: "+O2})}return[E2,C2]},"Mt$1"),Vt$1=__name(function(t2,e2,n2,r2){var a2=t2.signalData[e2],o2=a2.defaultValue,u2=Object.entries(a2.pinTimes).sort(function(t3,e3){return t3[1]-e3[1]}).find(function(t3){var e3=i(t3,2);return e3[0],e3[1]>=n2});if(u2===void 0)return o2;var s2=i(u2,2),c2=s2[0];return s2[1],a2.pinValues[c2]},"Vt$1"),Rt$1=__name(function(t2,e2,n2,r2){if(r2===void 0&&(r2=0),++r2>1e3)throw new Error("Exceeded maximum iteration count");var i2=t2.timelineData.numberOfFrames;if(n2<0||n2>i2)throw new Error("Time out of range");var a2=t2.signalData[e2].type;if(a2==="discrete")return[Vt$1(t2,e2,n2),[]];if(a2==="continuous")return Mt$1(t2,e2,n2,r2);throw new Error("Invalid signal type")},"Rt$1");function Wt$1(t2,e2){return[t2[0]+e2[0],t2[1]+e2[1]]}__name(Wt$1,"Wt$1");function qt$1(t2,e2){return[t2[0]-e2[0],t2[1]-e2[1]]}__name(qt$1,"qt$1");function Ht$1(t2,e2){return[t2[0]*e2[0],t2[1]*e2[1]]}__name(Ht$1,"Ht$1");function $t$1(t2,e2){var n2=i([t2[0][0],t2[0][1],t2[2][0],t2[2][1]],4),r2=n2[0],a2=n2[1],o2=n2[2],u2=n2[3],s2=i([e2[0][0],e2[0][1],e2[2][0],e2[2][1]],4),c2=s2[0],l2=s2[1],f2=s2[2],p2=s2[3];return!(r2>f2||o2<c2)&&!(a2>p2||u2<l2)}__name($t$1,"$t$1");var Kt$1=function(){function t2(t3,e2,n2){t3===void 0&&(t3=[0,0]),e2===void 0&&(e2=0),n2===void 0&&(n2=0),this._o=t3,this._w=e2,this._h=n2}return __name(t2,"t2"),Object.defineProperty(t2.prototype,"w",{get:__name(function(){return this._w},"get"),set:__name(function(t3){this._w=t3},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(t2.prototype,"h",{get:__name(function(){return this._h},"get"),set:__name(function(t3){this._h=t3},"set"),enumerable:!1,configurable:!0}),Object.defineProperty(t2.prototype,"o",{get:__name(function(){return this._o},"get"),set:__name(function(t3){this._o=t3},"set"),enumerable:!1,configurable:!0}),t2.prototype.pointInside=function(t3){var e2={x:t3[0],y:t3[1]},n2=e2.x,r2=e2.y,i2={oX:this.o[0],oY:this.o[1]},a2=i2.oX,o2=i2.oY;return!(n2<a2||n2>a2+this.w)&&!(r2<o2||r2>o2+this.h)},t2.prototype.clone=function(){return new t2(a([],i(this.o),!1),this.w,this.h)},t2.prototype.getBoundingBox=function(){return[this.o,Wt$1(this.o,[this.w,0]),Wt$1(this.o,[this.w,this.h]),Wt$1(this.o,[0,this.h])]},t2.prototype.getCenter=function(){return Wt$1(this.o,[this.w/2,this.h/2])},t2}();(function(t2){function r2(){var e2=t2.call(this)||this;return e2.layer=0,e2.children=[],e2._isPrimaryCamera=!1,e2._needsUpdate=!1,e2._needsUpdate_root=!1,e2._renderAlways=!1,e2.updateWhenCameraChanges=!1,e2.state=void 0,e2.context={},e2.windowDidMountPrimitiveIsRunning=!1,e2.childIndex=0,e2.isCanvasRoot=!1,e2.props={},e2.globalPositioning=!1,e2}return __name(r2,"r2"),e(r2,t2),Object.defineProperty(r2.prototype,"_cameraSnapshot",{get:__name(function(){var t3;if(!this._root)throw new Error("Root not connected");return(t3=this._root)===null||t3===void 0?void 0:t3.cameraSnapshot},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"_canvas",{get:__name(function(){var t3;if(!this._root)throw new Error("Root not connected");return(t3=this._root)===null||t3===void 0?void 0:t3.canvas},"get"),enumerable:!1,configurable:!0}),r2.prototype.setAsPrimaryCamera=function(){var t3;(t3=this._root)===null||t3===void 0||t3.installCamera(this)},r2.prototype.setState=function(t3){var e2,n2;if(this.state===t3)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=t3:(this._isPrimaryCamera&&((e2=this._root)===null||e2===void 0||e2.windows.forEach(function(t4){t4.updateWhenCameraChanges&&(t4._needsUpdate=!0)})),(n2=this._root)===null||n2===void 0||n2.scheduleStateUpdate(this,t3))},r2.prototype.setContext=function(t3,e2){var n2,r3;this.windowDidMountPrimitiveIsRunning?this.context[t3]=e2:(this._isPrimaryCamera&&((n2=this._root)===null||n2===void 0||n2.windows.forEach(function(t4){t4.updateWhenCameraChanges&&(t4._needsUpdate=!0)})),this.context[t3]=e2,(r3=this._root)===null||r3===void 0||r3.scheduleContextUpdate(this,t3,e2))},r2.prototype.windowDidMountPrimitive=function(t3){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(t3),this.windowDidMountPrimitiveIsRunning=!1},r2.prototype.windowDidMount=function(t3){},r2.prototype.windowDidUpdate=function(t3){},r2.prototype.cameraDidUpdate=function(){},r2.prototype.windowWillUnmount=function(){},r2.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var t3=this.getBox();return this._boxSnapshot=t3,t3},r2.prototype.getBox=function(){return new Kt$1([0,0],0,0)},Object.defineProperty(r2.prototype,"o",{get:__name(function(){return this.getBoxPrimitive().o},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"w",{get:__name(function(){return this.getBoxPrimitive().w},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"h",{get:__name(function(){return this.getBoxPrimitive().h},"get"),enumerable:!1,configurable:!0}),r2.prototype.cameraPassUpdateSelf=function(){var t3,e2,r3=this;this._isPrimaryCamera?(t3=this._root)===null||t3===void 0||t3.windows.forEach(function(t4){var e3;(e3=r3._root)===null||e3===void 0||e3.taintLayer(t4.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(e2=this._root)===null||e2===void 0||e2.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(n({},this.props)))},r2.prototype.cameraPassUpdateChildren=function(){var t3=this;this.childIndex=0;var e2=this.getChildren(this.props).map(function(e3){return e3(t3)}),n2=this.children.filter(function(t4){return!e2.includes(t4)}),r3=e2.filter(function(e3){return!t3.children.includes(e3)});this.children=e2,n2.forEach(function(t4){return t4.windowWillUnmount()}),r3.forEach(function(t4){return t4.windowDidMountPrimitive(t4.props)});var i2=this.children.find(function(t4){return t4._needsUpdate});this.children.forEach(function(t4){t4._needsUpdate=!0}),i2&&i2.cameraPassUpdateSelf()},r2.prototype.regularPassUpdateSelf=function(){var t3;this._boxSnapshot=void 0,(t3=this._root)===null||t3===void 0||t3.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(n({},this.props))},r2.prototype.regularPassUpdateChildren=function(){var t3=this;this.childIndex=0;var e2=this.getChildren(this.props).map(function(e3){return e3(t3)}),n2=this.children.filter(function(t4){return!e2.includes(t4)}),r3=e2.filter(function(e3){return!t3.children.includes(e3)});this.children=e2,n2.forEach(function(t4){return t4.windowWillUnmount()}),r3.forEach(function(t4){t4.windowDidMountPrimitive(t4.props)}),this.children.forEach(function(t4){t4.regularPassUpdateSelf()})},r2.prototype.getChildren=function(t3){return[]},r2.prototype.incChildIndex=function(){this.childIndex++},r2.Node=function(t3){var e2=this,r3=this.name;return function(i2){if(i2.isCanvasRoot){var a2=void 0;return(a2=new e2)._root=i2,a2.setKey("root"),a2.props=t3||{},a2.context=n({},a2.context),a2}var o2=i2.childIndex;t3||(t3={});var u2=t3.key?t3.key:"".concat(r3,"[").concat(o2,"]");return a2=void 0,i2.children.findIndex(function(t4){return t4.key===u2})!==-1?a2=i2.children.find(function(t4){return t4.key===u2}):((a2=new e2)._parent=i2,a2._root=i2._root,a2.setKey(u2)),a2.props=n({},t3),a2.context=n(n({},a2.context),i2.context),i2.incChildIndex(),a2}},Object.defineProperty(r2.prototype,"parentO",{get:__name(function(){return this._parent?this._parent.globalO:[0,0]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"parentW",{get:__name(function(){return this._parent?this._parent.w:0},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"parentH",{get:__name(function(){return this._parent?this._parent.h:0},"get"),enumerable:!1,configurable:!0}),r2.prototype.getChildByKey=function(t3){return this.children.find(function(e2){return e2.key===t3})},r2.prototype.getBoundingBox=function(){var t3=i(this.globalO,2),e2=t3[0],n2=t3[1];return[[e2,n2],[e2+this.w,n2],[e2+this.w,n2+this.h],[e2,n2+this.h]]},r2.prototype.pointInside=function(e2){return t2.prototype.pointInside.call(this,qt$1(e2,this.parentO))},Object.defineProperty(r2.prototype,"globalO",{get:__name(function(){if(!this._parent||this.globalPositioning)return this.o;var t3=i(this._parent.globalO,2),e2=t3[0],n2=t3[1],r3=i(this.o,2);return[e2+r3[0],n2+r3[1]]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"globalKey",{get:__name(function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},"get"),enumerable:!1,configurable:!0}),r2.prototype.getLayer=function(){return this.layer},r2.prototype.setLayer=function(t3){this.layer=t3},r2.prototype.setKey=function(t3){this.key=t3},Object.defineProperty(r2.prototype,"displayConnected",{get:__name(function(){return this._cameraSnapshot&&this._canvas},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"canvasUnit",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"absoluteUnit",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"canvasO",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},"get"),enumerable:!1,configurable:!0}),r2.prototype.absoluteToCanvasMeasure=function(t3){return Ht$1(t3,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},r2.prototype.canvasToAbsoluteMeasure=function(t3){return Ht$1(t3,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(r2.prototype,"cameraSnapshot",{get:__name(function(){return this._cameraSnapshot},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(r2.prototype,"canvas",{get:__name(function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},"get"),enumerable:!1,configurable:!0}),r2.prototype.prepareHandlerProps=function(){var t3=this.cameraSnapshot,e2=this.canvas,n2=this.absoluteToCanvasMeasure.bind(this),r3=this.canvasToAbsoluteMeasure.bind(this),i2=this.canvasUnit,a2=this.absoluteUnit,o2=this.canvasO;return{canvasDimensions:[e2.width,e2.height],absoluteToCanvasMeasure:n2,canvasToAbsoluteMeasure:r3,camera:t3,canvasUnit:i2,canvasO:o2,absoluteUnit:a2}},r2.prototype.preparePostBoxHandlerProps=function(){var t3=this,e2=this._cameraSnapshot,r3=this._canvas,a2=__name(function(n2){var a3=t3.globalO,o3=i(n2,2),u2=o3[0],s2=o3[1],c2=i(a3,2),l2=i([c2[0]+u2,c2[1]+s2],2),f2=l2[0],p2=l2[1],d2=i(e2.o,2),h2=i([f2-d2[0],p2-d2[1]],2),g2=h2[0],v2=h2[1];return[g2*(r3.width/e2.w),v2*(r3.height/e2.h)]},"a2"),o2=a2([0,0]);return n(n({},this.prepareHandlerProps()),{localToCanvas:a2,canvasToLocal:__name(function(n2){var i2=t3.globalO;return qt$1(Wt$1(Ht$1(n2,[e2.w/r3.width,e2.h/r3.height]),e2.o),i2)},"canvasToLocal"),absoluteO:o2})},r2.prototype.prepareMouseHandlerProps=function(t3,e2){var r3=this.preparePostBoxHandlerProps(),a2=i(this.canvasUnit,2),o2=a2[0],u2=a2[1],s2=i(this.canvasO,2),c2=s2[0],l2=s2[1],f2=i(t3,2),p2=[c2+f2[0]*o2,l2+f2[1]*u2],d2=qt$1(p2,this.globalO),h2=this.pointInside(p2);return n(n({},r3),{relativePos:d2,canvasPos:t3,absolutePos:p2,pointInside:h2,terminateEvent:e2})},r2.prototype.prepareWheelHandlerProps=function(t3){var e2=this.preparePostBoxHandlerProps();return n(n({},e2),{terminateEvent:t3})},r2.prototype.renderPrimitive=function(t3){if(this.render){var e2=this.preparePostBoxHandlerProps();this.render(n(n({},e2),{ctx:t3}))}},r2.prototype.render=function(t3){},r2.prototype.onMouseDownPrimitive=function(t3,e2,n2){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(t3,e2),n2)},r2.prototype.onMouseDown=function(t3,e2){},r2.prototype.onMouseMovePrimitive=function(t3,e2,n2){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(t3,e2),n2)},r2.prototype.onMouseMove=function(t3,e2){},r2.prototype.onMouseUpPrimitive=function(t3,e2,n2){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(t3,e2),n2)},r2.prototype.onMouseUp=function(t3,e2){},r2.prototype.onClickPrimitive=function(t3,e2,n2){this.onClick&&this.onClick(this.prepareMouseHandlerProps(t3,e2),n2)},r2.prototype.onClick=function(t3,e2){},r2.prototype.onWheelPrimitive=function(t3,e2){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(t3),e2)},r2.prototype.onWheel=function(t3,e2){},r2.prototype.strokeOutline=function(t3,e2){t3.ctx.strokeStyle=e2;var n2=t3.absoluteO,r3=t3.absoluteUnit,a2=i(n2,2),o2=a2[0],u2=a2[1],s2=i(r3,2),c2=s2[0],l2=s2[1];t3.ctx.strokeRect(o2,u2,this.w*c2,this.h*l2)},r2})(Kt$1);var Jt$1={};function Xt$1(t2,e2,n2,o2,u2){var s2=(t2=new Kt$1(a([],i(t2.o),!1),t2.w,t2.h)).getBoundingBox(),c2=e2.filter(function(t3){return t3._renderAlways||$t$1(t3.getBoundingBox(),s2)}),l2=Array.from(new Set(c2.map(function(t3){return t3.getLayer()}))).sort(function(t3,e3){return t3-e3});o2.clearRect(0,0,n2.width,n2.height);for(var f2=function(t3){var e3,i2,a2=l2[t3],s3=c2.filter(function(e4){return e4.getLayer()===l2[t3]});if(u2.includes(a2)){var f3=a2+"";if(Jt$1[f3]===void 0){var p3=document.createElement("canvas");Jt$1[f3]=p3}var d2=Jt$1[f3];d2.width=n2.width,d2.height=n2.height;var h2=d2.getContext("2d");h2.clearRect(0,0,d2.width,d2.height);try{for(var g2=(e3=void 0,r(s3)),v2=g2.next();!v2.done;v2=g2.next())v2.value.renderPrimitive(h2)}catch(t4){e3={error:t4}}finally{try{v2&&!v2.done&&(i2=g2.return)&&i2.call(g2)}finally{if(e3)throw e3.error}}}var y2=a2+"";Jt$1[y2]&&o2.drawImage(Jt$1[y2],0,0)},p2=0;p2<l2.length;p2++)f2(p2)}__name(Xt$1,"Xt$1");function Zt$1(t2,e2,n2,o2,u2){var s2,c2,l2=(t2=new Kt$1(a([],i(t2.o),!1),t2.w,t2.h)).getBoundingBox(),f2=e2.filter(function(t3){return $t$1(t3.getBoundingBox(),l2)}).reverse(),p2=!0,d2=__name(function(){p2=!1},"d2");try{for(var h2=r(f2),g2=h2.next();!g2.done&&(g2.value.onClickPrimitive(o2,d2,u2),!!p2);g2=h2.next());}catch(t3){s2={error:t3}}finally{try{g2&&!g2.done&&(c2=h2.return)&&c2.call(h2)}finally{if(s2)throw s2.error}}}__name(Zt$1,"Zt$1");function Yt$1(t2,e2,n2,o2,u2){var s2,c2,l2=(t2=new Kt$1(a([],i(t2.o),!1),t2.w,t2.h)).getBoundingBox(),f2=e2.filter(function(t3){return $t$1(t3.getBoundingBox(),l2)}).reverse(),p2=!0,d2=__name(function(){p2=!1},"d2");try{for(var h2=r(f2),g2=h2.next();!g2.done&&(g2.value.onMouseDownPrimitive(o2,d2,u2),!!p2);g2=h2.next());}catch(t3){s2={error:t3}}finally{try{g2&&!g2.done&&(c2=h2.return)&&c2.call(h2)}finally{if(s2)throw s2.error}}}__name(Yt$1,"Yt$1");function Qt(t2,e2,n2,o2,u2){var s2,c2,l2=(t2=new Kt$1(a([],i(t2.o),!1),t2.w,t2.h)).getBoundingBox(),f2=e2.filter(function(t3){return $t$1(t3.getBoundingBox(),l2)}).reverse(),p2=!0,d2=__name(function(){p2=!1},"d2");try{for(var h2=r(f2),g2=h2.next();!g2.done&&(g2.value.onMouseMovePrimitive(o2,d2,u2),!!p2);g2=h2.next());}catch(t3){s2={error:t3}}finally{try{g2&&!g2.done&&(c2=h2.return)&&c2.call(h2)}finally{if(s2)throw s2.error}}}__name(Qt,"Qt");function te(t2,e2,n2,o2,u2){var s2,c2,l2=(t2=new Kt$1(a([],i(t2.o),!1),t2.w,t2.h)).getBoundingBox(),f2=e2.filter(function(t3){return $t$1(t3.getBoundingBox(),l2)}).reverse(),p2=!0,d2=__name(function(){p2=!1},"d2");try{for(var h2=r(f2),g2=h2.next();!g2.done&&(g2.value.onMouseUpPrimitive(o2,d2,u2),!!p2);g2=h2.next());}catch(t3){s2={error:t3}}finally{try{g2&&!g2.done&&(c2=h2.return)&&c2.call(h2)}finally{if(s2)throw s2.error}}}__name(te,"te");function ee(t2,e2,n2,o2){var u2,s2,c2=(t2=new Kt$1(a([],i(t2.o),!1),t2.w,t2.h)).getBoundingBox(),l2=e2.filter(function(t3){return $t$1(t3.getBoundingBox(),c2)}).reverse(),f2=!0,p2=__name(function(){f2=!1},"p2");try{for(var d2=r(l2),h2=d2.next();!h2.done&&(h2.value.onWheelPrimitive(p2,o2),!!f2);h2=d2.next());}catch(t3){u2={error:t3}}finally{try{h2&&!h2.done&&(s2=d2.return)&&s2.call(d2)}finally{if(u2)throw u2.error}}}__name(ee,"ee");var ne,re=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ie={exports:{}},ae$1,oe,ue=(ne||(ne=1,ae$1=ie,oe=ie.exports,(function(){var t2,e2="Expected a function",n2="__lodash_hash_undefined__",r2="__lodash_placeholder__",i2=16,a2=32,o2=64,u2=128,s2=256,c2=1/0,l2=9007199254740991,f2=NaN,p2=4294967295,d2=[["ary",u2],["bind",1],["bindKey",2],["curry",8],["curryRight",i2],["flip",512],["partial",a2],["partialRight",o2],["rearg",s2]],h2="[object Arguments]",g2="[object Array]",v2="[object Boolean]",y2="[object Date]",m2="[object Error]",_2="[object Function]",w2="[object GeneratorFunction]",b2="[object Map]",S2="[object Number]",I2="[object Object]",P2="[object Promise]",x2="[object RegExp]",D2="[object Set]",j2="[object String]",E2="[object Symbol]",C2="[object WeakMap]",N2="[object ArrayBuffer]",T2="[object DataView]",O2="[object Float32Array]",k2="[object Float64Array]",z2="[object Int8Array]",U2="[object Int16Array]",A2="[object Int32Array]",M2="[object Uint8Array]",V2="[object Uint8ClampedArray]",R2="[object Uint16Array]",F2="[object Uint32Array]",B2=/\b__p \+= '';/g,L2=/\b(__p \+=) '' \+/g,W2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q2=/&(?:amp|lt|gt|quot|#39);/g,H2=/[&<>"']/g,$2=RegExp(q2.source),K2=RegExp(H2.source),G2=/<%-([\s\S]+?)%>/g,J2=/<%([\s\S]+?)%>/g,X2=/<%=([\s\S]+?)%>/g,Z2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y2=/^\w*$/,Q2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tt2=/[\\^$.*+?()[\]{}|]/g,et2=RegExp(tt2.source),nt2=/^\s+/,rt2=/\s/,it2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,at2=/\{\n\/\* \[wrapped with (.+)\] \*/,ot2=/,? & /,ut2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,st2=/[()=,{}\[\]\/\s]/,ct2=/\\(\\)?/g,lt2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft2=/\w*$/,pt2=/^[-+]0x[0-9a-f]+$/i,dt2=/^0b[01]+$/i,ht2=/^\[object .+?Constructor\]$/,gt2=/^0o[0-7]+$/i,vt2=/^(?:0|[1-9]\d*)$/,yt2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mt2=/($^)/,_t2=/['\n\r\u2028\u2029\\]/g,wt2="\\ud800-\\udfff",bt2="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",St2="\\u2700-\\u27bf",It2="a-z\\xdf-\\xf6\\xf8-\\xff",Pt2="A-Z\\xc0-\\xd6\\xd8-\\xde",xt2="\\ufe0e\\ufe0f",Dt2="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",jt2="['’]",Et2="["+wt2+"]",Ct2="["+Dt2+"]",Nt2="["+bt2+"]",Tt2="\\d+",Ot2="["+St2+"]",kt2="["+It2+"]",zt2="[^"+wt2+Dt2+Tt2+St2+It2+Pt2+"]",Ut2="\\ud83c[\\udffb-\\udfff]",At2="[^"+wt2+"]",Mt2="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt2="[\\ud800-\\udbff][\\udc00-\\udfff]",Rt2="["+Pt2+"]",Ft2="\\u200d",Bt2="(?:"+kt2+"|"+zt2+")",Lt2="(?:"+Rt2+"|"+zt2+")",Wt2="(?:['’](?:d|ll|m|re|s|t|ve))?",qt2="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ht2="(?:"+Nt2+"|"+Ut2+")?",$t2="["+xt2+"]?",Kt2=$t2+Ht2+"(?:"+Ft2+"(?:"+[At2,Mt2,Vt2].join("|")+")"+$t2+Ht2+")*",Gt2="(?:"+[Ot2,Mt2,Vt2].join("|")+")"+Kt2,Jt2="(?:"+[At2+Nt2+"?",Nt2,Mt2,Vt2,Et2].join("|")+")",Xt2=RegExp(jt2,"g"),Zt2=RegExp(Nt2,"g"),Yt2=RegExp(Ut2+"(?="+Ut2+")|"+Jt2+Kt2,"g"),Qt2=RegExp([Rt2+"?"+kt2+"+"+Wt2+"(?="+[Ct2,Rt2,"$"].join("|")+")",Lt2+"+"+qt2+"(?="+[Ct2,Rt2+Bt2,"$"].join("|")+")",Rt2+"?"+Bt2+"+"+Wt2,Rt2+"+"+qt2,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt2,Gt2].join("|"),"g"),te2=RegExp("["+Ft2+wt2+bt2+xt2+"]"),ee2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ie2=-1,ue2={};ue2[O2]=ue2[k2]=ue2[z2]=ue2[U2]=ue2[A2]=ue2[M2]=ue2[V2]=ue2[R2]=ue2[F2]=!0,ue2[h2]=ue2[g2]=ue2[N2]=ue2[v2]=ue2[T2]=ue2[y2]=ue2[m2]=ue2[_2]=ue2[b2]=ue2[S2]=ue2[I2]=ue2[x2]=ue2[D2]=ue2[j2]=ue2[C2]=!1;var se2={};se2[h2]=se2[g2]=se2[N2]=se2[T2]=se2[v2]=se2[y2]=se2[O2]=se2[k2]=se2[z2]=se2[U2]=se2[A2]=se2[b2]=se2[S2]=se2[I2]=se2[x2]=se2[D2]=se2[j2]=se2[E2]=se2[M2]=se2[V2]=se2[R2]=se2[F2]=!0,se2[m2]=se2[_2]=se2[C2]=!1;var ce2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},le2=parseFloat,fe2=parseInt,pe2=typeof re=="object"&&re&&re.Object===Object&&re,de2=typeof self=="object"&&self&&self.Object===Object&&self,he2=pe2||de2||Function("return this")(),ge2=oe&&!oe.nodeType&&oe,ve2=ge2&&ae$1&&!ae$1.nodeType&&ae$1,ye2=ve2&&ve2.exports===ge2,me2=ye2&&pe2.process,_e2=function(){try{var t3=ve2&&ve2.require&&ve2.require("util").types;return t3||me2&&me2.binding&&me2.binding("util")}catch{}}(),we=_e2&&_e2.isArrayBuffer,be2=_e2&&_e2.isDate,Se2=_e2&&_e2.isMap,Ie=_e2&&_e2.isRegExp,Pe2=_e2&&_e2.isSet,xe=_e2&&_e2.isTypedArray;function De(t3,e3,n3){switch(n3.length){case 0:return t3.call(e3);case 1:return t3.call(e3,n3[0]);case 2:return t3.call(e3,n3[0],n3[1]);case 3:return t3.call(e3,n3[0],n3[1],n3[2])}return t3.apply(e3,n3)}__name(De,"De");function je(t3,e3,n3,r3){for(var i3=-1,a3=t3==null?0:t3.length;++i3<a3;){var o3=t3[i3];e3(r3,o3,n3(o3),t3)}return r3}__name(je,"je");function Ee(t3,e3){for(var n3=-1,r3=t3==null?0:t3.length;++n3<r3&&e3(t3[n3],n3,t3)!==!1;);return t3}__name(Ee,"Ee");function Ce(t3,e3){for(var n3=t3==null?0:t3.length;n3--&&e3(t3[n3],n3,t3)!==!1;);return t3}__name(Ce,"Ce");function Ne(t3,e3){for(var n3=-1,r3=t3==null?0:t3.length;++n3<r3;)if(!e3(t3[n3],n3,t3))return!1;return!0}__name(Ne,"Ne");function Te(t3,e3){for(var n3=-1,r3=t3==null?0:t3.length,i3=0,a3=[];++n3<r3;){var o3=t3[n3];e3(o3,n3,t3)&&(a3[i3++]=o3)}return a3}__name(Te,"Te");function Oe(t3,e3){return!(t3==null||!t3.length)&&Le(t3,e3,0)>-1}__name(Oe,"Oe");function ke(t3,e3,n3){for(var r3=-1,i3=t3==null?0:t3.length;++r3<i3;)if(n3(e3,t3[r3]))return!0;return!1}__name(ke,"ke");function ze2(t3,e3){for(var n3=-1,r3=t3==null?0:t3.length,i3=Array(r3);++n3<r3;)i3[n3]=e3(t3[n3],n3,t3);return i3}__name(ze2,"ze");function Ue(t3,e3){for(var n3=-1,r3=e3.length,i3=t3.length;++n3<r3;)t3[i3+n3]=e3[n3];return t3}__name(Ue,"Ue");function Ae(t3,e3,n3,r3){var i3=-1,a3=t3==null?0:t3.length;for(r3&&a3&&(n3=t3[++i3]);++i3<a3;)n3=e3(n3,t3[i3],i3,t3);return n3}__name(Ae,"Ae");function Me(t3,e3,n3,r3){var i3=t3==null?0:t3.length;for(r3&&i3&&(n3=t3[--i3]);i3--;)n3=e3(n3,t3[i3],i3,t3);return n3}__name(Me,"Me");function Ve(t3,e3){for(var n3=-1,r3=t3==null?0:t3.length;++n3<r3;)if(e3(t3[n3],n3,t3))return!0;return!1}__name(Ve,"Ve");var Re2=$e2("length");function Fe(t3,e3,n3){var r3;return n3(t3,function(t4,n4,i3){if(e3(t4,n4,i3))return r3=n4,!1}),r3}__name(Fe,"Fe");function Be(t3,e3,n3,r3){for(var i3=t3.length,a3=n3+(r3?1:-1);r3?a3--:++a3<i3;)if(e3(t3[a3],a3,t3))return a3;return-1}__name(Be,"Be");function Le(t3,e3,n3){return e3==e3?function(t4,e4,n4){for(var r3=n4-1,i3=t4.length;++r3<i3;)if(t4[r3]===e4)return r3;return-1}(t3,e3,n3):Be(t3,qe,n3)}__name(Le,"Le");function We2(t3,e3,n3,r3){for(var i3=n3-1,a3=t3.length;++i3<a3;)if(r3(t3[i3],e3))return i3;return-1}__name(We2,"We");function qe(t3){return t3!=t3}__name(qe,"qe");function He2(t3,e3){var n3=t3==null?0:t3.length;return n3?Je(t3,e3)/n3:f2}__name(He2,"He");function $e2(e3){return function(n3){return n3==null?t2:n3[e3]}}__name($e2,"$e");function Ke(e3){return function(n3){return e3==null?t2:e3[n3]}}__name(Ke,"Ke");function Ge(t3,e3,n3,r3,i3){return i3(t3,function(t4,i4,a3){n3=r3?(r3=!1,t4):e3(n3,t4,i4,a3)}),n3}__name(Ge,"Ge");function Je(e3,n3){for(var r3,i3=-1,a3=e3.length;++i3<a3;){var o3=n3(e3[i3]);o3!==t2&&(r3=r3===t2?o3:r3+o3)}return r3}__name(Je,"Je");function Xe2(t3,e3){for(var n3=-1,r3=Array(t3);++n3<t3;)r3[n3]=e3(n3);return r3}__name(Xe2,"Xe");function Ze(t3){return t3&&t3.slice(0,gn2(t3)+1).replace(nt2,"")}__name(Ze,"Ze");function Ye(t3){return function(e3){return t3(e3)}}__name(Ye,"Ye");function Qe2(t3,e3){return ze2(e3,function(e4){return t3[e4]})}__name(Qe2,"Qe");function tn(t3,e3){return t3.has(e3)}__name(tn,"tn");function en(t3,e3){for(var n3=-1,r3=t3.length;++n3<r3&&Le(e3,t3[n3],0)>-1;);return n3}__name(en,"en");function nn(t3,e3){for(var n3=t3.length;n3--&&Le(e3,t3[n3],0)>-1;);return n3}__name(nn,"nn");var rn=Ke({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),an=Ke({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(t3){return"\\"+ce2[t3]}__name(on,"on");function un2(t3){return te2.test(t3)}__name(un2,"un");function sn2(t3){var e3=-1,n3=Array(t3.size);return t3.forEach(function(t4,r3){n3[++e3]=[r3,t4]}),n3}__name(sn2,"sn");function cn2(t3,e3){return function(n3){return t3(e3(n3))}}__name(cn2,"cn");function ln2(t3,e3){for(var n3=-1,i3=t3.length,a3=0,o3=[];++n3<i3;){var u3=t3[n3];u3!==e3&&u3!==r2||(t3[n3]=r2,o3[a3++]=n3)}return o3}__name(ln2,"ln");function fn2(t3){var e3=-1,n3=Array(t3.size);return t3.forEach(function(t4){n3[++e3]=t4}),n3}__name(fn2,"fn");function pn2(t3){var e3=-1,n3=Array(t3.size);return t3.forEach(function(t4){n3[++e3]=[t4,t4]}),n3}__name(pn2,"pn");function dn2(t3){return un2(t3)?function(t4){for(var e3=Yt2.lastIndex=0;Yt2.test(t4);)++e3;return e3}(t3):Re2(t3)}__name(dn2,"dn");function hn2(t3){return un2(t3)?function(t4){return t4.match(Yt2)||[]}(t3):function(t4){return t4.split("")}(t3)}__name(hn2,"hn");function gn2(t3){for(var e3=t3.length;e3--&&rt2.test(t3.charAt(e3)););return e3}__name(gn2,"gn");var vn2=Ke({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),yn2=__name(function rt3(wt3){var bt3,St3=(wt3=wt3==null?he2:yn2.defaults(he2.Object(),wt3,yn2.pick(he2,ne2))).Array,It3=wt3.Date,Pt3=wt3.Error,xt3=wt3.Function,Dt3=wt3.Math,jt3=wt3.Object,Et3=wt3.RegExp,Ct3=wt3.String,Nt3=wt3.TypeError,Tt3=St3.prototype,Ot3=xt3.prototype,kt3=jt3.prototype,zt3=wt3["__core-js_shared__"],Ut3=Ot3.toString,At3=kt3.hasOwnProperty,Mt3=0,Vt3=(bt3=/[^.]+$/.exec(zt3&&zt3.keys&&zt3.keys.IE_PROTO||""))?"Symbol(src)_1."+bt3:"",Rt3=kt3.toString,Ft3=Ut3.call(jt3),Bt3=he2._,Lt3=Et3("^"+Ut3.call(At3).replace(tt2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt3=ye2?wt3.Buffer:t2,qt3=wt3.Symbol,Ht3=wt3.Uint8Array,$t3=Wt3?Wt3.allocUnsafe:t2,Kt3=cn2(jt3.getPrototypeOf,jt3),Gt3=jt3.create,Jt3=kt3.propertyIsEnumerable,Yt3=Tt3.splice,te3=qt3?qt3.isConcatSpreadable:t2,re2=qt3?qt3.iterator:t2,ae2=qt3?qt3.toStringTag:t2,oe2=function(){try{var t3=pa(jt3,"defineProperty");return t3({},"",{}),t3}catch{}}(),ce3=wt3.clearTimeout!==he2.clearTimeout&&wt3.clearTimeout,pe3=It3&&It3.now!==he2.Date.now&&It3.now,de3=wt3.setTimeout!==he2.setTimeout&&wt3.setTimeout,ge3=Dt3.ceil,ve3=Dt3.floor,me3=jt3.getOwnPropertySymbols,_e3=Wt3?Wt3.isBuffer:t2,Re22=wt3.isFinite,Ke2=Tt3.join,mn2=cn2(jt3.keys,jt3),_n2=Dt3.max,wn2=Dt3.min,bn2=It3.now,Sn2=wt3.parseInt,In2=Dt3.random,Pn2=Tt3.reverse,xn2=pa(wt3,"DataView"),Dn2=pa(wt3,"Map"),jn2=pa(wt3,"Promise"),En2=pa(wt3,"Set"),Cn2=pa(wt3,"WeakMap"),Nn2=pa(jt3,"create"),Tn2=Cn2&&new Cn2,On2={},kn2=Va(xn2),zn2=Va(Dn2),Un2=Va(jn2),An2=Va(En2),Mn2=Va(Cn2),Vn2=qt3?qt3.prototype:t2,Rn2=Vn2?Vn2.valueOf:t2,Fn2=Vn2?Vn2.toString:t2;function Bn2(t3){if(nu2(t3)&&!Ho2(t3)&&!(t3 instanceof Hn2)){if(t3 instanceof qn2)return t3;if(At3.call(t3,"__wrapped__"))return Ra(t3)}return new qn2(t3)}__name(Bn2,"Bn");var Ln2=function(){function e3(){}return __name(e3,"e3"),function(n3){if(!eu2(n3))return{};if(Gt3)return Gt3(n3);e3.prototype=n3;var r3=new e3;return e3.prototype=t2,r3}}();function Wn2(){}__name(Wn2,"Wn");function qn2(e3,n3){this.__wrapped__=e3,this.__actions__=[],this.__chain__=!!n3,this.__index__=0,this.__values__=t2}__name(qn2,"qn");function Hn2(t3){this.__wrapped__=t3,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p2,this.__views__=[]}__name(Hn2,"Hn");function $n2(t3){var e3=-1,n3=t3==null?0:t3.length;for(this.clear();++e3<n3;){var r3=t3[e3];this.set(r3[0],r3[1])}}__name($n2,"$n");function Kn2(t3){var e3=-1,n3=t3==null?0:t3.length;for(this.clear();++e3<n3;){var r3=t3[e3];this.set(r3[0],r3[1])}}__name(Kn2,"Kn");function Gn(t3){var e3=-1,n3=t3==null?0:t3.length;for(this.clear();++e3<n3;){var r3=t3[e3];this.set(r3[0],r3[1])}}__name(Gn,"Gn");function Jn2(t3){var e3=-1,n3=t3==null?0:t3.length;for(this.__data__=new Gn;++e3<n3;)this.add(t3[e3])}__name(Jn2,"Jn");function Xn(t3){var e3=this.__data__=new Kn2(t3);this.size=e3.size}__name(Xn,"Xn");function Zn2(t3,e3){var n3=Ho2(t3),r3=!n3&&qo2(t3),i3=!n3&&!r3&&Jo2(t3),a3=!n3&&!r3&&!i3&&lu2(t3),o3=n3||r3||i3||a3,u3=o3?Xe2(t3.length,Ct3):[],s3=u3.length;for(var c3 in t3)!e3&&!At3.call(t3,c3)||o3&&(c3=="length"||i3&&(c3=="offset"||c3=="parent")||a3&&(c3=="buffer"||c3=="byteLength"||c3=="byteOffset")||_a19(c3,s3))||u3.push(c3);return u3}__name(Zn2,"Zn");function Yn(e3){var n3=e3.length;return n3?e3[Jr2(0,n3-1)]:t2}__name(Yn,"Yn");function Qn2(t3,e3){return Ua(Ni(t3),sr2(e3,0,t3.length))}__name(Qn2,"Qn");function tr2(t3){return Ua(Ni(t3))}__name(tr2,"tr");function er2(e3,n3,r3){(r3!==t2&&!Bo2(e3[n3],r3)||r3===t2&&!(n3 in e3))&&or2(e3,n3,r3)}__name(er2,"er");function nr2(e3,n3,r3){var i3=e3[n3];At3.call(e3,n3)&&Bo2(i3,r3)&&(r3!==t2||n3 in e3)||or2(e3,n3,r3)}__name(nr2,"nr");function rr2(t3,e3){for(var n3=t3.length;n3--;)if(Bo2(t3[n3][0],e3))return n3;return-1}__name(rr2,"rr");function ir2(t3,e3,n3,r3){return dr2(t3,function(t4,i3,a3){e3(r3,t4,n3(t4),a3)}),r3}__name(ir2,"ir");function ar2(t3,e3){return t3&&Ti(e3,Ou2(e3),t3)}__name(ar2,"ar");function or2(t3,e3,n3){e3=="__proto__"&&oe2?oe2(t3,e3,{configurable:!0,enumerable:!0,value:n3,writable:!0}):t3[e3]=n3}__name(or2,"or");function ur2(e3,n3){for(var r3=-1,i3=n3.length,a3=St3(i3),o3=e3==null;++r3<i3;)a3[r3]=o3?t2:ju2(e3,n3[r3]);return a3}__name(ur2,"ur");function sr2(e3,n3,r3){return e3==e3&&(r3!==t2&&(e3=e3<=r3?e3:r3),n3!==t2&&(e3=e3>=n3?e3:n3)),e3}__name(sr2,"sr");function cr2(e3,n3,r3,i3,a3,o3){var u3,s3=1&n3,c3=2&n3,l3=4&n3;if(r3&&(u3=a3?r3(e3,i3,a3,o3):r3(e3)),u3!==t2)return u3;if(!eu2(e3))return e3;var f3=Ho2(e3);if(f3){if(u3=function(t3){var e4=t3.length,n4=new t3.constructor(e4);return e4&&typeof t3[0]=="string"&&At3.call(t3,"index")&&(n4.index=t3.index,n4.input=t3.input),n4}(e3),!s3)return Ni(e3,u3)}else{var p3=ga2(e3),d3=p3==_2||p3==w2;if(Jo2(e3))return Pi2(e3,s3);if(p3==I2||p3==h2||d3&&!a3){if(u3=c3||d3?{}:ya2(e3),!s3)return c3?function(t3,e4){return Ti(t3,ha(t3),e4)}(e3,function(t3,e4){return t3&&Ti(e4,ku2(e4),t3)}(u3,e3)):function(t3,e4){return Ti(t3,da2(t3),e4)}(e3,ar2(u3,e3))}else{if(!se2[p3])return a3?e3:{};u3=function(t3,e4,n4){var r4,i4=t3.constructor;switch(e4){case N2:return xi(t3);case v2:case y2:return new i4(+t3);case T2:return function(t4,e5){var n5=e5?xi(t4.buffer):t4.buffer;return new t4.constructor(n5,t4.byteOffset,t4.byteLength)}(t3,n4);case O2:case k2:case z2:case U2:case A2:case M2:case V2:case R2:case F2:return Di(t3,n4);case b2:return new i4;case S2:case j2:return new i4(t3);case x2:return function(t4){var e5=new t4.constructor(t4.source,ft2.exec(t4));return e5.lastIndex=t4.lastIndex,e5}(t3);case D2:return new i4;case E2:return r4=t3,Rn2?jt3(Rn2.call(r4)):{}}}(e3,p3,s3)}}o3||(o3=new Xn);var g3=o3.get(e3);if(g3)return g3;o3.set(e3,u3),uu2(e3)?e3.forEach(function(t3){u3.add(cr2(t3,n3,r3,t3,e3,o3))}):ru2(e3)&&e3.forEach(function(t3,i4){u3.set(i4,cr2(t3,n3,r3,i4,e3,o3))});var m3=f3?t2:(l3?c3?aa2:ia2:c3?ku2:Ou2)(e3);return Ee(m3||e3,function(t3,i4){m3&&(t3=e3[i4=t3]),nr2(u3,i4,cr2(t3,n3,r3,i4,e3,o3))}),u3}__name(cr2,"cr");function lr2(e3,n3,r3){var i3=r3.length;if(e3==null)return!i3;for(e3=jt3(e3);i3--;){var a3=r3[i3],o3=n3[a3],u3=e3[a3];if(u3===t2&&!(a3 in e3)||!o3(u3))return!1}return!0}__name(lr2,"lr");function fr2(n3,r3,i3){if(typeof n3!="function")throw new Nt3(e2);return Ta(function(){n3.apply(t2,i3)},r3)}__name(fr2,"fr");function pr2(t3,e3,n3,r3){var i3=-1,a3=Oe,o3=!0,u3=t3.length,s3=[],c3=e3.length;if(!u3)return s3;n3&&(e3=ze2(e3,Ye(n3))),r3?(a3=ke,o3=!1):e3.length>=200&&(a3=tn,o3=!1,e3=new Jn2(e3));t:for(;++i3<u3;){var l3=t3[i3],f3=n3==null?l3:n3(l3);if(l3=r3||l3!==0?l3:0,o3&&f3==f3){for(var p3=c3;p3--;)if(e3[p3]===f3)continue t;s3.push(l3)}else a3(e3,f3,r3)||s3.push(l3)}return s3}__name(pr2,"pr"),Bn2.templateSettings={escape:G2,evaluate:J2,interpolate:X2,variable:"",imports:{_:Bn2}},Bn2.prototype=Wn2.prototype,Bn2.prototype.constructor=Bn2,qn2.prototype=Ln2(Wn2.prototype),qn2.prototype.constructor=qn2,Hn2.prototype=Ln2(Wn2.prototype),Hn2.prototype.constructor=Hn2,$n2.prototype.clear=function(){this.__data__=Nn2?Nn2(null):{},this.size=0},$n2.prototype.delete=function(t3){var e3=this.has(t3)&&delete this.__data__[t3];return this.size-=e3?1:0,e3},$n2.prototype.get=function(e3){var r3=this.__data__;if(Nn2){var i3=r3[e3];return i3===n2?t2:i3}return At3.call(r3,e3)?r3[e3]:t2},$n2.prototype.has=function(e3){var n3=this.__data__;return Nn2?n3[e3]!==t2:At3.call(n3,e3)},$n2.prototype.set=function(e3,r3){var i3=this.__data__;return this.size+=this.has(e3)?0:1,i3[e3]=Nn2&&r3===t2?n2:r3,this},Kn2.prototype.clear=function(){this.__data__=[],this.size=0},Kn2.prototype.delete=function(t3){var e3=this.__data__,n3=rr2(e3,t3);return!(n3<0||(n3==e3.length-1?e3.pop():Yt3.call(e3,n3,1),--this.size,0))},Kn2.prototype.get=function(e3){var n3=this.__data__,r3=rr2(n3,e3);return r3<0?t2:n3[r3][1]},Kn2.prototype.has=function(t3){return rr2(this.__data__,t3)>-1},Kn2.prototype.set=function(t3,e3){var n3=this.__data__,r3=rr2(n3,t3);return r3<0?(++this.size,n3.push([t3,e3])):n3[r3][1]=e3,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new $n2,map:new(Dn2||Kn2),string:new $n2}},Gn.prototype.delete=function(t3){var e3=la2(this,t3).delete(t3);return this.size-=e3?1:0,e3},Gn.prototype.get=function(t3){return la2(this,t3).get(t3)},Gn.prototype.has=function(t3){return la2(this,t3).has(t3)},Gn.prototype.set=function(t3,e3){var n3=la2(this,t3),r3=n3.size;return n3.set(t3,e3),this.size+=n3.size==r3?0:1,this},Jn2.prototype.add=Jn2.prototype.push=function(t3){return this.__data__.set(t3,n2),this},Jn2.prototype.has=function(t3){return this.__data__.has(t3)},Xn.prototype.clear=function(){this.__data__=new Kn2,this.size=0},Xn.prototype.delete=function(t3){var e3=this.__data__,n3=e3.delete(t3);return this.size=e3.size,n3},Xn.prototype.get=function(t3){return this.__data__.get(t3)},Xn.prototype.has=function(t3){return this.__data__.has(t3)},Xn.prototype.set=function(t3,e3){var n3=this.__data__;if(n3 instanceof Kn2){var r3=n3.__data__;if(!Dn2||r3.length<199)return r3.push([t3,e3]),this.size=++n3.size,this;n3=this.__data__=new Gn(r3)}return n3.set(t3,e3),this.size=n3.size,this};var dr2=zi(br2),hr2=zi(Sr2,!0);function gr2(t3,e3){var n3=!0;return dr2(t3,function(t4,r3,i3){return n3=!!e3(t4,r3,i3)}),n3}__name(gr2,"gr");function vr2(e3,n3,r3){for(var i3=-1,a3=e3.length;++i3<a3;){var o3=e3[i3],u3=n3(o3);if(u3!=null&&(s3===t2?u3==u3&&!cu2(u3):r3(u3,s3)))var s3=u3,c3=o3}return c3}__name(vr2,"vr");function yr2(t3,e3){var n3=[];return dr2(t3,function(t4,r3,i3){e3(t4,r3,i3)&&n3.push(t4)}),n3}__name(yr2,"yr");function mr2(t3,e3,n3,r3,i3){var a3=-1,o3=t3.length;for(n3||(n3=ma2),i3||(i3=[]);++a3<o3;){var u3=t3[a3];e3>0&&n3(u3)?e3>1?mr2(u3,e3-1,n3,r3,i3):Ue(i3,u3):r3||(i3[i3.length]=u3)}return i3}__name(mr2,"mr");var _r2=Ui(),wr2=Ui(!0);function br2(t3,e3){return t3&&_r2(t3,e3,Ou2)}__name(br2,"br");function Sr2(t3,e3){return t3&&wr2(t3,e3,Ou2)}__name(Sr2,"Sr");function Ir2(t3,e3){return Te(e3,function(e4){return Yo2(t3[e4])})}__name(Ir2,"Ir");function Pr(e3,n3){for(var r3=0,i3=(n3=wi(n3,e3)).length;e3!=null&&r3<i3;)e3=e3[Ma(n3[r3++])];return r3&&r3==i3?e3:t2}__name(Pr,"Pr");function xr2(t3,e3,n3){var r3=e3(t3);return Ho2(t3)?r3:Ue(r3,n3(t3))}__name(xr2,"xr");function Dr2(e3){return e3==null?e3===t2?"[object Undefined]":"[object Null]":ae2&&ae2 in jt3(e3)?function(e4){var n3=At3.call(e4,ae2),r3=e4[ae2];try{e4[ae2]=t2;var i3=!0}catch{}var a3=Rt3.call(e4);return i3&&(n3?e4[ae2]=r3:delete e4[ae2]),a3}(e3):function(t3){return Rt3.call(t3)}(e3)}__name(Dr2,"Dr");function jr2(t3,e3){return t3>e3}__name(jr2,"jr");function Er2(t3,e3){return t3!=null&&At3.call(t3,e3)}__name(Er2,"Er");function Cr(t3,e3){return t3!=null&&e3 in jt3(t3)}__name(Cr,"Cr");function Nr2(e3,n3,r3){for(var i3=r3?ke:Oe,a3=e3[0].length,o3=e3.length,u3=o3,s3=St3(o3),c3=1/0,l3=[];u3--;){var f3=e3[u3];u3&&n3&&(f3=ze2(f3,Ye(n3))),c3=wn2(f3.length,c3),s3[u3]=!r3&&(n3||a3>=120&&f3.length>=120)?new Jn2(u3&&f3):t2}f3=e3[0];var p3=-1,d3=s3[0];t:for(;++p3<a3&&l3.length<c3;){var h3=f3[p3],g3=n3?n3(h3):h3;if(h3=r3||h3!==0?h3:0,!(d3?tn(d3,g3):i3(l3,g3,r3))){for(u3=o3;--u3;){var v3=s3[u3];if(!(v3?tn(v3,g3):i3(e3[u3],g3,r3)))continue t}d3&&d3.push(g3),l3.push(h3)}}return l3}__name(Nr2,"Nr");function Tr2(e3,n3,r3){var i3=(e3=Ea2(e3,n3=wi(n3,e3)))==null?e3:e3[Ma(Xa(n3))];return i3==null?t2:De(i3,e3,r3)}__name(Tr2,"Tr");function Or(t3){return nu2(t3)&&Dr2(t3)==h2}__name(Or,"Or");function kr(e3,n3,r3,i3,a3){return e3===n3||(e3==null||n3==null||!nu2(e3)&&!nu2(n3)?e3!=e3&&n3!=n3:function(e4,n4,r4,i4,a4,o3){var u3=Ho2(e4),s3=Ho2(n4),c3=u3?g2:ga2(e4),l3=s3?g2:ga2(n4),f3=(c3=c3==h2?I2:c3)==I2,p3=(l3=l3==h2?I2:l3)==I2,d3=c3==l3;if(d3&&Jo2(e4)){if(!Jo2(n4))return!1;u3=!0,f3=!1}if(d3&&!f3)return o3||(o3=new Xn),u3||lu2(e4)?na2(e4,n4,r4,i4,a4,o3):function(t3,e5,n5,r5,i5,a5,o4){switch(n5){case T2:if(t3.byteLength!=e5.byteLength||t3.byteOffset!=e5.byteOffset)return!1;t3=t3.buffer,e5=e5.buffer;case N2:return!(t3.byteLength!=e5.byteLength||!a5(new Ht3(t3),new Ht3(e5)));case v2:case y2:case S2:return Bo2(+t3,+e5);case m2:return t3.name==e5.name&&t3.message==e5.message;case x2:case j2:return t3==e5+"";case b2:var u4=sn2;case D2:var s4=1&r5;if(u4||(u4=fn2),t3.size!=e5.size&&!s4)return!1;var c4=o4.get(t3);if(c4)return c4==e5;r5|=2,o4.set(t3,e5);var l4=na2(u4(t3),u4(e5),r5,i5,a5,o4);return o4.delete(t3),l4;case E2:if(Rn2)return Rn2.call(t3)==Rn2.call(e5)}return!1}(e4,n4,c3,r4,i4,a4,o3);if(!(1&r4)){var _3=f3&&At3.call(e4,"__wrapped__"),w3=p3&&At3.call(n4,"__wrapped__");if(_3||w3){var P3=_3?e4.value():e4,C3=w3?n4.value():n4;return o3||(o3=new Xn),a4(P3,C3,r4,i4,o3)}}return!!d3&&(o3||(o3=new Xn),function(e5,n5,r5,i5,a5,o4){var u4=1&r5,s4=ia2(e5),c4=s4.length,l4=ia2(n5),f4=l4.length;if(c4!=f4&&!u4)return!1;for(var p4=c4;p4--;){var d4=s4[p4];if(!(u4?d4 in n5:At3.call(n5,d4)))return!1}var h3=o4.get(e5),g3=o4.get(n5);if(h3&&g3)return h3==n5&&g3==e5;var v3=!0;o4.set(e5,n5),o4.set(n5,e5);for(var y3=u4;++p4<c4;){var m3=e5[d4=s4[p4]],_4=n5[d4];if(i5)var w4=u4?i5(_4,m3,d4,n5,e5,o4):i5(m3,_4,d4,e5,n5,o4);if(!(w4===t2?m3===_4||a5(m3,_4,r5,i5,o4):w4)){v3=!1;break}y3||(y3=d4=="constructor")}if(v3&&!y3){var b3=e5.constructor,S3=n5.constructor;b3==S3||!("constructor"in e5)||!("constructor"in n5)||typeof b3=="function"&&b3 instanceof b3&&typeof S3=="function"&&S3 instanceof S3||(v3=!1)}return o4.delete(e5),o4.delete(n5),v3}(e4,n4,r4,i4,a4,o3))}(e3,n3,r3,i3,kr,a3))}__name(kr,"kr");function zr2(e3,n3,r3,i3){var a3=r3.length,o3=a3,u3=!i3;if(e3==null)return!o3;for(e3=jt3(e3);a3--;){var s3=r3[a3];if(u3&&s3[2]?s3[1]!==e3[s3[0]]:!(s3[0]in e3))return!1}for(;++a3<o3;){var c3=(s3=r3[a3])[0],l3=e3[c3],f3=s3[1];if(u3&&s3[2]){if(l3===t2&&!(c3 in e3))return!1}else{var p3=new Xn;if(i3)var d3=i3(l3,f3,c3,e3,n3,p3);if(!(d3===t2?kr(f3,l3,3,i3,p3):d3))return!1}}return!0}__name(zr2,"zr");function Ur2(t3){return!(!eu2(t3)||(e3=t3,Vt3&&Vt3 in e3))&&(Yo2(t3)?Lt3:ht2).test(Va(t3));var e3}__name(Ur2,"Ur");function Ar2(t3){return typeof t3=="function"?t3:t3==null?is2:typeof t3=="object"?Ho2(t3)?Lr2(t3[0],t3[1]):Br2(t3):ds2(t3)}__name(Ar2,"Ar");function Mr2(t3){if(!Pa(t3))return mn2(t3);var e3=[];for(var n3 in jt3(t3))At3.call(t3,n3)&&n3!="constructor"&&e3.push(n3);return e3}__name(Mr2,"Mr");function Vr2(t3){if(!eu2(t3))return function(t4){var e4=[];if(t4!=null)for(var n4 in jt3(t4))e4.push(n4);return e4}(t3);var e3=Pa(t3),n3=[];for(var r3 in t3)(r3!="constructor"||!e3&&At3.call(t3,r3))&&n3.push(r3);return n3}__name(Vr2,"Vr");function Rr2(t3,e3){return t3<e3}__name(Rr2,"Rr");function Fr2(t3,e3){var n3=-1,r3=Ko2(t3)?St3(t3.length):[];return dr2(t3,function(t4,i3,a3){r3[++n3]=e3(t4,i3,a3)}),r3}__name(Fr2,"Fr");function Br2(t3){var e3=fa(t3);return e3.length==1&&e3[0][2]?Da2(e3[0][0],e3[0][1]):function(n3){return n3===t3||zr2(n3,t3,e3)}}__name(Br2,"Br");function Lr2(e3,n3){return ba2(e3)&&xa2(n3)?Da2(Ma(e3),n3):function(r3){var i3=ju2(r3,e3);return i3===t2&&i3===n3?Eu2(r3,e3):kr(n3,i3,3)}}__name(Lr2,"Lr");function Wr2(e3,n3,r3,i3,a3){e3!==n3&&_r2(n3,function(o3,u3){if(a3||(a3=new Xn),eu2(o3))(function(e4,n4,r4,i4,a4,o4,u4){var s4=Ca2(e4,r4),c3=Ca2(n4,r4),l3=u4.get(c3);if(l3)er2(e4,r4,l3);else{var f3=o4?o4(s4,c3,r4+"",e4,n4,u4):t2,p3=f3===t2;if(p3){var d3=Ho2(c3),h3=!d3&&Jo2(c3),g3=!d3&&!h3&&lu2(c3);f3=c3,d3||h3||g3?Ho2(s4)?f3=s4:Go2(s4)?f3=Ni(s4):h3?(p3=!1,f3=Pi2(c3,!0)):g3?(p3=!1,f3=Di(c3,!0)):f3=[]:au2(c3)||qo2(c3)?(f3=s4,qo2(s4)?f3=mu2(s4):eu2(s4)&&!Yo2(s4)||(f3=ya2(c3))):p3=!1}p3&&(u4.set(c3,f3),a4(f3,c3,i4,o4,u4),u4.delete(c3)),er2(e4,r4,f3)}})(e3,n3,u3,r3,Wr2,i3,a3);else{var s3=i3?i3(Ca2(e3,u3),o3,u3+"",e3,n3,a3):t2;s3===t2&&(s3=o3),er2(e3,u3,s3)}},ku2)}__name(Wr2,"Wr");function qr2(e3,n3){var r3=e3.length;if(r3)return _a19(n3+=n3<0?r3:0,r3)?e3[n3]:t2}__name(qr2,"qr");function Hr2(t3,e3,n3){e3=e3.length?ze2(e3,function(t4){return Ho2(t4)?function(e4){return Pr(e4,t4.length===1?t4[0]:t4)}:t4}):[is2];var r3=-1;e3=ze2(e3,Ye(ca2()));var i3=Fr2(t3,function(t4,n4,i4){var a3=ze2(e3,function(e4){return e4(t4)});return{criteria:a3,index:++r3,value:t4}});return function(t4,e4){var n4=t4.length;for(t4.sort(e4);n4--;)t4[n4]=t4[n4].value;return t4}(i3,function(t4,e4){return function(t5,e5,n4){for(var r4=-1,i4=t5.criteria,a3=e5.criteria,o3=i4.length,u3=n4.length;++r4<o3;){var s3=ji(i4[r4],a3[r4]);if(s3)return r4>=u3?s3:s3*(n4[r4]=="desc"?-1:1)}return t5.index-e5.index}(t4,e4,n3)})}__name(Hr2,"Hr");function $r2(t3,e3,n3){for(var r3=-1,i3=e3.length,a3={};++r3<i3;){var o3=e3[r3],u3=Pr(t3,o3);n3(u3,o3)&&ti(a3,wi(o3,t3),u3)}return a3}__name($r2,"$r");function Kr2(t3,e3,n3,r3){var i3=r3?We2:Le,a3=-1,o3=e3.length,u3=t3;for(t3===e3&&(e3=Ni(e3)),n3&&(u3=ze2(t3,Ye(n3)));++a3<o3;)for(var s3=0,c3=e3[a3],l3=n3?n3(c3):c3;(s3=i3(u3,l3,s3,r3))>-1;)u3!==t3&&Yt3.call(u3,s3,1),Yt3.call(t3,s3,1);return t3}__name(Kr2,"Kr");function Gr2(t3,e3){for(var n3=t3?e3.length:0,r3=n3-1;n3--;){var i3=e3[n3];if(n3==r3||i3!==a3){var a3=i3;_a19(i3)?Yt3.call(t3,i3,1):pi(t3,i3)}}return t3}__name(Gr2,"Gr");function Jr2(t3,e3){return t3+ve3(In2()*(e3-t3+1))}__name(Jr2,"Jr");function Xr2(t3,e3){var n3="";if(!t3||e3<1||e3>l2)return n3;do e3%2&&(n3+=t3),(e3=ve3(e3/2))&&(t3+=t3);while(e3);return n3}__name(Xr2,"Xr");function Zr2(t3,e3){return Oa(ja2(t3,e3,is2),t3+"")}__name(Zr2,"Zr");function Yr2(t3){return Yn(Bu2(t3))}__name(Yr2,"Yr");function Qr2(t3,e3){var n3=Bu2(t3);return Ua(n3,sr2(e3,0,n3.length))}__name(Qr2,"Qr");function ti(e3,n3,r3,i3){if(!eu2(e3))return e3;for(var a3=-1,o3=(n3=wi(n3,e3)).length,u3=o3-1,s3=e3;s3!=null&&++a3<o3;){var c3=Ma(n3[a3]),l3=r3;if(c3==="__proto__"||c3==="constructor"||c3==="prototype")return e3;if(a3!=u3){var f3=s3[c3];(l3=i3?i3(f3,c3,s3):t2)===t2&&(l3=eu2(f3)?f3:_a19(n3[a3+1])?[]:{})}nr2(s3,c3,l3),s3=s3[c3]}return e3}__name(ti,"ti");var ei=Tn2?function(t3,e3){return Tn2.set(t3,e3),t3}:is2,ni=oe2?function(t3,e3){return oe2(t3,"toString",{configurable:!0,enumerable:!1,value:es2(e3),writable:!0})}:is2;function ri(t3){return Ua(Bu2(t3))}__name(ri,"ri");function ii(t3,e3,n3){var r3=-1,i3=t3.length;e3<0&&(e3=-e3>i3?0:i3+e3),(n3=n3>i3?i3:n3)<0&&(n3+=i3),i3=e3>n3?0:n3-e3>>>0,e3>>>=0;for(var a3=St3(i3);++r3<i3;)a3[r3]=t3[r3+e3];return a3}__name(ii,"ii");function ai(t3,e3){var n3;return dr2(t3,function(t4,r3,i3){return!(n3=e3(t4,r3,i3))}),!!n3}__name(ai,"ai");function oi(t3,e3,n3){var r3=0,i3=t3==null?r3:t3.length;if(typeof e3=="number"&&e3==e3&&i3<=2147483647){for(;r3<i3;){var a3=r3+i3>>>1,o3=t3[a3];o3!==null&&!cu2(o3)&&(n3?o3<=e3:o3<e3)?r3=a3+1:i3=a3}return i3}return ui(t3,e3,is2,n3)}__name(oi,"oi");function ui(e3,n3,r3,i3){var a3=0,o3=e3==null?0:e3.length;if(o3===0)return 0;for(var u3=(n3=r3(n3))!=n3,s3=n3===null,c3=cu2(n3),l3=n3===t2;a3<o3;){var f3=ve3((a3+o3)/2),p3=r3(e3[f3]),d3=p3!==t2,h3=p3===null,g3=p3==p3,v3=cu2(p3);if(u3)var y3=i3||g3;else y3=l3?g3&&(i3||d3):s3?g3&&d3&&(i3||!h3):c3?g3&&d3&&!h3&&(i3||!v3):!h3&&!v3&&(i3?p3<=n3:p3<n3);y3?a3=f3+1:o3=f3}return wn2(o3,4294967294)}__name(ui,"ui");function si(t3,e3){for(var n3=-1,r3=t3.length,i3=0,a3=[];++n3<r3;){var o3=t3[n3],u3=e3?e3(o3):o3;if(!n3||!Bo2(u3,s3)){var s3=u3;a3[i3++]=o3===0?0:o3}}return a3}__name(si,"si");function ci(t3){return typeof t3=="number"?t3:cu2(t3)?f2:+t3}__name(ci,"ci");function li(t3){if(typeof t3=="string")return t3;if(Ho2(t3))return ze2(t3,li)+"";if(cu2(t3))return Fn2?Fn2.call(t3):"";var e3=t3+"";return e3=="0"&&1/t3==-1/0?"-0":e3}__name(li,"li");function fi(t3,e3,n3){var r3=-1,i3=Oe,a3=t3.length,o3=!0,u3=[],s3=u3;if(n3)o3=!1,i3=ke;else if(a3>=200){var c3=e3?null:Xi(t3);if(c3)return fn2(c3);o3=!1,i3=tn,s3=new Jn2}else s3=e3?[]:u3;t:for(;++r3<a3;){var l3=t3[r3],f3=e3?e3(l3):l3;if(l3=n3||l3!==0?l3:0,o3&&f3==f3){for(var p3=s3.length;p3--;)if(s3[p3]===f3)continue t;e3&&s3.push(f3),u3.push(l3)}else i3(s3,f3,n3)||(s3!==u3&&s3.push(f3),u3.push(l3))}return u3}__name(fi,"fi");function pi(t3,e3){return(t3=Ea2(t3,e3=wi(e3,t3)))==null||delete t3[Ma(Xa(e3))]}__name(pi,"pi");function di(t3,e3,n3,r3){return ti(t3,e3,n3(Pr(t3,e3)),r3)}__name(di,"di");function hi(t3,e3,n3,r3){for(var i3=t3.length,a3=r3?i3:-1;(r3?a3--:++a3<i3)&&e3(t3[a3],a3,t3););return n3?ii(t3,r3?0:a3,r3?a3+1:i3):ii(t3,r3?a3+1:0,r3?i3:a3)}__name(hi,"hi");function gi(t3,e3){var n3=t3;return n3 instanceof Hn2&&(n3=n3.value()),Ae(e3,function(t4,e4){return e4.func.apply(e4.thisArg,Ue([t4],e4.args))},n3)}__name(gi,"gi");function vi(t3,e3,n3){var r3=t3.length;if(r3<2)return r3?fi(t3[0]):[];for(var i3=-1,a3=St3(r3);++i3<r3;)for(var o3=t3[i3],u3=-1;++u3<r3;)u3!=i3&&(a3[i3]=pr2(a3[i3]||o3,t3[u3],e3,n3));return fi(mr2(a3,1),e3,n3)}__name(vi,"vi");function yi(e3,n3,r3){for(var i3=-1,a3=e3.length,o3=n3.length,u3={};++i3<a3;){var s3=i3<o3?n3[i3]:t2;r3(u3,e3[i3],s3)}return u3}__name(yi,"yi");function mi(t3){return Go2(t3)?t3:[]}__name(mi,"mi");function _i2(t3){return typeof t3=="function"?t3:is2}__name(_i2,"_i");function wi(t3,e3){return Ho2(t3)?t3:ba2(t3,e3)?[t3]:Aa2(_u2(t3))}__name(wi,"wi");var bi=Zr2;function Si(e3,n3,r3){var i3=e3.length;return r3=r3===t2?i3:r3,!n3&&r3>=i3?e3:ii(e3,n3,r3)}__name(Si,"Si");var Ii=ce3||function(t3){return he2.clearTimeout(t3)};function Pi2(t3,e3){if(e3)return t3.slice();var n3=t3.length,r3=$t3?$t3(n3):new t3.constructor(n3);return t3.copy(r3),r3}__name(Pi2,"Pi");function xi(t3){var e3=new t3.constructor(t3.byteLength);return new Ht3(e3).set(new Ht3(t3)),e3}__name(xi,"xi");function Di(t3,e3){var n3=e3?xi(t3.buffer):t3.buffer;return new t3.constructor(n3,t3.byteOffset,t3.length)}__name(Di,"Di");function ji(e3,n3){if(e3!==n3){var r3=e3!==t2,i3=e3===null,a3=e3==e3,o3=cu2(e3),u3=n3!==t2,s3=n3===null,c3=n3==n3,l3=cu2(n3);if(!s3&&!l3&&!o3&&e3>n3||o3&&u3&&c3&&!s3&&!l3||i3&&u3&&c3||!r3&&c3||!a3)return 1;if(!i3&&!o3&&!l3&&e3<n3||l3&&r3&&a3&&!i3&&!o3||s3&&r3&&a3||!u3&&a3||!c3)return-1}return 0}__name(ji,"ji");function Ei2(t3,e3,n3,r3){for(var i3=-1,a3=t3.length,o3=n3.length,u3=-1,s3=e3.length,c3=_n2(a3-o3,0),l3=St3(s3+c3),f3=!r3;++u3<s3;)l3[u3]=e3[u3];for(;++i3<o3;)(f3||i3<a3)&&(l3[n3[i3]]=t3[i3]);for(;c3--;)l3[u3++]=t3[i3++];return l3}__name(Ei2,"Ei");function Ci(t3,e3,n3,r3){for(var i3=-1,a3=t3.length,o3=-1,u3=n3.length,s3=-1,c3=e3.length,l3=_n2(a3-u3,0),f3=St3(l3+c3),p3=!r3;++i3<l3;)f3[i3]=t3[i3];for(var d3=i3;++s3<c3;)f3[d3+s3]=e3[s3];for(;++o3<u3;)(p3||i3<a3)&&(f3[d3+n3[o3]]=t3[i3++]);return f3}__name(Ci,"Ci");function Ni(t3,e3){var n3=-1,r3=t3.length;for(e3||(e3=St3(r3));++n3<r3;)e3[n3]=t3[n3];return e3}__name(Ni,"Ni");function Ti(e3,n3,r3,i3){var a3=!r3;r3||(r3={});for(var o3=-1,u3=n3.length;++o3<u3;){var s3=n3[o3],c3=i3?i3(r3[s3],e3[s3],s3,r3,e3):t2;c3===t2&&(c3=e3[s3]),a3?or2(r3,s3,c3):nr2(r3,s3,c3)}return r3}__name(Ti,"Ti");function Oi2(t3,e3){return function(n3,r3){var i3=Ho2(n3)?je:ir2,a3=e3?e3():{};return i3(n3,t3,ca2(r3,2),a3)}}__name(Oi2,"Oi");function ki(e3){return Zr2(function(n3,r3){var i3=-1,a3=r3.length,o3=a3>1?r3[a3-1]:t2,u3=a3>2?r3[2]:t2;for(o3=e3.length>3&&typeof o3=="function"?(a3--,o3):t2,u3&&wa2(r3[0],r3[1],u3)&&(o3=a3<3?t2:o3,a3=1),n3=jt3(n3);++i3<a3;){var s3=r3[i3];s3&&e3(n3,s3,i3,o3)}return n3})}__name(ki,"ki");function zi(t3,e3){return function(n3,r3){if(n3==null)return n3;if(!Ko2(n3))return t3(n3,r3);for(var i3=n3.length,a3=e3?i3:-1,o3=jt3(n3);(e3?a3--:++a3<i3)&&r3(o3[a3],a3,o3)!==!1;);return n3}}__name(zi,"zi");function Ui(t3){return function(e3,n3,r3){for(var i3=-1,a3=jt3(e3),o3=r3(e3),u3=o3.length;u3--;){var s3=o3[t3?u3:++i3];if(n3(a3[s3],s3,a3)===!1)break}return e3}}__name(Ui,"Ui");function Ai(e3){return function(n3){var r3=un2(n3=_u2(n3))?hn2(n3):t2,i3=r3?r3[0]:n3.charAt(0),a3=r3?Si(r3,1).join(""):n3.slice(1);return i3[e3]()+a3}}__name(Ai,"Ai");function Mi2(t3){return function(e3){return Ae(Yu2(qu2(e3).replace(Xt2,"")),t3,"")}}__name(Mi2,"Mi");function Vi(t3){return function(){var e3=arguments;switch(e3.length){case 0:return new t3;case 1:return new t3(e3[0]);case 2:return new t3(e3[0],e3[1]);case 3:return new t3(e3[0],e3[1],e3[2]);case 4:return new t3(e3[0],e3[1],e3[2],e3[3]);case 5:return new t3(e3[0],e3[1],e3[2],e3[3],e3[4]);case 6:return new t3(e3[0],e3[1],e3[2],e3[3],e3[4],e3[5]);case 7:return new t3(e3[0],e3[1],e3[2],e3[3],e3[4],e3[5],e3[6])}var n3=Ln2(t3.prototype),r3=t3.apply(n3,e3);return eu2(r3)?r3:n3}}__name(Vi,"Vi");function Ri2(e3){return function(n3,r3,i3){var a3=jt3(n3);if(!Ko2(n3)){var o3=ca2(r3,3);n3=Ou2(n3),r3=__name(function(t3){return o3(a3[t3],t3,a3)},"r3")}var u3=e3(n3,r3,i3);return u3>-1?a3[o3?n3[u3]:u3]:t2}}__name(Ri2,"Ri");function Fi(n3){return ra2(function(r3){var i3=r3.length,a3=i3,o3=qn2.prototype.thru;for(n3&&r3.reverse();a3--;){var u3=r3[a3];if(typeof u3!="function")throw new Nt3(e2);if(o3&&!s3&&ua2(u3)=="wrapper")var s3=new qn2([],!0)}for(a3=s3?a3:i3;++a3<i3;){var c3=ua2(u3=r3[a3]),l3=c3=="wrapper"?oa(u3):t2;s3=l3&&Sa(l3[0])&&l3[1]==424&&!l3[4].length&&l3[9]==1?s3[ua2(l3[0])].apply(s3,l3[3]):u3.length==1&&Sa(u3)?s3[c3]():s3.thru(u3)}return function(){var t3=arguments,e3=t3[0];if(s3&&t3.length==1&&Ho2(e3))return s3.plant(e3).value();for(var n4=0,a4=i3?r3[n4].apply(this,t3):e3;++n4<i3;)a4=r3[n4].call(this,a4);return a4}})}__name(Fi,"Fi");function Bi(e3,n3,r3,i3,a3,o3,s3,c3,l3,f3){var p3=n3&u2,d3=1&n3,h3=2&n3,g3=24&n3,v3=512&n3,y3=h3?t2:Vi(e3);return __name(function u3(){for(var m3=arguments.length,_3=St3(m3),w3=m3;w3--;)_3[w3]=arguments[w3];if(g3)var b3=sa(u3),S3=function(t3,e4){for(var n4=t3.length,r4=0;n4--;)t3[n4]===e4&&++r4;return r4}(_3,b3);if(i3&&(_3=Ei2(_3,i3,a3,g3)),o3&&(_3=Ci(_3,o3,s3,g3)),m3-=S3,g3&&m3<f3){var I3=ln2(_3,b3);return Gi(e3,n3,Bi,u3.placeholder,r3,_3,I3,c3,l3,f3-m3)}var P3=d3?r3:this,x3=h3?P3[e3]:e3;return m3=_3.length,c3?_3=function(e4,n4){for(var r4=e4.length,i4=wn2(n4.length,r4),a4=Ni(e4);i4--;){var o4=n4[i4];e4[i4]=_a19(o4,r4)?a4[o4]:t2}return e4}(_3,c3):v3&&m3>1&&_3.reverse(),p3&&l3<m3&&(_3.length=l3),this&&this!==he2&&this instanceof u3&&(x3=y3||Vi(x3)),x3.apply(P3,_3)},"u3")}__name(Bi,"Bi");function Li(t3,e3){return function(n3,r3){return function(t4,e4,n4,r4){return br2(t4,function(t5,i3,a3){e4(r4,n4(t5),i3,a3)}),r4}(n3,t3,e3(r3),{})}}__name(Li,"Li");function Wi2(e3,n3){return function(r3,i3){var a3;if(r3===t2&&i3===t2)return n3;if(r3!==t2&&(a3=r3),i3!==t2){if(a3===t2)return i3;typeof r3=="string"||typeof i3=="string"?(r3=li(r3),i3=li(i3)):(r3=ci(r3),i3=ci(i3)),a3=e3(r3,i3)}return a3}}__name(Wi2,"Wi");function qi(t3){return ra2(function(e3){return e3=ze2(e3,Ye(ca2())),Zr2(function(n3){var r3=this;return t3(e3,function(t4){return De(t4,r3,n3)})})})}__name(qi,"qi");function Hi(e3,n3){var r3=(n3=n3===t2?" ":li(n3)).length;if(r3<2)return r3?Xr2(n3,e3):n3;var i3=Xr2(n3,ge3(e3/dn2(n3)));return un2(n3)?Si(hn2(i3),0,e3).join(""):i3.slice(0,e3)}__name(Hi,"Hi");function $i(e3){return function(n3,r3,i3){return i3&&typeof i3!="number"&&wa2(n3,r3,i3)&&(r3=i3=t2),n3=hu2(n3),r3===t2?(r3=n3,n3=0):r3=hu2(r3),function(t3,e4,n4,r4){for(var i4=-1,a3=_n2(ge3((e4-t3)/(n4||1)),0),o3=St3(a3);a3--;)o3[r4?a3:++i4]=t3,t3+=n4;return o3}(n3,r3,i3=i3===t2?n3<r3?1:-1:hu2(i3),e3)}}__name($i,"$i");function Ki(t3){return function(e3,n3){return typeof e3=="string"&&typeof n3=="string"||(e3=yu2(e3),n3=yu2(n3)),t3(e3,n3)}}__name(Ki,"Ki");function Gi(e3,n3,r3,i3,u3,s3,c3,l3,f3,p3){var d3=8&n3;n3|=d3?a2:o2,4&(n3&=~(d3?o2:a2))||(n3&=-4);var h3=[e3,n3,u3,d3?s3:t2,d3?c3:t2,d3?t2:s3,d3?t2:c3,l3,f3,p3],g3=r3.apply(t2,h3);return Sa(e3)&&Na2(g3,h3),g3.placeholder=i3,ka2(g3,e3,n3)}__name(Gi,"Gi");function Ji(t3){var e3=Dt3[t3];return function(t4,n3){if(t4=yu2(t4),(n3=n3==null?0:wn2(gu2(n3),292))&&Re22(t4)){var r3=(_u2(t4)+"e").split("e");return+((r3=(_u2(e3(r3[0]+"e"+(+r3[1]+n3)))+"e").split("e"))[0]+"e"+(+r3[1]-n3))}return e3(t4)}}__name(Ji,"Ji");var Xi=En2&&1/fn2(new En2([,-0]))[1]==c2?function(t3){return new En2(t3)}:cs2;function Zi(t3){return function(e3){var n3=ga2(e3);return n3==b2?sn2(e3):n3==D2?pn2(e3):function(t4,e4){return ze2(e4,function(e5){return[e5,t4[e5]]})}(e3,t3(e3))}}__name(Zi,"Zi");function Yi(n3,c3,l3,f3,p3,d3,h3,g3){var v3=2&c3;if(!v3&&typeof n3!="function")throw new Nt3(e2);var y3=f3?f3.length:0;if(y3||(c3&=-97,f3=p3=t2),h3=h3===t2?h3:_n2(gu2(h3),0),g3=g3===t2?g3:gu2(g3),y3-=p3?p3.length:0,c3&o2){var m3=f3,_3=p3;f3=p3=t2}var w3=v3?t2:oa(n3),b3=[n3,c3,l3,f3,p3,m3,_3,d3,h3,g3];if(w3&&function(t3,e3){var n4=t3[1],i3=e3[1],a3=n4|i3,o3=a3<131,c4=i3==u2&&n4==8||i3==u2&&n4==s2&&t3[7].length<=e3[8]||i3==384&&e3[7].length<=e3[8]&&n4==8;if(!o3&&!c4)return t3;1&i3&&(t3[2]=e3[2],a3|=1&n4?0:4);var l4=e3[3];if(l4){var f4=t3[3];t3[3]=f4?Ei2(f4,l4,e3[4]):l4,t3[4]=f4?ln2(t3[3],r2):e3[4]}(l4=e3[5])&&(f4=t3[5],t3[5]=f4?Ci(f4,l4,e3[6]):l4,t3[6]=f4?ln2(t3[5],r2):e3[6]),(l4=e3[7])&&(t3[7]=l4),i3&u2&&(t3[8]=t3[8]==null?e3[8]:wn2(t3[8],e3[8])),t3[9]==null&&(t3[9]=e3[9]),t3[0]=e3[0],t3[1]=a3}(b3,w3),n3=b3[0],c3=b3[1],l3=b3[2],f3=b3[3],p3=b3[4],!(g3=b3[9]=b3[9]===t2?v3?0:n3.length:_n2(b3[9]-y3,0))&&24&c3&&(c3&=-25),c3&&c3!=1)S3=c3==8||c3==i2?function(e3,n4,r3){var i3=Vi(e3);return __name(function a3(){for(var o3=arguments.length,u3=St3(o3),s3=o3,c4=sa(a3);s3--;)u3[s3]=arguments[s3];var l4=o3<3&&u3[0]!==c4&&u3[o3-1]!==c4?[]:ln2(u3,c4);return(o3-=l4.length)<r3?Gi(e3,n4,Bi,a3.placeholder,t2,u3,l4,t2,t2,r3-o3):De(this&&this!==he2&&this instanceof a3?i3:e3,this,u3)},"a3")}(n3,c3,g3):c3!=a2&&c3!=33||p3.length?Bi.apply(t2,b3):function(t3,e3,n4,r3){var i3=1&e3,a3=Vi(t3);return __name(function e4(){for(var o3=-1,u3=arguments.length,s3=-1,c4=r3.length,l4=St3(c4+u3),f4=this&&this!==he2&&this instanceof e4?a3:t3;++s3<c4;)l4[s3]=r3[s3];for(;u3--;)l4[s3++]=arguments[++o3];return De(f4,i3?n4:this,l4)},"e4")}(n3,c3,l3,f3);else var S3=function(t3,e3,n4){var r3=1&e3,i3=Vi(t3);return __name(function e4(){return(this&&this!==he2&&this instanceof e4?i3:t3).apply(r3?n4:this,arguments)},"e4")}(n3,c3,l3);return ka2((w3?ei:Na2)(S3,b3),n3,c3)}__name(Yi,"Yi");function Qi(e3,n3,r3,i3){return e3===t2||Bo2(e3,kt3[r3])&&!At3.call(i3,r3)?n3:e3}__name(Qi,"Qi");function ta(e3,n3,r3,i3,a3,o3){return eu2(e3)&&eu2(n3)&&(o3.set(n3,e3),Wr2(e3,n3,t2,ta,o3),o3.delete(n3)),e3}__name(ta,"ta");function ea2(e3){return au2(e3)?t2:e3}__name(ea2,"ea");function na2(e3,n3,r3,i3,a3,o3){var u3=1&r3,s3=e3.length,c3=n3.length;if(s3!=c3&&!(u3&&c3>s3))return!1;var l3=o3.get(e3),f3=o3.get(n3);if(l3&&f3)return l3==n3&&f3==e3;var p3=-1,d3=!0,h3=2&r3?new Jn2:t2;for(o3.set(e3,n3),o3.set(n3,e3);++p3<s3;){var g3=e3[p3],v3=n3[p3];if(i3)var y3=u3?i3(v3,g3,p3,n3,e3,o3):i3(g3,v3,p3,e3,n3,o3);if(y3!==t2){if(y3)continue;d3=!1;break}if(h3){if(!Ve(n3,function(t3,e4){if(!tn(h3,e4)&&(g3===t3||a3(g3,t3,r3,i3,o3)))return h3.push(e4)})){d3=!1;break}}else if(g3!==v3&&!a3(g3,v3,r3,i3,o3)){d3=!1;break}}return o3.delete(e3),o3.delete(n3),d3}__name(na2,"na");function ra2(e3){return Oa(ja2(e3,t2,Ha2),e3+"")}__name(ra2,"ra");function ia2(t3){return xr2(t3,Ou2,da2)}__name(ia2,"ia");function aa2(t3){return xr2(t3,ku2,ha)}__name(aa2,"aa");var oa=Tn2?function(t3){return Tn2.get(t3)}:cs2;function ua2(t3){for(var e3=t3.name+"",n3=On2[e3],r3=At3.call(On2,e3)?n3.length:0;r3--;){var i3=n3[r3],a3=i3.func;if(a3==null||a3==t3)return i3.name}return e3}__name(ua2,"ua");function sa(t3){return(At3.call(Bn2,"placeholder")?Bn2:t3).placeholder}__name(sa,"sa");function ca2(){var t3=Bn2.iteratee||as;return t3=t3===as?Ar2:t3,arguments.length?t3(arguments[0],arguments[1]):t3}__name(ca2,"ca");function la2(t3,e3){var n3,r3,i3=t3.__data__;return((r3=typeof(n3=e3))=="string"||r3=="number"||r3=="symbol"||r3=="boolean"?n3!=="__proto__":n3===null)?i3[typeof e3=="string"?"string":"hash"]:i3.map}__name(la2,"la");function fa(t3){for(var e3=Ou2(t3),n3=e3.length;n3--;){var r3=e3[n3],i3=t3[r3];e3[n3]=[r3,i3,xa2(i3)]}return e3}__name(fa,"fa");function pa(e3,n3){var r3=function(e4,n4){return e4==null?t2:e4[n4]}(e3,n3);return Ur2(r3)?r3:t2}__name(pa,"pa");var da2=me3?function(t3){return t3==null?[]:(t3=jt3(t3),Te(me3(t3),function(e3){return Jt3.call(t3,e3)}))}:vs2,ha=me3?function(t3){for(var e3=[];t3;)Ue(e3,da2(t3)),t3=Kt3(t3);return e3}:vs2,ga2=Dr2;function va2(t3,e3,n3){for(var r3=-1,i3=(e3=wi(e3,t3)).length,a3=!1;++r3<i3;){var o3=Ma(e3[r3]);if(!(a3=t3!=null&&n3(t3,o3)))break;t3=t3[o3]}return a3||++r3!=i3?a3:!!(i3=t3==null?0:t3.length)&&tu2(i3)&&_a19(o3,i3)&&(Ho2(t3)||qo2(t3))}__name(va2,"va");function ya2(t3){return typeof t3.constructor!="function"||Pa(t3)?{}:Ln2(Kt3(t3))}__name(ya2,"ya");function ma2(t3){return Ho2(t3)||qo2(t3)||!!(te3&&t3&&t3[te3])}__name(ma2,"ma");function _a19(t3,e3){var n3=typeof t3;return!!(e3=e3??l2)&&(n3=="number"||n3!="symbol"&&vt2.test(t3))&&t3>-1&&t3%1==0&&t3<e3}__name(_a19,"_a");function wa2(t3,e3,n3){if(!eu2(n3))return!1;var r3=typeof e3;return!!(r3=="number"?Ko2(n3)&&_a19(e3,n3.length):r3=="string"&&e3 in n3)&&Bo2(n3[e3],t3)}__name(wa2,"wa");function ba2(t3,e3){if(Ho2(t3))return!1;var n3=typeof t3;return!(n3!="number"&&n3!="symbol"&&n3!="boolean"&&t3!=null&&!cu2(t3))||Y2.test(t3)||!Z2.test(t3)||e3!=null&&t3 in jt3(e3)}__name(ba2,"ba");function Sa(t3){var e3=ua2(t3),n3=Bn2[e3];if(typeof n3!="function"||!(e3 in Hn2.prototype))return!1;if(t3===n3)return!0;var r3=oa(n3);return!!r3&&t3===r3[0]}__name(Sa,"Sa"),(xn2&&ga2(new xn2(new ArrayBuffer(1)))!=T2||Dn2&&ga2(new Dn2)!=b2||jn2&&ga2(jn2.resolve())!=P2||En2&&ga2(new En2)!=D2||Cn2&&ga2(new Cn2)!=C2)&&(ga2=__name(function(e3){var n3=Dr2(e3),r3=n3==I2?e3.constructor:t2,i3=r3?Va(r3):"";if(i3)switch(i3){case kn2:return T2;case zn2:return b2;case Un2:return P2;case An2:return D2;case Mn2:return C2}return n3},"ga"));var Ia2=zt3?Yo2:ys2;function Pa(t3){var e3=t3&&t3.constructor;return t3===(typeof e3=="function"&&e3.prototype||kt3)}__name(Pa,"Pa");function xa2(t3){return t3==t3&&!eu2(t3)}__name(xa2,"xa");function Da2(e3,n3){return function(r3){return r3!=null&&r3[e3]===n3&&(n3!==t2||e3 in jt3(r3))}}__name(Da2,"Da");function ja2(e3,n3,r3){return n3=_n2(n3===t2?e3.length-1:n3,0),function(){for(var t3=arguments,i3=-1,a3=_n2(t3.length-n3,0),o3=St3(a3);++i3<a3;)o3[i3]=t3[n3+i3];i3=-1;for(var u3=St3(n3+1);++i3<n3;)u3[i3]=t3[i3];return u3[n3]=r3(o3),De(e3,this,u3)}}__name(ja2,"ja");function Ea2(t3,e3){return e3.length<2?t3:Pr(t3,ii(e3,0,-1))}__name(Ea2,"Ea");function Ca2(t3,e3){if((e3!=="constructor"||typeof t3[e3]!="function")&&e3!="__proto__")return t3[e3]}__name(Ca2,"Ca");var Na2=za2(ei),Ta=de3||function(t3,e3){return he2.setTimeout(t3,e3)},Oa=za2(ni);function ka2(t3,e3,n3){var r3=e3+"";return Oa(t3,function(t4,e4){var n4=e4.length;if(!n4)return t4;var r4=n4-1;return e4[r4]=(n4>1?"& ":"")+e4[r4],e4=e4.join(n4>2?", ":" "),t4.replace(it2,`{
/* [wrapped with `+e4+`] */
`)}(r3,function(t4,e4){return Ee(d2,function(n4){var r4="_."+n4[0];e4&n4[1]&&!Oe(t4,r4)&&t4.push(r4)}),t4.sort()}(function(t4){var e4=t4.match(at2);return e4?e4[1].split(ot2):[]}(r3),n3)))}__name(ka2,"ka");function za2(e3){var n3=0,r3=0;return function(){var i3=bn2(),a3=16-(i3-r3);if(r3=i3,a3>0){if(++n3>=800)return arguments[0]}else n3=0;return e3.apply(t2,arguments)}}__name(za2,"za");function Ua(e3,n3){var r3=-1,i3=e3.length,a3=i3-1;for(n3=n3===t2?i3:n3;++r3<n3;){var o3=Jr2(r3,a3),u3=e3[o3];e3[o3]=e3[r3],e3[r3]=u3}return e3.length=n3,e3}__name(Ua,"Ua");var Aa2=function(t3){var e3=Uo2(t3,function(t4){return n3.size===500&&n3.clear(),t4}),n3=e3.cache;return e3}(function(t3){var e3=[];return t3.charCodeAt(0)===46&&e3.push(""),t3.replace(Q2,function(t4,n3,r3,i3){e3.push(r3?i3.replace(ct2,"$1"):n3||t4)}),e3});function Ma(t3){if(typeof t3=="string"||cu2(t3))return t3;var e3=t3+"";return e3=="0"&&1/t3==-1/0?"-0":e3}__name(Ma,"Ma");function Va(t3){if(t3!=null){try{return Ut3.call(t3)}catch{}try{return t3+""}catch{}}return""}__name(Va,"Va");function Ra(t3){if(t3 instanceof Hn2)return t3.clone();var e3=new qn2(t3.__wrapped__,t3.__chain__);return e3.__actions__=Ni(t3.__actions__),e3.__index__=t3.__index__,e3.__values__=t3.__values__,e3}__name(Ra,"Ra");var Fa2=Zr2(function(t3,e3){return Go2(t3)?pr2(t3,mr2(e3,1,Go2,!0)):[]}),Ba2=Zr2(function(e3,n3){var r3=Xa(n3);return Go2(r3)&&(r3=t2),Go2(e3)?pr2(e3,mr2(n3,1,Go2,!0),ca2(r3,2)):[]}),La2=Zr2(function(e3,n3){var r3=Xa(n3);return Go2(r3)&&(r3=t2),Go2(e3)?pr2(e3,mr2(n3,1,Go2,!0),t2,r3):[]});function Wa(t3,e3,n3){var r3=t3==null?0:t3.length;if(!r3)return-1;var i3=n3==null?0:gu2(n3);return i3<0&&(i3=_n2(r3+i3,0)),Be(t3,ca2(e3,3),i3)}__name(Wa,"Wa");function qa(e3,n3,r3){var i3=e3==null?0:e3.length;if(!i3)return-1;var a3=i3-1;return r3!==t2&&(a3=gu2(r3),a3=r3<0?_n2(i3+a3,0):wn2(a3,i3-1)),Be(e3,ca2(n3,3),a3,!0)}__name(qa,"qa");function Ha2(t3){return t3!=null&&t3.length?mr2(t3,1):[]}__name(Ha2,"Ha");function $a2(e3){return e3&&e3.length?e3[0]:t2}__name($a2,"$a");var Ka=Zr2(function(t3){var e3=ze2(t3,mi);return e3.length&&e3[0]===t3[0]?Nr2(e3):[]}),Ga2=Zr2(function(e3){var n3=Xa(e3),r3=ze2(e3,mi);return n3===Xa(r3)?n3=t2:r3.pop(),r3.length&&r3[0]===e3[0]?Nr2(r3,ca2(n3,2)):[]}),Ja2=Zr2(function(e3){var n3=Xa(e3),r3=ze2(e3,mi);return(n3=typeof n3=="function"?n3:t2)&&r3.pop(),r3.length&&r3[0]===e3[0]?Nr2(r3,t2,n3):[]});function Xa(e3){var n3=e3==null?0:e3.length;return n3?e3[n3-1]:t2}__name(Xa,"Xa");var Za=Zr2(Ya);function Ya(t3,e3){return t3&&t3.length&&e3&&e3.length?Kr2(t3,e3):t3}__name(Ya,"Ya");var Qa=ra2(function(t3,e3){var n3=t3==null?0:t3.length,r3=ur2(t3,e3);return Gr2(t3,ze2(e3,function(t4){return _a19(t4,n3)?+t4:t4}).sort(ji)),r3});function to2(t3){return t3==null?t3:Pn2.call(t3)}__name(to2,"to");var eo2=Zr2(function(t3){return fi(mr2(t3,1,Go2,!0))}),no2=Zr2(function(e3){var n3=Xa(e3);return Go2(n3)&&(n3=t2),fi(mr2(e3,1,Go2,!0),ca2(n3,2))}),ro2=Zr2(function(e3){var n3=Xa(e3);return n3=typeof n3=="function"?n3:t2,fi(mr2(e3,1,Go2,!0),t2,n3)});function io2(t3){if(!t3||!t3.length)return[];var e3=0;return t3=Te(t3,function(t4){if(Go2(t4))return e3=_n2(t4.length,e3),!0}),Xe2(e3,function(e4){return ze2(t3,$e2(e4))})}__name(io2,"io");function ao2(e3,n3){if(!e3||!e3.length)return[];var r3=io2(e3);return n3==null?r3:ze2(r3,function(e4){return De(n3,t2,e4)})}__name(ao2,"ao");var oo2=Zr2(function(t3,e3){return Go2(t3)?pr2(t3,e3):[]}),uo2=Zr2(function(t3){return vi(Te(t3,Go2))}),so2=Zr2(function(e3){var n3=Xa(e3);return Go2(n3)&&(n3=t2),vi(Te(e3,Go2),ca2(n3,2))}),co2=Zr2(function(e3){var n3=Xa(e3);return n3=typeof n3=="function"?n3:t2,vi(Te(e3,Go2),t2,n3)}),lo2=Zr2(io2),fo2=Zr2(function(e3){var n3=e3.length,r3=n3>1?e3[n3-1]:t2;return r3=typeof r3=="function"?(e3.pop(),r3):t2,ao2(e3,r3)});function po2(t3){var e3=Bn2(t3);return e3.__chain__=!0,e3}__name(po2,"po");function ho2(t3,e3){return e3(t3)}__name(ho2,"ho");var go=ra2(function(e3){var n3=e3.length,r3=n3?e3[0]:0,i3=this.__wrapped__,a3=__name(function(t3){return ur2(t3,e3)},"a3");return!(n3>1||this.__actions__.length)&&i3 instanceof Hn2&&_a19(r3)?((i3=i3.slice(r3,+r3+(n3?1:0))).__actions__.push({func:ho2,args:[a3],thisArg:t2}),new qn2(i3,this.__chain__).thru(function(e4){return n3&&!e4.length&&e4.push(t2),e4})):this.thru(a3)}),vo2=Oi2(function(t3,e3,n3){At3.call(t3,n3)?++t3[n3]:or2(t3,n3,1)}),yo2=Ri2(Wa),mo2=Ri2(qa);function _o2(t3,e3){return(Ho2(t3)?Ee:dr2)(t3,ca2(e3,3))}__name(_o2,"_o");function wo2(t3,e3){return(Ho2(t3)?Ce:hr2)(t3,ca2(e3,3))}__name(wo2,"wo");var bo2=Oi2(function(t3,e3,n3){At3.call(t3,n3)?t3[n3].push(e3):or2(t3,n3,[e3])}),So2=Zr2(function(t3,e3,n3){var r3=-1,i3=typeof e3=="function",a3=Ko2(t3)?St3(t3.length):[];return dr2(t3,function(t4){a3[++r3]=i3?De(e3,t4,n3):Tr2(t4,e3,n3)}),a3}),Io2=Oi2(function(t3,e3,n3){or2(t3,n3,e3)});function Po2(t3,e3){return(Ho2(t3)?ze2:Fr2)(t3,ca2(e3,3))}__name(Po2,"Po");var xo2=Oi2(function(t3,e3,n3){t3[n3?0:1].push(e3)},function(){return[[],[]]}),Do2=Zr2(function(t3,e3){if(t3==null)return[];var n3=e3.length;return n3>1&&wa2(t3,e3[0],e3[1])?e3=[]:n3>2&&wa2(e3[0],e3[1],e3[2])&&(e3=[e3[0]]),Hr2(t3,mr2(e3,1),[])}),jo2=pe3||function(){return he2.Date.now()};function Eo2(e3,n3,r3){return n3=r3?t2:n3,n3=e3&&n3==null?e3.length:n3,Yi(e3,u2,t2,t2,t2,t2,n3)}__name(Eo2,"Eo");function Co2(n3,r3){var i3;if(typeof r3!="function")throw new Nt3(e2);return n3=gu2(n3),function(){return--n3>0&&(i3=r3.apply(this,arguments)),n3<=1&&(r3=t2),i3}}__name(Co2,"Co");var No2=Zr2(function(t3,e3,n3){var r3=1;if(n3.length){var i3=ln2(n3,sa(No2));r3|=a2}return Yi(t3,r3,e3,n3,i3)}),To2=Zr2(function(t3,e3,n3){var r3=3;if(n3.length){var i3=ln2(n3,sa(To2));r3|=a2}return Yi(e3,r3,t3,n3,i3)});function Oo2(n3,r3,i3){var a3,o3,u3,s3,c3,l3,f3=0,p3=!1,d3=!1,h3=!0;if(typeof n3!="function")throw new Nt3(e2);function g3(e3){var r4=a3,i4=o3;return a3=o3=t2,f3=e3,s3=n3.apply(i4,r4)}__name(g3,"g3");function v3(e3){var n4=e3-l3;return l3===t2||n4>=r3||n4<0||d3&&e3-f3>=u3}__name(v3,"v3");function y3(){var t3=jo2();if(v3(t3))return m3(t3);c3=Ta(y3,function(t4){var e3=r3-(t4-l3);return d3?wn2(e3,u3-(t4-f3)):e3}(t3))}__name(y3,"y3");function m3(e3){return c3=t2,h3&&a3?g3(e3):(a3=o3=t2,s3)}__name(m3,"m3");function _3(){var e3=jo2(),n4=v3(e3);if(a3=arguments,o3=this,l3=e3,n4){if(c3===t2)return function(t3){return f3=t3,c3=Ta(y3,r3),p3?g3(t3):s3}(l3);if(d3)return Ii(c3),c3=Ta(y3,r3),g3(l3)}return c3===t2&&(c3=Ta(y3,r3)),s3}return __name(_3,"_3"),r3=yu2(r3)||0,eu2(i3)&&(p3=!!i3.leading,u3=(d3="maxWait"in i3)?_n2(yu2(i3.maxWait)||0,r3):u3,h3="trailing"in i3?!!i3.trailing:h3),_3.cancel=function(){c3!==t2&&Ii(c3),f3=0,a3=l3=o3=c3=t2},_3.flush=function(){return c3===t2?s3:m3(jo2())},_3}__name(Oo2,"Oo");var ko2=Zr2(function(t3,e3){return fr2(t3,1,e3)}),zo2=Zr2(function(t3,e3,n3){return fr2(t3,yu2(e3)||0,n3)});function Uo2(t3,n3){if(typeof t3!="function"||n3!=null&&typeof n3!="function")throw new Nt3(e2);var r3=__name(function(){var e3=arguments,i3=n3?n3.apply(this,e3):e3[0],a3=r3.cache;if(a3.has(i3))return a3.get(i3);var o3=t3.apply(this,e3);return r3.cache=a3.set(i3,o3)||a3,o3},"r3");return r3.cache=new(Uo2.Cache||Gn),r3}__name(Uo2,"Uo");function Ao2(t3){if(typeof t3!="function")throw new Nt3(e2);return function(){var e3=arguments;switch(e3.length){case 0:return!t3.call(this);case 1:return!t3.call(this,e3[0]);case 2:return!t3.call(this,e3[0],e3[1]);case 3:return!t3.call(this,e3[0],e3[1],e3[2])}return!t3.apply(this,e3)}}__name(Ao2,"Ao"),Uo2.Cache=Gn;var Mo2=bi(function(t3,e3){var n3=(e3=e3.length==1&&Ho2(e3[0])?ze2(e3[0],Ye(ca2())):ze2(mr2(e3,1),Ye(ca2()))).length;return Zr2(function(r3){for(var i3=-1,a3=wn2(r3.length,n3);++i3<a3;)r3[i3]=e3[i3].call(this,r3[i3]);return De(t3,this,r3)})}),Vo2=Zr2(function(e3,n3){var r3=ln2(n3,sa(Vo2));return Yi(e3,a2,t2,n3,r3)}),Ro2=Zr2(function(e3,n3){var r3=ln2(n3,sa(Ro2));return Yi(e3,o2,t2,n3,r3)}),Fo2=ra2(function(e3,n3){return Yi(e3,s2,t2,t2,t2,n3)});function Bo2(t3,e3){return t3===e3||t3!=t3&&e3!=e3}__name(Bo2,"Bo");var Lo2=Ki(jr2),Wo2=Ki(function(t3,e3){return t3>=e3}),qo2=Or(function(){return arguments}())?Or:function(t3){return nu2(t3)&&At3.call(t3,"callee")&&!Jt3.call(t3,"callee")},Ho2=St3.isArray,$o2=we?Ye(we):function(t3){return nu2(t3)&&Dr2(t3)==N2};function Ko2(t3){return t3!=null&&tu2(t3.length)&&!Yo2(t3)}__name(Ko2,"Ko");function Go2(t3){return nu2(t3)&&Ko2(t3)}__name(Go2,"Go");var Jo2=_e3||ys2,Xo2=be2?Ye(be2):function(t3){return nu2(t3)&&Dr2(t3)==y2};function Zo2(t3){if(!nu2(t3))return!1;var e3=Dr2(t3);return e3==m2||e3=="[object DOMException]"||typeof t3.message=="string"&&typeof t3.name=="string"&&!au2(t3)}__name(Zo2,"Zo");function Yo2(t3){if(!eu2(t3))return!1;var e3=Dr2(t3);return e3==_2||e3==w2||e3=="[object AsyncFunction]"||e3=="[object Proxy]"}__name(Yo2,"Yo");function Qo2(t3){return typeof t3=="number"&&t3==gu2(t3)}__name(Qo2,"Qo");function tu2(t3){return typeof t3=="number"&&t3>-1&&t3%1==0&&t3<=l2}__name(tu2,"tu");function eu2(t3){var e3=typeof t3;return t3!=null&&(e3=="object"||e3=="function")}__name(eu2,"eu");function nu2(t3){return t3!=null&&typeof t3=="object"}__name(nu2,"nu");var ru2=Se2?Ye(Se2):function(t3){return nu2(t3)&&ga2(t3)==b2};function iu2(t3){return typeof t3=="number"||nu2(t3)&&Dr2(t3)==S2}__name(iu2,"iu");function au2(t3){if(!nu2(t3)||Dr2(t3)!=I2)return!1;var e3=Kt3(t3);if(e3===null)return!0;var n3=At3.call(e3,"constructor")&&e3.constructor;return typeof n3=="function"&&n3 instanceof n3&&Ut3.call(n3)==Ft3}__name(au2,"au");var ou2=Ie?Ye(Ie):function(t3){return nu2(t3)&&Dr2(t3)==x2},uu2=Pe2?Ye(Pe2):function(t3){return nu2(t3)&&ga2(t3)==D2};function su2(t3){return typeof t3=="string"||!Ho2(t3)&&nu2(t3)&&Dr2(t3)==j2}__name(su2,"su");function cu2(t3){return typeof t3=="symbol"||nu2(t3)&&Dr2(t3)==E2}__name(cu2,"cu");var lu2=xe?Ye(xe):function(t3){return nu2(t3)&&tu2(t3.length)&&!!ue2[Dr2(t3)]},fu2=Ki(Rr2),pu2=Ki(function(t3,e3){return t3<=e3});function du2(t3){if(!t3)return[];if(Ko2(t3))return su2(t3)?hn2(t3):Ni(t3);if(re2&&t3[re2])return function(t4){for(var e4,n3=[];!(e4=t4.next()).done;)n3.push(e4.value);return n3}(t3[re2]());var e3=ga2(t3);return(e3==b2?sn2:e3==D2?fn2:Bu2)(t3)}__name(du2,"du");function hu2(t3){return t3?(t3=yu2(t3))===c2||t3===-1/0?17976931348623157e292*(t3<0?-1:1):t3==t3?t3:0:t3===0?t3:0}__name(hu2,"hu");function gu2(t3){var e3=hu2(t3),n3=e3%1;return e3==e3?n3?e3-n3:e3:0}__name(gu2,"gu");function vu2(t3){return t3?sr2(gu2(t3),0,p2):0}__name(vu2,"vu");function yu2(t3){if(typeof t3=="number")return t3;if(cu2(t3))return f2;if(eu2(t3)){var e3=typeof t3.valueOf=="function"?t3.valueOf():t3;t3=eu2(e3)?e3+"":e3}if(typeof t3!="string")return t3===0?t3:+t3;t3=Ze(t3);var n3=dt2.test(t3);return n3||gt2.test(t3)?fe2(t3.slice(2),n3?2:8):pt2.test(t3)?f2:+t3}__name(yu2,"yu");function mu2(t3){return Ti(t3,ku2(t3))}__name(mu2,"mu");function _u2(t3){return t3==null?"":li(t3)}__name(_u2,"_u");var wu2=ki(function(t3,e3){if(Pa(e3)||Ko2(e3))Ti(e3,Ou2(e3),t3);else for(var n3 in e3)At3.call(e3,n3)&&nr2(t3,n3,e3[n3])}),bu2=ki(function(t3,e3){Ti(e3,ku2(e3),t3)}),Su2=ki(function(t3,e3,n3,r3){Ti(e3,ku2(e3),t3,r3)}),Iu2=ki(function(t3,e3,n3,r3){Ti(e3,Ou2(e3),t3,r3)}),Pu2=ra2(ur2),xu2=Zr2(function(e3,n3){e3=jt3(e3);var r3=-1,i3=n3.length,a3=i3>2?n3[2]:t2;for(a3&&wa2(n3[0],n3[1],a3)&&(i3=1);++r3<i3;)for(var o3=n3[r3],u3=ku2(o3),s3=-1,c3=u3.length;++s3<c3;){var l3=u3[s3],f3=e3[l3];(f3===t2||Bo2(f3,kt3[l3])&&!At3.call(e3,l3))&&(e3[l3]=o3[l3])}return e3}),Du2=Zr2(function(e3){return e3.push(t2,ta),De(Uu2,t2,e3)});function ju2(e3,n3,r3){var i3=e3==null?t2:Pr(e3,n3);return i3===t2?r3:i3}__name(ju2,"ju");function Eu2(t3,e3){return t3!=null&&va2(t3,e3,Cr)}__name(Eu2,"Eu");var Cu2=Li(function(t3,e3,n3){e3!=null&&typeof e3.toString!="function"&&(e3=Rt3.call(e3)),t3[e3]=n3},es2(is2)),Nu2=Li(function(t3,e3,n3){e3!=null&&typeof e3.toString!="function"&&(e3=Rt3.call(e3)),At3.call(t3,e3)?t3[e3].push(n3):t3[e3]=[n3]},ca2),Tu2=Zr2(Tr2);function Ou2(t3){return Ko2(t3)?Zn2(t3):Mr2(t3)}__name(Ou2,"Ou");function ku2(t3){return Ko2(t3)?Zn2(t3,!0):Vr2(t3)}__name(ku2,"ku");var zu2=ki(function(t3,e3,n3){Wr2(t3,e3,n3)}),Uu2=ki(function(t3,e3,n3,r3){Wr2(t3,e3,n3,r3)}),Au2=ra2(function(t3,e3){var n3={};if(t3==null)return n3;var r3=!1;e3=ze2(e3,function(e4){return e4=wi(e4,t3),r3||(r3=e4.length>1),e4}),Ti(t3,aa2(t3),n3),r3&&(n3=cr2(n3,7,ea2));for(var i3=e3.length;i3--;)pi(n3,e3[i3]);return n3}),Mu2=ra2(function(t3,e3){return t3==null?{}:function(t4,e4){return $r2(t4,e4,function(e5,n3){return Eu2(t4,n3)})}(t3,e3)});function Vu2(t3,e3){if(t3==null)return{};var n3=ze2(aa2(t3),function(t4){return[t4]});return e3=ca2(e3),$r2(t3,n3,function(t4,n4){return e3(t4,n4[0])})}__name(Vu2,"Vu");var Ru2=Zi(Ou2),Fu2=Zi(ku2);function Bu2(t3){return t3==null?[]:Qe2(t3,Ou2(t3))}__name(Bu2,"Bu");var Lu2=Mi2(function(t3,e3,n3){return e3=e3.toLowerCase(),t3+(n3?Wu2(e3):e3)});function Wu2(t3){return Zu2(_u2(t3).toLowerCase())}__name(Wu2,"Wu");function qu2(t3){return(t3=_u2(t3))&&t3.replace(yt2,rn).replace(Zt2,"")}__name(qu2,"qu");var Hu2=Mi2(function(t3,e3,n3){return t3+(n3?"-":"")+e3.toLowerCase()}),$u2=Mi2(function(t3,e3,n3){return t3+(n3?" ":"")+e3.toLowerCase()}),Ku2=Ai("toLowerCase"),Gu2=Mi2(function(t3,e3,n3){return t3+(n3?"_":"")+e3.toLowerCase()}),Ju2=Mi2(function(t3,e3,n3){return t3+(n3?" ":"")+Zu2(e3)}),Xu2=Mi2(function(t3,e3,n3){return t3+(n3?" ":"")+e3.toUpperCase()}),Zu2=Ai("toUpperCase");function Yu2(e3,n3,r3){return e3=_u2(e3),(n3=r3?t2:n3)===t2?function(t3){return ee2.test(t3)}(e3)?function(t3){return t3.match(Qt2)||[]}(e3):function(t3){return t3.match(ut2)||[]}(e3):e3.match(n3)||[]}__name(Yu2,"Yu");var Qu2=Zr2(function(e3,n3){try{return De(e3,t2,n3)}catch(t3){return Zo2(t3)?t3:new Pt3(t3)}}),ts2=ra2(function(t3,e3){return Ee(e3,function(e4){e4=Ma(e4),or2(t3,e4,No2(t3[e4],t3))}),t3});function es2(t3){return function(){return t3}}__name(es2,"es");var ns=Fi(),rs=Fi(!0);function is2(t3){return t3}__name(is2,"is");function as(t3){return Ar2(typeof t3=="function"?t3:cr2(t3,1))}__name(as,"as");var os=Zr2(function(t3,e3){return function(n3){return Tr2(n3,t3,e3)}}),us2=Zr2(function(t3,e3){return function(n3){return Tr2(t3,n3,e3)}});function ss(t3,e3,n3){var r3=Ou2(e3),i3=Ir2(e3,r3);n3!=null||eu2(e3)&&(i3.length||!r3.length)||(n3=e3,e3=t3,t3=this,i3=Ir2(e3,Ou2(e3)));var a3=!(eu2(n3)&&"chain"in n3&&!n3.chain),o3=Yo2(t3);return Ee(i3,function(n4){var r4=e3[n4];t3[n4]=r4,o3&&(t3.prototype[n4]=function(){var e4=this.__chain__;if(a3||e4){var n5=t3(this.__wrapped__);return(n5.__actions__=Ni(this.__actions__)).push({func:r4,args:arguments,thisArg:t3}),n5.__chain__=e4,n5}return r4.apply(t3,Ue([this.value()],arguments))})}),t3}__name(ss,"ss");function cs2(){}__name(cs2,"cs");var ls=qi(ze2),fs2=qi(Ne),ps2=qi(Ve);function ds2(t3){return ba2(t3)?$e2(Ma(t3)):function(t4){return function(e3){return Pr(e3,t4)}}(t3)}__name(ds2,"ds");var hs2=$i(),gs2=$i(!0);function vs2(){return[]}__name(vs2,"vs");function ys2(){return!1}__name(ys2,"ys");var ms2,_s2=Wi2(function(t3,e3){return t3+e3},0),ws2=Ji("ceil"),bs2=Wi2(function(t3,e3){return t3/e3},1),Ss2=Ji("floor"),Is2=Wi2(function(t3,e3){return t3*e3},1),Ps2=Ji("round"),xs2=Wi2(function(t3,e3){return t3-e3},0);return Bn2.after=function(t3,n3){if(typeof n3!="function")throw new Nt3(e2);return t3=gu2(t3),function(){if(--t3<1)return n3.apply(this,arguments)}},Bn2.ary=Eo2,Bn2.assign=wu2,Bn2.assignIn=bu2,Bn2.assignInWith=Su2,Bn2.assignWith=Iu2,Bn2.at=Pu2,Bn2.before=Co2,Bn2.bind=No2,Bn2.bindAll=ts2,Bn2.bindKey=To2,Bn2.castArray=function(){if(!arguments.length)return[];var t3=arguments[0];return Ho2(t3)?t3:[t3]},Bn2.chain=po2,Bn2.chunk=function(e3,n3,r3){n3=(r3?wa2(e3,n3,r3):n3===t2)?1:_n2(gu2(n3),0);var i3=e3==null?0:e3.length;if(!i3||n3<1)return[];for(var a3=0,o3=0,u3=St3(ge3(i3/n3));a3<i3;)u3[o3++]=ii(e3,a3,a3+=n3);return u3},Bn2.compact=function(t3){for(var e3=-1,n3=t3==null?0:t3.length,r3=0,i3=[];++e3<n3;){var a3=t3[e3];a3&&(i3[r3++]=a3)}return i3},Bn2.concat=function(){var t3=arguments.length;if(!t3)return[];for(var e3=St3(t3-1),n3=arguments[0],r3=t3;r3--;)e3[r3-1]=arguments[r3];return Ue(Ho2(n3)?Ni(n3):[n3],mr2(e3,1))},Bn2.cond=function(t3){var n3=t3==null?0:t3.length,r3=ca2();return t3=n3?ze2(t3,function(t4){if(typeof t4[1]!="function")throw new Nt3(e2);return[r3(t4[0]),t4[1]]}):[],Zr2(function(e3){for(var r4=-1;++r4<n3;){var i3=t3[r4];if(De(i3[0],this,e3))return De(i3[1],this,e3)}})},Bn2.conforms=function(t3){return function(t4){var e3=Ou2(t4);return function(n3){return lr2(n3,t4,e3)}}(cr2(t3,1))},Bn2.constant=es2,Bn2.countBy=vo2,Bn2.create=function(t3,e3){var n3=Ln2(t3);return e3==null?n3:ar2(n3,e3)},Bn2.curry=__name(function e3(n3,r3,i3){var a3=Yi(n3,8,t2,t2,t2,t2,t2,r3=i3?t2:r3);return a3.placeholder=e3.placeholder,a3},"e3"),Bn2.curryRight=__name(function e3(n3,r3,a3){var o3=Yi(n3,i2,t2,t2,t2,t2,t2,r3=a3?t2:r3);return o3.placeholder=e3.placeholder,o3},"e3"),Bn2.debounce=Oo2,Bn2.defaults=xu2,Bn2.defaultsDeep=Du2,Bn2.defer=ko2,Bn2.delay=zo2,Bn2.difference=Fa2,Bn2.differenceBy=Ba2,Bn2.differenceWith=La2,Bn2.drop=function(e3,n3,r3){var i3=e3==null?0:e3.length;return i3?ii(e3,(n3=r3||n3===t2?1:gu2(n3))<0?0:n3,i3):[]},Bn2.dropRight=function(e3,n3,r3){var i3=e3==null?0:e3.length;return i3?ii(e3,0,(n3=i3-(n3=r3||n3===t2?1:gu2(n3)))<0?0:n3):[]},Bn2.dropRightWhile=function(t3,e3){return t3&&t3.length?hi(t3,ca2(e3,3),!0,!0):[]},Bn2.dropWhile=function(t3,e3){return t3&&t3.length?hi(t3,ca2(e3,3),!0):[]},Bn2.fill=function(e3,n3,r3,i3){var a3=e3==null?0:e3.length;return a3?(r3&&typeof r3!="number"&&wa2(e3,n3,r3)&&(r3=0,i3=a3),function(e4,n4,r4,i4){var a4=e4.length;for((r4=gu2(r4))<0&&(r4=-r4>a4?0:a4+r4),(i4=i4===t2||i4>a4?a4:gu2(i4))<0&&(i4+=a4),i4=r4>i4?0:vu2(i4);r4<i4;)e4[r4++]=n4;return e4}(e3,n3,r3,i3)):[]},Bn2.filter=function(t3,e3){return(Ho2(t3)?Te:yr2)(t3,ca2(e3,3))},Bn2.flatMap=function(t3,e3){return mr2(Po2(t3,e3),1)},Bn2.flatMapDeep=function(t3,e3){return mr2(Po2(t3,e3),c2)},Bn2.flatMapDepth=function(e3,n3,r3){return r3=r3===t2?1:gu2(r3),mr2(Po2(e3,n3),r3)},Bn2.flatten=Ha2,Bn2.flattenDeep=function(t3){return t3!=null&&t3.length?mr2(t3,c2):[]},Bn2.flattenDepth=function(e3,n3){return e3!=null&&e3.length?mr2(e3,n3=n3===t2?1:gu2(n3)):[]},Bn2.flip=function(t3){return Yi(t3,512)},Bn2.flow=ns,Bn2.flowRight=rs,Bn2.fromPairs=function(t3){for(var e3=-1,n3=t3==null?0:t3.length,r3={};++e3<n3;){var i3=t3[e3];r3[i3[0]]=i3[1]}return r3},Bn2.functions=function(t3){return t3==null?[]:Ir2(t3,Ou2(t3))},Bn2.functionsIn=function(t3){return t3==null?[]:Ir2(t3,ku2(t3))},Bn2.groupBy=bo2,Bn2.initial=function(t3){return t3!=null&&t3.length?ii(t3,0,-1):[]},Bn2.intersection=Ka,Bn2.intersectionBy=Ga2,Bn2.intersectionWith=Ja2,Bn2.invert=Cu2,Bn2.invertBy=Nu2,Bn2.invokeMap=So2,Bn2.iteratee=as,Bn2.keyBy=Io2,Bn2.keys=Ou2,Bn2.keysIn=ku2,Bn2.map=Po2,Bn2.mapKeys=function(t3,e3){var n3={};return e3=ca2(e3,3),br2(t3,function(t4,r3,i3){or2(n3,e3(t4,r3,i3),t4)}),n3},Bn2.mapValues=function(t3,e3){var n3={};return e3=ca2(e3,3),br2(t3,function(t4,r3,i3){or2(n3,r3,e3(t4,r3,i3))}),n3},Bn2.matches=function(t3){return Br2(cr2(t3,1))},Bn2.matchesProperty=function(t3,e3){return Lr2(t3,cr2(e3,1))},Bn2.memoize=Uo2,Bn2.merge=zu2,Bn2.mergeWith=Uu2,Bn2.method=os,Bn2.methodOf=us2,Bn2.mixin=ss,Bn2.negate=Ao2,Bn2.nthArg=function(t3){return t3=gu2(t3),Zr2(function(e3){return qr2(e3,t3)})},Bn2.omit=Au2,Bn2.omitBy=function(t3,e3){return Vu2(t3,Ao2(ca2(e3)))},Bn2.once=function(t3){return Co2(2,t3)},Bn2.orderBy=function(e3,n3,r3,i3){return e3==null?[]:(Ho2(n3)||(n3=n3==null?[]:[n3]),Ho2(r3=i3?t2:r3)||(r3=r3==null?[]:[r3]),Hr2(e3,n3,r3))},Bn2.over=ls,Bn2.overArgs=Mo2,Bn2.overEvery=fs2,Bn2.overSome=ps2,Bn2.partial=Vo2,Bn2.partialRight=Ro2,Bn2.partition=xo2,Bn2.pick=Mu2,Bn2.pickBy=Vu2,Bn2.property=ds2,Bn2.propertyOf=function(e3){return function(n3){return e3==null?t2:Pr(e3,n3)}},Bn2.pull=Za,Bn2.pullAll=Ya,Bn2.pullAllBy=function(t3,e3,n3){return t3&&t3.length&&e3&&e3.length?Kr2(t3,e3,ca2(n3,2)):t3},Bn2.pullAllWith=function(e3,n3,r3){return e3&&e3.length&&n3&&n3.length?Kr2(e3,n3,t2,r3):e3},Bn2.pullAt=Qa,Bn2.range=hs2,Bn2.rangeRight=gs2,Bn2.rearg=Fo2,Bn2.reject=function(t3,e3){return(Ho2(t3)?Te:yr2)(t3,Ao2(ca2(e3,3)))},Bn2.remove=function(t3,e3){var n3=[];if(!t3||!t3.length)return n3;var r3=-1,i3=[],a3=t3.length;for(e3=ca2(e3,3);++r3<a3;){var o3=t3[r3];e3(o3,r3,t3)&&(n3.push(o3),i3.push(r3))}return Gr2(t3,i3),n3},Bn2.rest=function(n3,r3){if(typeof n3!="function")throw new Nt3(e2);return Zr2(n3,r3=r3===t2?r3:gu2(r3))},Bn2.reverse=to2,Bn2.sampleSize=function(e3,n3,r3){return n3=(r3?wa2(e3,n3,r3):n3===t2)?1:gu2(n3),(Ho2(e3)?Qn2:Qr2)(e3,n3)},Bn2.set=function(t3,e3,n3){return t3==null?t3:ti(t3,e3,n3)},Bn2.setWith=function(e3,n3,r3,i3){return i3=typeof i3=="function"?i3:t2,e3==null?e3:ti(e3,n3,r3,i3)},Bn2.shuffle=function(t3){return(Ho2(t3)?tr2:ri)(t3)},Bn2.slice=function(e3,n3,r3){var i3=e3==null?0:e3.length;return i3?(r3&&typeof r3!="number"&&wa2(e3,n3,r3)?(n3=0,r3=i3):(n3=n3==null?0:gu2(n3),r3=r3===t2?i3:gu2(r3)),ii(e3,n3,r3)):[]},Bn2.sortBy=Do2,Bn2.sortedUniq=function(t3){return t3&&t3.length?si(t3):[]},Bn2.sortedUniqBy=function(t3,e3){return t3&&t3.length?si(t3,ca2(e3,2)):[]},Bn2.split=function(e3,n3,r3){return r3&&typeof r3!="number"&&wa2(e3,n3,r3)&&(n3=r3=t2),(r3=r3===t2?p2:r3>>>0)?(e3=_u2(e3))&&(typeof n3=="string"||n3!=null&&!ou2(n3))&&!(n3=li(n3))&&un2(e3)?Si(hn2(e3),0,r3):e3.split(n3,r3):[]},Bn2.spread=function(t3,n3){if(typeof t3!="function")throw new Nt3(e2);return n3=n3==null?0:_n2(gu2(n3),0),Zr2(function(e3){var r3=e3[n3],i3=Si(e3,0,n3);return r3&&Ue(i3,r3),De(t3,this,i3)})},Bn2.tail=function(t3){var e3=t3==null?0:t3.length;return e3?ii(t3,1,e3):[]},Bn2.take=function(e3,n3,r3){return e3&&e3.length?ii(e3,0,(n3=r3||n3===t2?1:gu2(n3))<0?0:n3):[]},Bn2.takeRight=function(e3,n3,r3){var i3=e3==null?0:e3.length;return i3?ii(e3,(n3=i3-(n3=r3||n3===t2?1:gu2(n3)))<0?0:n3,i3):[]},Bn2.takeRightWhile=function(t3,e3){return t3&&t3.length?hi(t3,ca2(e3,3),!1,!0):[]},Bn2.takeWhile=function(t3,e3){return t3&&t3.length?hi(t3,ca2(e3,3)):[]},Bn2.tap=function(t3,e3){return e3(t3),t3},Bn2.throttle=function(t3,n3,r3){var i3=!0,a3=!0;if(typeof t3!="function")throw new Nt3(e2);return eu2(r3)&&(i3="leading"in r3?!!r3.leading:i3,a3="trailing"in r3?!!r3.trailing:a3),Oo2(t3,n3,{leading:i3,maxWait:n3,trailing:a3})},Bn2.thru=ho2,Bn2.toArray=du2,Bn2.toPairs=Ru2,Bn2.toPairsIn=Fu2,Bn2.toPath=function(t3){return Ho2(t3)?ze2(t3,Ma):cu2(t3)?[t3]:Ni(Aa2(_u2(t3)))},Bn2.toPlainObject=mu2,Bn2.transform=function(t3,e3,n3){var r3=Ho2(t3),i3=r3||Jo2(t3)||lu2(t3);if(e3=ca2(e3,4),n3==null){var a3=t3&&t3.constructor;n3=i3?r3?new a3:[]:eu2(t3)&&Yo2(a3)?Ln2(Kt3(t3)):{}}return(i3?Ee:br2)(t3,function(t4,r4,i4){return e3(n3,t4,r4,i4)}),n3},Bn2.unary=function(t3){return Eo2(t3,1)},Bn2.union=eo2,Bn2.unionBy=no2,Bn2.unionWith=ro2,Bn2.uniq=function(t3){return t3&&t3.length?fi(t3):[]},Bn2.uniqBy=function(t3,e3){return t3&&t3.length?fi(t3,ca2(e3,2)):[]},Bn2.uniqWith=function(e3,n3){return n3=typeof n3=="function"?n3:t2,e3&&e3.length?fi(e3,t2,n3):[]},Bn2.unset=function(t3,e3){return t3==null||pi(t3,e3)},Bn2.unzip=io2,Bn2.unzipWith=ao2,Bn2.update=function(t3,e3,n3){return t3==null?t3:di(t3,e3,_i2(n3))},Bn2.updateWith=function(e3,n3,r3,i3){return i3=typeof i3=="function"?i3:t2,e3==null?e3:di(e3,n3,_i2(r3),i3)},Bn2.values=Bu2,Bn2.valuesIn=function(t3){return t3==null?[]:Qe2(t3,ku2(t3))},Bn2.without=oo2,Bn2.words=Yu2,Bn2.wrap=function(t3,e3){return Vo2(_i2(e3),t3)},Bn2.xor=uo2,Bn2.xorBy=so2,Bn2.xorWith=co2,Bn2.zip=lo2,Bn2.zipObject=function(t3,e3){return yi(t3||[],e3||[],nr2)},Bn2.zipObjectDeep=function(t3,e3){return yi(t3||[],e3||[],ti)},Bn2.zipWith=fo2,Bn2.entries=Ru2,Bn2.entriesIn=Fu2,Bn2.extend=bu2,Bn2.extendWith=Su2,ss(Bn2,Bn2),Bn2.add=_s2,Bn2.attempt=Qu2,Bn2.camelCase=Lu2,Bn2.capitalize=Wu2,Bn2.ceil=ws2,Bn2.clamp=function(e3,n3,r3){return r3===t2&&(r3=n3,n3=t2),r3!==t2&&(r3=(r3=yu2(r3))==r3?r3:0),n3!==t2&&(n3=(n3=yu2(n3))==n3?n3:0),sr2(yu2(e3),n3,r3)},Bn2.clone=function(t3){return cr2(t3,4)},Bn2.cloneDeep=function(t3){return cr2(t3,5)},Bn2.cloneDeepWith=function(e3,n3){return cr2(e3,5,n3=typeof n3=="function"?n3:t2)},Bn2.cloneWith=function(e3,n3){return cr2(e3,4,n3=typeof n3=="function"?n3:t2)},Bn2.conformsTo=function(t3,e3){return e3==null||lr2(t3,e3,Ou2(e3))},Bn2.deburr=qu2,Bn2.defaultTo=function(t3,e3){return t3==null||t3!=t3?e3:t3},Bn2.divide=bs2,Bn2.endsWith=function(e3,n3,r3){e3=_u2(e3),n3=li(n3);var i3=e3.length,a3=r3=r3===t2?i3:sr2(gu2(r3),0,i3);return(r3-=n3.length)>=0&&e3.slice(r3,a3)==n3},Bn2.eq=Bo2,Bn2.escape=function(t3){return(t3=_u2(t3))&&K2.test(t3)?t3.replace(H2,an):t3},Bn2.escapeRegExp=function(t3){return(t3=_u2(t3))&&et2.test(t3)?t3.replace(tt2,"\\$&"):t3},Bn2.every=function(e3,n3,r3){var i3=Ho2(e3)?Ne:gr2;return r3&&wa2(e3,n3,r3)&&(n3=t2),i3(e3,ca2(n3,3))},Bn2.find=yo2,Bn2.findIndex=Wa,Bn2.findKey=function(t3,e3){return Fe(t3,ca2(e3,3),br2)},Bn2.findLast=mo2,Bn2.findLastIndex=qa,Bn2.findLastKey=function(t3,e3){return Fe(t3,ca2(e3,3),Sr2)},Bn2.floor=Ss2,Bn2.forEach=_o2,Bn2.forEachRight=wo2,Bn2.forIn=function(t3,e3){return t3==null?t3:_r2(t3,ca2(e3,3),ku2)},Bn2.forInRight=function(t3,e3){return t3==null?t3:wr2(t3,ca2(e3,3),ku2)},Bn2.forOwn=function(t3,e3){return t3&&br2(t3,ca2(e3,3))},Bn2.forOwnRight=function(t3,e3){return t3&&Sr2(t3,ca2(e3,3))},Bn2.get=ju2,Bn2.gt=Lo2,Bn2.gte=Wo2,Bn2.has=function(t3,e3){return t3!=null&&va2(t3,e3,Er2)},Bn2.hasIn=Eu2,Bn2.head=$a2,Bn2.identity=is2,Bn2.includes=function(t3,e3,n3,r3){t3=Ko2(t3)?t3:Bu2(t3),n3=n3&&!r3?gu2(n3):0;var i3=t3.length;return n3<0&&(n3=_n2(i3+n3,0)),su2(t3)?n3<=i3&&t3.indexOf(e3,n3)>-1:!!i3&&Le(t3,e3,n3)>-1},Bn2.indexOf=function(t3,e3,n3){var r3=t3==null?0:t3.length;if(!r3)return-1;var i3=n3==null?0:gu2(n3);return i3<0&&(i3=_n2(r3+i3,0)),Le(t3,e3,i3)},Bn2.inRange=function(e3,n3,r3){return n3=hu2(n3),r3===t2?(r3=n3,n3=0):r3=hu2(r3),function(t3,e4,n4){return t3>=wn2(e4,n4)&&t3<_n2(e4,n4)}(e3=yu2(e3),n3,r3)},Bn2.invoke=Tu2,Bn2.isArguments=qo2,Bn2.isArray=Ho2,Bn2.isArrayBuffer=$o2,Bn2.isArrayLike=Ko2,Bn2.isArrayLikeObject=Go2,Bn2.isBoolean=function(t3){return t3===!0||t3===!1||nu2(t3)&&Dr2(t3)==v2},Bn2.isBuffer=Jo2,Bn2.isDate=Xo2,Bn2.isElement=function(t3){return nu2(t3)&&t3.nodeType===1&&!au2(t3)},Bn2.isEmpty=function(t3){if(t3==null)return!0;if(Ko2(t3)&&(Ho2(t3)||typeof t3=="string"||typeof t3.splice=="function"||Jo2(t3)||lu2(t3)||qo2(t3)))return!t3.length;var e3=ga2(t3);if(e3==b2||e3==D2)return!t3.size;if(Pa(t3))return!Mr2(t3).length;for(var n3 in t3)if(At3.call(t3,n3))return!1;return!0},Bn2.isEqual=function(t3,e3){return kr(t3,e3)},Bn2.isEqualWith=function(e3,n3,r3){var i3=(r3=typeof r3=="function"?r3:t2)?r3(e3,n3):t2;return i3===t2?kr(e3,n3,t2,r3):!!i3},Bn2.isError=Zo2,Bn2.isFinite=function(t3){return typeof t3=="number"&&Re22(t3)},Bn2.isFunction=Yo2,Bn2.isInteger=Qo2,Bn2.isLength=tu2,Bn2.isMap=ru2,Bn2.isMatch=function(t3,e3){return t3===e3||zr2(t3,e3,fa(e3))},Bn2.isMatchWith=function(e3,n3,r3){return r3=typeof r3=="function"?r3:t2,zr2(e3,n3,fa(n3),r3)},Bn2.isNaN=function(t3){return iu2(t3)&&t3!=+t3},Bn2.isNative=function(t3){if(Ia2(t3))throw new Pt3("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ur2(t3)},Bn2.isNil=function(t3){return t3==null},Bn2.isNull=function(t3){return t3===null},Bn2.isNumber=iu2,Bn2.isObject=eu2,Bn2.isObjectLike=nu2,Bn2.isPlainObject=au2,Bn2.isRegExp=ou2,Bn2.isSafeInteger=function(t3){return Qo2(t3)&&t3>=-9007199254740991&&t3<=l2},Bn2.isSet=uu2,Bn2.isString=su2,Bn2.isSymbol=cu2,Bn2.isTypedArray=lu2,Bn2.isUndefined=function(e3){return e3===t2},Bn2.isWeakMap=function(t3){return nu2(t3)&&ga2(t3)==C2},Bn2.isWeakSet=function(t3){return nu2(t3)&&Dr2(t3)=="[object WeakSet]"},Bn2.join=function(t3,e3){return t3==null?"":Ke2.call(t3,e3)},Bn2.kebabCase=Hu2,Bn2.last=Xa,Bn2.lastIndexOf=function(e3,n3,r3){var i3=e3==null?0:e3.length;if(!i3)return-1;var a3=i3;return r3!==t2&&(a3=(a3=gu2(r3))<0?_n2(i3+a3,0):wn2(a3,i3-1)),n3==n3?function(t3,e4,n4){for(var r4=n4+1;r4--;)if(t3[r4]===e4)return r4;return r4}(e3,n3,a3):Be(e3,qe,a3,!0)},Bn2.lowerCase=$u2,Bn2.lowerFirst=Ku2,Bn2.lt=fu2,Bn2.lte=pu2,Bn2.max=function(e3){return e3&&e3.length?vr2(e3,is2,jr2):t2},Bn2.maxBy=function(e3,n3){return e3&&e3.length?vr2(e3,ca2(n3,2),jr2):t2},Bn2.mean=function(t3){return He2(t3,is2)},Bn2.meanBy=function(t3,e3){return He2(t3,ca2(e3,2))},Bn2.min=function(e3){return e3&&e3.length?vr2(e3,is2,Rr2):t2},Bn2.minBy=function(e3,n3){return e3&&e3.length?vr2(e3,ca2(n3,2),Rr2):t2},Bn2.stubArray=vs2,Bn2.stubFalse=ys2,Bn2.stubObject=function(){return{}},Bn2.stubString=function(){return""},Bn2.stubTrue=function(){return!0},Bn2.multiply=Is2,Bn2.nth=function(e3,n3){return e3&&e3.length?qr2(e3,gu2(n3)):t2},Bn2.noConflict=function(){return he2._===this&&(he2._=Bt3),this},Bn2.noop=cs2,Bn2.now=jo2,Bn2.pad=function(t3,e3,n3){t3=_u2(t3);var r3=(e3=gu2(e3))?dn2(t3):0;if(!e3||r3>=e3)return t3;var i3=(e3-r3)/2;return Hi(ve3(i3),n3)+t3+Hi(ge3(i3),n3)},Bn2.padEnd=function(t3,e3,n3){t3=_u2(t3);var r3=(e3=gu2(e3))?dn2(t3):0;return e3&&r3<e3?t3+Hi(e3-r3,n3):t3},Bn2.padStart=function(t3,e3,n3){t3=_u2(t3);var r3=(e3=gu2(e3))?dn2(t3):0;return e3&&r3<e3?Hi(e3-r3,n3)+t3:t3},Bn2.parseInt=function(t3,e3,n3){return n3||e3==null?e3=0:e3&&(e3=+e3),Sn2(_u2(t3).replace(nt2,""),e3||0)},Bn2.random=function(e3,n3,r3){if(r3&&typeof r3!="boolean"&&wa2(e3,n3,r3)&&(n3=r3=t2),r3===t2&&(typeof n3=="boolean"?(r3=n3,n3=t2):typeof e3=="boolean"&&(r3=e3,e3=t2)),e3===t2&&n3===t2?(e3=0,n3=1):(e3=hu2(e3),n3===t2?(n3=e3,e3=0):n3=hu2(n3)),e3>n3){var i3=e3;e3=n3,n3=i3}if(r3||e3%1||n3%1){var a3=In2();return wn2(e3+a3*(n3-e3+le2("1e-"+((a3+"").length-1))),n3)}return Jr2(e3,n3)},Bn2.reduce=function(t3,e3,n3){var r3=Ho2(t3)?Ae:Ge,i3=arguments.length<3;return r3(t3,ca2(e3,4),n3,i3,dr2)},Bn2.reduceRight=function(t3,e3,n3){var r3=Ho2(t3)?Me:Ge,i3=arguments.length<3;return r3(t3,ca2(e3,4),n3,i3,hr2)},Bn2.repeat=function(e3,n3,r3){return n3=(r3?wa2(e3,n3,r3):n3===t2)?1:gu2(n3),Xr2(_u2(e3),n3)},Bn2.replace=function(){var t3=arguments,e3=_u2(t3[0]);return t3.length<3?e3:e3.replace(t3[1],t3[2])},Bn2.result=function(e3,n3,r3){var i3=-1,a3=(n3=wi(n3,e3)).length;for(a3||(a3=1,e3=t2);++i3<a3;){var o3=e3==null?t2:e3[Ma(n3[i3])];o3===t2&&(i3=a3,o3=r3),e3=Yo2(o3)?o3.call(e3):o3}return e3},Bn2.round=Ps2,Bn2.runInContext=rt3,Bn2.sample=function(t3){return(Ho2(t3)?Yn:Yr2)(t3)},Bn2.size=function(t3){if(t3==null)return 0;if(Ko2(t3))return su2(t3)?dn2(t3):t3.length;var e3=ga2(t3);return e3==b2||e3==D2?t3.size:Mr2(t3).length},Bn2.snakeCase=Gu2,Bn2.some=function(e3,n3,r3){var i3=Ho2(e3)?Ve:ai;return r3&&wa2(e3,n3,r3)&&(n3=t2),i3(e3,ca2(n3,3))},Bn2.sortedIndex=function(t3,e3){return oi(t3,e3)},Bn2.sortedIndexBy=function(t3,e3,n3){return ui(t3,e3,ca2(n3,2))},Bn2.sortedIndexOf=function(t3,e3){var n3=t3==null?0:t3.length;if(n3){var r3=oi(t3,e3);if(r3<n3&&Bo2(t3[r3],e3))return r3}return-1},Bn2.sortedLastIndex=function(t3,e3){return oi(t3,e3,!0)},Bn2.sortedLastIndexBy=function(t3,e3,n3){return ui(t3,e3,ca2(n3,2),!0)},Bn2.sortedLastIndexOf=function(t3,e3){if(t3!=null&&t3.length){var n3=oi(t3,e3,!0)-1;if(Bo2(t3[n3],e3))return n3}return-1},Bn2.startCase=Ju2,Bn2.startsWith=function(t3,e3,n3){return t3=_u2(t3),n3=n3==null?0:sr2(gu2(n3),0,t3.length),e3=li(e3),t3.slice(n3,n3+e3.length)==e3},Bn2.subtract=xs2,Bn2.sum=function(t3){return t3&&t3.length?Je(t3,is2):0},Bn2.sumBy=function(t3,e3){return t3&&t3.length?Je(t3,ca2(e3,2)):0},Bn2.template=function(e3,n3,r3){var i3=Bn2.templateSettings;r3&&wa2(e3,n3,r3)&&(n3=t2),e3=_u2(e3),n3=Su2({},n3,i3,Qi);var a3,o3,u3=Su2({},n3.imports,i3.imports,Qi),s3=Ou2(u3),c3=Qe2(u3,s3),l3=0,f3=n3.interpolate||mt2,p3="__p += '",d3=Et3((n3.escape||mt2).source+"|"+f3.source+"|"+(f3===X2?lt2:mt2).source+"|"+(n3.evaluate||mt2).source+"|$","g"),h3="//# sourceURL="+(At3.call(n3,"sourceURL")?(n3.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ie2+"]")+`
`;e3.replace(d3,function(t3,n4,r4,i4,u4,s4){return r4||(r4=i4),p3+=e3.slice(l3,s4).replace(_t2,on),n4&&(a3=!0,p3+=`' +
__e(`+n4+`) +
'`),u4&&(o3=!0,p3+=`';
`+u4+`;
__p += '`),r4&&(p3+=`' +
((__t = (`+r4+`)) == null ? '' : __t) +
'`),l3=s4+t3.length,t3}),p3+=`';
`;var g3=At3.call(n3,"variable")&&n3.variable;if(g3){if(st2.test(g3))throw new Pt3("Invalid `variable` option passed into `_.template`")}else p3=`with (obj) {
`+p3+`
}
`;p3=(o3?p3.replace(B2,""):p3).replace(L2,"$1").replace(W2,"$1;"),p3="function("+(g3||"obj")+`) {
`+(g3?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a3?", __e = _.escape":"")+(o3?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+p3+`return __p
}`;var v3=Qu2(function(){return xt3(s3,h3+"return "+p3).apply(t2,c3)});if(v3.source=p3,Zo2(v3))throw v3;return v3},Bn2.times=function(t3,e3){if((t3=gu2(t3))<1||t3>l2)return[];var n3=p2,r3=wn2(t3,p2);e3=ca2(e3),t3-=p2;for(var i3=Xe2(r3,e3);++n3<t3;)e3(n3);return i3},Bn2.toFinite=hu2,Bn2.toInteger=gu2,Bn2.toLength=vu2,Bn2.toLower=function(t3){return _u2(t3).toLowerCase()},Bn2.toNumber=yu2,Bn2.toSafeInteger=function(t3){return t3?sr2(gu2(t3),-9007199254740991,l2):t3===0?t3:0},Bn2.toString=_u2,Bn2.toUpper=function(t3){return _u2(t3).toUpperCase()},Bn2.trim=function(e3,n3,r3){if((e3=_u2(e3))&&(r3||n3===t2))return Ze(e3);if(!e3||!(n3=li(n3)))return e3;var i3=hn2(e3),a3=hn2(n3);return Si(i3,en(i3,a3),nn(i3,a3)+1).join("")},Bn2.trimEnd=function(e3,n3,r3){if((e3=_u2(e3))&&(r3||n3===t2))return e3.slice(0,gn2(e3)+1);if(!e3||!(n3=li(n3)))return e3;var i3=hn2(e3);return Si(i3,0,nn(i3,hn2(n3))+1).join("")},Bn2.trimStart=function(e3,n3,r3){if((e3=_u2(e3))&&(r3||n3===t2))return e3.replace(nt2,"");if(!e3||!(n3=li(n3)))return e3;var i3=hn2(e3);return Si(i3,en(i3,hn2(n3))).join("")},Bn2.truncate=function(e3,n3){var r3=30,i3="...";if(eu2(n3)){var a3="separator"in n3?n3.separator:a3;r3="length"in n3?gu2(n3.length):r3,i3="omission"in n3?li(n3.omission):i3}var o3=(e3=_u2(e3)).length;if(un2(e3)){var u3=hn2(e3);o3=u3.length}if(r3>=o3)return e3;var s3=r3-dn2(i3);if(s3<1)return i3;var c3=u3?Si(u3,0,s3).join(""):e3.slice(0,s3);if(a3===t2)return c3+i3;if(u3&&(s3+=c3.length-s3),ou2(a3)){if(e3.slice(s3).search(a3)){var l3,f3=c3;for(a3.global||(a3=Et3(a3.source,_u2(ft2.exec(a3))+"g")),a3.lastIndex=0;l3=a3.exec(f3);)var p3=l3.index;c3=c3.slice(0,p3===t2?s3:p3)}}else if(e3.indexOf(li(a3),s3)!=s3){var d3=c3.lastIndexOf(a3);d3>-1&&(c3=c3.slice(0,d3))}return c3+i3},Bn2.unescape=function(t3){return(t3=_u2(t3))&&$2.test(t3)?t3.replace(q2,vn2):t3},Bn2.uniqueId=function(t3){var e3=++Mt3;return _u2(t3)+e3},Bn2.upperCase=Xu2,Bn2.upperFirst=Zu2,Bn2.each=_o2,Bn2.eachRight=wo2,Bn2.first=$a2,ss(Bn2,(ms2={},br2(Bn2,function(t3,e3){At3.call(Bn2.prototype,e3)||(ms2[e3]=t3)}),ms2),{chain:!1}),Bn2.VERSION="4.17.21",Ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t3){Bn2[t3].placeholder=Bn2}),Ee(["drop","take"],function(e3,n3){Hn2.prototype[e3]=function(r3){r3=r3===t2?1:_n2(gu2(r3),0);var i3=this.__filtered__&&!n3?new Hn2(this):this.clone();return i3.__filtered__?i3.__takeCount__=wn2(r3,i3.__takeCount__):i3.__views__.push({size:wn2(r3,p2),type:e3+(i3.__dir__<0?"Right":"")}),i3},Hn2.prototype[e3+"Right"]=function(t3){return this.reverse()[e3](t3).reverse()}}),Ee(["filter","map","takeWhile"],function(t3,e3){var n3=e3+1,r3=n3==1||n3==3;Hn2.prototype[t3]=function(t4){var e4=this.clone();return e4.__iteratees__.push({iteratee:ca2(t4,3),type:n3}),e4.__filtered__=e4.__filtered__||r3,e4}}),Ee(["head","last"],function(t3,e3){var n3="take"+(e3?"Right":"");Hn2.prototype[t3]=function(){return this[n3](1).value()[0]}}),Ee(["initial","tail"],function(t3,e3){var n3="drop"+(e3?"":"Right");Hn2.prototype[t3]=function(){return this.__filtered__?new Hn2(this):this[n3](1)}}),Hn2.prototype.compact=function(){return this.filter(is2)},Hn2.prototype.find=function(t3){return this.filter(t3).head()},Hn2.prototype.findLast=function(t3){return this.reverse().find(t3)},Hn2.prototype.invokeMap=Zr2(function(t3,e3){return typeof t3=="function"?new Hn2(this):this.map(function(n3){return Tr2(n3,t3,e3)})}),Hn2.prototype.reject=function(t3){return this.filter(Ao2(ca2(t3)))},Hn2.prototype.slice=function(e3,n3){e3=gu2(e3);var r3=this;return r3.__filtered__&&(e3>0||n3<0)?new Hn2(r3):(e3<0?r3=r3.takeRight(-e3):e3&&(r3=r3.drop(e3)),n3!==t2&&(r3=(n3=gu2(n3))<0?r3.dropRight(-n3):r3.take(n3-e3)),r3)},Hn2.prototype.takeRightWhile=function(t3){return this.reverse().takeWhile(t3).reverse()},Hn2.prototype.toArray=function(){return this.take(p2)},br2(Hn2.prototype,function(e3,n3){var r3=/^(?:filter|find|map|reject)|While$/.test(n3),i3=/^(?:head|last)$/.test(n3),a3=Bn2[i3?"take"+(n3=="last"?"Right":""):n3],o3=i3||/^find/.test(n3);a3&&(Bn2.prototype[n3]=function(){var n4=this.__wrapped__,u3=i3?[1]:arguments,s3=n4 instanceof Hn2,c3=u3[0],l3=s3||Ho2(n4),f3=__name(function(t3){var e4=a3.apply(Bn2,Ue([t3],u3));return i3&&p3?e4[0]:e4},"f3");l3&&r3&&typeof c3=="function"&&c3.length!=1&&(s3=l3=!1);var p3=this.__chain__,d3=!!this.__actions__.length,h3=o3&&!p3,g3=s3&&!d3;if(!o3&&l3){n4=g3?n4:new Hn2(this);var v3=e3.apply(n4,u3);return v3.__actions__.push({func:ho2,args:[f3],thisArg:t2}),new qn2(v3,p3)}return h3&&g3?e3.apply(this,u3):(v3=this.thru(f3),h3?i3?v3.value()[0]:v3.value():v3)})}),Ee(["pop","push","shift","sort","splice","unshift"],function(t3){var e3=Tt3[t3],n3=/^(?:push|sort|unshift)$/.test(t3)?"tap":"thru",r3=/^(?:pop|shift)$/.test(t3);Bn2.prototype[t3]=function(){var t4=arguments;if(r3&&!this.__chain__){var i3=this.value();return e3.apply(Ho2(i3)?i3:[],t4)}return this[n3](function(n4){return e3.apply(Ho2(n4)?n4:[],t4)})}}),br2(Hn2.prototype,function(t3,e3){var n3=Bn2[e3];if(n3){var r3=n3.name+"";At3.call(On2,r3)||(On2[r3]=[]),On2[r3].push({name:e3,func:n3})}}),On2[Bi(t2,2).name]=[{name:"wrapper",func:t2}],Hn2.prototype.clone=function(){var t3=new Hn2(this.__wrapped__);return t3.__actions__=Ni(this.__actions__),t3.__dir__=this.__dir__,t3.__filtered__=this.__filtered__,t3.__iteratees__=Ni(this.__iteratees__),t3.__takeCount__=this.__takeCount__,t3.__views__=Ni(this.__views__),t3},Hn2.prototype.reverse=function(){if(this.__filtered__){var t3=new Hn2(this);t3.__dir__=-1,t3.__filtered__=!0}else(t3=this.clone()).__dir__*=-1;return t3},Hn2.prototype.value=function(){var t3=this.__wrapped__.value(),e3=this.__dir__,n3=Ho2(t3),r3=e3<0,i3=n3?t3.length:0,a3=function(t4,e4,n4){for(var r4=-1,i4=n4.length;++r4<i4;){var a4=n4[r4],o4=a4.size;switch(a4.type){case"drop":t4+=o4;break;case"dropRight":e4-=o4;break;case"take":e4=wn2(e4,t4+o4);break;case"takeRight":t4=_n2(t4,e4-o4)}}return{start:t4,end:e4}}(0,i3,this.__views__),o3=a3.start,u3=a3.end,s3=u3-o3,c3=r3?u3:o3-1,l3=this.__iteratees__,f3=l3.length,p3=0,d3=wn2(s3,this.__takeCount__);if(!n3||!r3&&i3==s3&&d3==s3)return gi(t3,this.__actions__);var h3=[];t:for(;s3--&&p3<d3;){for(var g3=-1,v3=t3[c3+=e3];++g3<f3;){var y3=l3[g3],m3=y3.iteratee,_3=y3.type,w3=m3(v3);if(_3==2)v3=w3;else if(!w3){if(_3==1)continue t;break t}}h3[p3++]=v3}return h3},Bn2.prototype.at=go,Bn2.prototype.chain=function(){return po2(this)},Bn2.prototype.commit=function(){return new qn2(this.value(),this.__chain__)},Bn2.prototype.next=function(){this.__values__===t2&&(this.__values__=du2(this.value()));var e3=this.__index__>=this.__values__.length;return{done:e3,value:e3?t2:this.__values__[this.__index__++]}},Bn2.prototype.plant=function(e3){for(var n3,r3=this;r3 instanceof Wn2;){var i3=Ra(r3);i3.__index__=0,i3.__values__=t2,n3?a3.__wrapped__=i3:n3=i3;var a3=i3;r3=r3.__wrapped__}return a3.__wrapped__=e3,n3},Bn2.prototype.reverse=function(){var e3=this.__wrapped__;if(e3 instanceof Hn2){var n3=e3;return this.__actions__.length&&(n3=new Hn2(this)),(n3=n3.reverse()).__actions__.push({func:ho2,args:[to2],thisArg:t2}),new qn2(n3,this.__chain__)}return this.thru(to2)},Bn2.prototype.toJSON=Bn2.prototype.valueOf=Bn2.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Bn2.prototype.first=Bn2.prototype.head,re2&&(Bn2.prototype[re2]=function(){return this}),Bn2},"rt3")();ve2?((ve2.exports=yn2)._=yn2,ge2._=yn2):he2._=yn2}).call(ie.exports)),ie.exports);function se(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}__name(se,"se");(function(){function t2(t3,e2){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=e2,this.rootNode=t3(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}return __name(t2,"t2"),Object.defineProperty(t2.prototype,"windows",{get:__name(function(){var t3=__name(function(e2){return a([e2],i(e2.children.flatMap(t3)),!1)},"t3");return ue.orderBy(t3(this.rootNode),function(t4){return t4.getLayer()},"asc")},"get"),enumerable:!1,configurable:!0}),t2.prototype.logWindows=function(){var t3=__name(function(e2){var n2=e2._boxSnapshot,r2=[];if(r2.push("KEY: ".concat(e2.key)),e2._isPrimaryCamera&&r2.push("[[PRIMARY CAMERA]]"),r2.push("LAYER: ".concat(e2.getLayer())),r2.push("BOX: [".concat(e2.o[0],", ").concat(e2.o[1],", ").concat(e2.w,", ").concat(e2.h,"]")),r2.push("GLOBAL O: [".concat(e2.globalO[0],", ").concat(e2.globalO[1],"]")),r2.push("CHILDREN:"),e2.children.length>0){for(var i2=e2.children,a2=[],o2=0;o2<i2.length;o2++){var u2=i2[o2];a2.push(t3(u2))}for(r2.push(" |"),o2=0;o2<a2.length;o2++){for(var s2=a2[o2],c2=o2===a2.length-1?" └─":" ├─",l2=0;l2<s2.length;l2++){var f2=l2===0?c2:o2===a2.length-1?"   ":" | ",p2=s2[l2];r2.push("".concat(f2,"  ").concat(p2))}o2<a2.length-1&&r2.push(" |")}}else r2.push("  |"),r2.push("  └─ (no children)");return e2._boxSnapshot=n2,r2},"t3");console.log(t3(this.rootNode).join(`
`))},t2.prototype.onUpdate=function(t3){this.onUpdateFunction=t3},Object.defineProperty(t2.prototype,"cameraSnapshot",{get:__name(function(){return this.cameraNode?new Kt$1(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Kt$1([0,0],this.canvas.width,this.canvas.height)},"get"),enumerable:!1,configurable:!0}),t2.prototype.scheduleStateUpdate=function(t3,e2){var n2=this.scheduleUpdate(t3);this.scheduledStateUpdates.push([n2,function(){t3.state=e2}])},t2.prototype.scheduleContextUpdate=function(t3,e2,n2){var r2=this.scheduleUpdate(t3);this.scheduledStateUpdates.push([r2,function(){t3.context[e2]=n2}])},t2.prototype.setSingleUpdateFlag=function(t3,e2){this.scheduledUpdateNodeMap[e2]||(this.scheduledUpdateNodeMap[e2]={}),this.scheduledUpdateNodeMap[e2][t3.globalKey]=!0},t2.prototype.scheduleUpdate=function(t3){var e2=this,n2=__name(function(){e2.DEBUG&&console.log("Scheduling update for ".concat(t3.globalKey,". Received id ").concat(e2.currentUpdateId))},"n2");if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var r2=se();return this.scheduledUpdateIds.push(r2),this.currentUpdateId=r2,Promise.resolve().then(function(){for(e2.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(e2.scheduledUpdateIds,null,2),`.
                    `)),e2.updateRunning=!0;e2.scheduledUpdateIds.length>0;)e2.updateScheduled=!1,e2.updateCurrentId();e2.updateRunning=!1}),this.setSingleUpdateFlag(t3,this.currentUpdateId),n2(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t3,this.currentUpdateId),n2(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,r2=se(),this.scheduledUpdateIds.push(r2),this.currentUpdateId=r2,this.setSingleUpdateFlag(t3,this.currentUpdateId),n2(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t3,this.currentUpdateId),n2(),this.currentUpdateId;throw new Error("Invalid state")},t2.prototype.onAnimationFrame=function(){try{this.render()}catch(t3){console.error(t3)}},t2.prototype.propogateUpdateFlags=function(t3){var e2=this,n2=__name(function(t4,r2,i2){e2.scheduledUpdateNodeMap[r2]||(e2.scheduledUpdateNodeMap[r2]={}),e2.scheduledUpdateNodeMap[r2][t4.globalKey]&&(i2=!0),e2.scheduledUpdateNodeMap[r2][t4.globalKey]=i2,t4.children.forEach(function(t5){return n2(t5,r2,i2)})},"n2");n2(this.rootNode,t3,!1)},t2.prototype.updateCurrentId=function(){var t3=this,e2=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[e2]).forEach(function(n3){t3.propogateUpdateFlags(e2)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(t4){return i(t4,1)[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(t4){return t4!==e2}),this.scheduledStateUpdates.filter(function(t4){return i(t4,1)[0]===e2}).forEach(function(t4){var e3=i(t4,2);return e3[0],(0,e3[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(t4){return i(t4,1)[0]!==e2});var n2=this.scheduledUpdateNodeMap[e2];this.update(n2),delete this.scheduledUpdateNodeMap[e2]},t2.prototype.taintLayer=function(t3){this.taintedLayers.includes(t3)||this.taintedLayers.push(t3)},t2.prototype.findCameraPathRecursive=function(t3,e2){var r2,i2;if(t3._isPrimaryCamera){var a2=t3.globalKey;return c2=n(n({},e2),((r2={})[a2]=!0,r2))}for(var o2=t3.children,u2=0;u2<o2.length;u2++){var s2=o2[u2],c2=(a2=s2.globalKey,n(n({},e2),((i2={})[a2]=!0,i2))),l2=this.findCameraPathRecursive(s2,c2);if(l2)return l2}},t2.prototype.AND_updateMaps=function(t3,e2){var n2={};for(var r2 in t3)e2[r2]&&(n2[r2]=!0);return n2},t2.prototype.XOR_updateMaps=function(t3,e2){var n2={};for(var r2 in t3)e2[r2]||(n2[r2]=!0);for(var r2 in e2)t3[r2]||(n2[r2]=!0);return n2},t2.prototype.factorizeUpdateMap=function(t3,e2){var n2=this.AND_updateMaps(t3,e2);return[n2,this.XOR_updateMaps(t3,n2)]},t2.prototype.setNeedsUpdateToMap=function(t3){var e2=__name(function(n2){var r2=n2.globalKey;t3[r2]?n2._needsUpdate=!0:n2._needsUpdate=!1,n2.children.forEach(function(t4){return e2(t4)})},"e2");e2(this.rootNode)},t2.prototype.setNeedsUpdateToMapAdd=function(t3){var e2=__name(function(n2){var r2=n2.globalKey;t3[r2]&&(n2._needsUpdate=!0),n2.children.forEach(function(t4){return e2(t4)})},"e2");e2(this.rootNode)},t2.prototype.installCamera=function(t3){this.cameraNode!==t3&&(this.scheduledCameraNode=t3,this.scheduleUpdate(this.rootNode))},t2.prototype.update=function(t3){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var e2=this.findCameraPathRecursive(this.rootNode,{});if(!e2)throw new Error("No camera found in the tree");var n2=i(this.factorizeUpdateMap(t3,e2),2),r2=n2[0],a2=n2[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(t3),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(r2),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(a2),null,2),`
            `));var o2=__name(function(t4,e3){t4._needsUpdate?e3?t4.cameraPassUpdateSelf():t4.regularPassUpdateSelf():t4.children.forEach(function(t5){return o2(t5,e3)})},"o2");this.setNeedsUpdateToMap(r2),o2(this.rootNode,!0),this.setNeedsUpdateToMapAdd(a2),o2(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},t2.prototype.render=function(){var t3=this.canvas.getContext("2d");if(!t3)throw new Error("Could not get 2d context from canvas");t3.clearRect(0,0,this.canvas.width,this.canvas.height),Xt$1(this.cameraSnapshot,this.windows,this.canvas,t3,this.taintedLayers),this.taintedLayers=[]},t2.prototype.mouseDownHandler=function(t3,e2){Yt$1(this.cameraSnapshot,this.windows,this.canvas,t3,e2)},t2.prototype.mouseMoveHandler=function(t3,e2){Qt(this.cameraSnapshot,this.windows,this.canvas,t3,e2)},t2.prototype.mouseUpHandler=function(t3,e2){te(this.cameraSnapshot,this.windows,this.canvas,t3,e2)},t2.prototype.mouseWheelHandler=function(t3){ee(this.cameraSnapshot,this.windows,this.canvas,t3)},t2.prototype.clickHandler=function(t3,e2){Zt$1(this.cameraSnapshot,this.windows,this.canvas,t3,e2)},t2})();function fe$1(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}__name(fe$1,"fe$1");var pe$1={type:"saveAsNamedState",namedState:"commit"},de$1={type:"goToNamedState",namedState:"commit"};function he(t2,e2,n2,r2,i2,a2,o2){return a2&&!o2&&(t2.timelineData.numberOfFrames,o2=[-5,0,5,0]),{type:"addPin",signalId:e2,pinId:n2,pinTime:r2,pinValue:i2,functionString:a2,bezierControlPoints:o2}}__name(he,"he");function ge(t2,e2){var n2=t2(),r2=Object.keys(n2.signalData).find(function(t3){var r3;return(r3=n2.signalData[t3])===null||r3===void 0?void 0:r3.pinIds.includes(e2)});if(!r2)throw new Error("Pin not found");var i2=n2.signalData[r2].type,a2=i2==="continuous"&&"bezier"in n2.signalData[r2],o2=n2.signalData[r2].pinTimes[e2],u2=n2.signalData[r2].pinValues[e2],s2=i2==="continuous"?n2.signalData[r2].curves[e2]:void 0,c2=a2?n2.signalData[r2].bezierControlPoints[e2]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:e2}],backward:[he(n2,r2,e2,o2,u2,s2,c2)]}}__name(ge,"ge");var ve=ut$1,ye=function(){function t2(t3){this.outgoingCommands=[],this.worm=s.deserialize(t3.worm,ve),this.stateId=t3.stateId,this.aStateId=t3.stateId,this.bStateId=crypto.randomUUID(),this.outgoingCommands=t3.outgoingCommands}return __name(t2,"t2"),t2.prototype.serialize=function(){return{worm:this.worm.serialize(),stateId:this.stateId,outgoingCommands:this.outgoingCommands}},t2.prototype.pushOutgoingCommands=function(){for(var t3,e2=[],n2=0;n2<arguments.length;n2++)e2[n2]=arguments[n2];(t3=this.outgoingCommands).push.apply(t3,a([],i(e2),!1))},t2.prototype.transferOutgoingEvent=function(){var t3={commands:this.outgoingCommands,aStateId:this.aStateId,bStateId:this.bStateId};return this.aStateId=this.bStateId,this.bStateId=crypto.randomUUID(),this.outgoingCommands=[],t3},t2.prototype.receiveIncomingEvent=function(t3){if(t3.aStateId!==this.stateId)throw new Error("Trying to apply commands to a worm that is not in sync");this.worm.executeCommands(t3.commands),this.aStateId=t3.bStateId,this.bStateId=crypto.randomUUID(),this.stateId=t3.bStateId},t2}(),me=function(){function t2(t3){var e2=this;this.lastFrame=0,this.onTimelineUpdateCallbacks=[],this.onPushUpdateCallbacks=[],this.dworm=new ye(t3),this.project=this.processProject(this.dworm.worm.content),window&&"requestAnimationFrame"in window&&this.playingLoop(),this.onTimelineUpdate(function(){var t4=e2.processProject(e2.dworm.worm.content);e2.project=t4})}return __name(t2,"t2"),t2.prototype.playingLoop=function(){var t3=this;if(this.project.timelineData.playing){var e2=this.processProject(this.dworm.worm.content).timelineData.playheadPosition;e2!==this.lastFrame&&(this.lastFrame=e2,this.onTimelineUpdateCallbacks.forEach(function(t4){return t4()}))}window.requestAnimationFrame(function(){return t3.playingLoop()})},t2.prototype.processProject=function(t3){var e2=t3.timelineData.playing,r2=t3.timelineData.playingTimestamp;if(e2){var a2=Math.floor((Date.now()-r2)/(1e3/t3.timelineData.framesPerSecond)),o2=t3.timelineData.playheadPosition,u2=i(t3.timelineData.focusRange,2),s2=u2[0],c2=u2[1];(o2<s2||o2>c2)&&(o2=s2);var l2=o2+a2;l2-=s2,l2%=c2-s2,l2+=s2,t3=n(n({},t3),{timelineData:n(n({},t3.timelineData),{playheadPosition:l2})})}return t3},t2.fromProject=function(e2){var n2="initialState";return new t2({worm:new s(e2,ve).serialize(),stateId:n2,lastAgreedStateId:n2,outgoingCommands:[]})},t2.fromSerializedWorm=function(e2){return new t2(e2)},t2.prototype.serialize=function(){return this.dworm.serialize()},t2.prototype.receiveIncomingEvent=function(t3){this.dworm.receiveIncomingEvent(t3),this.onTimelineUpdateCallbacks.forEach(function(t4){return t4()})},t2.prototype.onTimelineUpdate=function(t3){var e2=this;return this.onTimelineUpdateCallbacks.push(t3),function(){e2.onTimelineUpdateCallbacks=e2.onTimelineUpdateCallbacks.filter(function(e3){return e3!==t3})}},t2.prototype.transferOutgoingEvent=function(){return this.dworm.transferOutgoingEvent()},t2.prototype.getWorm=function(){return this.dworm.worm},t2.prototype.pushCommand=function(t3){try{var e2=t3();this.dworm.pushOutgoingCommands(e2)}catch(t4){console.error(t4)}},t2.prototype.pushCommands=function(t3){var e2;try{var n2=t3();(e2=this.dworm).pushOutgoingCommands.apply(e2,a([],i(n2),!1))}catch(t4){console.error(t4)}},t2.prototype.onPushUpdate=function(t3){var e2=this;return this.onPushUpdateCallbacks.push(t3),function(){e2.onPushUpdateCallbacks=e2.onPushUpdateCallbacks.filter(function(e3){return e3!==t3})}},t2.prototype.pushUpdate=function(){this.onPushUpdateCallbacks.forEach(function(t3){return t3()}),this.onTimelineUpdateCallbacks.forEach(function(t3){return t3()})},Object.defineProperty(t2.prototype,"projectTools",{get:__name(function(){var t3=this.pushUpdate.bind(this),e2=this.getProject.bind(this),n2=this.pushCommand.bind(this);return this.pushCommands.bind(this),function(t4,e3,n3,r2){function a2(){e3(function(){return de$1})}__name(a2,"a2");function o2(){e3(function(){return pe$1})}return __name(o2,"o2"),{returnToLastCommit:__name(function(){a2()},"returnToLastCommit"),pushUpdate:t4,addPinContinuous:__name(function(n4,i2,u2,s2,c2,l2){l2&&a2(),e3(function(){var t5=r2(),e4=t5.signalData[n4],a3=e4.pinTimes,o3=e4.pinIds.findIndex(function(t6){return a3[t6]===u2}),l3=[];o3!==-1&&l3.push({type:"deletePin",pinId:e4.pinIds[o3]}),l3.push(he(t5,n4,i2,u2,s2,c2));var f2=[];if(f2.push({type:"deletePin",pinId:i2}),o3!==-1){var p2=e4.pinIds[o3];f2.push(he(t5,n4,p2,e4.pinTimes[p2],e4.pinValues[p2],e4.curves[p2]))}return{type:"addNextState",forward:l3,backward:f2}}),l2&&(o2(),t4())},"addPinContinuous"),addPinDiscrete:__name(function(n4,i2,u2,s2,c2){c2&&a2(),e3(function(){var t5=r2(),e4=t5.signalData[n4],a3=e4.pinTimes,o3=e4.pinIds.findIndex(function(t6){return a3[t6]===u2}),c3=[];o3!==-1&&c3.push({type:"deletePin",pinId:e4.pinIds[o3]}),c3.push(he(t5,n4,i2,u2,s2));var l2=[];if(l2.push({type:"deletePin",pinId:i2}),o3!==-1){var f2=e4.pinIds[o3];l2.push(he(t5,n4,f2,e4.pinTimes[f2],e4.pinValues[f2]))}return{type:"addNextState",forward:c3,backward:l2}}),c2&&(o2(),t4())},"addPinDiscrete"),deletePin:__name(function(n4){a2(),e3(function(){return ge(r2,n4)}),o2(),t4()},"deletePin"),deletePins:__name(function(n4){a2(),n4.forEach(function(t5){e3(function(){return ge(r2,t5)})}),o2(),t4()},"deletePins"),updatePins:__name(function(n4,i2){i2&&a2();var u2=r2(),s2={type:"updatePins",pins:[]},c2={type:"updatePins",pins:[]};n4.forEach(function(t5){var e4=t5.pinId,n5=u2.orgData.signalIdByPinId[e4],r3=t5.pinTime,i3=t5.pinValue,a3=t5.pinType==="continuous"?t5.functionString:void 0,o3=u2.signalData[n5].pinTimes[e4],l2=u2.signalData[n5].pinValues[e4],f2=t5.pinType==="continuous"?u2.signalData[n5].curves[e4]:void 0,p2={pinId:e4,pinTime:r3??o3,pinValue:i3??l2,functionString:a3??f2},d2={pinId:e4,pinTime:o3,pinValue:l2,functionString:f2};s2.pins.push(p2),c2.pins.push(d2)}),e3(function(){return{type:"addNextState",forward:[s2],backward:[c2]}}),i2&&o2(),t4()},"updatePins"),updateCurve:__name(function(n4,i2){a2(),e3(function(){var t5=r2(),e4=Object.keys(t5.signalData).find(function(e5){var r3;return(r3=t5.signalData[e5])===null||r3===void 0?void 0:r3.pinIds.includes(n4)});if(!e4)throw new Error("Pin not found");if(t5.signalData[e4].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:n4,functionString:i2}],backward:[{type:"updateCurve",pinId:n4,functionString:t5.signalData[e4].curves[n4]}]}}),o2(),t4()},"updateCurve"),updatePinBezierControlPoints:__name(function(n4,i2,u2){u2&&a2(),e3(function(){var t5=r2(),e4=Object.keys(t5.signalData).find(function(e5){var r3;return(r3=t5.signalData[e5])===null||r3===void 0?void 0:r3.pinIds.includes(n4)});if(!e4)throw new Error("Pin not found");if(t5.signalData[e4].type==="discrete")throw new Error("Cannot update bezier control points of discrete signal");if(!("bezier"in t5.signalData[e4]))throw new Error("Signal is not a bezier signal");return{type:"addNextState",forward:[{type:"updatePinBezierControlPoints",pinId:n4,bezierControlPoints:i2}],backward:[{type:"updatePinBezierControlPoints",pinId:n4,bezierControlPoints:t5.signalData[e4].bezierControlPoints[n4]}]}}),u2&&o2(),t4()},"updatePinBezierControlPoints"),createDiscreteSignal:__name(function(n4,r3,i2,u2){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"discrete",signalName:r3,defaultValue:i2,isStatic:u2,displayValues:!0}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createDiscreteSignal"),createDiscreteBeatSignal:__name(function(n4,r3){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"discrete",signalName:r3,defaultValue:"beat"}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createDiscreteBeatSignal"),createContinuousSignal:__name(function(n4,r3,i2,u2,s2,c2){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"continuous",signalName:r3,range:i2,defaultValue:u2,defaultCurve:s2,isStatic:c2}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createContinuousSignal"),createContinuousBezierSignal:__name(function(n4,r3,i2,u2,s2,c2){a2(),e3(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:n4,signalType:"continuous",signalName:r3,range:i2,defaultValue:u2,defaultCurve:s2,isStatic:c2,bezier:!0}],backward:[{type:"deleteSignal",signalId:n4}]}}),o2(),t4()},"createContinuousBezierSignal"),duplicateSignal:__name(function(n4){a2();var i2=fe$1();e3(function(){var t5=r2(),e4=t5.signalData[n4];if(!e4)throw new Error("Signal not found");var a3=t5.orgData.signalNames[n4],o3=e4.defaultValue,u2=e4.type==="continuous"?e4.defaultCurve:void 0,s2=e4.isStatic,c2=e4.type==="continuous"&&"bezier"in e4,l2=e4.type==="discrete"?e4.displayValues:void 0,f2=a3+"_copy",p2=e4.type==="continuous"?e4.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:i2,signalType:e4.type,signalName:f2,range:p2,defaultValue:o3,defaultCurve:u2,isStatic:s2,bezier:!!c2||void 0,displayValues:!!l2||void 0}],backward:[{type:"deleteSignal",signalId:i2}]}}),e3(function(){var t5=r2(),e4=t5.signalData[n4].pinIds,a3=t5.signalData[n4].type,o3=e4.map(function(e5){var r3,i3=t5.signalData[n4].pinTimes[e5],o4=t5.signalData[n4].pinValues[e5];return a3==="continuous"&&(r3=t5.signalData[n4].curves[e5]),{pinTime:i3,pinValue:o4,functionString:r3,pinId:fe$1()}});return{type:"addNextState",forward:o3.map(function(e5){return he(t5,i2,e5.pinId,e5.pinTime,e5.pinValue,e5.functionString)}),backward:o3.map(function(t6){return{type:"deletePin",pinId:t6.pinId}})}}),o2(),t4()},"duplicateSignal"),deleteSignal:__name(function(n4){a2(),e3(function(){var t5=r2(),e4=t5.signalData[n4];if(!e4)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:n4}],backward:[{type:"createSignal",signalId:n4,signalType:e4.type,signalName:t5.orgData.signalNames[n4],range:e4.type==="continuous"?e4.range:void 0,defaultValue:e4.defaultValue,defaultCurve:e4.type==="continuous"?e4.defaultCurve:void 0,isStatic:e4.isStatic,bezier:e4.type==="continuous"&&"bezier"in e4||void 0,bezierControlPoints:e4.type==="continuous"&&"bezier"in e4?e4.bezierControlPoints:void 0,displayValues:e4.type==="discrete"?e4.displayValues:void 0}]}}),o2(),t4()},"deleteSignal"),updateSignalDefaultValue:__name(function(n4,i2){a2(),e3(function(){var t5=r2().signalData[n4];if(!t5)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalDefaultValue",signalId:n4,defaultValue:i2}],backward:[{type:"updateSignalDefaultValue",signalId:n4,defaultValue:t5.defaultValue}]}}),o2(),t4()},"updateSignalDefaultValue"),updateSignalName:__name(function(n4,i2){a2(),e3(function(){var t5=r2();if(!t5.signalData[n4])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:n4,signalName:i2}],backward:[{type:"updateSignalName",signalId:n4,signalName:t5.orgData.signalNames[n4]}]}}),o2(),t4()},"updateSignalName"),updateSignalRange:__name(function(n4,i2){a2(),e3(function(){var t5=r2().signalData[n4];if(!t5)throw new Error("Signal not found");if(t5.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:n4,range:i2}],backward:[{type:"updateSignalRange",signalId:n4,range:t5.range}]}}),o2(),t4()},"updateSignalRange"),updateSignalIndex:__name(function(n4,i2,u2){u2&&a2(),e3(function(){var t5=r2();if(!t5.signalData[n4])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:n4,index:i2}],backward:[{type:"updateSignalIndex",signalId:n4,index:t5.orgData.activeSignalIds.indexOf(n4)}]}}),u2&&o2(),t4()},"updateSignalIndex"),updateSignalActiveStatus:__name(function(n4,i2){a2(),e3(function(){var t5=r2();if(!t5.signalData[n4])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:n4,active:i2}],backward:[{type:"updateSignalActiveStatus",signalId:n4,active:t5.orgData.activeSignalIds.includes(n4)}]}}),o2(),t4()},"updateSignalActiveStatus"),updateFramesPerSecond:__name(function(n4){a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:n4}],backward:[{type:"updateFramesPerSecond",framesPerSecond:t5.timelineData.framesPerSecond}]}}),o2(),t4()},"updateFramesPerSecond"),updatePlayheadPosition:__name(function(n4,i2){i2&&a2();var u2=r2(),s2=u2.timelineData.playing;s2&&e3(function(){return{type:"addNextState",forward:[{type:"updatePlaying",playing:!1,playingTimestamp:0}],backward:[{type:"updatePlaying",playing:s2,playingTimestamp:u2.timelineData.playingTimestamp}]}}),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:n4}],backward:[{type:"updatePlayheadPosition",playheadPosition:t5.timelineData.playheadPosition}]}}),i2&&o2(),t4()},"updatePlayheadPosition"),startPlayback:__name(function(){a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updatePlaying",playing:!0,playingTimestamp:Date.now()}],backward:[{type:"updatePlaying",playing:!1,playingTimestamp:t5.timelineData.playingTimestamp}]}}),o2(),t4()},"startPlayback"),updateFocusRange:__name(function(n4,u2){var s2=i(n4,2),c2=s2[0],l2=s2[1];u2&&a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[c2,l2]}],backward:[{type:"updateFocusRange",focusRange:t5.timelineData.focusRange}]}}),u2&&o2(),t4()},"updateFocusRange"),updateNumberOfFrames:__name(function(n4){a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:n4}],backward:[{type:"updateNumberOfFrames",numberOfFrames:t5.timelineData.numberOfFrames}]}}),o2(),t4()},"updateNumberOfFrames"),updateProjectName:__name(function(n4){a2(),e3(function(){var t5=r2();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:n4}],backward:[{type:"updateProjectName",projectName:t5.metaData.name}]}}),o2(),t4()},"updateProjectName"),undo:__name(function(){a2(),e3(function(){return{type:"previous"}}),o2(),t4()},"undo"),redo:__name(function(){a2(),e3(function(){return{type:"next"}}),o2(),t4()},"redo"),addCurveTemplate:__name(function(n4,r3){e3(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:n4,functionString:r3}],backward:[{type:"deleteCurveTemplate",curveId:n4}]}}),t4()},"addCurveTemplate"),deleteCurveTemplate:__name(function(n4){e3(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:n4}],backward:[{type:"addCurveTemplate",curveId:n4,functionString:r2().templateData[n4]}]}}),t4()},"deleteCurveTemplate"),updateCurveTemplate:__name(function(n4,i2){e3(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:n4,functionString:i2}],backward:[{type:"updateCurveTemplate",curveId:n4,functionString:r2().templateData[n4]}]}}),t4()},"updateCurveTemplate")}}(t3,n2,0,e2)},"get"),enumerable:!1,configurable:!0}),t2.prototype.getProject=function(){return this.project},t2.prototype.prettyPrintProject=function(){console.log(JSON.stringify(this.getProject(),null,2))},t2.prototype.interpolateSignalValueAtTime=function(t3,e2){var n2=this.getProject();return Rt$1(n2,t3,e2)},t2}(),_e$1=Object.freeze({__proto__:null,TimelineController:me}),define_process_env_default={},extendStatics=__name(function(o2,i2){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o3,i3){o3.__proto__=i3}||function(o3,i3){for(var a2 in i3)Object.prototype.hasOwnProperty.call(i3,a2)&&(o3[a2]=i3[a2])},extendStatics(o2,i2)},"extendStatics");function __extends(o2,i2){if(typeof i2!="function"&&i2!==null)throw new TypeError("Class extends value "+String(i2)+" is not a constructor or null");function __(){this.constructor=o2}__name(__,"__"),extendStatics(o2,i2),o2.prototype=i2===null?Object.create(i2):(__.prototype=i2.prototype,new __)}__name(__extends,"__extends");var __assign$1=__name(function(){return __assign$1=Object.assign||__name(function(o2){for(var i2,a2=1,s2=arguments.length;a2<s2;a2++)for(var u2 in i2=arguments[a2])Object.prototype.hasOwnProperty.call(i2,u2)&&(o2[u2]=i2[u2]);return o2},"__assign2"),__assign$1.apply(this,arguments)},"__assign$1");function __awaiter(o2,i2,a2,s2){return new(a2||(a2=Promise))(function(u2,O2){function fulfilled(o3){try{step(s2.next(o3))}catch(o4){O2(o4)}}__name(fulfilled,"fulfilled");function rejected(o3){try{step(s2.throw(o3))}catch(o4){O2(o4)}}__name(rejected,"rejected");function step(o3){o3.done?u2(o3.value):__name(function(o4){return o4 instanceof a2?o4:new a2(function(i3){i3(o4)})},"adopt")(o3.value).then(fulfilled,rejected)}__name(step,"step"),step((s2=s2.apply(o2,[])).next())})}__name(__awaiter,"__awaiter");function __generator(o2,i2){var a2,s2,u2,O2={label:0,sent:__name(function(){if(1&u2[0])throw u2[1];return u2[1]},"sent"),trys:[],ops:[]},w2=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return w2.next=verb(0),w2.throw=verb(1),w2.return=verb(2),typeof Symbol=="function"&&(w2[Symbol.iterator]=function(){return this}),w2;function verb(x2){return function(C2){return __name(function(x3){if(a2)throw new TypeError("Generator is already executing.");for(;w2&&(w2=0,x3[0]&&(O2=0)),O2;)try{if(a2=1,s2&&(u2=2&x3[0]?s2.return:x3[0]?s2.throw||((u2=s2.return)&&u2.call(s2),0):s2.next)&&!(u2=u2.call(s2,x3[1])).done)return u2;switch(s2=0,u2&&(x3=[2&x3[0],u2.value]),x3[0]){case 0:case 1:u2=x3;break;case 4:return O2.label++,{value:x3[1],done:!1};case 5:O2.label++,s2=x3[1],x3=[0];continue;case 7:x3=O2.ops.pop(),O2.trys.pop();continue;default:if(u2=O2.trys,!((u2=u2.length>0&&u2[u2.length-1])||x3[0]!==6&&x3[0]!==2)){O2=0;continue}if(x3[0]===3&&(!u2||x3[1]>u2[0]&&x3[1]<u2[3])){O2.label=x3[1];break}if(x3[0]===6&&O2.label<u2[1]){O2.label=u2[1],u2=x3;break}if(u2&&O2.label<u2[2]){O2.label=u2[2],O2.ops.push(x3);break}u2[2]&&O2.ops.pop(),O2.trys.pop();continue}x3=i2.call(o2,O2)}catch(o3){x3=[6,o3],s2=0}finally{a2=u2=0}if(5&x3[0])throw x3[1];return{value:x3[0]?x3[1]:void 0,done:!0}},"step")([x2,C2])}}}__name(__generator,"__generator");function __spreadArray(o2,i2,a2){if(a2||arguments.length===2)for(var s2,u2=0,O2=i2.length;u2<O2;u2++)!s2&&u2 in i2||(s2||(s2=Array.prototype.slice.call(i2,0,u2)),s2[u2]=i2[u2]);return o2.concat(s2||Array.prototype.slice.call(i2))}__name(__spreadArray,"__spreadArray");__name(function(o2,i2){i2===void 0&&(i2={});var a2=i2.insertAt;if(typeof document<"u"){var s2=document.head||document.getElementsByTagName("head")[0],u2=document.createElement("style");u2.type="text/css",a2==="top"&&s2.firstChild?s2.insertBefore(u2,s2.firstChild):s2.appendChild(u2),u2.styleSheet?u2.styleSheet.cssText=o2:u2.appendChild(document.createTextNode(o2))}},"styleInject")(`
/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent font size inflation */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

/* Remove default margin in favour of better control in authored CSS */
body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd {
  margin-block-end: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set core body defaults */
body {
  min-height: 100vh;
  line-height: 1.5;
}

/* Set shorter line heights on headings and interactive elements */
h1, h2, h3, h4,
button, input, label {
  line-height: 1.1;
}

/* Balance text wrapping on headings */
h1, h2,
h3, h4 {
  text-wrap: balance;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentColor;
}

/* Make images easier to work with */
img,
picture {
  max-width: 100%;
  display: block;
}

/* Inherit fonts for inputs and buttons */
input, button,
textarea, select {
  font-family: inherit;
  font-size: inherit;
}

input:focus {
    outline: none;
  }
  

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}




@font-face {
    font-family: 'Material Symbols';
    src: url('https://storage.googleapis.com/pinsandcurvesfontservice/MaterialSymbolsSharp%5BFILL%2CGRAD%2Copsz%2Cwght%5D.woff2') format('woff');
    font-weight: normal;
    font-style: normal;
}

.materialSymbols {
    font-family: 'Material Symbols';
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
}

:root {
    --gray1: #1D2126;
    --gray2: #2C333A;
    --gray3: #3B434B;
    --gray4: #49525B;
    --gray5: #59646E;
    --gray6: #708090;
    --gray7 : #C6D6E6;
    --gray8 : white;
    --danger: pink;

    --green2: #6EBD6F;
    --green1: #84D585;
    --green3: #429A44;
    --green4: #1D471E;

    --yellow1: #FFF8D3;
    --yellow2: #FFF1A8;
    --yellow3: #E6C622;
    --yellow4: #A48E20;

    --borderRadiusSmall: 5px;

    --defaultFontSize: 16px;

    --continuousBlue1: #243157;
    --continuousBlue2: #4A5F9D;
    --continuousBlue3: #94a3d0;
    --discreteRed1: #562F2F;
    --discreteRed2: #915050;


    font-family: 'Roboto', sans-serif;
}

hr {
    border: none;
    border-top: 2px solid var(--gray3);
    margin: 1em 0;
  
}`);var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o2){return o2&&o2.__esModule&&Object.prototype.hasOwnProperty.call(o2,"default")?o2.default:o2}__name(getDefaultExportFromCjs,"getDefaultExportFromCjs");var le,ce={exports:{}},de={},fe={exports:{}},pe={},be,Se;function requireScheduler(){return be||(be=1,fe.exports=__name(function(){return le||(le=1,function(o2){function f2(o3,i3){var a3=o3.length;o3.push(i3);e:for(;0<a3;){var s3=a3-1>>>1,u3=o3[s3];if(!(0<g2(u3,i3)))break e;o3[s3]=i3,o3[a3]=u3,a3=s3}}__name(f2,"f");function h2(o3){return o3.length===0?null:o3[0]}__name(h2,"h");function k2(o3){if(o3.length===0)return null;var i3=o3[0],a3=o3.pop();if(a3!==i3){o3[0]=a3;e:for(var s3=0,u3=o3.length,O3=u3>>>1;s3<O3;){var w3=2*(s3+1)-1,x3=o3[w3],C3=w3+1,T3=o3[C3];if(0>g2(x3,a3))C3<u3&&0>g2(T3,x3)?(o3[s3]=T3,o3[C3]=a3,s3=C3):(o3[s3]=x3,o3[w3]=a3,s3=w3);else{if(!(C3<u3&&0>g2(T3,a3)))break e;o3[s3]=T3,o3[C3]=a3,s3=C3}}}return i3}__name(k2,"k");function g2(o3,i3){var a3=o3.sortIndex-i3.sortIndex;return a3!==0?a3:o3.id-i3.id}if(__name(g2,"g"),typeof performance=="object"&&typeof performance.now=="function"){var i2=performance;o2.unstable_now=function(){return i2.now()}}else{var a2=Date,s2=a2.now();o2.unstable_now=function(){return a2.now()-s2}}var u2=[],O2=[],w2=1,x2=null,C2=3,T2=!1,_2=!1,A2=!1,Q2=typeof setTimeout=="function"?setTimeout:null,N2=typeof clearTimeout=="function"?clearTimeout:null,L2=typeof setImmediate<"u"?setImmediate:null;function G2(o3){for(var i3=h2(O2);i3!==null;){if(i3.callback===null)k2(O2);else{if(!(i3.startTime<=o3))break;k2(O2),i3.sortIndex=i3.expirationTime,f2(u2,i3)}i3=h2(O2)}}__name(G2,"G");function H2(o3){if(A2=!1,G2(o3),!_2)if(h2(u2)!==null)_2=!0,I2(J2);else{var i3=h2(O2);i3!==null&&K2(H2,i3.startTime-o3)}}__name(H2,"H");function J2(i3,a3){_2=!1,A2&&(A2=!1,N2(V2),V2=-1),T2=!0;var s3=C2;try{for(G2(a3),x2=h2(u2);x2!==null&&(!(x2.expirationTime>a3)||i3&&!M2());){var w3=x2.callback;if(typeof w3=="function"){x2.callback=null,C2=x2.priorityLevel;var Q3=w3(x2.expirationTime<=a3);a3=o2.unstable_now(),typeof Q3=="function"?x2.callback=Q3:x2===h2(u2)&&k2(u2),G2(a3)}else k2(u2);x2=h2(u2)}if(x2!==null)var L3=!0;else{var $3=h2(O2);$3!==null&&K2(H2,$3.startTime-a3),L3=!1}return L3}finally{x2=null,C2=s3,T2=!1}}__name(J2,"J"),typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var $2,F2=!1,B2=null,V2=-1,z2=5,j2=-1;function M2(){return!(o2.unstable_now()-j2<z2)}__name(M2,"M");function R2(){if(B2!==null){var i3=o2.unstable_now();j2=i3;var a3=!0;try{a3=B2(!0,i3)}finally{a3?$2():(F2=!1,B2=null)}}else F2=!1}if(__name(R2,"R"),typeof L2=="function")$2=__name(function(){L2(R2)},"$2");else if(typeof MessageChannel<"u"){var U2=new MessageChannel,Z2=U2.port2;U2.port1.onmessage=R2,$2=__name(function(){Z2.postMessage(null)},"$2")}else $2=__name(function(){Q2(R2,0)},"$2");function I2(o3){B2=o3,F2||(F2=!0,$2())}__name(I2,"I");function K2(i3,a3){V2=Q2(function(){i3(o2.unstable_now())},a3)}__name(K2,"K"),o2.unstable_IdlePriority=5,o2.unstable_ImmediatePriority=1,o2.unstable_LowPriority=4,o2.unstable_NormalPriority=3,o2.unstable_Profiling=null,o2.unstable_UserBlockingPriority=2,o2.unstable_cancelCallback=function(o3){o3.callback=null},o2.unstable_continueExecution=function(){_2||T2||(_2=!0,I2(J2))},o2.unstable_forceFrameRate=function(o3){0>o3||125<o3?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z2=0<o3?Math.floor(1e3/o3):5},o2.unstable_getCurrentPriorityLevel=function(){return C2},o2.unstable_getFirstCallbackNode=function(){return h2(u2)},o2.unstable_next=function(o3){switch(C2){case 1:case 2:case 3:var i3=3;break;default:i3=C2}var a3=C2;C2=i3;try{return o3()}finally{C2=a3}},o2.unstable_pauseExecution=function(){},o2.unstable_requestPaint=function(){},o2.unstable_runWithPriority=function(o3,i3){switch(o3){case 1:case 2:case 3:case 4:case 5:break;default:o3=3}var a3=C2;C2=o3;try{return i3()}finally{C2=a3}},o2.unstable_scheduleCallback=function(i3,a3,s3){var x3=o2.unstable_now();switch(s3=typeof s3=="object"&&s3!==null&&typeof(s3=s3.delay)=="number"&&0<s3?x3+s3:x3,i3){case 1:var C3=-1;break;case 2:C3=250;break;case 5:C3=1073741823;break;case 4:C3=1e4;break;default:C3=5e3}return i3={id:w2++,callback:a3,priorityLevel:i3,startTime:s3,expirationTime:C3=s3+C3,sortIndex:-1},s3>x3?(i3.sortIndex=s3,f2(O2,i3),h2(u2)===null&&i3===h2(O2)&&(A2?(N2(V2),V2=-1):A2=!0,K2(H2,s3-x3))):(i3.sortIndex=C3,f2(u2,i3),_2||T2||(_2=!0,I2(J2))),i3},o2.unstable_shouldYield=M2,o2.unstable_wrapCallback=function(o3){var i3=C2;return function(){var a3=C2;C2=i3;try{return o3.apply(this,arguments)}finally{C2=a3}}}}(pe)),pe},"requireScheduler_production_min")()),fe.exports}__name(requireScheduler,"requireScheduler");/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function requireReactDom_production_min(){if(Se)return de;Se=1;var o2=React,i2=requireScheduler();function p2(o3){for(var i3="https://reactjs.org/docs/error-decoder.html?invariant="+o3,a3=1;a3<arguments.length;a3++)i3+="&args[]="+encodeURIComponent(arguments[a3]);return"Minified React error #"+o3+"; visit "+i3+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}__name(p2,"p");var a2=new Set,s2={};function fa(o3,i3){ha(o3,i3),ha(o3+"Capture",i3)}__name(fa,"fa");function ha(o3,i3){for(s2[o3]=i3,o3=0;o3<i3.length;o3++)a2.add(i3[o3])}__name(ha,"ha");var O2=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),w2=Object.prototype.hasOwnProperty,x2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C2={},T2={};function v2(o3,i3,a3,s3,u2,O3,w3){this.acceptsBooleans=i3===2||i3===3||i3===4,this.attributeName=s3,this.attributeNamespace=u2,this.mustUseProperty=a3,this.propertyName=o3,this.type=i3,this.sanitizeURL=O3,this.removeEmptyString=w3}__name(v2,"v");var _2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o3){_2[o3]=new v2(o3,0,!1,o3,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o3){var i3=o3[0];_2[i3]=new v2(i3,1,!1,o3[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o3){_2[o3]=new v2(o3,2,!1,o3.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o3){_2[o3]=new v2(o3,2,!1,o3,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o3){_2[o3]=new v2(o3,3,!1,o3.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o3){_2[o3]=new v2(o3,3,!0,o3,null,!1,!1)}),["capture","download"].forEach(function(o3){_2[o3]=new v2(o3,4,!1,o3,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o3){_2[o3]=new v2(o3,6,!1,o3,null,!1,!1)}),["rowSpan","start"].forEach(function(o3){_2[o3]=new v2(o3,5,!1,o3.toLowerCase(),null,!1,!1)});var A2=/[\-:]([a-z])/g;function sa(o3){return o3[1].toUpperCase()}__name(sa,"sa");function ta(o3,i3,a3,s3){var u2=_2.hasOwnProperty(i3)?_2[i3]:null;(u2!==null?u2.type!==0:s3||!(2<i3.length)||i3[0]!=="o"&&i3[0]!=="O"||i3[1]!=="n"&&i3[1]!=="N")&&(__name(function(o4,i4,a4,s4){if(i4==null||__name(function(o5,i5,a5,s5){if(a5!==null&&a5.type===0)return!1;switch(typeof i5){case"function":case"symbol":return!0;case"boolean":return!s5&&(a5!==null?!a5.acceptsBooleans:(o5=o5.toLowerCase().slice(0,5))!=="data-"&&o5!=="aria-");default:return!1}},"pa")(o4,i4,a4,s4))return!0;if(s4)return!1;if(a4!==null)switch(a4.type){case 3:return!i4;case 4:return i4===!1;case 5:return isNaN(i4);case 6:return isNaN(i4)||1>i4}return!1},"qa")(i3,a3,u2,s3)&&(a3=null),s3||u2===null?__name(function(o4){return!!w2.call(T2,o4)||!w2.call(C2,o4)&&(x2.test(o4)?T2[o4]=!0:(C2[o4]=!0,!1))},"oa")(i3)&&(a3===null?o3.removeAttribute(i3):o3.setAttribute(i3,""+a3)):u2.mustUseProperty?o3[u2.propertyName]=a3===null?u2.type!==3&&"":a3:(i3=u2.attributeName,s3=u2.attributeNamespace,a3===null?o3.removeAttribute(i3):(a3=(u2=u2.type)===3||u2===4&&a3===!0?"":""+a3,s3?o3.setAttributeNS(s3,i3,a3):o3.setAttribute(i3,a3))))}__name(ta,"ta"),"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o3){var i3=o3.replace(A2,sa);_2[i3]=new v2(i3,1,!1,o3,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o3){var i3=o3.replace(A2,sa);_2[i3]=new v2(i3,1,!1,o3,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o3){var i3=o3.replace(A2,sa);_2[i3]=new v2(i3,1,!1,o3,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o3){_2[o3]=new v2(o3,1,!1,o3.toLowerCase(),null,!1,!1)}),_2.xlinkHref=new v2("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o3){_2[o3]=new v2(o3,1,!1,o3.toLowerCase(),null,!0,!0)});var Q2=o2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N2=Symbol.for("react.element"),L2=Symbol.for("react.portal"),$2=Symbol.for("react.fragment"),F2=Symbol.for("react.strict_mode"),B2=Symbol.for("react.profiler"),V2=Symbol.for("react.provider"),z2=Symbol.for("react.context"),j2=Symbol.for("react.forward_ref"),U2=Symbol.for("react.suspense"),Z2=Symbol.for("react.suspense_list"),X2=Symbol.for("react.memo"),Y2=Symbol.for("react.lazy"),ee2=Symbol.for("react.offscreen"),ie2=Symbol.iterator;function Ka(o3){return o3===null||typeof o3!="object"?null:typeof(o3=ie2&&o3[ie2]||o3["@@iterator"])=="function"?o3:null}__name(Ka,"Ka");var ae2,le2=Object.assign;function Ma(o3){if(ae2===void 0)try{throw Error()}catch(o4){var i3=o4.stack.trim().match(/\n( *(at )?)/);ae2=i3&&i3[1]||""}return`
`+ae2+o3}__name(Ma,"Ma");var ce2=!1;function Oa(o3,i3){if(!o3||ce2)return"";ce2=!0;var a3=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i3)if(i3=__name(function(){throw Error()},"i3"),Object.defineProperty(i3.prototype,"props",{set:__name(function(){throw Error()},"set")}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i3,[])}catch(o4){var s3=o4}Reflect.construct(o3,[],i3)}else{try{i3.call()}catch(o4){s3=o4}o3.call(i3.prototype)}else{try{throw Error()}catch(o4){s3=o4}o3()}}catch(i4){if(i4&&s3&&typeof i4.stack=="string"){for(var u2=i4.stack.split(`
`),O3=s3.stack.split(`
`),w3=u2.length-1,x3=O3.length-1;1<=w3&&0<=x3&&u2[w3]!==O3[x3];)x3--;for(;1<=w3&&0<=x3;w3--,x3--)if(u2[w3]!==O3[x3]){if(w3!==1||x3!==1)do if(w3--,0>--x3||u2[w3]!==O3[x3]){var C3=`
`+u2[w3].replace(" at new "," at ");return o3.displayName&&C3.includes("<anonymous>")&&(C3=C3.replace("<anonymous>",o3.displayName)),C3}while(1<=w3&&0<=x3);break}}}finally{ce2=!1,Error.prepareStackTrace=a3}return(o3=o3?o3.displayName||o3.name:"")?Ma(o3):""}__name(Oa,"Oa");function Pa(o3){switch(o3.tag){case 5:return Ma(o3.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return o3=Oa(o3.type,!1);case 11:return o3=Oa(o3.type.render,!1);case 1:return o3=Oa(o3.type,!0);default:return""}}__name(Pa,"Pa");function Qa(o3){if(o3==null)return null;if(typeof o3=="function")return o3.displayName||o3.name||null;if(typeof o3=="string")return o3;switch(o3){case $2:return"Fragment";case L2:return"Portal";case B2:return"Profiler";case F2:return"StrictMode";case U2:return"Suspense";case Z2:return"SuspenseList"}if(typeof o3=="object")switch(o3.$$typeof){case z2:return(o3.displayName||"Context")+".Consumer";case V2:return(o3._context.displayName||"Context")+".Provider";case j2:var i3=o3.render;return(o3=o3.displayName)||(o3=(o3=i3.displayName||i3.name||"")!==""?"ForwardRef("+o3+")":"ForwardRef"),o3;case X2:return(i3=o3.displayName||null)!==null?i3:Qa(o3.type)||"Memo";case Y2:i3=o3._payload,o3=o3._init;try{return Qa(o3(i3))}catch{}}return null}__name(Qa,"Qa");function Ra(o3){var i3=o3.type;switch(o3.tag){case 24:return"Cache";case 9:return(i3.displayName||"Context")+".Consumer";case 10:return(i3._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o3=(o3=i3.render).displayName||o3.name||"",i3.displayName||(o3!==""?"ForwardRef("+o3+")":"ForwardRef");case 7:return"Fragment";case 5:return i3;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(i3);case 8:return i3===F2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i3=="function")return i3.displayName||i3.name||null;if(typeof i3=="string")return i3}return null}__name(Ra,"Ra");function Sa(o3){switch(typeof o3){case"boolean":case"number":case"string":case"undefined":case"object":return o3;default:return""}}__name(Sa,"Sa");function Ta(o3){var i3=o3.type;return(o3=o3.nodeName)&&o3.toLowerCase()==="input"&&(i3==="checkbox"||i3==="radio")}__name(Ta,"Ta");function Va(o3){o3._valueTracker||(o3._valueTracker=__name(function(o4){var i3=Ta(o4)?"checked":"value",a3=Object.getOwnPropertyDescriptor(o4.constructor.prototype,i3),s3=""+o4[i3];if(!o4.hasOwnProperty(i3)&&a3!==void 0&&typeof a3.get=="function"&&typeof a3.set=="function"){var u2=a3.get,O3=a3.set;return Object.defineProperty(o4,i3,{configurable:!0,get:__name(function(){return u2.call(this)},"get"),set:__name(function(o5){s3=""+o5,O3.call(this,o5)},"set")}),Object.defineProperty(o4,i3,{enumerable:a3.enumerable}),{getValue:__name(function(){return s3},"getValue"),setValue:__name(function(o5){s3=""+o5},"setValue"),stopTracking:__name(function(){o4._valueTracker=null,delete o4[i3]},"stopTracking")}}},"Ua")(o3))}__name(Va,"Va");function Wa(o3){if(!o3)return!1;var i3=o3._valueTracker;if(!i3)return!0;var a3=i3.getValue(),s3="";return o3&&(s3=Ta(o3)?o3.checked?"true":"false":o3.value),(o3=s3)!==a3&&(i3.setValue(o3),!0)}__name(Wa,"Wa");function Xa(o3){if((o3=o3||(typeof document<"u"?document:void 0))===void 0)return null;try{return o3.activeElement||o3.body}catch{return o3.body}}__name(Xa,"Xa");function Ya(o3,i3){var a3=i3.checked;return le2({},i3,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a3??o3._wrapperState.initialChecked})}__name(Ya,"Ya");function Za(o3,i3){var a3=i3.defaultValue==null?"":i3.defaultValue,s3=i3.checked!=null?i3.checked:i3.defaultChecked;a3=Sa(i3.value!=null?i3.value:a3),o3._wrapperState={initialChecked:s3,initialValue:a3,controlled:i3.type==="checkbox"||i3.type==="radio"?i3.checked!=null:i3.value!=null}}__name(Za,"Za");function ab(o3,i3){(i3=i3.checked)!=null&&ta(o3,"checked",i3,!1)}__name(ab,"ab");function bb(o3,i3){ab(o3,i3);var a3=Sa(i3.value),s3=i3.type;if(a3!=null)s3==="number"?(a3===0&&o3.value===""||o3.value!=a3)&&(o3.value=""+a3):o3.value!==""+a3&&(o3.value=""+a3);else if(s3==="submit"||s3==="reset")return void o3.removeAttribute("value");i3.hasOwnProperty("value")?cb(o3,i3.type,a3):i3.hasOwnProperty("defaultValue")&&cb(o3,i3.type,Sa(i3.defaultValue)),i3.checked==null&&i3.defaultChecked!=null&&(o3.defaultChecked=!!i3.defaultChecked)}__name(bb,"bb");function db(o3,i3,a3){if(i3.hasOwnProperty("value")||i3.hasOwnProperty("defaultValue")){var s3=i3.type;if(!(s3!=="submit"&&s3!=="reset"||i3.value!==void 0&&i3.value!==null))return;i3=""+o3._wrapperState.initialValue,a3||i3===o3.value||(o3.value=i3),o3.defaultValue=i3}(a3=o3.name)!==""&&(o3.name=""),o3.defaultChecked=!!o3._wrapperState.initialChecked,a3!==""&&(o3.name=a3)}__name(db,"db");function cb(o3,i3,a3){i3==="number"&&Xa(o3.ownerDocument)===o3||(a3==null?o3.defaultValue=""+o3._wrapperState.initialValue:o3.defaultValue!==""+a3&&(o3.defaultValue=""+a3))}__name(cb,"cb");var fe2=Array.isArray;function fb(o3,i3,a3,s3){if(o3=o3.options,i3){i3={};for(var u2=0;u2<a3.length;u2++)i3["$"+a3[u2]]=!0;for(a3=0;a3<o3.length;a3++)u2=i3.hasOwnProperty("$"+o3[a3].value),o3[a3].selected!==u2&&(o3[a3].selected=u2),u2&&s3&&(o3[a3].defaultSelected=!0)}else{for(a3=""+Sa(a3),i3=null,u2=0;u2<o3.length;u2++){if(o3[u2].value===a3)return o3[u2].selected=!0,void(s3&&(o3[u2].defaultSelected=!0));i3!==null||o3[u2].disabled||(i3=o3[u2])}i3!==null&&(i3.selected=!0)}}__name(fb,"fb");function gb(o3,i3){if(i3.dangerouslySetInnerHTML!=null)throw Error(p2(91));return le2({},i3,{value:void 0,defaultValue:void 0,children:""+o3._wrapperState.initialValue})}__name(gb,"gb");function hb(o3,i3){var a3=i3.value;if(a3==null){if(a3=i3.children,i3=i3.defaultValue,a3!=null){if(i3!=null)throw Error(p2(92));if(fe2(a3)){if(1<a3.length)throw Error(p2(93));a3=a3[0]}i3=a3}i3==null&&(i3=""),a3=i3}o3._wrapperState={initialValue:Sa(a3)}}__name(hb,"hb");function ib(o3,i3){var a3=Sa(i3.value),s3=Sa(i3.defaultValue);a3!=null&&((a3=""+a3)!==o3.value&&(o3.value=a3),i3.defaultValue==null&&o3.defaultValue!==a3&&(o3.defaultValue=a3)),s3!=null&&(o3.defaultValue=""+s3)}__name(ib,"ib");function jb(o3){var i3=o3.textContent;i3===o3._wrapperState.initialValue&&i3!==""&&i3!==null&&(o3.value=i3)}__name(jb,"jb");function kb(o3){switch(o3){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}__name(kb,"kb");function lb(o3,i3){return o3==null||o3==="http://www.w3.org/1999/xhtml"?kb(i3):o3==="http://www.w3.org/2000/svg"&&i3==="foreignObject"?"http://www.w3.org/1999/xhtml":o3}__name(lb,"lb");var pe2,ye2,be2=(ye2=__name(function(o3,i3){if(o3.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o3)o3.innerHTML=i3;else{for((pe2=pe2||document.createElement("div")).innerHTML="<svg>"+i3.valueOf().toString()+"</svg>",i3=pe2.firstChild;o3.firstChild;)o3.removeChild(o3.firstChild);for(;i3.firstChild;)o3.appendChild(i3.firstChild)}},"ye2"),typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o3,i3,a3,s3){MSApp.execUnsafeLocalFunction(function(){return ye2(o3,i3)})}:ye2);function ob(o3,i3){if(i3){var a3=o3.firstChild;if(a3&&a3===o3.lastChild&&a3.nodeType===3)return void(a3.nodeValue=i3)}o3.textContent=i3}__name(ob,"ob");var we2={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xe2=["Webkit","ms","Moz","O"];function rb(o3,i3,a3){return i3==null||typeof i3=="boolean"||i3===""?"":a3||typeof i3!="number"||i3===0||we2.hasOwnProperty(o3)&&we2[o3]?(""+i3).trim():i3+"px"}__name(rb,"rb");function sb(o3,i3){for(var a3 in o3=o3.style,i3)if(i3.hasOwnProperty(a3)){var s3=a3.indexOf("--")===0,u2=rb(a3,i3[a3],s3);a3==="float"&&(a3="cssFloat"),s3?o3.setProperty(a3,u2):o3[a3]=u2}}__name(sb,"sb"),Object.keys(we2).forEach(function(o3){xe2.forEach(function(i3){i3=i3+o3.charAt(0).toUpperCase()+o3.substring(1),we2[i3]=we2[o3]})});var Pe2=le2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(o3,i3){if(i3){if(Pe2[o3]&&(i3.children!=null||i3.dangerouslySetInnerHTML!=null))throw Error(p2(137,o3));if(i3.dangerouslySetInnerHTML!=null){if(i3.children!=null)throw Error(p2(60));if(typeof i3.dangerouslySetInnerHTML!="object"||!("__html"in i3.dangerouslySetInnerHTML))throw Error(p2(61))}if(i3.style!=null&&typeof i3.style!="object")throw Error(p2(62))}}__name(ub,"ub");function vb(o3,i3){if(o3.indexOf("-")===-1)return typeof i3.is=="string";switch(o3){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}__name(vb,"vb");var Te2=null;function xb(o3){return(o3=o3.target||o3.srcElement||window).correspondingUseElement&&(o3=o3.correspondingUseElement),o3.nodeType===3?o3.parentNode:o3}__name(xb,"xb");var Re2=null,_e2=null,Qe2=null;function Bb(o3){if(o3=Cb(o3)){if(typeof Re2!="function")throw Error(p2(280));var i3=o3.stateNode;i3&&(i3=Db(i3),Re2(o3.stateNode,o3.type,i3))}}__name(Bb,"Bb");function Eb(o3){_e2?Qe2?Qe2.push(o3):Qe2=[o3]:_e2=o3}__name(Eb,"Eb");function Fb(){if(_e2){var o3=_e2,i3=Qe2;if(Qe2=_e2=null,Bb(o3),i3)for(o3=0;o3<i3.length;o3++)Bb(i3[o3])}}__name(Fb,"Fb");function Gb(o3,i3){return o3(i3)}__name(Gb,"Gb");function Hb(){}__name(Hb,"Hb");var $e2=!1;function Jb(o3,i3,a3){if($e2)return o3(i3,a3);$e2=!0;try{return Gb(o3,i3,a3)}finally{$e2=!1,(_e2!==null||Qe2!==null)&&(Hb(),Fb())}}__name(Jb,"Jb");function Kb(o3,i3){var a3=o3.stateNode;if(a3===null)return null;var s3=Db(a3);if(s3===null)return null;a3=s3[i3];e:switch(i3){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s3=!s3.disabled)||(s3=!((o3=o3.type)==="button"||o3==="input"||o3==="select"||o3==="textarea")),o3=!s3;break e;default:o3=!1}if(o3)return null;if(a3&&typeof a3!="function")throw Error(p2(231,i3,typeof a3));return a3}__name(Kb,"Kb");var ze2=!1;if(O2)try{var We2={};Object.defineProperty(We2,"passive",{get:__name(function(){ze2=!0},"get")}),window.addEventListener("test",We2,We2),window.removeEventListener("test",We2,We2)}catch{ze2=!1}function Nb(o3,i3,a3,s3,u2,O3,w3,x3,C3){var T3=Array.prototype.slice.call(arguments,3);try{i3.apply(a3,T3)}catch(o4){this.onError(o4)}}__name(Nb,"Nb");var He2=!1,qe2=null,Xe2=!1,Ye2=null,et2={onError:__name(function(o3){He2=!0,qe2=o3},"onError")};function Tb(o3,i3,a3,s3,u2,O3,w3,x3,C3){He2=!1,qe2=null,Nb.apply(et2,arguments)}__name(Tb,"Tb");function Vb(o3){var i3=o3,a3=o3;if(o3.alternate)for(;i3.return;)i3=i3.return;else{o3=i3;do 4098&(i3=o3).flags&&(a3=i3.return),o3=i3.return;while(o3)}return i3.tag===3?a3:null}__name(Vb,"Vb");function Wb(o3){if(o3.tag===13){var i3=o3.memoizedState;if(i3===null&&(o3=o3.alternate)!==null&&(i3=o3.memoizedState),i3!==null)return i3.dehydrated}return null}__name(Wb,"Wb");function Xb(o3){if(Vb(o3)!==o3)throw Error(p2(188))}__name(Xb,"Xb");function Zb(o3){return(o3=__name(function(o4){var i3=o4.alternate;if(!i3){if((i3=Vb(o4))===null)throw Error(p2(188));return i3!==o4?null:o4}for(var a3=o4,s3=i3;;){var u2=a3.return;if(u2===null)break;var O3=u2.alternate;if(O3===null){if((s3=u2.return)!==null){a3=s3;continue}break}if(u2.child===O3.child){for(O3=u2.child;O3;){if(O3===a3)return Xb(u2),o4;if(O3===s3)return Xb(u2),i3;O3=O3.sibling}throw Error(p2(188))}if(a3.return!==s3.return)a3=u2,s3=O3;else{for(var w3=!1,x3=u2.child;x3;){if(x3===a3){w3=!0,a3=u2,s3=O3;break}if(x3===s3){w3=!0,s3=u2,a3=O3;break}x3=x3.sibling}if(!w3){for(x3=O3.child;x3;){if(x3===a3){w3=!0,a3=O3,s3=u2;break}if(x3===s3){w3=!0,s3=O3,a3=u2;break}x3=x3.sibling}if(!w3)throw Error(p2(189))}}if(a3.alternate!==s3)throw Error(p2(190))}if(a3.tag!==3)throw Error(p2(188));return a3.stateNode.current===a3?o4:i3},"Yb")(o3))!==null?$b(o3):null}__name(Zb,"Zb");function $b(o3){if(o3.tag===5||o3.tag===6)return o3;for(o3=o3.child;o3!==null;){var i3=$b(o3);if(i3!==null)return i3;o3=o3.sibling}return null}__name($b,"$b");var tt2=i2.unstable_scheduleCallback,nt2=i2.unstable_cancelCallback,rt2=i2.unstable_shouldYield,ot2=i2.unstable_requestPaint,it2=i2.unstable_now,at2=i2.unstable_getCurrentPriorityLevel,st2=i2.unstable_ImmediatePriority,lt2=i2.unstable_UserBlockingPriority,ct2=i2.unstable_NormalPriority,ut2=i2.unstable_LowPriority,dt2=i2.unstable_IdlePriority,ft2=null,pt2=null,ht2=Math.clz32?Math.clz32:__name(function(o3){return o3>>>=0,o3===0?32:31-(gt2(o3)/mt2|0)|0},"nc"),gt2=Math.log,mt2=Math.LN2,vt2=64,yt2=4194304;function tc(o3){switch(o3&-o3){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&o3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&o3;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o3}}__name(tc,"tc");function uc(o3,i3){var a3=o3.pendingLanes;if(a3===0)return 0;var s3=0,u2=o3.suspendedLanes,O3=o3.pingedLanes,w3=268435455&a3;if(w3!==0){var x3=w3&~u2;x3!==0?s3=tc(x3):(O3&=w3)!==0&&(s3=tc(O3))}else(w3=a3&~u2)!==0?s3=tc(w3):O3!==0&&(s3=tc(O3));if(s3===0)return 0;if(i3!==0&&i3!==s3&&!(i3&u2)&&((u2=s3&-s3)>=(O3=i3&-i3)||u2===16&&4194240&O3))return i3;if(4&s3&&(s3|=16&a3),(i3=o3.entangledLanes)!==0)for(o3=o3.entanglements,i3&=s3;0<i3;)u2=1<<(a3=31-ht2(i3)),s3|=o3[a3],i3&=~u2;return s3}__name(uc,"uc");function vc(o3,i3){switch(o3){case 1:case 2:case 4:return i3+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i3+5e3;default:return-1}}__name(vc,"vc");function xc(o3){return(o3=-1073741825&o3.pendingLanes)!==0?o3:1073741824&o3?1073741824:0}__name(xc,"xc");function yc(){var o3=vt2;return!(4194240&(vt2<<=1))&&(vt2=64),o3}__name(yc,"yc");function zc(o3){for(var i3=[],a3=0;31>a3;a3++)i3.push(o3);return i3}__name(zc,"zc");function Ac(o3,i3,a3){o3.pendingLanes|=i3,i3!==536870912&&(o3.suspendedLanes=0,o3.pingedLanes=0),(o3=o3.eventTimes)[i3=31-ht2(i3)]=a3}__name(Ac,"Ac");function Cc(o3,i3){var a3=o3.entangledLanes|=i3;for(o3=o3.entanglements;a3;){var s3=31-ht2(a3),u2=1<<s3;u2&i3|o3[s3]&i3&&(o3[s3]|=i3),a3&=~u2}}__name(Cc,"Cc");var Ot2=0;function Dc(o3){return 1<(o3&=-o3)?4<o3?268435455&o3?16:536870912:4:1}__name(Dc,"Dc");var bt2,St2,wt2,xt2,kt2,Ct2=!1,Pt2=[],Et2=null,Tt2=null,Rt2=null,Dt2=new Map,It2=new Map,Mt2=[],_t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(o3,i3){switch(o3){case"focusin":case"focusout":Et2=null;break;case"dragenter":case"dragleave":Tt2=null;break;case"mouseover":case"mouseout":Rt2=null;break;case"pointerover":case"pointerout":Dt2.delete(i3.pointerId);break;case"gotpointercapture":case"lostpointercapture":It2.delete(i3.pointerId)}}__name(Sc,"Sc");function Tc(o3,i3,a3,s3,u2,O3){return o3===null||o3.nativeEvent!==O3?(o3={blockedOn:i3,domEventName:a3,eventSystemFlags:s3,nativeEvent:O3,targetContainers:[u2]},i3!==null&&(i3=Cb(i3))!==null&&St2(i3),o3):(o3.eventSystemFlags|=s3,i3=o3.targetContainers,u2!==null&&i3.indexOf(u2)===-1&&i3.push(u2),o3)}__name(Tc,"Tc");function Vc(o3){var i3=Wc(o3.target);if(i3!==null){var a3=Vb(i3);if(a3!==null){if((i3=a3.tag)===13){if((i3=Wb(a3))!==null)return o3.blockedOn=i3,void kt2(o3.priority,function(){wt2(a3)})}else if(i3===3&&a3.stateNode.current.memoizedState.isDehydrated)return void(o3.blockedOn=a3.tag===3?a3.stateNode.containerInfo:null)}}o3.blockedOn=null}__name(Vc,"Vc");function Xc(o3){if(o3.blockedOn!==null)return!1;for(var i3=o3.targetContainers;0<i3.length;){var a3=Yc(o3.domEventName,o3.eventSystemFlags,i3[0],o3.nativeEvent);if(a3!==null)return(i3=Cb(a3))!==null&&St2(i3),o3.blockedOn=a3,!1;var s3=new(a3=o3.nativeEvent).constructor(a3.type,a3);Te2=s3,a3.target.dispatchEvent(s3),Te2=null,i3.shift()}return!0}__name(Xc,"Xc");function Zc(o3,i3,a3){Xc(o3)&&a3.delete(i3)}__name(Zc,"Zc");function $c(){Ct2=!1,Et2!==null&&Xc(Et2)&&(Et2=null),Tt2!==null&&Xc(Tt2)&&(Tt2=null),Rt2!==null&&Xc(Rt2)&&(Rt2=null),Dt2.forEach(Zc),It2.forEach(Zc)}__name($c,"$c");function ad(o3,a3){o3.blockedOn===a3&&(o3.blockedOn=null,Ct2||(Ct2=!0,i2.unstable_scheduleCallback(i2.unstable_NormalPriority,$c)))}__name(ad,"ad");function bd(o3){function b2(i4){return ad(i4,o3)}if(__name(b2,"b"),0<Pt2.length){ad(Pt2[0],o3);for(var i3=1;i3<Pt2.length;i3++){var a3=Pt2[i3];a3.blockedOn===o3&&(a3.blockedOn=null)}}for(Et2!==null&&ad(Et2,o3),Tt2!==null&&ad(Tt2,o3),Rt2!==null&&ad(Rt2,o3),Dt2.forEach(b2),It2.forEach(b2),i3=0;i3<Mt2.length;i3++)(a3=Mt2[i3]).blockedOn===o3&&(a3.blockedOn=null);for(;0<Mt2.length&&(i3=Mt2[0]).blockedOn===null;)Vc(i3),i3.blockedOn===null&&Mt2.shift()}__name(bd,"bd");var At2=Q2.ReactCurrentBatchConfig,Qt2=!0;function ed(o3,i3,a3,s3){var u2=Ot2,O3=At2.transition;At2.transition=null;try{Ot2=1,fd(o3,i3,a3,s3)}finally{Ot2=u2,At2.transition=O3}}__name(ed,"ed");function gd(o3,i3,a3,s3){var u2=Ot2,O3=At2.transition;At2.transition=null;try{Ot2=4,fd(o3,i3,a3,s3)}finally{Ot2=u2,At2.transition=O3}}__name(gd,"gd");function fd(o3,i3,a3,s3){if(Qt2){var u2=Yc(o3,i3,a3,s3);if(u2===null)hd(o3,i3,s3,Nt2,a3),Sc(o3,s3);else if(__name(function(o4,i4,a4,s4,u3){switch(i4){case"focusin":return Et2=Tc(Et2,o4,i4,a4,s4,u3),!0;case"dragenter":return Tt2=Tc(Tt2,o4,i4,a4,s4,u3),!0;case"mouseover":return Rt2=Tc(Rt2,o4,i4,a4,s4,u3),!0;case"pointerover":var O4=u3.pointerId;return Dt2.set(O4,Tc(Dt2.get(O4)||null,o4,i4,a4,s4,u3)),!0;case"gotpointercapture":return O4=u3.pointerId,It2.set(O4,Tc(It2.get(O4)||null,o4,i4,a4,s4,u3)),!0}return!1},"Uc")(u2,o3,i3,a3,s3))s3.stopPropagation();else if(Sc(o3,s3),4&i3&&-1<_t2.indexOf(o3)){for(;u2!==null;){var O3=Cb(u2);if(O3!==null&&bt2(O3),(O3=Yc(o3,i3,a3,s3))===null&&hd(o3,i3,s3,Nt2,a3),O3===u2)break;u2=O3}u2!==null&&s3.stopPropagation()}else hd(o3,i3,s3,null,a3)}}__name(fd,"fd");var Nt2=null;function Yc(o3,i3,a3,s3){if(Nt2=null,(o3=Wc(o3=xb(s3)))!==null)if((i3=Vb(o3))===null)o3=null;else if((a3=i3.tag)===13){if((o3=Wb(i3))!==null)return o3;o3=null}else if(a3===3){if(i3.stateNode.current.memoizedState.isDehydrated)return i3.tag===3?i3.stateNode.containerInfo:null;o3=null}else i3!==o3&&(o3=null);return Nt2=o3,null}__name(Yc,"Yc");function jd(o3){switch(o3){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(at2()){case st2:return 1;case lt2:return 4;case ct2:case ut2:return 16;case dt2:return 536870912;default:return 16}default:return 16}}__name(jd,"jd");var Lt2=null,$t2=null,Ft2=null;function nd(){if(Ft2)return Ft2;var o3,i3,a3=$t2,s3=a3.length,u2="value"in Lt2?Lt2.value:Lt2.textContent,O3=u2.length;for(o3=0;o3<s3&&a3[o3]===u2[o3];o3++);var w3=s3-o3;for(i3=1;i3<=w3&&a3[s3-i3]===u2[O3-i3];i3++);return Ft2=u2.slice(o3,1<i3?1-i3:void 0)}__name(nd,"nd");function od(o3){var i3=o3.keyCode;return"charCode"in o3?(o3=o3.charCode)===0&&i3===13&&(o3=13):o3=i3,o3===10&&(o3=13),32<=o3||o3===13?o3:0}__name(od,"od");function pd(){return!0}__name(pd,"pd");function qd(){return!1}__name(qd,"qd");function rd(o3){function b2(i3,a3,s3,u2,O3){for(var w3 in this._reactName=i3,this._targetInst=s3,this.type=a3,this.nativeEvent=u2,this.target=O3,this.currentTarget=null,o3)o3.hasOwnProperty(w3)&&(i3=o3[w3],this[w3]=i3?i3(u2):u2[w3]);return this.isDefaultPrevented=(u2.defaultPrevented!=null?u2.defaultPrevented:u2.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return __name(b2,"b"),le2(b2.prototype,{preventDefault:__name(function(){this.defaultPrevented=!0;var o4=this.nativeEvent;o4&&(o4.preventDefault?o4.preventDefault():typeof o4.returnValue!="unknown"&&(o4.returnValue=!1),this.isDefaultPrevented=pd)},"preventDefault"),stopPropagation:__name(function(){var o4=this.nativeEvent;o4&&(o4.stopPropagation?o4.stopPropagation():typeof o4.cancelBubble!="unknown"&&(o4.cancelBubble=!0),this.isPropagationStopped=pd)},"stopPropagation"),persist:__name(function(){},"persist"),isPersistent:pd}),b2}__name(rd,"rd");var Bt2,Vt2,zt2,jt2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:__name(function(o3){return o3.timeStamp||Date.now()},"timeStamp"),defaultPrevented:0,isTrusted:0},Wt2=rd(jt2),Ht2=le2({},jt2,{view:0,detail:0}),Ut2=rd(Ht2),Zt2=le2({},Ht2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:__name(function(o3){return o3.relatedTarget===void 0?o3.fromElement===o3.srcElement?o3.toElement:o3.fromElement:o3.relatedTarget},"relatedTarget"),movementX:__name(function(o3){return"movementX"in o3?o3.movementX:(o3!==zt2&&(zt2&&o3.type==="mousemove"?(Bt2=o3.screenX-zt2.screenX,Vt2=o3.screenY-zt2.screenY):Vt2=Bt2=0,zt2=o3),Bt2)},"movementX"),movementY:__name(function(o3){return"movementY"in o3?o3.movementY:Vt2},"movementY")}),qt2=rd(Zt2),Xt2=rd(le2({},Zt2,{dataTransfer:0})),Gt2=rd(le2({},Ht2,{relatedTarget:0})),Yt2=rd(le2({},jt2,{animationName:0,elapsedTime:0,pseudoElement:0})),Kt2=le2({},jt2,{clipboardData:__name(function(o3){return"clipboardData"in o3?o3.clipboardData:window.clipboardData},"clipboardData")}),Jt2=rd(Kt2),en2=rd(le2({},jt2,{data:0})),tn2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nn2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rn2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(o3){var i3=this.nativeEvent;return i3.getModifierState?i3.getModifierState(o3):!!(o3=rn2[o3])&&!!i3[o3]}__name(Pd,"Pd");function zd(){return Pd}__name(zd,"zd");var on2=le2({},Ht2,{key:__name(function(o3){if(o3.key){var i3=tn2[o3.key]||o3.key;if(i3!=="Unidentified")return i3}return o3.type==="keypress"?(o3=od(o3))===13?"Enter":String.fromCharCode(o3):o3.type==="keydown"||o3.type==="keyup"?nn2[o3.keyCode]||"Unidentified":""},"key"),code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:__name(function(o3){return o3.type==="keypress"?od(o3):0},"charCode"),keyCode:__name(function(o3){return o3.type==="keydown"||o3.type==="keyup"?o3.keyCode:0},"keyCode"),which:__name(function(o3){return o3.type==="keypress"?od(o3):o3.type==="keydown"||o3.type==="keyup"?o3.keyCode:0},"which")}),an2=rd(on2),sn2=rd(le2({},Zt2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ln2=rd(le2({},Ht2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd})),cn2=rd(le2({},jt2,{propertyName:0,elapsedTime:0,pseudoElement:0})),un2=le2({},Zt2,{deltaX:__name(function(o3){return"deltaX"in o3?o3.deltaX:"wheelDeltaX"in o3?-o3.wheelDeltaX:0},"deltaX"),deltaY:__name(function(o3){return"deltaY"in o3?o3.deltaY:"wheelDeltaY"in o3?-o3.wheelDeltaY:"wheelDelta"in o3?-o3.wheelDelta:0},"deltaY"),deltaZ:0,deltaMode:0}),dn2=rd(un2),fn2=[9,13,27,32],pn2=O2&&"CompositionEvent"in window,hn2=null;O2&&"documentMode"in document&&(hn2=document.documentMode);var gn2=O2&&"TextEvent"in window&&!hn2,mn2=O2&&(!pn2||hn2&&8<hn2&&11>=hn2),vn2=" ",yn2=!1;function ge2(o3,i3){switch(o3){case"keyup":return fn2.indexOf(i3.keyCode)!==-1;case"keydown":return i3.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}__name(ge2,"ge");function he2(o3){return typeof(o3=o3.detail)=="object"&&"data"in o3?o3.data:null}__name(he2,"he");var On2=!1,bn2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me2(o3){var i3=o3&&o3.nodeName&&o3.nodeName.toLowerCase();return i3==="input"?!!bn2[o3.type]:i3==="textarea"}__name(me2,"me");function ne2(o3,i3,a3,s3){Eb(s3),0<(i3=oe2(i3,"onChange")).length&&(a3=new Wt2("onChange","change",null,a3,s3),o3.push({event:a3,listeners:i3}))}__name(ne2,"ne");var Sn2=null,wn2=null;function re2(o3){se2(o3,0)}__name(re2,"re");function te2(o3){if(Wa(ue2(o3)))return o3}__name(te2,"te");function ve2(o3,i3){if(o3==="change")return i3}__name(ve2,"ve");var xn2=!1;if(O2){var kn2;if(O2){var Cn2="oninput"in document;if(!Cn2){var Pn2=document.createElement("div");Pn2.setAttribute("oninput","return;"),Cn2=typeof Pn2.oninput=="function"}kn2=Cn2}else kn2=!1;xn2=kn2&&(!document.documentMode||9<document.documentMode)}function Ae(){Sn2&&(Sn2.detachEvent("onpropertychange",Be),wn2=Sn2=null)}__name(Ae,"Ae");function Be(o3){if(o3.propertyName==="value"&&te2(wn2)){var i3=[];ne2(i3,wn2,o3,xb(o3)),Jb(re2,i3)}}__name(Be,"Be");function Ce(o3,i3,a3){o3==="focusin"?(Ae(),wn2=a3,(Sn2=i3).attachEvent("onpropertychange",Be)):o3==="focusout"&&Ae()}__name(Ce,"Ce");function De(o3){if(o3==="selectionchange"||o3==="keyup"||o3==="keydown")return te2(wn2)}__name(De,"De");function Ee(o3,i3){if(o3==="click")return te2(i3)}__name(Ee,"Ee");function Fe(o3,i3){if(o3==="input"||o3==="change")return te2(i3)}__name(Fe,"Fe");var En2=typeof Object.is=="function"?Object.is:__name(function(o3,i3){return o3===i3&&(o3!==0||1/o3==1/i3)||o3!=o3&&i3!=i3},"Ge");function Ie(o3,i3){if(En2(o3,i3))return!0;if(typeof o3!="object"||o3===null||typeof i3!="object"||i3===null)return!1;var a3=Object.keys(o3),s3=Object.keys(i3);if(a3.length!==s3.length)return!1;for(s3=0;s3<a3.length;s3++){var u2=a3[s3];if(!w2.call(i3,u2)||!En2(o3[u2],i3[u2]))return!1}return!0}__name(Ie,"Ie");function Je(o3){for(;o3&&o3.firstChild;)o3=o3.firstChild;return o3}__name(Je,"Je");function Ke(o3,i3){var a3,s3=Je(o3);for(o3=0;s3;){if(s3.nodeType===3){if(a3=o3+s3.textContent.length,o3<=i3&&a3>=i3)return{node:s3,offset:i3-o3};o3=a3}e:{for(;s3;){if(s3.nextSibling){s3=s3.nextSibling;break e}s3=s3.parentNode}s3=void 0}s3=Je(s3)}}__name(Ke,"Ke");function Le(o3,i3){return!(!o3||!i3)&&(o3===i3||(!o3||o3.nodeType!==3)&&(i3&&i3.nodeType===3?Le(o3,i3.parentNode):"contains"in o3?o3.contains(i3):!!o3.compareDocumentPosition&&!!(16&o3.compareDocumentPosition(i3))))}__name(Le,"Le");function Me(){for(var o3=window,i3=Xa();i3 instanceof o3.HTMLIFrameElement;){try{var a3=typeof i3.contentWindow.location.href=="string"}catch{a3=!1}if(!a3)break;i3=Xa((o3=i3.contentWindow).document)}return i3}__name(Me,"Me");function Ne(o3){var i3=o3&&o3.nodeName&&o3.nodeName.toLowerCase();return i3&&(i3==="input"&&(o3.type==="text"||o3.type==="search"||o3.type==="tel"||o3.type==="url"||o3.type==="password")||i3==="textarea"||o3.contentEditable==="true")}__name(Ne,"Ne");function Oe(o3){var i3=Me(),a3=o3.focusedElem,s3=o3.selectionRange;if(i3!==a3&&a3&&a3.ownerDocument&&Le(a3.ownerDocument.documentElement,a3)){if(s3!==null&&Ne(a3)){if(i3=s3.start,(o3=s3.end)===void 0&&(o3=i3),"selectionStart"in a3)a3.selectionStart=i3,a3.selectionEnd=Math.min(o3,a3.value.length);else if((o3=(i3=a3.ownerDocument||document)&&i3.defaultView||window).getSelection){o3=o3.getSelection();var u2=a3.textContent.length,O3=Math.min(s3.start,u2);s3=s3.end===void 0?O3:Math.min(s3.end,u2),!o3.extend&&O3>s3&&(u2=s3,s3=O3,O3=u2),u2=Ke(a3,O3);var w3=Ke(a3,s3);u2&&w3&&(o3.rangeCount!==1||o3.anchorNode!==u2.node||o3.anchorOffset!==u2.offset||o3.focusNode!==w3.node||o3.focusOffset!==w3.offset)&&((i3=i3.createRange()).setStart(u2.node,u2.offset),o3.removeAllRanges(),O3>s3?(o3.addRange(i3),o3.extend(w3.node,w3.offset)):(i3.setEnd(w3.node,w3.offset),o3.addRange(i3)))}}for(i3=[],o3=a3;o3=o3.parentNode;)o3.nodeType===1&&i3.push({element:o3,left:o3.scrollLeft,top:o3.scrollTop});for(typeof a3.focus=="function"&&a3.focus(),a3=0;a3<i3.length;a3++)(o3=i3[a3]).element.scrollLeft=o3.left,o3.element.scrollTop=o3.top}}__name(Oe,"Oe");var Tn2=O2&&"documentMode"in document&&11>=document.documentMode,Rn2=null,Dn2=null,In2=null,Mn2=!1;function Ue(o3,i3,a3){var s3=a3.window===a3?a3.document:a3.nodeType===9?a3:a3.ownerDocument;Mn2||Rn2==null||Rn2!==Xa(s3)||("selectionStart"in(s3=Rn2)&&Ne(s3)?s3={start:s3.selectionStart,end:s3.selectionEnd}:s3={anchorNode:(s3=(s3.ownerDocument&&s3.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s3.anchorOffset,focusNode:s3.focusNode,focusOffset:s3.focusOffset},In2&&Ie(In2,s3)||(In2=s3,0<(s3=oe2(Dn2,"onSelect")).length&&(i3=new Wt2("onSelect","select",null,i3,a3),o3.push({event:i3,listeners:s3}),i3.target=Rn2)))}__name(Ue,"Ue");function Ve(o3,i3){var a3={};return a3[o3.toLowerCase()]=i3.toLowerCase(),a3["Webkit"+o3]="webkit"+i3,a3["Moz"+o3]="moz"+i3,a3}__name(Ve,"Ve");var _n2={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},An2={},Qn2={};function Ze(o3){if(An2[o3])return An2[o3];if(!_n2[o3])return o3;var i3,a3=_n2[o3];for(i3 in a3)if(a3.hasOwnProperty(i3)&&i3 in Qn2)return An2[o3]=a3[i3];return o3}__name(Ze,"Ze"),O2&&(Qn2=document.createElement("div").style,"AnimationEvent"in window||(delete _n2.animationend.animation,delete _n2.animationiteration.animation,delete _n2.animationstart.animation),"TransitionEvent"in window||delete _n2.transitionend.transition);var Nn2=Ze("animationend"),Ln2=Ze("animationiteration"),$n2=Ze("animationstart"),Fn2=Ze("transitionend"),Bn2=new Map,Vn2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o3,i3){Bn2.set(o3,i3),fa(i3,[o3])}__name(ff,"ff");for(var zn2=0;zn2<Vn2.length;zn2++){var jn2=Vn2[zn2];ff(jn2.toLowerCase(),"on"+(jn2[0].toUpperCase()+jn2.slice(1)))}ff(Nn2,"onAnimationEnd"),ff(Ln2,"onAnimationIteration"),ff($n2,"onAnimationStart"),ff("dblclick","onDoubleClick"),ff("focusin","onFocus"),ff("focusout","onBlur"),ff(Fn2,"onTransitionEnd"),ha("onMouseEnter",["mouseout","mouseover"]),ha("onMouseLeave",["mouseout","mouseover"]),ha("onPointerEnter",["pointerout","pointerover"]),ha("onPointerLeave",["pointerout","pointerover"]),fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fa("onBeforeInput",["compositionend","keypress","textInput","paste"]),fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wn2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hn2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wn2));function nf(o3,i3,a3){var s3=o3.type||"unknown-event";o3.currentTarget=a3,__name(function(o4,i4,a4,s4,u2,O3,w3,x3,C3){if(Tb.apply(this,arguments),He2){if(!He2)throw Error(p2(198));var T3=qe2;He2=!1,qe2=null,Xe2||(Xe2=!0,Ye2=T3)}},"Ub")(s3,i3,void 0,o3),o3.currentTarget=null}__name(nf,"nf");function se2(o3,i3){i3=!!(4&i3);for(var a3=0;a3<o3.length;a3++){var s3=o3[a3],u2=s3.event;s3=s3.listeners;e:{var O3=void 0;if(i3)for(var w3=s3.length-1;0<=w3;w3--){var x3=s3[w3],C3=x3.instance,T3=x3.currentTarget;if(x3=x3.listener,C3!==O3&&u2.isPropagationStopped())break e;nf(u2,x3,T3),O3=C3}else for(w3=0;w3<s3.length;w3++){if(C3=(x3=s3[w3]).instance,T3=x3.currentTarget,x3=x3.listener,C3!==O3&&u2.isPropagationStopped())break e;nf(u2,x3,T3),O3=C3}}}if(Xe2)throw o3=Ye2,Xe2=!1,Ye2=null,o3}__name(se2,"se");function D2(o3,i3){var a3=i3[ir2];a3===void 0&&(a3=i3[ir2]=new Set);var s3=o3+"__bubble";a3.has(s3)||(pf(i3,o3,2,!1),a3.add(s3))}__name(D2,"D");function qf(o3,i3,a3){var s3=0;i3&&(s3|=4),pf(a3,o3,s3,i3)}__name(qf,"qf");var Un2="_reactListening"+Math.random().toString(36).slice(2);function sf(o3){if(!o3[Un2]){o3[Un2]=!0,a2.forEach(function(i4){i4!=="selectionchange"&&(Hn2.has(i4)||qf(i4,!1,o3),qf(i4,!0,o3))});var i3=o3.nodeType===9?o3:o3.ownerDocument;i3===null||i3[Un2]||(i3[Un2]=!0,qf("selectionchange",!1,i3))}}__name(sf,"sf");function pf(o3,i3,a3,s3){switch(jd(i3)){case 1:var u2=ed;break;case 4:u2=gd;break;default:u2=fd}a3=u2.bind(null,i3,a3,o3),u2=void 0,!ze2||i3!=="touchstart"&&i3!=="touchmove"&&i3!=="wheel"||(u2=!0),s3?u2!==void 0?o3.addEventListener(i3,a3,{capture:!0,passive:u2}):o3.addEventListener(i3,a3,!0):u2!==void 0?o3.addEventListener(i3,a3,{passive:u2}):o3.addEventListener(i3,a3,!1)}__name(pf,"pf");function hd(o3,i3,a3,s3,u2){var O3=s3;if(!(1&i3||2&i3||s3===null))e:for(;;){if(s3===null)return;var w3=s3.tag;if(w3===3||w3===4){var x3=s3.stateNode.containerInfo;if(x3===u2||x3.nodeType===8&&x3.parentNode===u2)break;if(w3===4)for(w3=s3.return;w3!==null;){var C3=w3.tag;if((C3===3||C3===4)&&((C3=w3.stateNode.containerInfo)===u2||C3.nodeType===8&&C3.parentNode===u2))return;w3=w3.return}for(;x3!==null;){if((w3=Wc(x3))===null)return;if((C3=w3.tag)===5||C3===6){s3=O3=w3;continue e}x3=x3.parentNode}}s3=s3.return}Jb(function(){var s4=O3,u3=xb(a3),w4=[];e:{var x4=Bn2.get(o3);if(x4!==void 0){var C4=Wt2,T3=o3;switch(o3){case"keypress":if(od(a3)===0)break e;case"keydown":case"keyup":C4=an2;break;case"focusin":T3="focus",C4=Gt2;break;case"focusout":T3="blur",C4=Gt2;break;case"beforeblur":case"afterblur":C4=Gt2;break;case"click":if(a3.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C4=qt2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C4=Xt2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C4=ln2;break;case Nn2:case Ln2:case $n2:C4=Yt2;break;case Fn2:C4=cn2;break;case"scroll":C4=Ut2;break;case"wheel":C4=dn2;break;case"copy":case"cut":case"paste":C4=Jt2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C4=sn2}var _3=!!(4&i3),A3=!_3&&o3==="scroll",Q3=_3?x4!==null?x4+"Capture":null:x4;_3=[];for(var N3,L3=s4;L3!==null;){var $3=(N3=L3).stateNode;if(N3.tag===5&&$3!==null&&(N3=$3,Q3!==null&&($3=Kb(L3,Q3))!=null&&_3.push(tf(L3,$3,N3))),A3)break;L3=L3.return}0<_3.length&&(x4=new C4(x4,T3,null,a3,u3),w4.push({event:x4,listeners:_3}))}}if(!(7&i3)){if(C4=o3==="mouseout"||o3==="pointerout",(!(x4=o3==="mouseover"||o3==="pointerover")||a3===Te2||!(T3=a3.relatedTarget||a3.fromElement)||!Wc(T3)&&!T3[or2])&&(C4||x4)&&(x4=u3.window===u3?u3:(x4=u3.ownerDocument)?x4.defaultView||x4.parentWindow:window,C4?(C4=s4,(T3=(T3=a3.relatedTarget||a3.toElement)?Wc(T3):null)!==null&&(T3!==(A3=Vb(T3))||T3.tag!==5&&T3.tag!==6)&&(T3=null)):(C4=null,T3=s4),C4!==T3)){if(_3=qt2,$3="onMouseLeave",Q3="onMouseEnter",L3="mouse",o3!=="pointerout"&&o3!=="pointerover"||(_3=sn2,$3="onPointerLeave",Q3="onPointerEnter",L3="pointer"),A3=C4==null?x4:ue2(C4),N3=T3==null?x4:ue2(T3),(x4=new _3($3,L3+"leave",C4,a3,u3)).target=A3,x4.relatedTarget=N3,$3=null,Wc(u3)===s4&&((_3=new _3(Q3,L3+"enter",T3,a3,u3)).target=N3,_3.relatedTarget=A3,$3=_3),A3=$3,C4&&T3)e:{for(Q3=T3,L3=0,N3=_3=C4;N3;N3=vf(N3))L3++;for(N3=0,$3=Q3;$3;$3=vf($3))N3++;for(;0<L3-N3;)_3=vf(_3),L3--;for(;0<N3-L3;)Q3=vf(Q3),N3--;for(;L3--;){if(_3===Q3||Q3!==null&&_3===Q3.alternate)break e;_3=vf(_3),Q3=vf(Q3)}_3=null}else _3=null;C4!==null&&wf(w4,x4,C4,_3,!1),T3!==null&&A3!==null&&wf(w4,A3,T3,_3,!0)}if((C4=(x4=s4?ue2(s4):window).nodeName&&x4.nodeName.toLowerCase())==="select"||C4==="input"&&x4.type==="file")var F3=ve2;else if(me2(x4))if(xn2)F3=Fe;else{F3=De;var B3=Ce}else(C4=x4.nodeName)&&C4.toLowerCase()==="input"&&(x4.type==="checkbox"||x4.type==="radio")&&(F3=Ee);switch(F3&&(F3=F3(o3,s4))?ne2(w4,F3,a3,u3):(B3&&B3(o3,x4,s4),o3==="focusout"&&(B3=x4._wrapperState)&&B3.controlled&&x4.type==="number"&&cb(x4,"number",x4.value)),B3=s4?ue2(s4):window,o3){case"focusin":(me2(B3)||B3.contentEditable==="true")&&(Rn2=B3,Dn2=s4,In2=null);break;case"focusout":In2=Dn2=Rn2=null;break;case"mousedown":Mn2=!0;break;case"contextmenu":case"mouseup":case"dragend":Mn2=!1,Ue(w4,a3,u3);break;case"selectionchange":if(Tn2)break;case"keydown":case"keyup":Ue(w4,a3,u3)}var V3;if(pn2)e:{switch(o3){case"compositionstart":var z3="onCompositionStart";break e;case"compositionend":z3="onCompositionEnd";break e;case"compositionupdate":z3="onCompositionUpdate";break e}z3=void 0}else On2?ge2(o3,a3)&&(z3="onCompositionEnd"):o3==="keydown"&&a3.keyCode===229&&(z3="onCompositionStart");z3&&(mn2&&a3.locale!=="ko"&&(On2||z3!=="onCompositionStart"?z3==="onCompositionEnd"&&On2&&(V3=nd()):($t2="value"in(Lt2=u3)?Lt2.value:Lt2.textContent,On2=!0)),0<(B3=oe2(s4,z3)).length&&(z3=new en2(z3,o3,null,a3,u3),w4.push({event:z3,listeners:B3}),(V3||(V3=he2(a3))!==null)&&(z3.data=V3))),(V3=gn2?__name(function(o4,i4){switch(o4){case"compositionend":return he2(i4);case"keypress":return i4.which!==32?null:(yn2=!0,vn2);case"textInput":return(o4=i4.data)===vn2&&yn2?null:o4;default:return null}},"je")(o3,a3):__name(function(o4,i4){if(On2)return o4==="compositionend"||!pn2&&ge2(o4,i4)?(o4=nd(),Ft2=$t2=Lt2=null,On2=!1,o4):null;switch(o4){case"paste":default:return null;case"keypress":if(!(i4.ctrlKey||i4.altKey||i4.metaKey)||i4.ctrlKey&&i4.altKey){if(i4.char&&1<i4.char.length)return i4.char;if(i4.which)return String.fromCharCode(i4.which)}return null;case"compositionend":return mn2&&i4.locale!=="ko"?null:i4.data}},"ke")(o3,a3))&&0<(s4=oe2(s4,"onBeforeInput")).length&&(u3=new en2("onBeforeInput","beforeinput",null,a3,u3),w4.push({event:u3,listeners:s4}),u3.data=V3)}se2(w4,i3)})}__name(hd,"hd");function tf(o3,i3,a3){return{instance:o3,listener:i3,currentTarget:a3}}__name(tf,"tf");function oe2(o3,i3){for(var a3=i3+"Capture",s3=[];o3!==null;){var u2=o3,O3=u2.stateNode;u2.tag===5&&O3!==null&&(u2=O3,(O3=Kb(o3,a3))!=null&&s3.unshift(tf(o3,O3,u2)),(O3=Kb(o3,i3))!=null&&s3.push(tf(o3,O3,u2))),o3=o3.return}return s3}__name(oe2,"oe");function vf(o3){if(o3===null)return null;do o3=o3.return;while(o3&&o3.tag!==5);return o3||null}__name(vf,"vf");function wf(o3,i3,a3,s3,u2){for(var O3=i3._reactName,w3=[];a3!==null&&a3!==s3;){var x3=a3,C3=x3.alternate,T3=x3.stateNode;if(C3!==null&&C3===s3)break;x3.tag===5&&T3!==null&&(x3=T3,u2?(C3=Kb(a3,O3))!=null&&w3.unshift(tf(a3,C3,x3)):u2||(C3=Kb(a3,O3))!=null&&w3.push(tf(a3,C3,x3))),a3=a3.return}w3.length!==0&&o3.push({event:i3,listeners:w3})}__name(wf,"wf");var Zn2=/\r\n?/g,qn2=/\u0000|\uFFFD/g;function zf(o3){return(typeof o3=="string"?o3:""+o3).replace(Zn2,`
`).replace(qn2,"")}__name(zf,"zf");function Af(o3,i3,a3){if(i3=zf(i3),zf(o3)!==i3&&a3)throw Error(p2(425))}__name(Af,"Af");function Bf(){}__name(Bf,"Bf");var Xn2=null,Gn2=null;function Ef(o3,i3){return o3==="textarea"||o3==="noscript"||typeof i3.children=="string"||typeof i3.children=="number"||typeof i3.dangerouslySetInnerHTML=="object"&&i3.dangerouslySetInnerHTML!==null&&i3.dangerouslySetInnerHTML.__html!=null}__name(Ef,"Ef");var Yn2=typeof setTimeout=="function"?setTimeout:void 0,Kn2=typeof clearTimeout=="function"?clearTimeout:void 0,Jn2=typeof Promise=="function"?Promise:void 0,er2=typeof queueMicrotask=="function"?queueMicrotask:Jn2!==void 0?function(o3){return Jn2.resolve(null).then(o3).catch(If)}:Yn2;function If(o3){setTimeout(function(){throw o3})}__name(If,"If");function Kf(o3,i3){var a3=i3,s3=0;do{var u2=a3.nextSibling;if(o3.removeChild(a3),u2&&u2.nodeType===8)if((a3=u2.data)==="/$"){if(s3===0)return o3.removeChild(u2),void bd(i3);s3--}else a3!=="$"&&a3!=="$?"&&a3!=="$!"||s3++;a3=u2}while(a3);bd(i3)}__name(Kf,"Kf");function Lf(o3){for(;o3!=null;o3=o3.nextSibling){var i3=o3.nodeType;if(i3===1||i3===3)break;if(i3===8){if((i3=o3.data)==="$"||i3==="$!"||i3==="$?")break;if(i3==="/$")return null}}return o3}__name(Lf,"Lf");function Mf(o3){o3=o3.previousSibling;for(var i3=0;o3;){if(o3.nodeType===8){var a3=o3.data;if(a3==="$"||a3==="$!"||a3==="$?"){if(i3===0)return o3;i3--}else a3==="/$"&&i3++}o3=o3.previousSibling}return null}__name(Mf,"Mf");var tr2=Math.random().toString(36).slice(2),nr2="__reactFiber$"+tr2,rr2="__reactProps$"+tr2,or2="__reactContainer$"+tr2,ir2="__reactEvents$"+tr2,ar2="__reactListeners$"+tr2,sr2="__reactHandles$"+tr2;function Wc(o3){var i3=o3[nr2];if(i3)return i3;for(var a3=o3.parentNode;a3;){if(i3=a3[or2]||a3[nr2]){if(a3=i3.alternate,i3.child!==null||a3!==null&&a3.child!==null)for(o3=Mf(o3);o3!==null;){if(a3=o3[nr2])return a3;o3=Mf(o3)}return i3}a3=(o3=a3).parentNode}return null}__name(Wc,"Wc");function Cb(o3){return!(o3=o3[nr2]||o3[or2])||o3.tag!==5&&o3.tag!==6&&o3.tag!==13&&o3.tag!==3?null:o3}__name(Cb,"Cb");function ue2(o3){if(o3.tag===5||o3.tag===6)return o3.stateNode;throw Error(p2(33))}__name(ue2,"ue");function Db(o3){return o3[rr2]||null}__name(Db,"Db");var lr2=[],cr2=-1;function Uf(o3){return{current:o3}}__name(Uf,"Uf");function E2(o3){0>cr2||(o3.current=lr2[cr2],lr2[cr2]=null,cr2--)}__name(E2,"E");function G2(o3,i3){cr2++,lr2[cr2]=o3.current,o3.current=i3}__name(G2,"G");var ur2={},dr2=Uf(ur2),fr2=Uf(!1),pr2=ur2;function Yf(o3,i3){var a3=o3.type.contextTypes;if(!a3)return ur2;var s3=o3.stateNode;if(s3&&s3.__reactInternalMemoizedUnmaskedChildContext===i3)return s3.__reactInternalMemoizedMaskedChildContext;var u2,O3={};for(u2 in a3)O3[u2]=i3[u2];return s3&&((o3=o3.stateNode).__reactInternalMemoizedUnmaskedChildContext=i3,o3.__reactInternalMemoizedMaskedChildContext=O3),O3}__name(Yf,"Yf");function Zf(o3){return(o3=o3.childContextTypes)!=null}__name(Zf,"Zf");function $f(){E2(fr2),E2(dr2)}__name($f,"$f");function ag(o3,i3,a3){if(dr2.current!==ur2)throw Error(p2(168));G2(dr2,i3),G2(fr2,a3)}__name(ag,"ag");function bg(o3,i3,a3){var s3=o3.stateNode;if(i3=i3.childContextTypes,typeof s3.getChildContext!="function")return a3;for(var u2 in s3=s3.getChildContext())if(!(u2 in i3))throw Error(p2(108,Ra(o3)||"Unknown",u2));return le2({},a3,s3)}__name(bg,"bg");function cg(o3){return o3=(o3=o3.stateNode)&&o3.__reactInternalMemoizedMergedChildContext||ur2,pr2=dr2.current,G2(dr2,o3),G2(fr2,fr2.current),!0}__name(cg,"cg");function dg(o3,i3,a3){var s3=o3.stateNode;if(!s3)throw Error(p2(169));a3?(o3=bg(o3,i3,pr2),s3.__reactInternalMemoizedMergedChildContext=o3,E2(fr2),E2(dr2),G2(dr2,o3)):E2(fr2),G2(fr2,a3)}__name(dg,"dg");var hr2=null,gr2=!1,mr2=!1;function hg(o3){hr2===null?hr2=[o3]:hr2.push(o3)}__name(hg,"hg");function jg(){if(!mr2&&hr2!==null){mr2=!0;var o3=0,i3=Ot2;try{var a3=hr2;for(Ot2=1;o3<a3.length;o3++){var s3=a3[o3];do s3=s3(!0);while(s3!==null)}hr2=null,gr2=!1}catch(i4){throw hr2!==null&&(hr2=hr2.slice(o3+1)),tt2(st2,jg),i4}finally{Ot2=i3,mr2=!1}}return null}__name(jg,"jg");var vr2=[],yr2=0,Or2=null,br2=0,Sr2=[],wr2=0,xr2=null,kr2=1,Cr2="";function tg(o3,i3){vr2[yr2++]=br2,vr2[yr2++]=Or2,Or2=o3,br2=i3}__name(tg,"tg");function ug(o3,i3,a3){Sr2[wr2++]=kr2,Sr2[wr2++]=Cr2,Sr2[wr2++]=xr2,xr2=o3;var s3=kr2;o3=Cr2;var u2=32-ht2(s3)-1;s3&=~(1<<u2),a3+=1;var O3=32-ht2(i3)+u2;if(30<O3){var w3=u2-u2%5;O3=(s3&(1<<w3)-1).toString(32),s3>>=w3,u2-=w3,kr2=1<<32-ht2(i3)+u2|a3<<u2|s3,Cr2=O3+o3}else kr2=1<<O3|a3<<u2|s3,Cr2=o3}__name(ug,"ug");function vg(o3){o3.return!==null&&(tg(o3,1),ug(o3,1,0))}__name(vg,"vg");function wg(o3){for(;o3===Or2;)Or2=vr2[--yr2],vr2[yr2]=null,br2=vr2[--yr2],vr2[yr2]=null;for(;o3===xr2;)xr2=Sr2[--wr2],Sr2[wr2]=null,Cr2=Sr2[--wr2],Sr2[wr2]=null,kr2=Sr2[--wr2],Sr2[wr2]=null}__name(wg,"wg");var Pr2=null,Er2=null,Tr2=!1,Rr2=null;function Ag(o3,i3){var a3=Bg(5,null,null,0);a3.elementType="DELETED",a3.stateNode=i3,a3.return=o3,(i3=o3.deletions)===null?(o3.deletions=[a3],o3.flags|=16):i3.push(a3)}__name(Ag,"Ag");function Cg(o3,i3){switch(o3.tag){case 5:var a3=o3.type;return(i3=i3.nodeType!==1||a3.toLowerCase()!==i3.nodeName.toLowerCase()?null:i3)!==null&&(o3.stateNode=i3,Pr2=o3,Er2=Lf(i3.firstChild),!0);case 6:return(i3=o3.pendingProps===""||i3.nodeType!==3?null:i3)!==null&&(o3.stateNode=i3,Pr2=o3,Er2=null,!0);case 13:return(i3=i3.nodeType!==8?null:i3)!==null&&(a3=xr2!==null?{id:kr2,overflow:Cr2}:null,o3.memoizedState={dehydrated:i3,treeContext:a3,retryLane:1073741824},(a3=Bg(18,null,null,0)).stateNode=i3,a3.return=o3,o3.child=a3,Pr2=o3,Er2=null,!0);default:return!1}}__name(Cg,"Cg");function Dg(o3){return!(!(1&o3.mode)||128&o3.flags)}__name(Dg,"Dg");function Eg(o3){if(Tr2){var i3=Er2;if(i3){var a3=i3;if(!Cg(o3,i3)){if(Dg(o3))throw Error(p2(418));i3=Lf(a3.nextSibling);var s3=Pr2;i3&&Cg(o3,i3)?Ag(s3,a3):(o3.flags=-4097&o3.flags|2,Tr2=!1,Pr2=o3)}}else{if(Dg(o3))throw Error(p2(418));o3.flags=-4097&o3.flags|2,Tr2=!1,Pr2=o3}}}__name(Eg,"Eg");function Fg(o3){for(o3=o3.return;o3!==null&&o3.tag!==5&&o3.tag!==3&&o3.tag!==13;)o3=o3.return;Pr2=o3}__name(Fg,"Fg");function Gg(o3){if(o3!==Pr2)return!1;if(!Tr2)return Fg(o3),Tr2=!0,!1;var i3;if((i3=o3.tag!==3)&&!(i3=o3.tag!==5)&&(i3=(i3=o3.type)!=="head"&&i3!=="body"&&!Ef(o3.type,o3.memoizedProps)),i3&&(i3=Er2)){if(Dg(o3))throw Hg(),Error(p2(418));for(;i3;)Ag(o3,i3),i3=Lf(i3.nextSibling)}if(Fg(o3),o3.tag===13){if(!(o3=(o3=o3.memoizedState)!==null?o3.dehydrated:null))throw Error(p2(317));e:{for(o3=o3.nextSibling,i3=0;o3;){if(o3.nodeType===8){var a3=o3.data;if(a3==="/$"){if(i3===0){Er2=Lf(o3.nextSibling);break e}i3--}else a3!=="$"&&a3!=="$!"&&a3!=="$?"||i3++}o3=o3.nextSibling}Er2=null}}else Er2=Pr2?Lf(o3.stateNode.nextSibling):null;return!0}__name(Gg,"Gg");function Hg(){for(var o3=Er2;o3;)o3=Lf(o3.nextSibling)}__name(Hg,"Hg");function Ig(){Er2=Pr2=null,Tr2=!1}__name(Ig,"Ig");function Jg(o3){Rr2===null?Rr2=[o3]:Rr2.push(o3)}__name(Jg,"Jg");var Dr2=Q2.ReactCurrentBatchConfig;function Lg(o3,i3,a3){if((o3=a3.ref)!==null&&typeof o3!="function"&&typeof o3!="object"){if(a3._owner){if(a3=a3._owner){if(a3.tag!==1)throw Error(p2(309));var s3=a3.stateNode}if(!s3)throw Error(p2(147,o3));var u2=s3,O3=""+o3;return i3!==null&&i3.ref!==null&&typeof i3.ref=="function"&&i3.ref._stringRef===O3?i3.ref:(i3=__name(function(o4){var i4=u2.refs;o4===null?delete i4[O3]:i4[O3]=o4},"i3"),i3._stringRef=O3,i3)}if(typeof o3!="string")throw Error(p2(284));if(!a3._owner)throw Error(p2(290,o3))}return o3}__name(Lg,"Lg");function Mg(o3,i3){throw o3=Object.prototype.toString.call(i3),Error(p2(31,o3==="[object Object]"?"object with keys {"+Object.keys(i3).join(", ")+"}":o3))}__name(Mg,"Mg");function Ng(o3){return(0,o3._init)(o3._payload)}__name(Ng,"Ng");function Og(o3){function b2(i3,a3){if(o3){var s3=i3.deletions;s3===null?(i3.deletions=[a3],i3.flags|=16):s3.push(a3)}}__name(b2,"b");function c2(i3,a3){if(!o3)return null;for(;a3!==null;)b2(i3,a3),a3=a3.sibling;return null}__name(c2,"c");function d2(o4,i3){for(o4=new Map;i3!==null;)i3.key!==null?o4.set(i3.key,i3):o4.set(i3.index,i3),i3=i3.sibling;return o4}__name(d2,"d");function e2(o4,i3){return(o4=Pg(o4,i3)).index=0,o4.sibling=null,o4}__name(e2,"e");function f2(i3,a3,s3){return i3.index=s3,o3?(s3=i3.alternate)!==null?(s3=s3.index)<a3?(i3.flags|=2,a3):s3:(i3.flags|=2,a3):(i3.flags|=1048576,a3)}__name(f2,"f");function g2(i3){return o3&&i3.alternate===null&&(i3.flags|=2),i3}__name(g2,"g");function h2(o4,i3,a3,s3){return i3===null||i3.tag!==6?((i3=Qg(a3,o4.mode,s3)).return=o4,i3):((i3=e2(i3,a3)).return=o4,i3)}__name(h2,"h");function k2(o4,i3,a3,s3){var u2=a3.type;return u2===$2?m2(o4,i3,a3.props.children,s3,a3.key):i3!==null&&(i3.elementType===u2||typeof u2=="object"&&u2!==null&&u2.$$typeof===Y2&&Ng(u2)===i3.type)?((s3=e2(i3,a3.props)).ref=Lg(o4,i3,a3),s3.return=o4,s3):((s3=Rg(a3.type,a3.key,a3.props,null,o4.mode,s3)).ref=Lg(o4,i3,a3),s3.return=o4,s3)}__name(k2,"k");function l2(o4,i3,a3,s3){return i3===null||i3.tag!==4||i3.stateNode.containerInfo!==a3.containerInfo||i3.stateNode.implementation!==a3.implementation?((i3=Sg(a3,o4.mode,s3)).return=o4,i3):((i3=e2(i3,a3.children||[])).return=o4,i3)}__name(l2,"l");function m2(o4,i3,a3,s3,u2){return i3===null||i3.tag!==7?((i3=Tg(a3,o4.mode,s3,u2)).return=o4,i3):((i3=e2(i3,a3)).return=o4,i3)}__name(m2,"m");function q2(o4,i3,a3){if(typeof i3=="string"&&i3!==""||typeof i3=="number")return(i3=Qg(""+i3,o4.mode,a3)).return=o4,i3;if(typeof i3=="object"&&i3!==null){switch(i3.$$typeof){case N2:return(a3=Rg(i3.type,i3.key,i3.props,null,o4.mode,a3)).ref=Lg(o4,null,i3),a3.return=o4,a3;case L2:return(i3=Sg(i3,o4.mode,a3)).return=o4,i3;case Y2:return q2(o4,(0,i3._init)(i3._payload),a3)}if(fe2(i3)||Ka(i3))return(i3=Tg(i3,o4.mode,a3,null)).return=o4,i3;Mg(o4,i3)}return null}__name(q2,"q");function r2(o4,i3,a3,s3){var u2=i3!==null?i3.key:null;if(typeof a3=="string"&&a3!==""||typeof a3=="number")return u2!==null?null:h2(o4,i3,""+a3,s3);if(typeof a3=="object"&&a3!==null){switch(a3.$$typeof){case N2:return a3.key===u2?k2(o4,i3,a3,s3):null;case L2:return a3.key===u2?l2(o4,i3,a3,s3):null;case Y2:return r2(o4,i3,(u2=a3._init)(a3._payload),s3)}if(fe2(a3)||Ka(a3))return u2!==null?null:m2(o4,i3,a3,s3,null);Mg(o4,a3)}return null}__name(r2,"r");function y2(o4,i3,a3,s3,u2){if(typeof s3=="string"&&s3!==""||typeof s3=="number")return h2(i3,o4=o4.get(a3)||null,""+s3,u2);if(typeof s3=="object"&&s3!==null){switch(s3.$$typeof){case N2:return k2(i3,o4=o4.get(s3.key===null?a3:s3.key)||null,s3,u2);case L2:return l2(i3,o4=o4.get(s3.key===null?a3:s3.key)||null,s3,u2);case Y2:return y2(o4,i3,a3,(0,s3._init)(s3._payload),u2)}if(fe2(s3)||Ka(s3))return m2(i3,o4=o4.get(a3)||null,s3,u2,null);Mg(i3,s3)}return null}__name(y2,"y");function n2(i3,a3,s3,u2){for(var O3=null,w3=null,x3=a3,C3=a3=0,T3=null;x3!==null&&C3<s3.length;C3++){x3.index>C3?(T3=x3,x3=null):T3=x3.sibling;var _3=r2(i3,x3,s3[C3],u2);if(_3===null){x3===null&&(x3=T3);break}o3&&x3&&_3.alternate===null&&b2(i3,x3),a3=f2(_3,a3,C3),w3===null?O3=_3:w3.sibling=_3,w3=_3,x3=T3}if(C3===s3.length)return c2(i3,x3),Tr2&&tg(i3,C3),O3;if(x3===null){for(;C3<s3.length;C3++)(x3=q2(i3,s3[C3],u2))!==null&&(a3=f2(x3,a3,C3),w3===null?O3=x3:w3.sibling=x3,w3=x3);return Tr2&&tg(i3,C3),O3}for(x3=d2(i3,x3);C3<s3.length;C3++)(T3=y2(x3,i3,C3,s3[C3],u2))!==null&&(o3&&T3.alternate!==null&&x3.delete(T3.key===null?C3:T3.key),a3=f2(T3,a3,C3),w3===null?O3=T3:w3.sibling=T3,w3=T3);return o3&&x3.forEach(function(o4){return b2(i3,o4)}),Tr2&&tg(i3,C3),O3}__name(n2,"n");function t2(i3,a3,s3,u2){var O3=Ka(s3);if(typeof O3!="function")throw Error(p2(150));if((s3=O3.call(s3))==null)throw Error(p2(151));for(var w3=O3=null,x3=a3,C3=a3=0,T3=null,_3=s3.next();x3!==null&&!_3.done;C3++,_3=s3.next()){x3.index>C3?(T3=x3,x3=null):T3=x3.sibling;var A3=r2(i3,x3,_3.value,u2);if(A3===null){x3===null&&(x3=T3);break}o3&&x3&&A3.alternate===null&&b2(i3,x3),a3=f2(A3,a3,C3),w3===null?O3=A3:w3.sibling=A3,w3=A3,x3=T3}if(_3.done)return c2(i3,x3),Tr2&&tg(i3,C3),O3;if(x3===null){for(;!_3.done;C3++,_3=s3.next())(_3=q2(i3,_3.value,u2))!==null&&(a3=f2(_3,a3,C3),w3===null?O3=_3:w3.sibling=_3,w3=_3);return Tr2&&tg(i3,C3),O3}for(x3=d2(i3,x3);!_3.done;C3++,_3=s3.next())(_3=y2(x3,i3,C3,_3.value,u2))!==null&&(o3&&_3.alternate!==null&&x3.delete(_3.key===null?C3:_3.key),a3=f2(_3,a3,C3),w3===null?O3=_3:w3.sibling=_3,w3=_3);return o3&&x3.forEach(function(o4){return b2(i3,o4)}),Tr2&&tg(i3,C3),O3}return __name(t2,"t"),__name(function J2(o4,i3,a3,s3){if(typeof a3=="object"&&a3!==null&&a3.type===$2&&a3.key===null&&(a3=a3.props.children),typeof a3=="object"&&a3!==null){switch(a3.$$typeof){case N2:e:{for(var u2=a3.key,O3=i3;O3!==null;){if(O3.key===u2){if((u2=a3.type)===$2){if(O3.tag===7){c2(o4,O3.sibling),(i3=e2(O3,a3.props.children)).return=o4,o4=i3;break e}}else if(O3.elementType===u2||typeof u2=="object"&&u2!==null&&u2.$$typeof===Y2&&Ng(u2)===O3.type){c2(o4,O3.sibling),(i3=e2(O3,a3.props)).ref=Lg(o4,O3,a3),i3.return=o4,o4=i3;break e}c2(o4,O3);break}b2(o4,O3),O3=O3.sibling}a3.type===$2?((i3=Tg(a3.props.children,o4.mode,s3,a3.key)).return=o4,o4=i3):((s3=Rg(a3.type,a3.key,a3.props,null,o4.mode,s3)).ref=Lg(o4,i3,a3),s3.return=o4,o4=s3)}return g2(o4);case L2:e:{for(O3=a3.key;i3!==null;){if(i3.key===O3){if(i3.tag===4&&i3.stateNode.containerInfo===a3.containerInfo&&i3.stateNode.implementation===a3.implementation){c2(o4,i3.sibling),(i3=e2(i3,a3.children||[])).return=o4,o4=i3;break e}c2(o4,i3);break}b2(o4,i3),i3=i3.sibling}(i3=Sg(a3,o4.mode,s3)).return=o4,o4=i3}return g2(o4);case Y2:return J2(o4,i3,(O3=a3._init)(a3._payload),s3)}if(fe2(a3))return n2(o4,i3,a3,s3);if(Ka(a3))return t2(o4,i3,a3,s3);Mg(o4,a3)}return typeof a3=="string"&&a3!==""||typeof a3=="number"?(a3=""+a3,i3!==null&&i3.tag===6?(c2(o4,i3.sibling),(i3=e2(i3,a3)).return=o4,o4=i3):(c2(o4,i3),(i3=Qg(a3,o4.mode,s3)).return=o4,o4=i3),g2(o4)):c2(o4,i3)},"J")}__name(Og,"Og");var Ir2=Og(!0),Mr2=Og(!1),_r2=Uf(null),Ar2=null,Qr2=null,Nr2=null;function $g(){Nr2=Qr2=Ar2=null}__name($g,"$g");function ah(o3){var i3=_r2.current;E2(_r2),o3._currentValue=i3}__name(ah,"ah");function bh(o3,i3,a3){for(;o3!==null;){var s3=o3.alternate;if((o3.childLanes&i3)!==i3?(o3.childLanes|=i3,s3!==null&&(s3.childLanes|=i3)):s3!==null&&(s3.childLanes&i3)!==i3&&(s3.childLanes|=i3),o3===a3)break;o3=o3.return}}__name(bh,"bh");function ch(o3,i3){Ar2=o3,Nr2=Qr2=null,(o3=o3.dependencies)!==null&&o3.firstContext!==null&&(o3.lanes&i3&&(lo2=!0),o3.firstContext=null)}__name(ch,"ch");function eh(o3){var i3=o3._currentValue;if(Nr2!==o3)if(o3={context:o3,memoizedValue:i3,next:null},Qr2===null){if(Ar2===null)throw Error(p2(308));Qr2=o3,Ar2.dependencies={lanes:0,firstContext:o3}}else Qr2=Qr2.next=o3;return i3}__name(eh,"eh");var Lr2=null;function gh(o3){Lr2===null?Lr2=[o3]:Lr2.push(o3)}__name(gh,"gh");function hh(o3,i3,a3,s3){var u2=i3.interleaved;return u2===null?(a3.next=a3,gh(i3)):(a3.next=u2.next,u2.next=a3),i3.interleaved=a3,ih(o3,s3)}__name(hh,"hh");function ih(o3,i3){o3.lanes|=i3;var a3=o3.alternate;for(a3!==null&&(a3.lanes|=i3),a3=o3,o3=o3.return;o3!==null;)o3.childLanes|=i3,(a3=o3.alternate)!==null&&(a3.childLanes|=i3),a3=o3,o3=o3.return;return a3.tag===3?a3.stateNode:null}__name(ih,"ih");var $r2=!1;function kh(o3){o3.updateQueue={baseState:o3.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}__name(kh,"kh");function lh(o3,i3){o3=o3.updateQueue,i3.updateQueue===o3&&(i3.updateQueue={baseState:o3.baseState,firstBaseUpdate:o3.firstBaseUpdate,lastBaseUpdate:o3.lastBaseUpdate,shared:o3.shared,effects:o3.effects})}__name(lh,"lh");function mh(o3,i3){return{eventTime:o3,lane:i3,tag:0,payload:null,callback:null,next:null}}__name(mh,"mh");function nh(o3,i3,a3){var s3=o3.updateQueue;if(s3===null)return null;if(s3=s3.shared,2&To2){var u2=s3.pending;return u2===null?i3.next=i3:(i3.next=u2.next,u2.next=i3),s3.pending=i3,ih(o3,a3)}return(u2=s3.interleaved)===null?(i3.next=i3,gh(s3)):(i3.next=u2.next,u2.next=i3),s3.interleaved=i3,ih(o3,a3)}__name(nh,"nh");function oh(o3,i3,a3){if((i3=i3.updateQueue)!==null&&(i3=i3.shared,4194240&a3)){var s3=i3.lanes;a3|=s3&=o3.pendingLanes,i3.lanes=a3,Cc(o3,a3)}}__name(oh,"oh");function ph(o3,i3){var a3=o3.updateQueue,s3=o3.alternate;if(s3!==null&&a3===(s3=s3.updateQueue)){var u2=null,O3=null;if((a3=a3.firstBaseUpdate)!==null){do{var w3={eventTime:a3.eventTime,lane:a3.lane,tag:a3.tag,payload:a3.payload,callback:a3.callback,next:null};O3===null?u2=O3=w3:O3=O3.next=w3,a3=a3.next}while(a3!==null);O3===null?u2=O3=i3:O3=O3.next=i3}else u2=O3=i3;return a3={baseState:s3.baseState,firstBaseUpdate:u2,lastBaseUpdate:O3,shared:s3.shared,effects:s3.effects},void(o3.updateQueue=a3)}(o3=a3.lastBaseUpdate)===null?a3.firstBaseUpdate=i3:o3.next=i3,a3.lastBaseUpdate=i3}__name(ph,"ph");function qh(o3,i3,a3,s3){var u2=o3.updateQueue;$r2=!1;var O3=u2.firstBaseUpdate,w3=u2.lastBaseUpdate,x3=u2.shared.pending;if(x3!==null){u2.shared.pending=null;var C3=x3,T3=C3.next;C3.next=null,w3===null?O3=T3:w3.next=T3,w3=C3;var _3=o3.alternate;_3!==null&&(x3=(_3=_3.updateQueue).lastBaseUpdate)!==w3&&(x3===null?_3.firstBaseUpdate=T3:x3.next=T3,_3.lastBaseUpdate=C3)}if(O3!==null){var A3=u2.baseState;for(w3=0,_3=T3=C3=null,x3=O3;;){var Q3=x3.lane,N3=x3.eventTime;if((s3&Q3)===Q3){_3!==null&&(_3=_3.next={eventTime:N3,lane:0,tag:x3.tag,payload:x3.payload,callback:x3.callback,next:null});e:{var L3=o3,$3=x3;switch(Q3=i3,N3=a3,$3.tag){case 1:if(typeof(L3=$3.payload)=="function"){A3=L3.call(N3,A3,Q3);break e}A3=L3;break e;case 3:L3.flags=-65537&L3.flags|128;case 0:if((Q3=typeof(L3=$3.payload)=="function"?L3.call(N3,A3,Q3):L3)==null)break e;A3=le2({},A3,Q3);break e;case 2:$r2=!0}}x3.callback!==null&&x3.lane!==0&&(o3.flags|=64,(Q3=u2.effects)===null?u2.effects=[x3]:Q3.push(x3))}else N3={eventTime:N3,lane:Q3,tag:x3.tag,payload:x3.payload,callback:x3.callback,next:null},_3===null?(T3=_3=N3,C3=A3):_3=_3.next=N3,w3|=Q3;if((x3=x3.next)===null){if((x3=u2.shared.pending)===null)break;x3=(Q3=x3).next,Q3.next=null,u2.lastBaseUpdate=Q3,u2.shared.pending=null}}if(_3===null&&(C3=A3),u2.baseState=C3,u2.firstBaseUpdate=T3,u2.lastBaseUpdate=_3,(i3=u2.shared.interleaved)!==null){u2=i3;do w3|=u2.lane,u2=u2.next;while(u2!==i3)}else O3===null&&(u2.shared.lanes=0);No2|=w3,o3.lanes=w3,o3.memoizedState=A3}}__name(qh,"qh");function sh(o3,i3,a3){if(o3=i3.effects,i3.effects=null,o3!==null)for(i3=0;i3<o3.length;i3++){var s3=o3[i3],u2=s3.callback;if(u2!==null){if(s3.callback=null,s3=a3,typeof u2!="function")throw Error(p2(191,u2));u2.call(s3)}}}__name(sh,"sh");var Fr2={},Br2=Uf(Fr2),Vr2=Uf(Fr2),zr2=Uf(Fr2);function xh(o3){if(o3===Fr2)throw Error(p2(174));return o3}__name(xh,"xh");function yh(o3,i3){switch(G2(zr2,i3),G2(Vr2,o3),G2(Br2,Fr2),o3=i3.nodeType){case 9:case 11:i3=(i3=i3.documentElement)?i3.namespaceURI:lb(null,"");break;default:i3=lb(i3=(o3=o3===8?i3.parentNode:i3).namespaceURI||null,o3=o3.tagName)}E2(Br2),G2(Br2,i3)}__name(yh,"yh");function zh(){E2(Br2),E2(Vr2),E2(zr2)}__name(zh,"zh");function Ah(o3){xh(zr2.current);var i3=xh(Br2.current),a3=lb(i3,o3.type);i3!==a3&&(G2(Vr2,o3),G2(Br2,a3))}__name(Ah,"Ah");function Bh(o3){Vr2.current===o3&&(E2(Br2),E2(Vr2))}__name(Bh,"Bh");var jr2=Uf(0);function Ch(o3){for(var i3=o3;i3!==null;){if(i3.tag===13){var a3=i3.memoizedState;if(a3!==null&&((a3=a3.dehydrated)===null||a3.data==="$?"||a3.data==="$!"))return i3}else if(i3.tag===19&&i3.memoizedProps.revealOrder!==void 0){if(128&i3.flags)return i3}else if(i3.child!==null){i3.child.return=i3,i3=i3.child;continue}if(i3===o3)break;for(;i3.sibling===null;){if(i3.return===null||i3.return===o3)return null;i3=i3.return}i3.sibling.return=i3.return,i3=i3.sibling}return null}__name(Ch,"Ch");var Wr2=[];function Eh(){for(var o3=0;o3<Wr2.length;o3++)Wr2[o3]._workInProgressVersionPrimary=null;Wr2.length=0}__name(Eh,"Eh");var Hr2=Q2.ReactCurrentDispatcher,Ur2=Q2.ReactCurrentBatchConfig,Zr2=0,qr2=null,Xr2=null,Gr2=null,Yr2=!1,Kr2=!1,Jr2=0,eo2=0;function P2(){throw Error(p2(321))}__name(P2,"P");function Mh(o3,i3){if(i3===null)return!1;for(var a3=0;a3<i3.length&&a3<o3.length;a3++)if(!En2(o3[a3],i3[a3]))return!1;return!0}__name(Mh,"Mh");function Nh(o3,i3,a3,s3,u2,O3){if(Zr2=O3,qr2=i3,i3.memoizedState=null,i3.updateQueue=null,i3.lanes=0,Hr2.current=o3===null||o3.memoizedState===null?no2:ro2,o3=a3(s3,u2),Kr2){O3=0;do{if(Kr2=!1,Jr2=0,25<=O3)throw Error(p2(301));O3+=1,Gr2=Xr2=null,i3.updateQueue=null,Hr2.current=oo2,o3=a3(s3,u2)}while(Kr2)}if(Hr2.current=to2,i3=Xr2!==null&&Xr2.next!==null,Zr2=0,Gr2=Xr2=qr2=null,Yr2=!1,i3)throw Error(p2(300));return o3}__name(Nh,"Nh");function Sh(){var o3=Jr2!==0;return Jr2=0,o3}__name(Sh,"Sh");function Th(){var o3={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gr2===null?qr2.memoizedState=Gr2=o3:Gr2=Gr2.next=o3,Gr2}__name(Th,"Th");function Uh(){if(Xr2===null){var o3=qr2.alternate;o3=o3!==null?o3.memoizedState:null}else o3=Xr2.next;var i3=Gr2===null?qr2.memoizedState:Gr2.next;if(i3!==null)Gr2=i3,Xr2=o3;else{if(o3===null)throw Error(p2(310));o3={memoizedState:(Xr2=o3).memoizedState,baseState:Xr2.baseState,baseQueue:Xr2.baseQueue,queue:Xr2.queue,next:null},Gr2===null?qr2.memoizedState=Gr2=o3:Gr2=Gr2.next=o3}return Gr2}__name(Uh,"Uh");function Vh(o3,i3){return typeof i3=="function"?i3(o3):i3}__name(Vh,"Vh");function Wh(o3){var i3=Uh(),a3=i3.queue;if(a3===null)throw Error(p2(311));a3.lastRenderedReducer=o3;var s3=Xr2,u2=s3.baseQueue,O3=a3.pending;if(O3!==null){if(u2!==null){var w3=u2.next;u2.next=O3.next,O3.next=w3}s3.baseQueue=u2=O3,a3.pending=null}if(u2!==null){O3=u2.next,s3=s3.baseState;var x3=w3=null,C3=null,T3=O3;do{var _3=T3.lane;if((Zr2&_3)===_3)C3!==null&&(C3=C3.next={lane:0,action:T3.action,hasEagerState:T3.hasEagerState,eagerState:T3.eagerState,next:null}),s3=T3.hasEagerState?T3.eagerState:o3(s3,T3.action);else{var A3={lane:_3,action:T3.action,hasEagerState:T3.hasEagerState,eagerState:T3.eagerState,next:null};C3===null?(x3=C3=A3,w3=s3):C3=C3.next=A3,qr2.lanes|=_3,No2|=_3}T3=T3.next}while(T3!==null&&T3!==O3);C3===null?w3=s3:C3.next=x3,En2(s3,i3.memoizedState)||(lo2=!0),i3.memoizedState=s3,i3.baseState=w3,i3.baseQueue=C3,a3.lastRenderedState=s3}if((o3=a3.interleaved)!==null){u2=o3;do O3=u2.lane,qr2.lanes|=O3,No2|=O3,u2=u2.next;while(u2!==o3)}else u2===null&&(a3.lanes=0);return[i3.memoizedState,a3.dispatch]}__name(Wh,"Wh");function Xh(o3){var i3=Uh(),a3=i3.queue;if(a3===null)throw Error(p2(311));a3.lastRenderedReducer=o3;var s3=a3.dispatch,u2=a3.pending,O3=i3.memoizedState;if(u2!==null){a3.pending=null;var w3=u2=u2.next;do O3=o3(O3,w3.action),w3=w3.next;while(w3!==u2);En2(O3,i3.memoizedState)||(lo2=!0),i3.memoizedState=O3,i3.baseQueue===null&&(i3.baseState=O3),a3.lastRenderedState=O3}return[O3,s3]}__name(Xh,"Xh");function Yh(){}__name(Yh,"Yh");function Zh(o3,i3){var a3=qr2,s3=Uh(),u2=i3(),O3=!En2(s3.memoizedState,u2);if(O3&&(s3.memoizedState=u2,lo2=!0),s3=s3.queue,$h(ai.bind(null,a3,s3,o3),[o3]),s3.getSnapshot!==i3||O3||Gr2!==null&&1&Gr2.memoizedState.tag){if(a3.flags|=2048,bi(9,ci.bind(null,a3,s3,u2,i3),void 0,null),Ro2===null)throw Error(p2(349));30&Zr2||di(a3,i3,u2)}return u2}__name(Zh,"Zh");function di(o3,i3,a3){o3.flags|=16384,o3={getSnapshot:i3,value:a3},(i3=qr2.updateQueue)===null?(i3={lastEffect:null,stores:null},qr2.updateQueue=i3,i3.stores=[o3]):(a3=i3.stores)===null?i3.stores=[o3]:a3.push(o3)}__name(di,"di");function ci(o3,i3,a3,s3){i3.value=a3,i3.getSnapshot=s3,ei(i3)&&fi(o3)}__name(ci,"ci");function ai(o3,i3,a3){return a3(function(){ei(i3)&&fi(o3)})}__name(ai,"ai");function ei(o3){var i3=o3.getSnapshot;o3=o3.value;try{var a3=i3();return!En2(o3,a3)}catch{return!0}}__name(ei,"ei");function fi(o3){var i3=ih(o3,1);i3!==null&&gi(i3,o3,1,-1)}__name(fi,"fi");function hi(o3){var i3=Th();return typeof o3=="function"&&(o3=o3()),i3.memoizedState=i3.baseState=o3,o3={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:o3},i3.queue=o3,o3=o3.dispatch=ii.bind(null,qr2,o3),[i3.memoizedState,o3]}__name(hi,"hi");function bi(o3,i3,a3,s3){return o3={tag:o3,create:i3,destroy:a3,deps:s3,next:null},(i3=qr2.updateQueue)===null?(i3={lastEffect:null,stores:null},qr2.updateQueue=i3,i3.lastEffect=o3.next=o3):(a3=i3.lastEffect)===null?i3.lastEffect=o3.next=o3:(s3=a3.next,a3.next=o3,o3.next=s3,i3.lastEffect=o3),o3}__name(bi,"bi");function ji(){return Uh().memoizedState}__name(ji,"ji");function ki(o3,i3,a3,s3){var u2=Th();qr2.flags|=o3,u2.memoizedState=bi(1|i3,a3,void 0,s3===void 0?null:s3)}__name(ki,"ki");function li(o3,i3,a3,s3){var u2=Uh();s3=s3===void 0?null:s3;var O3=void 0;if(Xr2!==null){var w3=Xr2.memoizedState;if(O3=w3.destroy,s3!==null&&Mh(s3,w3.deps))return void(u2.memoizedState=bi(i3,a3,O3,s3))}qr2.flags|=o3,u2.memoizedState=bi(1|i3,a3,O3,s3)}__name(li,"li");function mi(o3,i3){return ki(8390656,8,o3,i3)}__name(mi,"mi");function $h(o3,i3){return li(2048,8,o3,i3)}__name($h,"$h");function ni(o3,i3){return li(4,2,o3,i3)}__name(ni,"ni");function oi(o3,i3){return li(4,4,o3,i3)}__name(oi,"oi");function pi(o3,i3){return typeof i3=="function"?(o3=o3(),i3(o3),function(){i3(null)}):i3!=null?(o3=o3(),i3.current=o3,function(){i3.current=null}):void 0}__name(pi,"pi");function qi(o3,i3,a3){return a3=a3!=null?a3.concat([o3]):null,li(4,4,pi.bind(null,i3,o3),a3)}__name(qi,"qi");function ri(){}__name(ri,"ri");function si(o3,i3){var a3=Uh();i3=i3===void 0?null:i3;var s3=a3.memoizedState;return s3!==null&&i3!==null&&Mh(i3,s3[1])?s3[0]:(a3.memoizedState=[o3,i3],o3)}__name(si,"si");function ti(o3,i3){var a3=Uh();i3=i3===void 0?null:i3;var s3=a3.memoizedState;return s3!==null&&i3!==null&&Mh(i3,s3[1])?s3[0]:(o3=o3(),a3.memoizedState=[o3,i3],o3)}__name(ti,"ti");function ui(o3,i3,a3){return 21&Zr2?(En2(a3,i3)||(a3=yc(),qr2.lanes|=a3,No2|=a3,o3.baseState=!0),i3):(o3.baseState&&(o3.baseState=!1,lo2=!0),o3.memoizedState=a3)}__name(ui,"ui");function vi(o3,i3){var a3=Ot2;Ot2=a3!==0&&4>a3?a3:4,o3(!0);var s3=Ur2.transition;Ur2.transition={};try{o3(!1),i3()}finally{Ot2=a3,Ur2.transition=s3}}__name(vi,"vi");function wi(){return Uh().memoizedState}__name(wi,"wi");function xi(o3,i3,a3){var s3=yi(o3);a3={lane:s3,action:a3,hasEagerState:!1,eagerState:null,next:null},zi(o3)?Ai(i3,a3):(a3=hh(o3,i3,a3,s3))!==null&&(gi(a3,o3,s3,R2()),Bi(a3,i3,s3))}__name(xi,"xi");function ii(o3,i3,a3){var s3=yi(o3),u2={lane:s3,action:a3,hasEagerState:!1,eagerState:null,next:null};if(zi(o3))Ai(i3,u2);else{var O3=o3.alternate;if(o3.lanes===0&&(O3===null||O3.lanes===0)&&(O3=i3.lastRenderedReducer)!==null)try{var w3=i3.lastRenderedState,x3=O3(w3,a3);if(u2.hasEagerState=!0,u2.eagerState=x3,En2(x3,w3)){var C3=i3.interleaved;return C3===null?(u2.next=u2,gh(i3)):(u2.next=C3.next,C3.next=u2),void(i3.interleaved=u2)}}catch{}(a3=hh(o3,i3,u2,s3))!==null&&(gi(a3,o3,s3,u2=R2()),Bi(a3,i3,s3))}}__name(ii,"ii");function zi(o3){var i3=o3.alternate;return o3===qr2||i3!==null&&i3===qr2}__name(zi,"zi");function Ai(o3,i3){Kr2=Yr2=!0;var a3=o3.pending;a3===null?i3.next=i3:(i3.next=a3.next,a3.next=i3),o3.pending=i3}__name(Ai,"Ai");function Bi(o3,i3,a3){if(4194240&a3){var s3=i3.lanes;a3|=s3&=o3.pendingLanes,i3.lanes=a3,Cc(o3,a3)}}__name(Bi,"Bi");var to2={readContext:eh,useCallback:P2,useContext:P2,useEffect:P2,useImperativeHandle:P2,useInsertionEffect:P2,useLayoutEffect:P2,useMemo:P2,useReducer:P2,useRef:P2,useState:P2,useDebugValue:P2,useDeferredValue:P2,useTransition:P2,useMutableSource:P2,useSyncExternalStore:P2,useId:P2,unstable_isNewReconciler:!1},no2={readContext:eh,useCallback:__name(function(o3,i3){return Th().memoizedState=[o3,i3===void 0?null:i3],o3},"useCallback"),useContext:eh,useEffect:mi,useImperativeHandle:__name(function(o3,i3,a3){return a3=a3!=null?a3.concat([o3]):null,ki(4194308,4,pi.bind(null,i3,o3),a3)},"useImperativeHandle"),useLayoutEffect:__name(function(o3,i3){return ki(4194308,4,o3,i3)},"useLayoutEffect"),useInsertionEffect:__name(function(o3,i3){return ki(4,2,o3,i3)},"useInsertionEffect"),useMemo:__name(function(o3,i3){var a3=Th();return i3=i3===void 0?null:i3,o3=o3(),a3.memoizedState=[o3,i3],o3},"useMemo"),useReducer:__name(function(o3,i3,a3){var s3=Th();return i3=a3!==void 0?a3(i3):i3,s3.memoizedState=s3.baseState=i3,o3={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o3,lastRenderedState:i3},s3.queue=o3,o3=o3.dispatch=xi.bind(null,qr2,o3),[s3.memoizedState,o3]},"useReducer"),useRef:__name(function(o3){return o3={current:o3},Th().memoizedState=o3},"useRef"),useState:hi,useDebugValue:ri,useDeferredValue:__name(function(o3){return Th().memoizedState=o3},"useDeferredValue"),useTransition:__name(function(){var o3=hi(!1),i3=o3[0];return o3=vi.bind(null,o3[1]),Th().memoizedState=o3,[i3,o3]},"useTransition"),useMutableSource:__name(function(){},"useMutableSource"),useSyncExternalStore:__name(function(o3,i3,a3){var s3=qr2,u2=Th();if(Tr2){if(a3===void 0)throw Error(p2(407));a3=a3()}else{if(a3=i3(),Ro2===null)throw Error(p2(349));30&Zr2||di(s3,i3,a3)}u2.memoizedState=a3;var O3={value:a3,getSnapshot:i3};return u2.queue=O3,mi(ai.bind(null,s3,O3,o3),[o3]),s3.flags|=2048,bi(9,ci.bind(null,s3,O3,a3,i3),void 0,null),a3},"useSyncExternalStore"),useId:__name(function(){var o3=Th(),i3=Ro2.identifierPrefix;if(Tr2){var a3=Cr2;i3=":"+i3+"R"+(a3=(kr2&~(1<<32-ht2(kr2)-1)).toString(32)+a3),0<(a3=Jr2++)&&(i3+="H"+a3.toString(32)),i3+=":"}else i3=":"+i3+"r"+(a3=eo2++).toString(32)+":";return o3.memoizedState=i3},"useId"),unstable_isNewReconciler:!1},ro2={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Wh,useRef:ji,useState:__name(function(){return Wh(Vh)},"useState"),useDebugValue:ri,useDeferredValue:__name(function(o3){return ui(Uh(),Xr2.memoizedState,o3)},"useDeferredValue"),useTransition:__name(function(){return[Wh(Vh)[0],Uh().memoizedState]},"useTransition"),useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1},oo2={readContext:eh,useCallback:si,useContext:eh,useEffect:$h,useImperativeHandle:qi,useInsertionEffect:ni,useLayoutEffect:oi,useMemo:ti,useReducer:Xh,useRef:ji,useState:__name(function(){return Xh(Vh)},"useState"),useDebugValue:ri,useDeferredValue:__name(function(o3){var i3=Uh();return Xr2===null?i3.memoizedState=o3:ui(i3,Xr2.memoizedState,o3)},"useDeferredValue"),useTransition:__name(function(){return[Xh(Vh)[0],Uh().memoizedState]},"useTransition"),useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi,unstable_isNewReconciler:!1};function Ci(o3,i3){if(o3&&o3.defaultProps){for(var a3 in i3=le2({},i3),o3=o3.defaultProps)i3[a3]===void 0&&(i3[a3]=o3[a3]);return i3}return i3}__name(Ci,"Ci");function Di(o3,i3,a3,s3){a3=(a3=a3(s3,i3=o3.memoizedState))==null?i3:le2({},i3,a3),o3.memoizedState=a3,o3.lanes===0&&(o3.updateQueue.baseState=a3)}__name(Di,"Di");var io2={isMounted:__name(function(o3){return!!(o3=o3._reactInternals)&&Vb(o3)===o3},"isMounted"),enqueueSetState:__name(function(o3,i3,a3){o3=o3._reactInternals;var s3=R2(),u2=yi(o3),O3=mh(s3,u2);O3.payload=i3,a3!=null&&(O3.callback=a3),(i3=nh(o3,O3,u2))!==null&&(gi(i3,o3,u2,s3),oh(i3,o3,u2))},"enqueueSetState"),enqueueReplaceState:__name(function(o3,i3,a3){o3=o3._reactInternals;var s3=R2(),u2=yi(o3),O3=mh(s3,u2);O3.tag=1,O3.payload=i3,a3!=null&&(O3.callback=a3),(i3=nh(o3,O3,u2))!==null&&(gi(i3,o3,u2,s3),oh(i3,o3,u2))},"enqueueReplaceState"),enqueueForceUpdate:__name(function(o3,i3){o3=o3._reactInternals;var a3=R2(),s3=yi(o3),u2=mh(a3,s3);u2.tag=2,i3!=null&&(u2.callback=i3),(i3=nh(o3,u2,s3))!==null&&(gi(i3,o3,s3,a3),oh(i3,o3,s3))},"enqueueForceUpdate")};function Fi(o3,i3,a3,s3,u2,O3,w3){return typeof(o3=o3.stateNode).shouldComponentUpdate=="function"?o3.shouldComponentUpdate(s3,O3,w3):!i3.prototype||!i3.prototype.isPureReactComponent||!Ie(a3,s3)||!Ie(u2,O3)}__name(Fi,"Fi");function Gi(o3,i3,a3){var s3=!1,u2=ur2,O3=i3.contextType;return typeof O3=="object"&&O3!==null?O3=eh(O3):(u2=Zf(i3)?pr2:dr2.current,O3=(s3=(s3=i3.contextTypes)!=null)?Yf(o3,u2):ur2),i3=new i3(a3,O3),o3.memoizedState=i3.state!==null&&i3.state!==void 0?i3.state:null,i3.updater=io2,o3.stateNode=i3,i3._reactInternals=o3,s3&&((o3=o3.stateNode).__reactInternalMemoizedUnmaskedChildContext=u2,o3.__reactInternalMemoizedMaskedChildContext=O3),i3}__name(Gi,"Gi");function Hi(o3,i3,a3,s3){o3=i3.state,typeof i3.componentWillReceiveProps=="function"&&i3.componentWillReceiveProps(a3,s3),typeof i3.UNSAFE_componentWillReceiveProps=="function"&&i3.UNSAFE_componentWillReceiveProps(a3,s3),i3.state!==o3&&io2.enqueueReplaceState(i3,i3.state,null)}__name(Hi,"Hi");function Ii(o3,i3,a3,s3){var u2=o3.stateNode;u2.props=a3,u2.state=o3.memoizedState,u2.refs={},kh(o3);var O3=i3.contextType;typeof O3=="object"&&O3!==null?u2.context=eh(O3):(O3=Zf(i3)?pr2:dr2.current,u2.context=Yf(o3,O3)),u2.state=o3.memoizedState,typeof(O3=i3.getDerivedStateFromProps)=="function"&&(Di(o3,i3,O3,a3),u2.state=o3.memoizedState),typeof i3.getDerivedStateFromProps=="function"||typeof u2.getSnapshotBeforeUpdate=="function"||typeof u2.UNSAFE_componentWillMount!="function"&&typeof u2.componentWillMount!="function"||(i3=u2.state,typeof u2.componentWillMount=="function"&&u2.componentWillMount(),typeof u2.UNSAFE_componentWillMount=="function"&&u2.UNSAFE_componentWillMount(),i3!==u2.state&&io2.enqueueReplaceState(u2,u2.state,null),qh(o3,a3,u2,s3),u2.state=o3.memoizedState),typeof u2.componentDidMount=="function"&&(o3.flags|=4194308)}__name(Ii,"Ii");function Ji(o3,i3){try{var a3="",s3=i3;do a3+=Pa(s3),s3=s3.return;while(s3);var u2=a3}catch(o4){u2=`
Error generating stack: `+o4.message+`
`+o4.stack}return{value:o3,source:i3,stack:u2,digest:null}}__name(Ji,"Ji");function Ki(o3,i3,a3){return{value:o3,source:null,stack:a3??null,digest:i3??null}}__name(Ki,"Ki");function Li(o3,i3){try{console.error(i3.value)}catch(o4){setTimeout(function(){throw o4})}}__name(Li,"Li");var ao2=typeof WeakMap=="function"?WeakMap:Map;function Ni(o3,i3,a3){(a3=mh(-1,a3)).tag=3,a3.payload={element:null};var s3=i3.value;return a3.callback=function(){Wo2||(Wo2=!0,Ho2=s3),Li(0,i3)},a3}__name(Ni,"Ni");function Qi(o3,i3,a3){(a3=mh(-1,a3)).tag=3;var s3=o3.type.getDerivedStateFromError;if(typeof s3=="function"){var u2=i3.value;a3.payload=function(){return s3(u2)},a3.callback=function(){Li(0,i3)}}var O3=o3.stateNode;return O3!==null&&typeof O3.componentDidCatch=="function"&&(a3.callback=function(){Li(0,i3),typeof s3!="function"&&(Uo2===null?Uo2=new Set([this]):Uo2.add(this));var o4=i3.stack;this.componentDidCatch(i3.value,{componentStack:o4!==null?o4:""})}),a3}__name(Qi,"Qi");function Si(o3,i3,a3){var s3=o3.pingCache;if(s3===null){s3=o3.pingCache=new ao2;var u2=new Set;s3.set(i3,u2)}else(u2=s3.get(i3))===void 0&&(u2=new Set,s3.set(i3,u2));u2.has(a3)||(u2.add(a3),o3=Ti.bind(null,o3,i3,a3),i3.then(o3,o3))}__name(Si,"Si");function Ui(o3){do{var i3;if((i3=o3.tag===13)&&(i3=(i3=o3.memoizedState)===null||i3.dehydrated!==null),i3)return o3;o3=o3.return}while(o3!==null);return null}__name(Ui,"Ui");function Vi(o3,i3,a3,s3,u2){return 1&o3.mode?(o3.flags|=65536,o3.lanes=u2,o3):(o3===i3?o3.flags|=65536:(o3.flags|=128,a3.flags|=131072,a3.flags&=-52805,a3.tag===1&&(a3.alternate===null?a3.tag=17:((i3=mh(-1,1)).tag=2,nh(a3,i3,1))),a3.lanes|=1),o3)}__name(Vi,"Vi");var so2=Q2.ReactCurrentOwner,lo2=!1;function Xi(o3,i3,a3,s3){i3.child=o3===null?Mr2(i3,null,a3,s3):Ir2(i3,o3.child,a3,s3)}__name(Xi,"Xi");function Yi(o3,i3,a3,s3,u2){a3=a3.render;var O3=i3.ref;return ch(i3,u2),s3=Nh(o3,i3,a3,s3,O3,u2),a3=Sh(),o3===null||lo2?(Tr2&&a3&&vg(i3),i3.flags|=1,Xi(o3,i3,s3,u2),i3.child):(i3.updateQueue=o3.updateQueue,i3.flags&=-2053,o3.lanes&=~u2,Zi(o3,i3,u2))}__name(Yi,"Yi");function $i(o3,i3,a3,s3,u2){if(o3===null){var O3=a3.type;return typeof O3!="function"||aj(O3)||O3.defaultProps!==void 0||a3.compare!==null||a3.defaultProps!==void 0?((o3=Rg(a3.type,null,s3,i3,i3.mode,u2)).ref=i3.ref,o3.return=i3,i3.child=o3):(i3.tag=15,i3.type=O3,bj(o3,i3,O3,s3,u2))}if(O3=o3.child,!(o3.lanes&u2)){var w3=O3.memoizedProps;if((a3=(a3=a3.compare)!==null?a3:Ie)(w3,s3)&&o3.ref===i3.ref)return Zi(o3,i3,u2)}return i3.flags|=1,(o3=Pg(O3,s3)).ref=i3.ref,o3.return=i3,i3.child=o3}__name($i,"$i");function bj(o3,i3,a3,s3,u2){if(o3!==null){var O3=o3.memoizedProps;if(Ie(O3,s3)&&o3.ref===i3.ref){if(lo2=!1,i3.pendingProps=s3=O3,!(o3.lanes&u2))return i3.lanes=o3.lanes,Zi(o3,i3,u2);131072&o3.flags&&(lo2=!0)}}return cj(o3,i3,a3,s3,u2)}__name(bj,"bj");function dj(o3,i3,a3){var s3=i3.pendingProps,u2=s3.children,O3=o3!==null?o3.memoizedState:null;if(s3.mode==="hidden")if(1&i3.mode){if(!(1073741824&a3))return o3=O3!==null?O3.baseLanes|a3:a3,i3.lanes=i3.childLanes=1073741824,i3.memoizedState={baseLanes:o3,cachePool:null,transitions:null},i3.updateQueue=null,G2(_o2,Mo2),Mo2|=o3,null;i3.memoizedState={baseLanes:0,cachePool:null,transitions:null},s3=O3!==null?O3.baseLanes:a3,G2(_o2,Mo2),Mo2|=s3}else i3.memoizedState={baseLanes:0,cachePool:null,transitions:null},G2(_o2,Mo2),Mo2|=a3;else O3!==null?(s3=O3.baseLanes|a3,i3.memoizedState=null):s3=a3,G2(_o2,Mo2),Mo2|=s3;return Xi(o3,i3,u2,a3),i3.child}__name(dj,"dj");function gj(o3,i3){var a3=i3.ref;(o3===null&&a3!==null||o3!==null&&o3.ref!==a3)&&(i3.flags|=512,i3.flags|=2097152)}__name(gj,"gj");function cj(o3,i3,a3,s3,u2){var O3=Zf(a3)?pr2:dr2.current;return O3=Yf(i3,O3),ch(i3,u2),a3=Nh(o3,i3,a3,s3,O3,u2),s3=Sh(),o3===null||lo2?(Tr2&&s3&&vg(i3),i3.flags|=1,Xi(o3,i3,a3,u2),i3.child):(i3.updateQueue=o3.updateQueue,i3.flags&=-2053,o3.lanes&=~u2,Zi(o3,i3,u2))}__name(cj,"cj");function hj(o3,i3,a3,s3,u2){if(Zf(a3)){var O3=!0;cg(i3)}else O3=!1;if(ch(i3,u2),i3.stateNode===null)ij(o3,i3),Gi(i3,a3,s3),Ii(i3,a3,s3,u2),s3=!0;else if(o3===null){var w3=i3.stateNode,x3=i3.memoizedProps;w3.props=x3;var C3=w3.context,T3=a3.contextType;typeof T3=="object"&&T3!==null?T3=eh(T3):T3=Yf(i3,T3=Zf(a3)?pr2:dr2.current);var _3=a3.getDerivedStateFromProps,A3=typeof _3=="function"||typeof w3.getSnapshotBeforeUpdate=="function";A3||typeof w3.UNSAFE_componentWillReceiveProps!="function"&&typeof w3.componentWillReceiveProps!="function"||(x3!==s3||C3!==T3)&&Hi(i3,w3,s3,T3),$r2=!1;var Q3=i3.memoizedState;w3.state=Q3,qh(i3,s3,w3,u2),C3=i3.memoizedState,x3!==s3||Q3!==C3||fr2.current||$r2?(typeof _3=="function"&&(Di(i3,a3,_3,s3),C3=i3.memoizedState),(x3=$r2||Fi(i3,a3,x3,s3,Q3,C3,T3))?(A3||typeof w3.UNSAFE_componentWillMount!="function"&&typeof w3.componentWillMount!="function"||(typeof w3.componentWillMount=="function"&&w3.componentWillMount(),typeof w3.UNSAFE_componentWillMount=="function"&&w3.UNSAFE_componentWillMount()),typeof w3.componentDidMount=="function"&&(i3.flags|=4194308)):(typeof w3.componentDidMount=="function"&&(i3.flags|=4194308),i3.memoizedProps=s3,i3.memoizedState=C3),w3.props=s3,w3.state=C3,w3.context=T3,s3=x3):(typeof w3.componentDidMount=="function"&&(i3.flags|=4194308),s3=!1)}else{w3=i3.stateNode,lh(o3,i3),x3=i3.memoizedProps,T3=i3.type===i3.elementType?x3:Ci(i3.type,x3),w3.props=T3,A3=i3.pendingProps,Q3=w3.context,typeof(C3=a3.contextType)=="object"&&C3!==null?C3=eh(C3):C3=Yf(i3,C3=Zf(a3)?pr2:dr2.current);var N3=a3.getDerivedStateFromProps;(_3=typeof N3=="function"||typeof w3.getSnapshotBeforeUpdate=="function")||typeof w3.UNSAFE_componentWillReceiveProps!="function"&&typeof w3.componentWillReceiveProps!="function"||(x3!==A3||Q3!==C3)&&Hi(i3,w3,s3,C3),$r2=!1,Q3=i3.memoizedState,w3.state=Q3,qh(i3,s3,w3,u2);var L3=i3.memoizedState;x3!==A3||Q3!==L3||fr2.current||$r2?(typeof N3=="function"&&(Di(i3,a3,N3,s3),L3=i3.memoizedState),(T3=$r2||Fi(i3,a3,T3,s3,Q3,L3,C3)||!1)?(_3||typeof w3.UNSAFE_componentWillUpdate!="function"&&typeof w3.componentWillUpdate!="function"||(typeof w3.componentWillUpdate=="function"&&w3.componentWillUpdate(s3,L3,C3),typeof w3.UNSAFE_componentWillUpdate=="function"&&w3.UNSAFE_componentWillUpdate(s3,L3,C3)),typeof w3.componentDidUpdate=="function"&&(i3.flags|=4),typeof w3.getSnapshotBeforeUpdate=="function"&&(i3.flags|=1024)):(typeof w3.componentDidUpdate!="function"||x3===o3.memoizedProps&&Q3===o3.memoizedState||(i3.flags|=4),typeof w3.getSnapshotBeforeUpdate!="function"||x3===o3.memoizedProps&&Q3===o3.memoizedState||(i3.flags|=1024),i3.memoizedProps=s3,i3.memoizedState=L3),w3.props=s3,w3.state=L3,w3.context=C3,s3=T3):(typeof w3.componentDidUpdate!="function"||x3===o3.memoizedProps&&Q3===o3.memoizedState||(i3.flags|=4),typeof w3.getSnapshotBeforeUpdate!="function"||x3===o3.memoizedProps&&Q3===o3.memoizedState||(i3.flags|=1024),s3=!1)}return jj(o3,i3,a3,s3,O3,u2)}__name(hj,"hj");function jj(o3,i3,a3,s3,u2,O3){gj(o3,i3);var w3=!!(128&i3.flags);if(!s3&&!w3)return u2&&dg(i3,a3,!1),Zi(o3,i3,O3);s3=i3.stateNode,so2.current=i3;var x3=w3&&typeof a3.getDerivedStateFromError!="function"?null:s3.render();return i3.flags|=1,o3!==null&&w3?(i3.child=Ir2(i3,o3.child,null,O3),i3.child=Ir2(i3,null,x3,O3)):Xi(o3,i3,x3,O3),i3.memoizedState=s3.state,u2&&dg(i3,a3,!0),i3.child}__name(jj,"jj");function kj(o3){var i3=o3.stateNode;i3.pendingContext?ag(0,i3.pendingContext,i3.pendingContext!==i3.context):i3.context&&ag(0,i3.context,!1),yh(o3,i3.containerInfo)}__name(kj,"kj");function lj(o3,i3,a3,s3,u2){return Ig(),Jg(u2),i3.flags|=256,Xi(o3,i3,a3,s3),i3.child}__name(lj,"lj");var co2,uo2,fo2,po2,ho2={dehydrated:null,treeContext:null,retryLane:0};function nj(o3){return{baseLanes:o3,cachePool:null,transitions:null}}__name(nj,"nj");function oj(o3,i3,a3){var s3,u2=i3.pendingProps,O3=jr2.current,w3=!1,x3=!!(128&i3.flags);if((s3=x3)||(s3=(o3===null||o3.memoizedState!==null)&&!!(2&O3)),s3?(w3=!0,i3.flags&=-129):o3!==null&&o3.memoizedState===null||(O3|=1),G2(jr2,1&O3),o3===null)return Eg(i3),(o3=i3.memoizedState)!==null&&(o3=o3.dehydrated)!==null?(1&i3.mode?o3.data==="$!"?i3.lanes=8:i3.lanes=1073741824:i3.lanes=1,null):(x3=u2.children,o3=u2.fallback,w3?(u2=i3.mode,w3=i3.child,x3={mode:"hidden",children:x3},1&u2||w3===null?w3=pj(x3,u2,0,null):(w3.childLanes=0,w3.pendingProps=x3),o3=Tg(o3,u2,a3,null),w3.return=i3,o3.return=i3,w3.sibling=o3,i3.child=w3,i3.child.memoizedState=nj(a3),i3.memoizedState=ho2,o3):qj(i3,x3));if((O3=o3.memoizedState)!==null&&(s3=O3.dehydrated)!==null)return __name(function(o4,i4,a4,s4,u3,O4,w4){if(a4)return 256&i4.flags?(i4.flags&=-257,sj(o4,i4,w4,s4=Ki(Error(p2(422))))):i4.memoizedState!==null?(i4.child=o4.child,i4.flags|=128,null):(O4=s4.fallback,u3=i4.mode,s4=pj({mode:"visible",children:s4.children},u3,0,null),(O4=Tg(O4,u3,w4,null)).flags|=2,s4.return=i4,O4.return=i4,s4.sibling=O4,i4.child=s4,1&i4.mode&&Ir2(i4,o4.child,null,w4),i4.child.memoizedState=nj(w4),i4.memoizedState=ho2,O4);if(!(1&i4.mode))return sj(o4,i4,w4,null);if(u3.data==="$!"){if(s4=u3.nextSibling&&u3.nextSibling.dataset)var x4=s4.dgst;return s4=x4,sj(o4,i4,w4,s4=Ki(O4=Error(p2(419)),s4,void 0))}if(x4=!!(w4&o4.childLanes),lo2||x4){if((s4=Ro2)!==null){switch(w4&-w4){case 4:u3=2;break;case 16:u3=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u3=32;break;case 536870912:u3=268435456;break;default:u3=0}(u3=u3&(s4.suspendedLanes|w4)?0:u3)!==0&&u3!==O4.retryLane&&(O4.retryLane=u3,ih(o4,u3),gi(s4,o4,u3,-1))}return tj(),sj(o4,i4,w4,s4=Ki(Error(p2(421))))}return u3.data==="$?"?(i4.flags|=128,i4.child=o4.child,i4=uj.bind(null,o4),u3._reactRetry=i4,null):(o4=O4.treeContext,Er2=Lf(u3.nextSibling),Pr2=i4,Tr2=!0,Rr2=null,o4!==null&&(Sr2[wr2++]=kr2,Sr2[wr2++]=Cr2,Sr2[wr2++]=xr2,kr2=o4.id,Cr2=o4.overflow,xr2=i4),i4=qj(i4,s4.children),i4.flags|=4096,i4)},"rj")(o3,i3,x3,u2,s3,O3,a3);if(w3){w3=u2.fallback,x3=i3.mode,s3=(O3=o3.child).sibling;var C3={mode:"hidden",children:u2.children};return 1&x3||i3.child===O3?(u2=Pg(O3,C3)).subtreeFlags=14680064&O3.subtreeFlags:((u2=i3.child).childLanes=0,u2.pendingProps=C3,i3.deletions=null),s3!==null?w3=Pg(s3,w3):(w3=Tg(w3,x3,a3,null)).flags|=2,w3.return=i3,u2.return=i3,u2.sibling=w3,i3.child=u2,u2=w3,w3=i3.child,x3=(x3=o3.child.memoizedState)===null?nj(a3):{baseLanes:x3.baseLanes|a3,cachePool:null,transitions:x3.transitions},w3.memoizedState=x3,w3.childLanes=o3.childLanes&~a3,i3.memoizedState=ho2,u2}return o3=(w3=o3.child).sibling,u2=Pg(w3,{mode:"visible",children:u2.children}),!(1&i3.mode)&&(u2.lanes=a3),u2.return=i3,u2.sibling=null,o3!==null&&((a3=i3.deletions)===null?(i3.deletions=[o3],i3.flags|=16):a3.push(o3)),i3.child=u2,i3.memoizedState=null,u2}__name(oj,"oj");function qj(o3,i3){return(i3=pj({mode:"visible",children:i3},o3.mode,0,null)).return=o3,o3.child=i3}__name(qj,"qj");function sj(o3,i3,a3,s3){return s3!==null&&Jg(s3),Ir2(i3,o3.child,null,a3),(o3=qj(i3,i3.pendingProps.children)).flags|=2,i3.memoizedState=null,o3}__name(sj,"sj");function vj(o3,i3,a3){o3.lanes|=i3;var s3=o3.alternate;s3!==null&&(s3.lanes|=i3),bh(o3.return,i3,a3)}__name(vj,"vj");function wj(o3,i3,a3,s3,u2){var O3=o3.memoizedState;O3===null?o3.memoizedState={isBackwards:i3,rendering:null,renderingStartTime:0,last:s3,tail:a3,tailMode:u2}:(O3.isBackwards=i3,O3.rendering=null,O3.renderingStartTime=0,O3.last=s3,O3.tail=a3,O3.tailMode=u2)}__name(wj,"wj");function xj(o3,i3,a3){var s3=i3.pendingProps,u2=s3.revealOrder,O3=s3.tail;if(Xi(o3,i3,s3.children,a3),2&(s3=jr2.current))s3=1&s3|2,i3.flags|=128;else{if(o3!==null&&128&o3.flags)e:for(o3=i3.child;o3!==null;){if(o3.tag===13)o3.memoizedState!==null&&vj(o3,a3,i3);else if(o3.tag===19)vj(o3,a3,i3);else if(o3.child!==null){o3.child.return=o3,o3=o3.child;continue}if(o3===i3)break e;for(;o3.sibling===null;){if(o3.return===null||o3.return===i3)break e;o3=o3.return}o3.sibling.return=o3.return,o3=o3.sibling}s3&=1}if(G2(jr2,s3),1&i3.mode)switch(u2){case"forwards":for(a3=i3.child,u2=null;a3!==null;)(o3=a3.alternate)!==null&&Ch(o3)===null&&(u2=a3),a3=a3.sibling;(a3=u2)===null?(u2=i3.child,i3.child=null):(u2=a3.sibling,a3.sibling=null),wj(i3,!1,u2,a3,O3);break;case"backwards":for(a3=null,u2=i3.child,i3.child=null;u2!==null;){if((o3=u2.alternate)!==null&&Ch(o3)===null){i3.child=u2;break}o3=u2.sibling,u2.sibling=a3,a3=u2,u2=o3}wj(i3,!0,a3,null,O3);break;case"together":wj(i3,!1,null,null,void 0);break;default:i3.memoizedState=null}else i3.memoizedState=null;return i3.child}__name(xj,"xj");function ij(o3,i3){!(1&i3.mode)&&o3!==null&&(o3.alternate=null,i3.alternate=null,i3.flags|=2)}__name(ij,"ij");function Zi(o3,i3,a3){if(o3!==null&&(i3.dependencies=o3.dependencies),No2|=i3.lanes,!(a3&i3.childLanes))return null;if(o3!==null&&i3.child!==o3.child)throw Error(p2(153));if(i3.child!==null){for(a3=Pg(o3=i3.child,o3.pendingProps),i3.child=a3,a3.return=i3;o3.sibling!==null;)o3=o3.sibling,(a3=a3.sibling=Pg(o3,o3.pendingProps)).return=i3;a3.sibling=null}return i3.child}__name(Zi,"Zi");function Dj(o3,i3){if(!Tr2)switch(o3.tailMode){case"hidden":i3=o3.tail;for(var a3=null;i3!==null;)i3.alternate!==null&&(a3=i3),i3=i3.sibling;a3===null?o3.tail=null:a3.sibling=null;break;case"collapsed":a3=o3.tail;for(var s3=null;a3!==null;)a3.alternate!==null&&(s3=a3),a3=a3.sibling;s3===null?i3||o3.tail===null?o3.tail=null:o3.tail.sibling=null:s3.sibling=null}}__name(Dj,"Dj");function S2(o3){var i3=o3.alternate!==null&&o3.alternate.child===o3.child,a3=0,s3=0;if(i3)for(var u2=o3.child;u2!==null;)a3|=u2.lanes|u2.childLanes,s3|=14680064&u2.subtreeFlags,s3|=14680064&u2.flags,u2.return=o3,u2=u2.sibling;else for(u2=o3.child;u2!==null;)a3|=u2.lanes|u2.childLanes,s3|=u2.subtreeFlags,s3|=u2.flags,u2.return=o3,u2=u2.sibling;return o3.subtreeFlags|=s3,o3.childLanes=a3,i3}__name(S2,"S");function Ej(o3,i3,a3){var u2=i3.pendingProps;switch(wg(i3),i3.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S2(i3),null;case 1:case 17:return Zf(i3.type)&&$f(),S2(i3),null;case 3:return u2=i3.stateNode,zh(),E2(fr2),E2(dr2),Eh(),u2.pendingContext&&(u2.context=u2.pendingContext,u2.pendingContext=null),o3!==null&&o3.child!==null||(Gg(i3)?i3.flags|=4:o3===null||o3.memoizedState.isDehydrated&&!(256&i3.flags)||(i3.flags|=1024,Rr2!==null&&(Fj(Rr2),Rr2=null))),uo2(o3,i3),S2(i3),null;case 5:Bh(i3);var O3=xh(zr2.current);if(a3=i3.type,o3!==null&&i3.stateNode!=null)fo2(o3,i3,a3,u2,O3),o3.ref!==i3.ref&&(i3.flags|=512,i3.flags|=2097152);else{if(!u2){if(i3.stateNode===null)throw Error(p2(166));return S2(i3),null}if(o3=xh(Br2.current),Gg(i3)){u2=i3.stateNode,a3=i3.type;var w3=i3.memoizedProps;switch(u2[nr2]=i3,u2[rr2]=w3,o3=!!(1&i3.mode),a3){case"dialog":D2("cancel",u2),D2("close",u2);break;case"iframe":case"object":case"embed":D2("load",u2);break;case"video":case"audio":for(O3=0;O3<Wn2.length;O3++)D2(Wn2[O3],u2);break;case"source":D2("error",u2);break;case"img":case"image":case"link":D2("error",u2),D2("load",u2);break;case"details":D2("toggle",u2);break;case"input":Za(u2,w3),D2("invalid",u2);break;case"select":u2._wrapperState={wasMultiple:!!w3.multiple},D2("invalid",u2);break;case"textarea":hb(u2,w3),D2("invalid",u2)}for(var x3 in ub(a3,w3),O3=null,w3)if(w3.hasOwnProperty(x3)){var C3=w3[x3];x3==="children"?typeof C3=="string"?u2.textContent!==C3&&(w3.suppressHydrationWarning!==!0&&Af(u2.textContent,C3,o3),O3=["children",C3]):typeof C3=="number"&&u2.textContent!==""+C3&&(w3.suppressHydrationWarning!==!0&&Af(u2.textContent,C3,o3),O3=["children",""+C3]):s2.hasOwnProperty(x3)&&C3!=null&&x3==="onScroll"&&D2("scroll",u2)}switch(a3){case"input":Va(u2),db(u2,w3,!0);break;case"textarea":Va(u2),jb(u2);break;case"select":case"option":break;default:typeof w3.onClick=="function"&&(u2.onclick=Bf)}u2=O3,i3.updateQueue=u2,u2!==null&&(i3.flags|=4)}else{x3=O3.nodeType===9?O3:O3.ownerDocument,o3==="http://www.w3.org/1999/xhtml"&&(o3=kb(a3)),o3==="http://www.w3.org/1999/xhtml"?a3==="script"?((o3=x3.createElement("div")).innerHTML="<script><\/script>",o3=o3.removeChild(o3.firstChild)):typeof u2.is=="string"?o3=x3.createElement(a3,{is:u2.is}):(o3=x3.createElement(a3),a3==="select"&&(x3=o3,u2.multiple?x3.multiple=!0:u2.size&&(x3.size=u2.size))):o3=x3.createElementNS(o3,a3),o3[nr2]=i3,o3[rr2]=u2,co2(o3,i3,!1,!1),i3.stateNode=o3;e:{switch(x3=vb(a3,u2),a3){case"dialog":D2("cancel",o3),D2("close",o3),O3=u2;break;case"iframe":case"object":case"embed":D2("load",o3),O3=u2;break;case"video":case"audio":for(O3=0;O3<Wn2.length;O3++)D2(Wn2[O3],o3);O3=u2;break;case"source":D2("error",o3),O3=u2;break;case"img":case"image":case"link":D2("error",o3),D2("load",o3),O3=u2;break;case"details":D2("toggle",o3),O3=u2;break;case"input":Za(o3,u2),O3=Ya(o3,u2),D2("invalid",o3);break;case"option":default:O3=u2;break;case"select":o3._wrapperState={wasMultiple:!!u2.multiple},O3=le2({},u2,{value:void 0}),D2("invalid",o3);break;case"textarea":hb(o3,u2),O3=gb(o3,u2),D2("invalid",o3)}for(w3 in ub(a3,O3),C3=O3)if(C3.hasOwnProperty(w3)){var T3=C3[w3];w3==="style"?sb(o3,T3):w3==="dangerouslySetInnerHTML"?(T3=T3?T3.__html:void 0)!=null&&be2(o3,T3):w3==="children"?typeof T3=="string"?(a3!=="textarea"||T3!=="")&&ob(o3,T3):typeof T3=="number"&&ob(o3,""+T3):w3!=="suppressContentEditableWarning"&&w3!=="suppressHydrationWarning"&&w3!=="autoFocus"&&(s2.hasOwnProperty(w3)?T3!=null&&w3==="onScroll"&&D2("scroll",o3):T3!=null&&ta(o3,w3,T3,x3))}switch(a3){case"input":Va(o3),db(o3,u2,!1);break;case"textarea":Va(o3),jb(o3);break;case"option":u2.value!=null&&o3.setAttribute("value",""+Sa(u2.value));break;case"select":o3.multiple=!!u2.multiple,(w3=u2.value)!=null?fb(o3,!!u2.multiple,w3,!1):u2.defaultValue!=null&&fb(o3,!!u2.multiple,u2.defaultValue,!0);break;default:typeof O3.onClick=="function"&&(o3.onclick=Bf)}switch(a3){case"button":case"input":case"select":case"textarea":u2=!!u2.autoFocus;break e;case"img":u2=!0;break e;default:u2=!1}}u2&&(i3.flags|=4)}i3.ref!==null&&(i3.flags|=512,i3.flags|=2097152)}return S2(i3),null;case 6:if(o3&&i3.stateNode!=null)po2(o3,i3,o3.memoizedProps,u2);else{if(typeof u2!="string"&&i3.stateNode===null)throw Error(p2(166));if(a3=xh(zr2.current),xh(Br2.current),Gg(i3)){if(u2=i3.stateNode,a3=i3.memoizedProps,u2[nr2]=i3,(w3=u2.nodeValue!==a3)&&(o3=Pr2)!==null)switch(o3.tag){case 3:Af(u2.nodeValue,a3,!!(1&o3.mode));break;case 5:o3.memoizedProps.suppressHydrationWarning!==!0&&Af(u2.nodeValue,a3,!!(1&o3.mode))}w3&&(i3.flags|=4)}else(u2=(a3.nodeType===9?a3:a3.ownerDocument).createTextNode(u2))[nr2]=i3,i3.stateNode=u2}return S2(i3),null;case 13:if(E2(jr2),u2=i3.memoizedState,o3===null||o3.memoizedState!==null&&o3.memoizedState.dehydrated!==null){if(Tr2&&Er2!==null&&1&i3.mode&&!(128&i3.flags))Hg(),Ig(),i3.flags|=98560,w3=!1;else if(w3=Gg(i3),u2!==null&&u2.dehydrated!==null){if(o3===null){if(!w3)throw Error(p2(318));if(!(w3=(w3=i3.memoizedState)!==null?w3.dehydrated:null))throw Error(p2(317));w3[nr2]=i3}else Ig(),!(128&i3.flags)&&(i3.memoizedState=null),i3.flags|=4;S2(i3),w3=!1}else Rr2!==null&&(Fj(Rr2),Rr2=null),w3=!0;if(!w3)return 65536&i3.flags?i3:null}return 128&i3.flags?(i3.lanes=a3,i3):((u2=u2!==null)!=(o3!==null&&o3.memoizedState!==null)&&u2&&(i3.child.flags|=8192,1&i3.mode&&(o3===null||1&jr2.current?Ao2===0&&(Ao2=3):tj())),i3.updateQueue!==null&&(i3.flags|=4),S2(i3),null);case 4:return zh(),uo2(o3,i3),o3===null&&sf(i3.stateNode.containerInfo),S2(i3),null;case 10:return ah(i3.type._context),S2(i3),null;case 19:if(E2(jr2),(w3=i3.memoizedState)===null)return S2(i3),null;if(u2=!!(128&i3.flags),(x3=w3.rendering)===null)if(u2)Dj(w3,!1);else{if(Ao2!==0||o3!==null&&128&o3.flags)for(o3=i3.child;o3!==null;){if((x3=Ch(o3))!==null){for(i3.flags|=128,Dj(w3,!1),(u2=x3.updateQueue)!==null&&(i3.updateQueue=u2,i3.flags|=4),i3.subtreeFlags=0,u2=a3,a3=i3.child;a3!==null;)o3=u2,(w3=a3).flags&=14680066,(x3=w3.alternate)===null?(w3.childLanes=0,w3.lanes=o3,w3.child=null,w3.subtreeFlags=0,w3.memoizedProps=null,w3.memoizedState=null,w3.updateQueue=null,w3.dependencies=null,w3.stateNode=null):(w3.childLanes=x3.childLanes,w3.lanes=x3.lanes,w3.child=x3.child,w3.subtreeFlags=0,w3.deletions=null,w3.memoizedProps=x3.memoizedProps,w3.memoizedState=x3.memoizedState,w3.updateQueue=x3.updateQueue,w3.type=x3.type,o3=x3.dependencies,w3.dependencies=o3===null?null:{lanes:o3.lanes,firstContext:o3.firstContext}),a3=a3.sibling;return G2(jr2,1&jr2.current|2),i3.child}o3=o3.sibling}w3.tail!==null&&it2()>zo2&&(i3.flags|=128,u2=!0,Dj(w3,!1),i3.lanes=4194304)}else{if(!u2)if((o3=Ch(x3))!==null){if(i3.flags|=128,u2=!0,(a3=o3.updateQueue)!==null&&(i3.updateQueue=a3,i3.flags|=4),Dj(w3,!0),w3.tail===null&&w3.tailMode==="hidden"&&!x3.alternate&&!Tr2)return S2(i3),null}else 2*it2()-w3.renderingStartTime>zo2&&a3!==1073741824&&(i3.flags|=128,u2=!0,Dj(w3,!1),i3.lanes=4194304);w3.isBackwards?(x3.sibling=i3.child,i3.child=x3):((a3=w3.last)!==null?a3.sibling=x3:i3.child=x3,w3.last=x3)}return w3.tail!==null?(i3=w3.tail,w3.rendering=i3,w3.tail=i3.sibling,w3.renderingStartTime=it2(),i3.sibling=null,a3=jr2.current,G2(jr2,u2?1&a3|2:1&a3),i3):(S2(i3),null);case 22:case 23:return Hj(),u2=i3.memoizedState!==null,o3!==null&&o3.memoizedState!==null!==u2&&(i3.flags|=8192),u2&&1&i3.mode?1073741824&Mo2&&(S2(i3),6&i3.subtreeFlags&&(i3.flags|=8192)):S2(i3),null;case 24:case 25:return null}throw Error(p2(156,i3.tag))}__name(Ej,"Ej");function Ij(o3,i3){switch(wg(i3),i3.tag){case 1:return Zf(i3.type)&&$f(),65536&(o3=i3.flags)?(i3.flags=-65537&o3|128,i3):null;case 3:return zh(),E2(fr2),E2(dr2),Eh(),65536&(o3=i3.flags)&&!(128&o3)?(i3.flags=-65537&o3|128,i3):null;case 5:return Bh(i3),null;case 13:if(E2(jr2),(o3=i3.memoizedState)!==null&&o3.dehydrated!==null){if(i3.alternate===null)throw Error(p2(340));Ig()}return 65536&(o3=i3.flags)?(i3.flags=-65537&o3|128,i3):null;case 19:return E2(jr2),null;case 4:return zh(),null;case 10:return ah(i3.type._context),null;case 22:case 23:return Hj(),null;default:return null}}__name(Ij,"Ij"),co2=__name(function(o3,i3){for(var a3=i3.child;a3!==null;){if(a3.tag===5||a3.tag===6)o3.appendChild(a3.stateNode);else if(a3.tag!==4&&a3.child!==null){a3.child.return=a3,a3=a3.child;continue}if(a3===i3)break;for(;a3.sibling===null;){if(a3.return===null||a3.return===i3)return;a3=a3.return}a3.sibling.return=a3.return,a3=a3.sibling}},"co2"),uo2=__name(function(){},"uo2"),fo2=__name(function(o3,i3,a3,u2){var O3=o3.memoizedProps;if(O3!==u2){o3=i3.stateNode,xh(Br2.current);var w3,x3=null;switch(a3){case"input":O3=Ya(o3,O3),u2=Ya(o3,u2),x3=[];break;case"select":O3=le2({},O3,{value:void 0}),u2=le2({},u2,{value:void 0}),x3=[];break;case"textarea":O3=gb(o3,O3),u2=gb(o3,u2),x3=[];break;default:typeof O3.onClick!="function"&&typeof u2.onClick=="function"&&(o3.onclick=Bf)}for(_3 in ub(a3,u2),a3=null,O3)if(!u2.hasOwnProperty(_3)&&O3.hasOwnProperty(_3)&&O3[_3]!=null)if(_3==="style"){var C3=O3[_3];for(w3 in C3)C3.hasOwnProperty(w3)&&(a3||(a3={}),a3[w3]="")}else _3!=="dangerouslySetInnerHTML"&&_3!=="children"&&_3!=="suppressContentEditableWarning"&&_3!=="suppressHydrationWarning"&&_3!=="autoFocus"&&(s2.hasOwnProperty(_3)?x3||(x3=[]):(x3=x3||[]).push(_3,null));for(_3 in u2){var T3=u2[_3];if(C3=O3!=null?O3[_3]:void 0,u2.hasOwnProperty(_3)&&T3!==C3&&(T3!=null||C3!=null))if(_3==="style")if(C3){for(w3 in C3)!C3.hasOwnProperty(w3)||T3&&T3.hasOwnProperty(w3)||(a3||(a3={}),a3[w3]="");for(w3 in T3)T3.hasOwnProperty(w3)&&C3[w3]!==T3[w3]&&(a3||(a3={}),a3[w3]=T3[w3])}else a3||(x3||(x3=[]),x3.push(_3,a3)),a3=T3;else _3==="dangerouslySetInnerHTML"?(T3=T3?T3.__html:void 0,C3=C3?C3.__html:void 0,T3!=null&&C3!==T3&&(x3=x3||[]).push(_3,T3)):_3==="children"?typeof T3!="string"&&typeof T3!="number"||(x3=x3||[]).push(_3,""+T3):_3!=="suppressContentEditableWarning"&&_3!=="suppressHydrationWarning"&&(s2.hasOwnProperty(_3)?(T3!=null&&_3==="onScroll"&&D2("scroll",o3),x3||C3===T3||(x3=[])):(x3=x3||[]).push(_3,T3))}a3&&(x3=x3||[]).push("style",a3);var _3=x3;(i3.updateQueue=_3)&&(i3.flags|=4)}},"fo2"),po2=__name(function(o3,i3,a3,s3){a3!==s3&&(i3.flags|=4)},"po2");var mo2=!1,vo2=!1,yo2=typeof WeakSet=="function"?WeakSet:Set,Oo2=null;function Lj(o3,i3){var a3=o3.ref;if(a3!==null)if(typeof a3=="function")try{a3(null)}catch(a4){W2(o3,i3,a4)}else a3.current=null}__name(Lj,"Lj");function Mj(o3,i3,a3){try{a3()}catch(a4){W2(o3,i3,a4)}}__name(Mj,"Mj");var bo2=!1;function Pj(o3,i3,a3){var s3=i3.updateQueue;if((s3=s3!==null?s3.lastEffect:null)!==null){var u2=s3=s3.next;do{if((u2.tag&o3)===o3){var O3=u2.destroy;u2.destroy=void 0,O3!==void 0&&Mj(i3,a3,O3)}u2=u2.next}while(u2!==s3)}}__name(Pj,"Pj");function Qj(o3,i3){if((i3=(i3=i3.updateQueue)!==null?i3.lastEffect:null)!==null){var a3=i3=i3.next;do{if((a3.tag&o3)===o3){var s3=a3.create;a3.destroy=s3()}a3=a3.next}while(a3!==i3)}}__name(Qj,"Qj");function Rj(o3){var i3=o3.ref;if(i3!==null){var a3=o3.stateNode;o3.tag,o3=a3,typeof i3=="function"?i3(o3):i3.current=o3}}__name(Rj,"Rj");function Sj(o3){var i3=o3.alternate;i3!==null&&(o3.alternate=null,Sj(i3)),o3.child=null,o3.deletions=null,o3.sibling=null,o3.tag===5&&(i3=o3.stateNode)!==null&&(delete i3[nr2],delete i3[rr2],delete i3[ir2],delete i3[ar2],delete i3[sr2]),o3.stateNode=null,o3.return=null,o3.dependencies=null,o3.memoizedProps=null,o3.memoizedState=null,o3.pendingProps=null,o3.stateNode=null,o3.updateQueue=null}__name(Sj,"Sj");function Tj(o3){return o3.tag===5||o3.tag===3||o3.tag===4}__name(Tj,"Tj");function Uj(o3){e:for(;;){for(;o3.sibling===null;){if(o3.return===null||Tj(o3.return))return null;o3=o3.return}for(o3.sibling.return=o3.return,o3=o3.sibling;o3.tag!==5&&o3.tag!==6&&o3.tag!==18;){if(2&o3.flags||o3.child===null||o3.tag===4)continue e;o3.child.return=o3,o3=o3.child}if(!(2&o3.flags))return o3.stateNode}}__name(Uj,"Uj");function Vj(o3,i3,a3){var s3=o3.tag;if(s3===5||s3===6)o3=o3.stateNode,i3?a3.nodeType===8?a3.parentNode.insertBefore(o3,i3):a3.insertBefore(o3,i3):(a3.nodeType===8?(i3=a3.parentNode).insertBefore(o3,a3):(i3=a3).appendChild(o3),(a3=a3._reactRootContainer)!=null||i3.onclick!==null||(i3.onclick=Bf));else if(s3!==4&&(o3=o3.child)!==null)for(Vj(o3,i3,a3),o3=o3.sibling;o3!==null;)Vj(o3,i3,a3),o3=o3.sibling}__name(Vj,"Vj");function Wj(o3,i3,a3){var s3=o3.tag;if(s3===5||s3===6)o3=o3.stateNode,i3?a3.insertBefore(o3,i3):a3.appendChild(o3);else if(s3!==4&&(o3=o3.child)!==null)for(Wj(o3,i3,a3),o3=o3.sibling;o3!==null;)Wj(o3,i3,a3),o3=o3.sibling}__name(Wj,"Wj");var So2=null,wo2=!1;function Yj(o3,i3,a3){for(a3=a3.child;a3!==null;)Zj(o3,i3,a3),a3=a3.sibling}__name(Yj,"Yj");function Zj(o3,i3,a3){if(pt2&&typeof pt2.onCommitFiberUnmount=="function")try{pt2.onCommitFiberUnmount(ft2,a3)}catch{}switch(a3.tag){case 5:vo2||Lj(a3,i3);case 6:var s3=So2,u2=wo2;So2=null,Yj(o3,i3,a3),wo2=u2,(So2=s3)!==null&&(wo2?(o3=So2,a3=a3.stateNode,o3.nodeType===8?o3.parentNode.removeChild(a3):o3.removeChild(a3)):So2.removeChild(a3.stateNode));break;case 18:So2!==null&&(wo2?(o3=So2,a3=a3.stateNode,o3.nodeType===8?Kf(o3.parentNode,a3):o3.nodeType===1&&Kf(o3,a3),bd(o3)):Kf(So2,a3.stateNode));break;case 4:s3=So2,u2=wo2,So2=a3.stateNode.containerInfo,wo2=!0,Yj(o3,i3,a3),So2=s3,wo2=u2;break;case 0:case 11:case 14:case 15:if(!vo2&&(s3=a3.updateQueue)!==null&&(s3=s3.lastEffect)!==null){u2=s3=s3.next;do{var O3=u2,w3=O3.destroy;O3=O3.tag,w3!==void 0&&(2&O3||4&O3)&&Mj(a3,i3,w3),u2=u2.next}while(u2!==s3)}Yj(o3,i3,a3);break;case 1:if(!vo2&&(Lj(a3,i3),typeof(s3=a3.stateNode).componentWillUnmount=="function"))try{s3.props=a3.memoizedProps,s3.state=a3.memoizedState,s3.componentWillUnmount()}catch(o4){W2(a3,i3,o4)}Yj(o3,i3,a3);break;case 21:Yj(o3,i3,a3);break;case 22:1&a3.mode?(vo2=(s3=vo2)||a3.memoizedState!==null,Yj(o3,i3,a3),vo2=s3):Yj(o3,i3,a3);break;default:Yj(o3,i3,a3)}}__name(Zj,"Zj");function ak(o3){var i3=o3.updateQueue;if(i3!==null){o3.updateQueue=null;var a3=o3.stateNode;a3===null&&(a3=o3.stateNode=new yo2),i3.forEach(function(i4){var s3=bk.bind(null,o3,i4);a3.has(i4)||(a3.add(i4),i4.then(s3,s3))})}}__name(ak,"ak");function ck(o3,i3){var a3=i3.deletions;if(a3!==null)for(var s3=0;s3<a3.length;s3++){var u2=a3[s3];try{var O3=o3,w3=i3,x3=w3;e:for(;x3!==null;){switch(x3.tag){case 5:So2=x3.stateNode,wo2=!1;break e;case 3:case 4:So2=x3.stateNode.containerInfo,wo2=!0;break e}x3=x3.return}if(So2===null)throw Error(p2(160));Zj(O3,w3,u2),So2=null,wo2=!1;var C3=u2.alternate;C3!==null&&(C3.return=null),u2.return=null}catch(o4){W2(u2,i3,o4)}}if(12854&i3.subtreeFlags)for(i3=i3.child;i3!==null;)dk(i3,o3),i3=i3.sibling}__name(ck,"ck");function dk(o3,i3){var a3=o3.alternate,s3=o3.flags;switch(o3.tag){case 0:case 11:case 14:case 15:if(ck(i3,o3),ek(o3),4&s3){try{Pj(3,o3,o3.return),Qj(3,o3)}catch(i4){W2(o3,o3.return,i4)}try{Pj(5,o3,o3.return)}catch(i4){W2(o3,o3.return,i4)}}break;case 1:ck(i3,o3),ek(o3),512&s3&&a3!==null&&Lj(a3,a3.return);break;case 5:if(ck(i3,o3),ek(o3),512&s3&&a3!==null&&Lj(a3,a3.return),32&o3.flags){var u2=o3.stateNode;try{ob(u2,"")}catch(i4){W2(o3,o3.return,i4)}}if(4&s3&&(u2=o3.stateNode)!=null){var O3=o3.memoizedProps,w3=a3!==null?a3.memoizedProps:O3,x3=o3.type,C3=o3.updateQueue;if(o3.updateQueue=null,C3!==null)try{x3==="input"&&O3.type==="radio"&&O3.name!=null&&ab(u2,O3),vb(x3,w3);var T3=vb(x3,O3);for(w3=0;w3<C3.length;w3+=2){var _3=C3[w3],A3=C3[w3+1];_3==="style"?sb(u2,A3):_3==="dangerouslySetInnerHTML"?be2(u2,A3):_3==="children"?ob(u2,A3):ta(u2,_3,A3,T3)}switch(x3){case"input":bb(u2,O3);break;case"textarea":ib(u2,O3);break;case"select":var Q3=u2._wrapperState.wasMultiple;u2._wrapperState.wasMultiple=!!O3.multiple;var N3=O3.value;N3!=null?fb(u2,!!O3.multiple,N3,!1):Q3!==!!O3.multiple&&(O3.defaultValue!=null?fb(u2,!!O3.multiple,O3.defaultValue,!0):fb(u2,!!O3.multiple,O3.multiple?[]:"",!1))}u2[rr2]=O3}catch(i4){W2(o3,o3.return,i4)}}break;case 6:if(ck(i3,o3),ek(o3),4&s3){if(o3.stateNode===null)throw Error(p2(162));u2=o3.stateNode,O3=o3.memoizedProps;try{u2.nodeValue=O3}catch(i4){W2(o3,o3.return,i4)}}break;case 3:if(ck(i3,o3),ek(o3),4&s3&&a3!==null&&a3.memoizedState.isDehydrated)try{bd(i3.containerInfo)}catch(i4){W2(o3,o3.return,i4)}break;case 4:default:ck(i3,o3),ek(o3);break;case 13:ck(i3,o3),ek(o3),8192&(u2=o3.child).flags&&(O3=u2.memoizedState!==null,u2.stateNode.isHidden=O3,!O3||u2.alternate!==null&&u2.alternate.memoizedState!==null||(Vo2=it2())),4&s3&&ak(o3);break;case 22:if(_3=a3!==null&&a3.memoizedState!==null,1&o3.mode?(vo2=(T3=vo2)||_3,ck(i3,o3),vo2=T3):ck(i3,o3),ek(o3),8192&s3){if(T3=o3.memoizedState!==null,(o3.stateNode.isHidden=T3)&&!_3&&1&o3.mode)for(Oo2=o3,_3=o3.child;_3!==null;){for(A3=Oo2=_3;Oo2!==null;){switch(N3=(Q3=Oo2).child,Q3.tag){case 0:case 11:case 14:case 15:Pj(4,Q3,Q3.return);break;case 1:Lj(Q3,Q3.return);var L3=Q3.stateNode;if(typeof L3.componentWillUnmount=="function"){s3=Q3,a3=Q3.return;try{i3=s3,L3.props=i3.memoizedProps,L3.state=i3.memoizedState,L3.componentWillUnmount()}catch(o4){W2(s3,a3,o4)}}break;case 5:Lj(Q3,Q3.return);break;case 22:if(Q3.memoizedState!==null){gk(A3);continue}}N3!==null?(N3.return=Q3,Oo2=N3):gk(A3)}_3=_3.sibling}e:for(_3=null,A3=o3;;){if(A3.tag===5){if(_3===null){_3=A3;try{u2=A3.stateNode,T3?typeof(O3=u2.style).setProperty=="function"?O3.setProperty("display","none","important"):O3.display="none":(x3=A3.stateNode,w3=(C3=A3.memoizedProps.style)!=null&&C3.hasOwnProperty("display")?C3.display:null,x3.style.display=rb("display",w3))}catch(i4){W2(o3,o3.return,i4)}}}else if(A3.tag===6){if(_3===null)try{A3.stateNode.nodeValue=T3?"":A3.memoizedProps}catch(i4){W2(o3,o3.return,i4)}}else if((A3.tag!==22&&A3.tag!==23||A3.memoizedState===null||A3===o3)&&A3.child!==null){A3.child.return=A3,A3=A3.child;continue}if(A3===o3)break e;for(;A3.sibling===null;){if(A3.return===null||A3.return===o3)break e;_3===A3&&(_3=null),A3=A3.return}_3===A3&&(_3=null),A3.sibling.return=A3.return,A3=A3.sibling}}break;case 19:ck(i3,o3),ek(o3),4&s3&&ak(o3);case 21:}}__name(dk,"dk");function ek(o3){var i3=o3.flags;if(2&i3){try{e:{for(var a3=o3.return;a3!==null;){if(Tj(a3)){var s3=a3;break e}a3=a3.return}throw Error(p2(160))}switch(s3.tag){case 5:var u2=s3.stateNode;32&s3.flags&&(ob(u2,""),s3.flags&=-33),Wj(o3,Uj(o3),u2);break;case 3:case 4:var O3=s3.stateNode.containerInfo;Vj(o3,Uj(o3),O3);break;default:throw Error(p2(161))}}catch(i4){W2(o3,o3.return,i4)}o3.flags&=-3}4096&i3&&(o3.flags&=-4097)}__name(ek,"ek");function hk(o3,i3,a3){Oo2=o3,ik(o3)}__name(hk,"hk");function ik(o3,i3,a3){for(var s3=!!(1&o3.mode);Oo2!==null;){var u2=Oo2,O3=u2.child;if(u2.tag===22&&s3){var w3=u2.memoizedState!==null||mo2;if(!w3){var x3=u2.alternate,C3=x3!==null&&x3.memoizedState!==null||vo2;x3=mo2;var T3=vo2;if(mo2=w3,(vo2=C3)&&!T3)for(Oo2=u2;Oo2!==null;)C3=(w3=Oo2).child,w3.tag===22&&w3.memoizedState!==null?jk(u2):C3!==null?(C3.return=w3,Oo2=C3):jk(u2);for(;O3!==null;)Oo2=O3,ik(O3),O3=O3.sibling;Oo2=u2,mo2=x3,vo2=T3}kk(o3)}else 8772&u2.subtreeFlags&&O3!==null?(O3.return=u2,Oo2=O3):kk(o3)}}__name(ik,"ik");function kk(o3){for(;Oo2!==null;){var i3=Oo2;if(8772&i3.flags){var a3=i3.alternate;try{if(8772&i3.flags)switch(i3.tag){case 0:case 11:case 15:vo2||Qj(5,i3);break;case 1:var s3=i3.stateNode;if(4&i3.flags&&!vo2)if(a3===null)s3.componentDidMount();else{var u2=i3.elementType===i3.type?a3.memoizedProps:Ci(i3.type,a3.memoizedProps);s3.componentDidUpdate(u2,a3.memoizedState,s3.__reactInternalSnapshotBeforeUpdate)}var O3=i3.updateQueue;O3!==null&&sh(i3,O3,s3);break;case 3:var w3=i3.updateQueue;if(w3!==null){if(a3=null,i3.child!==null)switch(i3.child.tag){case 5:case 1:a3=i3.child.stateNode}sh(i3,w3,a3)}break;case 5:var x3=i3.stateNode;if(a3===null&&4&i3.flags){a3=x3;var C3=i3.memoizedProps;switch(i3.type){case"button":case"input":case"select":case"textarea":C3.autoFocus&&a3.focus();break;case"img":C3.src&&(a3.src=C3.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(i3.memoizedState===null){var T3=i3.alternate;if(T3!==null){var _3=T3.memoizedState;if(_3!==null){var A3=_3.dehydrated;A3!==null&&bd(A3)}}}break;default:throw Error(p2(163))}vo2||512&i3.flags&&Rj(i3)}catch(o4){W2(i3,i3.return,o4)}}if(i3===o3){Oo2=null;break}if((a3=i3.sibling)!==null){a3.return=i3.return,Oo2=a3;break}Oo2=i3.return}}__name(kk,"kk");function gk(o3){for(;Oo2!==null;){var i3=Oo2;if(i3===o3){Oo2=null;break}var a3=i3.sibling;if(a3!==null){a3.return=i3.return,Oo2=a3;break}Oo2=i3.return}}__name(gk,"gk");function jk(o3){for(;Oo2!==null;){var i3=Oo2;try{switch(i3.tag){case 0:case 11:case 15:var a3=i3.return;try{Qj(4,i3)}catch(o4){W2(i3,a3,o4)}break;case 1:var s3=i3.stateNode;if(typeof s3.componentDidMount=="function"){var u2=i3.return;try{s3.componentDidMount()}catch(o4){W2(i3,u2,o4)}}var O3=i3.return;try{Rj(i3)}catch(o4){W2(i3,O3,o4)}break;case 5:var w3=i3.return;try{Rj(i3)}catch(o4){W2(i3,w3,o4)}}}catch(o4){W2(i3,i3.return,o4)}if(i3===o3){Oo2=null;break}var x3=i3.sibling;if(x3!==null){x3.return=i3.return,Oo2=x3;break}Oo2=i3.return}}__name(jk,"jk");var xo2,ko2=Math.ceil,Co2=Q2.ReactCurrentDispatcher,Po2=Q2.ReactCurrentOwner,Eo2=Q2.ReactCurrentBatchConfig,To2=0,Ro2=null,Do2=null,Io2=0,Mo2=0,_o2=Uf(0),Ao2=0,Qo2=null,No2=0,Lo2=0,$o2=0,Fo2=null,Bo2=null,Vo2=0,zo2=1/0,jo2=null,Wo2=!1,Ho2=null,Uo2=null,Zo2=!1,qo2=null,Xo2=0,Go2=0,Yo2=null,Ko2=-1,Jo2=0;function R2(){return 6&To2?it2():Ko2!==-1?Ko2:Ko2=it2()}__name(R2,"R");function yi(o3){return 1&o3.mode?2&To2&&Io2!==0?Io2&-Io2:Dr2.transition!==null?(Jo2===0&&(Jo2=yc()),Jo2):(o3=Ot2)!==0?o3:o3=(o3=window.event)===void 0?16:jd(o3.type):1}__name(yi,"yi");function gi(o3,i3,a3,s3){if(50<Go2)throw Go2=0,Yo2=null,Error(p2(185));Ac(o3,a3,s3),2&To2&&o3===Ro2||(o3===Ro2&&(!(2&To2)&&(Lo2|=a3),Ao2===4&&Ck(o3,Io2)),Dk(o3,s3),a3===1&&To2===0&&!(1&i3.mode)&&(zo2=it2()+500,gr2&&jg()))}__name(gi,"gi");function Dk(o3,i3){var a3=o3.callbackNode;__name(function(o4,i4){for(var a4=o4.suspendedLanes,s4=o4.pingedLanes,u2=o4.expirationTimes,O3=o4.pendingLanes;0<O3;){var w3=31-ht2(O3),x3=1<<w3,C3=u2[w3];C3===-1?x3&a4&&!(x3&s4)||(u2[w3]=vc(x3,i4)):C3<=i4&&(o4.expiredLanes|=x3),O3&=~x3}},"wc")(o3,i3);var s3=uc(o3,o3===Ro2?Io2:0);if(s3===0)a3!==null&&nt2(a3),o3.callbackNode=null,o3.callbackPriority=0;else if(i3=s3&-s3,o3.callbackPriority!==i3){if(a3!=null&&nt2(a3),i3===1)o3.tag===0?__name(function(o4){gr2=!0,hg(o4)},"ig")(Ek.bind(null,o3)):hg(Ek.bind(null,o3)),er2(function(){!(6&To2)&&jg()}),a3=null;else{switch(Dc(s3)){case 1:a3=st2;break;case 4:a3=lt2;break;case 16:default:a3=ct2;break;case 536870912:a3=dt2}a3=Fk(a3,Gk.bind(null,o3))}o3.callbackPriority=i3,o3.callbackNode=a3}}__name(Dk,"Dk");function Gk(o3,i3){if(Ko2=-1,Jo2=0,6&To2)throw Error(p2(327));var a3=o3.callbackNode;if(Hk()&&o3.callbackNode!==a3)return null;var s3=uc(o3,o3===Ro2?Io2:0);if(s3===0)return null;if(30&s3||s3&o3.expiredLanes||i3)i3=Ik(o3,s3);else{i3=s3;var u2=To2;To2|=2;var O3=Jk();for(Ro2===o3&&Io2===i3||(jo2=null,zo2=it2()+500,Kk(o3,i3));;)try{Lk();break}catch(i4){Mk(o3,i4)}$g(),Co2.current=O3,To2=u2,Do2!==null?i3=0:(Ro2=null,Io2=0,i3=Ao2)}if(i3!==0){if(i3===2&&(u2=xc(o3))!==0&&(s3=u2,i3=Nk(o3,u2)),i3===1)throw a3=Qo2,Kk(o3,0),Ck(o3,s3),Dk(o3,it2()),a3;if(i3===6)Ck(o3,s3);else{if(u2=o3.current.alternate,!(30&s3||__name(function(o4){for(var i4=o4;;){if(16384&i4.flags){var a4=i4.updateQueue;if(a4!==null&&(a4=a4.stores)!==null)for(var s4=0;s4<a4.length;s4++){var u3=a4[s4],O4=u3.getSnapshot;u3=u3.value;try{if(!En2(O4(),u3))return!1}catch{return!1}}}if(a4=i4.child,16384&i4.subtreeFlags&&a4!==null)a4.return=i4,i4=a4;else{if(i4===o4)break;for(;i4.sibling===null;){if(i4.return===null||i4.return===o4)return!0;i4=i4.return}i4.sibling.return=i4.return,i4=i4.sibling}}return!0},"Ok")(u2)||(i3=Ik(o3,s3),i3===2&&(O3=xc(o3),O3!==0&&(s3=O3,i3=Nk(o3,O3))),i3!==1)))throw a3=Qo2,Kk(o3,0),Ck(o3,s3),Dk(o3,it2()),a3;switch(o3.finishedWork=u2,o3.finishedLanes=s3,i3){case 0:case 1:throw Error(p2(345));case 2:case 5:Pk(o3,Bo2,jo2);break;case 3:if(Ck(o3,s3),(130023424&s3)===s3&&10<(i3=Vo2+500-it2())){if(uc(o3,0)!==0)break;if(((u2=o3.suspendedLanes)&s3)!==s3){R2(),o3.pingedLanes|=o3.suspendedLanes&u2;break}o3.timeoutHandle=Yn2(Pk.bind(null,o3,Bo2,jo2),i3);break}Pk(o3,Bo2,jo2);break;case 4:if(Ck(o3,s3),(4194240&s3)===s3)break;for(i3=o3.eventTimes,u2=-1;0<s3;){var w3=31-ht2(s3);O3=1<<w3,(w3=i3[w3])>u2&&(u2=w3),s3&=~O3}if(s3=u2,10<(s3=(120>(s3=it2()-s3)?120:480>s3?480:1080>s3?1080:1920>s3?1920:3e3>s3?3e3:4320>s3?4320:1960*ko2(s3/1960))-s3)){o3.timeoutHandle=Yn2(Pk.bind(null,o3,Bo2,jo2),s3);break}Pk(o3,Bo2,jo2);break;default:throw Error(p2(329))}}}return Dk(o3,it2()),o3.callbackNode===a3?Gk.bind(null,o3):null}__name(Gk,"Gk");function Nk(o3,i3){var a3=Fo2;return o3.current.memoizedState.isDehydrated&&(Kk(o3,i3).flags|=256),(o3=Ik(o3,i3))!==2&&(i3=Bo2,Bo2=a3,i3!==null&&Fj(i3)),o3}__name(Nk,"Nk");function Fj(o3){Bo2===null?Bo2=o3:Bo2.push.apply(Bo2,o3)}__name(Fj,"Fj");function Ck(o3,i3){for(i3&=~$o2,i3&=~Lo2,o3.suspendedLanes|=i3,o3.pingedLanes&=~i3,o3=o3.expirationTimes;0<i3;){var a3=31-ht2(i3),s3=1<<a3;o3[a3]=-1,i3&=~s3}}__name(Ck,"Ck");function Ek(o3){if(6&To2)throw Error(p2(327));Hk();var i3=uc(o3,0);if(!(1&i3))return Dk(o3,it2()),null;var a3=Ik(o3,i3);if(o3.tag!==0&&a3===2){var s3=xc(o3);s3!==0&&(i3=s3,a3=Nk(o3,s3))}if(a3===1)throw a3=Qo2,Kk(o3,0),Ck(o3,i3),Dk(o3,it2()),a3;if(a3===6)throw Error(p2(345));return o3.finishedWork=o3.current.alternate,o3.finishedLanes=i3,Pk(o3,Bo2,jo2),Dk(o3,it2()),null}__name(Ek,"Ek");function Qk(o3,i3){var a3=To2;To2|=1;try{return o3(i3)}finally{(To2=a3)===0&&(zo2=it2()+500,gr2&&jg())}}__name(Qk,"Qk");function Rk(o3){qo2!==null&&qo2.tag===0&&!(6&To2)&&Hk();var i3=To2;To2|=1;var a3=Eo2.transition,s3=Ot2;try{if(Eo2.transition=null,Ot2=1,o3)return o3()}finally{Ot2=s3,Eo2.transition=a3,!(6&(To2=i3))&&jg()}}__name(Rk,"Rk");function Hj(){Mo2=_o2.current,E2(_o2)}__name(Hj,"Hj");function Kk(o3,i3){o3.finishedWork=null,o3.finishedLanes=0;var a3=o3.timeoutHandle;if(a3!==-1&&(o3.timeoutHandle=-1,Kn2(a3)),Do2!==null)for(a3=Do2.return;a3!==null;){var s3=a3;switch(wg(s3),s3.tag){case 1:(s3=s3.type.childContextTypes)!=null&&$f();break;case 3:zh(),E2(fr2),E2(dr2),Eh();break;case 5:Bh(s3);break;case 4:zh();break;case 13:case 19:E2(jr2);break;case 10:ah(s3.type._context);break;case 22:case 23:Hj()}a3=a3.return}if(Ro2=o3,Do2=o3=Pg(o3.current,null),Io2=Mo2=i3,Ao2=0,Qo2=null,$o2=Lo2=No2=0,Bo2=Fo2=null,Lr2!==null){for(i3=0;i3<Lr2.length;i3++)if((s3=(a3=Lr2[i3]).interleaved)!==null){a3.interleaved=null;var u2=s3.next,O3=a3.pending;if(O3!==null){var w3=O3.next;O3.next=u2,s3.next=w3}a3.pending=s3}Lr2=null}return o3}__name(Kk,"Kk");function Mk(o3,i3){for(;;){var a3=Do2;try{if($g(),Hr2.current=to2,Yr2){for(var s3=qr2.memoizedState;s3!==null;){var u2=s3.queue;u2!==null&&(u2.pending=null),s3=s3.next}Yr2=!1}if(Zr2=0,Gr2=Xr2=qr2=null,Kr2=!1,Jr2=0,Po2.current=null,a3===null||a3.return===null){Ao2=1,Qo2=i3,Do2=null;break}e:{var O3=o3,w3=a3.return,x3=a3,C3=i3;if(i3=Io2,x3.flags|=32768,C3!==null&&typeof C3=="object"&&typeof C3.then=="function"){var T3=C3,_3=x3,A3=_3.tag;if(!(1&_3.mode||A3!==0&&A3!==11&&A3!==15)){var Q3=_3.alternate;Q3?(_3.updateQueue=Q3.updateQueue,_3.memoizedState=Q3.memoizedState,_3.lanes=Q3.lanes):(_3.updateQueue=null,_3.memoizedState=null)}var N3=Ui(w3);if(N3!==null){N3.flags&=-257,Vi(N3,w3,x3,0,i3),1&N3.mode&&Si(O3,T3,i3),C3=T3;var L3=(i3=N3).updateQueue;if(L3===null){var $3=new Set;$3.add(C3),i3.updateQueue=$3}else L3.add(C3);break e}if(!(1&i3)){Si(O3,T3,i3),tj();break e}C3=Error(p2(426))}else if(Tr2&&1&x3.mode){var F3=Ui(w3);if(F3!==null){!(65536&F3.flags)&&(F3.flags|=256),Vi(F3,w3,x3,0,i3),Jg(Ji(C3,x3));break e}}O3=C3=Ji(C3,x3),Ao2!==4&&(Ao2=2),Fo2===null?Fo2=[O3]:Fo2.push(O3),O3=w3;do{switch(O3.tag){case 3:O3.flags|=65536,i3&=-i3,O3.lanes|=i3,ph(O3,Ni(0,C3,i3));break e;case 1:x3=C3;var B3=O3.type,V3=O3.stateNode;if(!(128&O3.flags||typeof B3.getDerivedStateFromError!="function"&&(V3===null||typeof V3.componentDidCatch!="function"||Uo2!==null&&Uo2.has(V3)))){O3.flags|=65536,i3&=-i3,O3.lanes|=i3,ph(O3,Qi(O3,x3,i3));break e}}O3=O3.return}while(O3!==null)}Sk(a3)}catch(o4){i3=o4,Do2===a3&&a3!==null&&(Do2=a3=a3.return);continue}break}}__name(Mk,"Mk");function Jk(){var o3=Co2.current;return Co2.current=to2,o3===null?to2:o3}__name(Jk,"Jk");function tj(){Ao2!==0&&Ao2!==3&&Ao2!==2||(Ao2=4),Ro2===null||!(268435455&No2)&&!(268435455&Lo2)||Ck(Ro2,Io2)}__name(tj,"tj");function Ik(o3,i3){var a3=To2;To2|=2;var s3=Jk();for(Ro2===o3&&Io2===i3||(jo2=null,Kk(o3,i3));;)try{Tk();break}catch(i4){Mk(o3,i4)}if($g(),To2=a3,Co2.current=s3,Do2!==null)throw Error(p2(261));return Ro2=null,Io2=0,Ao2}__name(Ik,"Ik");function Tk(){for(;Do2!==null;)Uk(Do2)}__name(Tk,"Tk");function Lk(){for(;Do2!==null&&!rt2();)Uk(Do2)}__name(Lk,"Lk");function Uk(o3){var i3=xo2(o3.alternate,o3,Mo2);o3.memoizedProps=o3.pendingProps,i3===null?Sk(o3):Do2=i3,Po2.current=null}__name(Uk,"Uk");function Sk(o3){var i3=o3;do{var a3=i3.alternate;if(o3=i3.return,32768&i3.flags){if((a3=Ij(a3,i3))!==null)return a3.flags&=32767,void(Do2=a3);if(o3===null)return Ao2=6,void(Do2=null);o3.flags|=32768,o3.subtreeFlags=0,o3.deletions=null}else if((a3=Ej(a3,i3,Mo2))!==null)return void(Do2=a3);if((i3=i3.sibling)!==null)return void(Do2=i3);Do2=i3=o3}while(i3!==null);Ao2===0&&(Ao2=5)}__name(Sk,"Sk");function Pk(o3,i3,a3){var s3=Ot2,u2=Eo2.transition;try{Eo2.transition=null,Ot2=1,__name(function(o4,i4,a4,s4){do Hk();while(qo2!==null);if(6&To2)throw Error(p2(327));a4=o4.finishedWork;var u3=o4.finishedLanes;if(a4===null)return null;if(o4.finishedWork=null,o4.finishedLanes=0,a4===o4.current)throw Error(p2(177));o4.callbackNode=null,o4.callbackPriority=0;var O3=a4.lanes|a4.childLanes;if(__name(function(o5,i5){var a5=o5.pendingLanes&~i5;o5.pendingLanes=i5,o5.suspendedLanes=0,o5.pingedLanes=0,o5.expiredLanes&=i5,o5.mutableReadLanes&=i5,o5.entangledLanes&=i5,i5=o5.entanglements;var s5=o5.eventTimes;for(o5=o5.expirationTimes;0<a5;){var u4=31-ht2(a5),O4=1<<u4;i5[u4]=0,s5[u4]=-1,o5[u4]=-1,a5&=~O4}},"Bc")(o4,O3),o4===Ro2&&(Do2=Ro2=null,Io2=0),!(2064&a4.subtreeFlags)&&!(2064&a4.flags)||Zo2||(Zo2=!0,Fk(ct2,function(){return Hk(),null})),O3=!!(15990&a4.flags),!!(15990&a4.subtreeFlags)||O3){O3=Eo2.transition,Eo2.transition=null;var w3=Ot2;Ot2=1;var x3=To2;To2|=4,Po2.current=null,__name(function(o5,i5){if(Xn2=Qt2,Ne(o5=Me())){if("selectionStart"in o5)var a5={start:o5.selectionStart,end:o5.selectionEnd};else e:{var s5=(a5=(a5=o5.ownerDocument)&&a5.defaultView||window).getSelection&&a5.getSelection();if(s5&&s5.rangeCount!==0){a5=s5.anchorNode;var u4=s5.anchorOffset,O4=s5.focusNode;s5=s5.focusOffset;try{a5.nodeType,O4.nodeType}catch{a5=null;break e}var w4=0,x4=-1,C3=-1,T3=0,_3=0,A3=o5,Q3=null;t:for(;;){for(var N3;A3!==a5||u4!==0&&A3.nodeType!==3||(x4=w4+u4),A3!==O4||s5!==0&&A3.nodeType!==3||(C3=w4+s5),A3.nodeType===3&&(w4+=A3.nodeValue.length),(N3=A3.firstChild)!==null;)Q3=A3,A3=N3;for(;;){if(A3===o5)break t;if(Q3===a5&&++T3===u4&&(x4=w4),Q3===O4&&++_3===s5&&(C3=w4),(N3=A3.nextSibling)!==null)break;Q3=(A3=Q3).parentNode}A3=N3}a5=x4===-1||C3===-1?null:{start:x4,end:C3}}else a5=null}a5=a5||{start:0,end:0}}else a5=null;for(Gn2={focusedElem:o5,selectionRange:a5},Qt2=!1,Oo2=i5;Oo2!==null;)if(o5=(i5=Oo2).child,1028&i5.subtreeFlags&&o5!==null)o5.return=i5,Oo2=o5;else for(;Oo2!==null;){i5=Oo2;try{var L3=i5.alternate;if(1024&i5.flags)switch(i5.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(L3!==null){var $3=L3.memoizedProps,F3=L3.memoizedState,B3=i5.stateNode,V3=B3.getSnapshotBeforeUpdate(i5.elementType===i5.type?$3:Ci(i5.type,$3),F3);B3.__reactInternalSnapshotBeforeUpdate=V3}break;case 3:var z3=i5.stateNode.containerInfo;z3.nodeType===1?z3.textContent="":z3.nodeType===9&&z3.documentElement&&z3.removeChild(z3.documentElement);break;default:throw Error(p2(163))}}catch(o6){W2(i5,i5.return,o6)}if((o5=i5.sibling)!==null){o5.return=i5.return,Oo2=o5;break}Oo2=i5.return}return L3=bo2,bo2=!1,L3},"Oj")(o4,a4),dk(a4,o4),Oe(Gn2),Qt2=!!Xn2,Gn2=Xn2=null,o4.current=a4,hk(a4),ot2(),To2=x3,Ot2=w3,Eo2.transition=O3}else o4.current=a4;if(Zo2&&(Zo2=!1,qo2=o4,Xo2=u3),O3=o4.pendingLanes,O3===0&&(Uo2=null),__name(function(o5){if(pt2&&typeof pt2.onCommitFiberRoot=="function")try{pt2.onCommitFiberRoot(ft2,o5,void 0,!(128&~o5.current.flags))}catch{}},"mc")(a4.stateNode),Dk(o4,it2()),i4!==null)for(s4=o4.onRecoverableError,a4=0;a4<i4.length;a4++)u3=i4[a4],s4(u3.value,{componentStack:u3.stack,digest:u3.digest});if(Wo2)throw Wo2=!1,o4=Ho2,Ho2=null,o4;return 1&Xo2&&o4.tag!==0&&Hk(),O3=o4.pendingLanes,1&O3?o4===Yo2?Go2++:(Go2=0,Yo2=o4):Go2=0,jg(),null},"Wk")(o3,i3,a3,s3)}finally{Eo2.transition=u2,Ot2=s3}return null}__name(Pk,"Pk");function Hk(){if(qo2!==null){var o3=Dc(Xo2),i3=Eo2.transition,a3=Ot2;try{if(Eo2.transition=null,Ot2=16>o3?16:o3,qo2===null)var s3=!1;else{if(o3=qo2,qo2=null,Xo2=0,6&To2)throw Error(p2(331));var u2=To2;for(To2|=4,Oo2=o3.current;Oo2!==null;){var O3=Oo2,w3=O3.child;if(16&Oo2.flags){var x3=O3.deletions;if(x3!==null){for(var C3=0;C3<x3.length;C3++){var T3=x3[C3];for(Oo2=T3;Oo2!==null;){var _3=Oo2;switch(_3.tag){case 0:case 11:case 15:Pj(8,_3,O3)}var A3=_3.child;if(A3!==null)A3.return=_3,Oo2=A3;else for(;Oo2!==null;){var Q3=(_3=Oo2).sibling,N3=_3.return;if(Sj(_3),_3===T3){Oo2=null;break}if(Q3!==null){Q3.return=N3,Oo2=Q3;break}Oo2=N3}}}var L3=O3.alternate;if(L3!==null){var $3=L3.child;if($3!==null){L3.child=null;do{var F3=$3.sibling;$3.sibling=null,$3=F3}while($3!==null)}}Oo2=O3}}if(2064&O3.subtreeFlags&&w3!==null)w3.return=O3,Oo2=w3;else e:for(;Oo2!==null;){if(2048&(O3=Oo2).flags)switch(O3.tag){case 0:case 11:case 15:Pj(9,O3,O3.return)}var B3=O3.sibling;if(B3!==null){B3.return=O3.return,Oo2=B3;break e}Oo2=O3.return}}var V3=o3.current;for(Oo2=V3;Oo2!==null;){var z3=(w3=Oo2).child;if(2064&w3.subtreeFlags&&z3!==null)z3.return=w3,Oo2=z3;else e:for(w3=V3;Oo2!==null;){if(2048&(x3=Oo2).flags)try{switch(x3.tag){case 0:case 11:case 15:Qj(9,x3)}}catch(o4){W2(x3,x3.return,o4)}if(x3===w3){Oo2=null;break e}var j3=x3.sibling;if(j3!==null){j3.return=x3.return,Oo2=j3;break e}Oo2=x3.return}}if(To2=u2,jg(),pt2&&typeof pt2.onPostCommitFiberRoot=="function")try{pt2.onPostCommitFiberRoot(ft2,o3)}catch{}s3=!0}return s3}finally{Ot2=a3,Eo2.transition=i3}}return!1}__name(Hk,"Hk");function Xk(o3,i3,a3){o3=nh(o3,i3=Ni(0,i3=Ji(a3,i3),1),1),i3=R2(),o3!==null&&(Ac(o3,1,i3),Dk(o3,i3))}__name(Xk,"Xk");function W2(o3,i3,a3){if(o3.tag===3)Xk(o3,o3,a3);else for(;i3!==null;){if(i3.tag===3){Xk(i3,o3,a3);break}if(i3.tag===1){var s3=i3.stateNode;if(typeof i3.type.getDerivedStateFromError=="function"||typeof s3.componentDidCatch=="function"&&(Uo2===null||!Uo2.has(s3))){i3=nh(i3,o3=Qi(i3,o3=Ji(a3,o3),1),1),o3=R2(),i3!==null&&(Ac(i3,1,o3),Dk(i3,o3));break}}i3=i3.return}}__name(W2,"W");function Ti(o3,i3,a3){var s3=o3.pingCache;s3!==null&&s3.delete(i3),i3=R2(),o3.pingedLanes|=o3.suspendedLanes&a3,Ro2===o3&&(Io2&a3)===a3&&(Ao2===4||Ao2===3&&(130023424&Io2)===Io2&&500>it2()-Vo2?Kk(o3,0):$o2|=a3),Dk(o3,i3)}__name(Ti,"Ti");function Yk(o3,i3){i3===0&&(1&o3.mode?(i3=yt2,!(130023424&(yt2<<=1))&&(yt2=4194304)):i3=1);var a3=R2();(o3=ih(o3,i3))!==null&&(Ac(o3,i3,a3),Dk(o3,a3))}__name(Yk,"Yk");function uj(o3){var i3=o3.memoizedState,a3=0;i3!==null&&(a3=i3.retryLane),Yk(o3,a3)}__name(uj,"uj");function bk(o3,i3){var a3=0;switch(o3.tag){case 13:var s3=o3.stateNode,u2=o3.memoizedState;u2!==null&&(a3=u2.retryLane);break;case 19:s3=o3.stateNode;break;default:throw Error(p2(314))}s3!==null&&s3.delete(i3),Yk(o3,a3)}__name(bk,"bk");function Fk(o3,i3){return tt2(o3,i3)}__name(Fk,"Fk");function $k(o3,i3,a3,s3){this.tag=o3,this.key=a3,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i3,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s3,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}__name($k,"$k");function Bg(o3,i3,a3,s3){return new $k(o3,i3,a3,s3)}__name(Bg,"Bg");function aj(o3){return!(!(o3=o3.prototype)||!o3.isReactComponent)}__name(aj,"aj");function Pg(o3,i3){var a3=o3.alternate;return a3===null?((a3=Bg(o3.tag,i3,o3.key,o3.mode)).elementType=o3.elementType,a3.type=o3.type,a3.stateNode=o3.stateNode,a3.alternate=o3,o3.alternate=a3):(a3.pendingProps=i3,a3.type=o3.type,a3.flags=0,a3.subtreeFlags=0,a3.deletions=null),a3.flags=14680064&o3.flags,a3.childLanes=o3.childLanes,a3.lanes=o3.lanes,a3.child=o3.child,a3.memoizedProps=o3.memoizedProps,a3.memoizedState=o3.memoizedState,a3.updateQueue=o3.updateQueue,i3=o3.dependencies,a3.dependencies=i3===null?null:{lanes:i3.lanes,firstContext:i3.firstContext},a3.sibling=o3.sibling,a3.index=o3.index,a3.ref=o3.ref,a3}__name(Pg,"Pg");function Rg(o3,i3,a3,s3,u2,O3){var w3=2;if(s3=o3,typeof o3=="function")aj(o3)&&(w3=1);else if(typeof o3=="string")w3=5;else e:switch(o3){case $2:return Tg(a3.children,u2,O3,i3);case F2:w3=8,u2|=8;break;case B2:return(o3=Bg(12,a3,i3,2|u2)).elementType=B2,o3.lanes=O3,o3;case U2:return(o3=Bg(13,a3,i3,u2)).elementType=U2,o3.lanes=O3,o3;case Z2:return(o3=Bg(19,a3,i3,u2)).elementType=Z2,o3.lanes=O3,o3;case ee2:return pj(a3,u2,O3,i3);default:if(typeof o3=="object"&&o3!==null)switch(o3.$$typeof){case V2:w3=10;break e;case z2:w3=9;break e;case j2:w3=11;break e;case X2:w3=14;break e;case Y2:w3=16,s3=null;break e}throw Error(p2(130,o3==null?o3:typeof o3,""))}return(i3=Bg(w3,a3,i3,u2)).elementType=o3,i3.type=s3,i3.lanes=O3,i3}__name(Rg,"Rg");function Tg(o3,i3,a3,s3){return(o3=Bg(7,o3,s3,i3)).lanes=a3,o3}__name(Tg,"Tg");function pj(o3,i3,a3,s3){return(o3=Bg(22,o3,s3,i3)).elementType=ee2,o3.lanes=a3,o3.stateNode={isHidden:!1},o3}__name(pj,"pj");function Qg(o3,i3,a3){return(o3=Bg(6,o3,null,i3)).lanes=a3,o3}__name(Qg,"Qg");function Sg(o3,i3,a3){return(i3=Bg(4,o3.children!==null?o3.children:[],o3.key,i3)).lanes=a3,i3.stateNode={containerInfo:o3.containerInfo,pendingChildren:null,implementation:o3.implementation},i3}__name(Sg,"Sg");function al(o3,i3,a3,s3,u2){this.tag=i3,this.containerInfo=o3,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=s3,this.onRecoverableError=u2,this.mutableSourceEagerHydrationData=null}__name(al,"al");function bl(o3,i3,a3,s3,u2,O3,w3,x3,C3){return o3=new al(o3,i3,a3,x3,C3),i3===1?(i3=1,O3===!0&&(i3|=8)):i3=0,O3=Bg(3,null,null,i3),o3.current=O3,O3.stateNode=o3,O3.memoizedState={element:s3,isDehydrated:a3,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(O3),o3}__name(bl,"bl");function dl(o3){if(!o3)return ur2;e:{if(Vb(o3=o3._reactInternals)!==o3||o3.tag!==1)throw Error(p2(170));var i3=o3;do{switch(i3.tag){case 3:i3=i3.stateNode.context;break e;case 1:if(Zf(i3.type)){i3=i3.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i3=i3.return}while(i3!==null);throw Error(p2(171))}if(o3.tag===1){var a3=o3.type;if(Zf(a3))return bg(o3,a3,i3)}return i3}__name(dl,"dl");function el(o3,i3,a3,s3,u2,O3,w3,x3,C3){return(o3=bl(a3,s3,!0,o3,0,O3,0,x3,C3)).context=dl(null),a3=o3.current,(O3=mh(s3=R2(),u2=yi(a3))).callback=i3??null,nh(a3,O3,u2),o3.current.lanes=u2,Ac(o3,u2,s3),Dk(o3,s3),o3}__name(el,"el");function fl(o3,i3,a3,s3){var u2=i3.current,O3=R2(),w3=yi(u2);return a3=dl(a3),i3.context===null?i3.context=a3:i3.pendingContext=a3,(i3=mh(O3,w3)).payload={element:o3},(s3=s3===void 0?null:s3)!==null&&(i3.callback=s3),(o3=nh(u2,i3,w3))!==null&&(gi(o3,u2,w3,O3),oh(o3,u2,w3)),w3}__name(fl,"fl");function gl2(o3){return(o3=o3.current).child?(o3.child.tag,o3.child.stateNode):null}__name(gl2,"gl");function hl(o3,i3){if((o3=o3.memoizedState)!==null&&o3.dehydrated!==null){var a3=o3.retryLane;o3.retryLane=a3!==0&&a3<i3?a3:i3}}__name(hl,"hl");function il(o3,i3){hl(o3,i3),(o3=o3.alternate)&&hl(o3,i3)}__name(il,"il"),xo2=__name(function(o3,i3,a3){if(o3!==null)if(o3.memoizedProps!==i3.pendingProps||fr2.current)lo2=!0;else{if(!(o3.lanes&a3||128&i3.flags))return lo2=!1,__name(function(o4,i4,a4){switch(i4.tag){case 3:kj(i4),Ig();break;case 5:Ah(i4);break;case 1:Zf(i4.type)&&cg(i4);break;case 4:yh(i4,i4.stateNode.containerInfo);break;case 10:var s4=i4.type._context,u3=i4.memoizedProps.value;G2(_r2,s4._currentValue),s4._currentValue=u3;break;case 13:if((s4=i4.memoizedState)!==null)return s4.dehydrated!==null?(G2(jr2,1&jr2.current),i4.flags|=128,null):a4&i4.child.childLanes?oj(o4,i4,a4):(G2(jr2,1&jr2.current),(o4=Zi(o4,i4,a4))!==null?o4.sibling:null);G2(jr2,1&jr2.current);break;case 19:if(s4=!!(a4&i4.childLanes),128&o4.flags){if(s4)return xj(o4,i4,a4);i4.flags|=128}if((u3=i4.memoizedState)!==null&&(u3.rendering=null,u3.tail=null,u3.lastEffect=null),G2(jr2,jr2.current),s4)break;return null;case 22:case 23:return i4.lanes=0,dj(o4,i4,a4)}return Zi(o4,i4,a4)},"yj")(o3,i3,a3);lo2=!!(131072&o3.flags)}else lo2=!1,Tr2&&1048576&i3.flags&&ug(i3,br2,i3.index);switch(i3.lanes=0,i3.tag){case 2:var s3=i3.type;ij(o3,i3),o3=i3.pendingProps;var u2=Yf(i3,dr2.current);ch(i3,a3),u2=Nh(null,i3,s3,o3,u2,a3);var O3=Sh();return i3.flags|=1,typeof u2=="object"&&u2!==null&&typeof u2.render=="function"&&u2.$$typeof===void 0?(i3.tag=1,i3.memoizedState=null,i3.updateQueue=null,Zf(s3)?(O3=!0,cg(i3)):O3=!1,i3.memoizedState=u2.state!==null&&u2.state!==void 0?u2.state:null,kh(i3),u2.updater=io2,i3.stateNode=u2,u2._reactInternals=i3,Ii(i3,s3,o3,a3),i3=jj(null,i3,s3,!0,O3,a3)):(i3.tag=0,Tr2&&O3&&vg(i3),Xi(null,i3,u2,a3),i3=i3.child),i3;case 16:s3=i3.elementType;e:{switch(ij(o3,i3),o3=i3.pendingProps,s3=(u2=s3._init)(s3._payload),i3.type=s3,u2=i3.tag=__name(function(o4){if(typeof o4=="function")return aj(o4)?1:0;if(o4!=null){if((o4=o4.$$typeof)===j2)return 11;if(o4===X2)return 14}return 2},"Zk")(s3),o3=Ci(s3,o3),u2){case 0:i3=cj(null,i3,s3,o3,a3);break e;case 1:i3=hj(null,i3,s3,o3,a3);break e;case 11:i3=Yi(null,i3,s3,o3,a3);break e;case 14:i3=$i(null,i3,s3,Ci(s3.type,o3),a3);break e}throw Error(p2(306,s3,""))}return i3;case 0:return s3=i3.type,u2=i3.pendingProps,cj(o3,i3,s3,u2=i3.elementType===s3?u2:Ci(s3,u2),a3);case 1:return s3=i3.type,u2=i3.pendingProps,hj(o3,i3,s3,u2=i3.elementType===s3?u2:Ci(s3,u2),a3);case 3:e:{if(kj(i3),o3===null)throw Error(p2(387));s3=i3.pendingProps,u2=(O3=i3.memoizedState).element,lh(o3,i3),qh(i3,s3,null,a3);var w3=i3.memoizedState;if(s3=w3.element,O3.isDehydrated){if(O3={element:s3,isDehydrated:!1,cache:w3.cache,pendingSuspenseBoundaries:w3.pendingSuspenseBoundaries,transitions:w3.transitions},i3.updateQueue.baseState=O3,i3.memoizedState=O3,256&i3.flags){i3=lj(o3,i3,s3,a3,u2=Ji(Error(p2(423)),i3));break e}if(s3!==u2){i3=lj(o3,i3,s3,a3,u2=Ji(Error(p2(424)),i3));break e}for(Er2=Lf(i3.stateNode.containerInfo.firstChild),Pr2=i3,Tr2=!0,Rr2=null,a3=Mr2(i3,null,s3,a3),i3.child=a3;a3;)a3.flags=-3&a3.flags|4096,a3=a3.sibling}else{if(Ig(),s3===u2){i3=Zi(o3,i3,a3);break e}Xi(o3,i3,s3,a3)}i3=i3.child}return i3;case 5:return Ah(i3),o3===null&&Eg(i3),s3=i3.type,u2=i3.pendingProps,O3=o3!==null?o3.memoizedProps:null,w3=u2.children,Ef(s3,u2)?w3=null:O3!==null&&Ef(s3,O3)&&(i3.flags|=32),gj(o3,i3),Xi(o3,i3,w3,a3),i3.child;case 6:return o3===null&&Eg(i3),null;case 13:return oj(o3,i3,a3);case 4:return yh(i3,i3.stateNode.containerInfo),s3=i3.pendingProps,o3===null?i3.child=Ir2(i3,null,s3,a3):Xi(o3,i3,s3,a3),i3.child;case 11:return s3=i3.type,u2=i3.pendingProps,Yi(o3,i3,s3,u2=i3.elementType===s3?u2:Ci(s3,u2),a3);case 7:return Xi(o3,i3,i3.pendingProps,a3),i3.child;case 8:case 12:return Xi(o3,i3,i3.pendingProps.children,a3),i3.child;case 10:e:{if(s3=i3.type._context,u2=i3.pendingProps,O3=i3.memoizedProps,w3=u2.value,G2(_r2,s3._currentValue),s3._currentValue=w3,O3!==null)if(En2(O3.value,w3)){if(O3.children===u2.children&&!fr2.current){i3=Zi(o3,i3,a3);break e}}else for((O3=i3.child)!==null&&(O3.return=i3);O3!==null;){var x3=O3.dependencies;if(x3!==null){w3=O3.child;for(var C3=x3.firstContext;C3!==null;){if(C3.context===s3){if(O3.tag===1){(C3=mh(-1,a3&-a3)).tag=2;var T3=O3.updateQueue;if(T3!==null){var _3=(T3=T3.shared).pending;_3===null?C3.next=C3:(C3.next=_3.next,_3.next=C3),T3.pending=C3}}O3.lanes|=a3,(C3=O3.alternate)!==null&&(C3.lanes|=a3),bh(O3.return,a3,i3),x3.lanes|=a3;break}C3=C3.next}}else if(O3.tag===10)w3=O3.type===i3.type?null:O3.child;else if(O3.tag===18){if((w3=O3.return)===null)throw Error(p2(341));w3.lanes|=a3,(x3=w3.alternate)!==null&&(x3.lanes|=a3),bh(w3,a3,i3),w3=O3.sibling}else w3=O3.child;if(w3!==null)w3.return=O3;else for(w3=O3;w3!==null;){if(w3===i3){w3=null;break}if((O3=w3.sibling)!==null){O3.return=w3.return,w3=O3;break}w3=w3.return}O3=w3}Xi(o3,i3,u2.children,a3),i3=i3.child}return i3;case 9:return u2=i3.type,s3=i3.pendingProps.children,ch(i3,a3),s3=s3(u2=eh(u2)),i3.flags|=1,Xi(o3,i3,s3,a3),i3.child;case 14:return u2=Ci(s3=i3.type,i3.pendingProps),$i(o3,i3,s3,u2=Ci(s3.type,u2),a3);case 15:return bj(o3,i3,i3.type,i3.pendingProps,a3);case 17:return s3=i3.type,u2=i3.pendingProps,u2=i3.elementType===s3?u2:Ci(s3,u2),ij(o3,i3),i3.tag=1,Zf(s3)?(o3=!0,cg(i3)):o3=!1,ch(i3,a3),Gi(i3,s3,u2),Ii(i3,s3,u2,a3),jj(null,i3,s3,!0,o3,a3);case 19:return xj(o3,i3,a3);case 22:return dj(o3,i3,a3)}throw Error(p2(156,i3.tag))},"xo2");var Oi2=typeof reportError=="function"?reportError:function(o3){console.error(o3)};function ll(o3){this._internalRoot=o3}__name(ll,"ll");function ml(o3){this._internalRoot=o3}__name(ml,"ml");function nl(o3){return!(!o3||o3.nodeType!==1&&o3.nodeType!==9&&o3.nodeType!==11)}__name(nl,"nl");function ol(o3){return!(!o3||o3.nodeType!==1&&o3.nodeType!==9&&o3.nodeType!==11&&(o3.nodeType!==8||o3.nodeValue!==" react-mount-point-unstable "))}__name(ol,"ol");function pl(){}__name(pl,"pl");function rl(o3,i3,a3,s3,u2){var O3=a3._reactRootContainer;if(O3){var w3=O3;if(typeof u2=="function"){var x3=u2;u2=__name(function(){var o4=gl2(w3);x3.call(o4)},"u2")}fl(i3,w3,o3,u2)}else w3=__name(function(o4,i4,a4,s4,u3){if(u3){if(typeof s4=="function"){var O4=s4;s4=__name(function(){var o5=gl2(w4);O4.call(o5)},"s4")}var w4=el(i4,s4,o4,0,null,!1,0,"",pl);return o4._reactRootContainer=w4,o4[or2]=w4.current,sf(o4.nodeType===8?o4.parentNode:o4),Rk(),w4}for(;u3=o4.lastChild;)o4.removeChild(u3);if(typeof s4=="function"){var x4=s4;s4=__name(function(){var o5=gl2(C3);x4.call(o5)},"s4")}var C3=bl(o4,0,!1,null,0,!1,0,"",pl);return o4._reactRootContainer=C3,o4[or2]=C3.current,sf(o4.nodeType===8?o4.parentNode:o4),Rk(function(){fl(i4,C3,a4,s4)}),C3},"ql")(a3,i3,o3,u2,s3);return gl2(w3)}__name(rl,"rl"),ml.prototype.render=ll.prototype.render=function(o3){var i3=this._internalRoot;if(i3===null)throw Error(p2(409));fl(o3,i3,null,null)},ml.prototype.unmount=ll.prototype.unmount=function(){var o3=this._internalRoot;if(o3!==null){this._internalRoot=null;var i3=o3.containerInfo;Rk(function(){fl(null,o3,null,null)}),i3[or2]=null}},ml.prototype.unstable_scheduleHydration=function(o3){if(o3){var i3=xt2();o3={blockedOn:null,target:o3,priority:i3};for(var a3=0;a3<Mt2.length&&i3!==0&&i3<Mt2[a3].priority;a3++);Mt2.splice(a3,0,o3),a3===0&&Vc(o3)}},bt2=__name(function(o3){switch(o3.tag){case 3:var i3=o3.stateNode;if(i3.current.memoizedState.isDehydrated){var a3=tc(i3.pendingLanes);a3!==0&&(Cc(i3,1|a3),Dk(i3,it2()),!(6&To2)&&(zo2=it2()+500,jg()))}break;case 13:Rk(function(){var i4=ih(o3,1);if(i4!==null){var a4=R2();gi(i4,o3,1,a4)}}),il(o3,1)}},"bt2"),St2=__name(function(o3){if(o3.tag===13){var i3=ih(o3,134217728);i3!==null&&gi(i3,o3,134217728,R2()),il(o3,134217728)}},"St2"),wt2=__name(function(o3){if(o3.tag===13){var i3=yi(o3),a3=ih(o3,i3);a3!==null&&gi(a3,o3,i3,R2()),il(o3,i3)}},"wt2"),xt2=__name(function(){return Ot2},"xt2"),kt2=__name(function(o3,i3){var a3=Ot2;try{return Ot2=o3,i3()}finally{Ot2=a3}},"kt2"),Re2=__name(function(o3,i3,a3){switch(i3){case"input":if(bb(o3,a3),i3=a3.name,a3.type==="radio"&&i3!=null){for(a3=o3;a3.parentNode;)a3=a3.parentNode;for(a3=a3.querySelectorAll("input[name="+JSON.stringify(""+i3)+'][type="radio"]'),i3=0;i3<a3.length;i3++){var s3=a3[i3];if(s3!==o3&&s3.form===o3.form){var u2=Db(s3);if(!u2)throw Error(p2(90));Wa(s3),bb(s3,u2)}}}break;case"textarea":ib(o3,a3);break;case"select":(i3=a3.value)!=null&&fb(o3,!!a3.multiple,i3,!1)}},"Re2"),Gb=Qk,Hb=Rk;var Pi2={usingClientEntryPoint:!1,Events:[Cb,ue2,Db,Eb,Fb,Qk]},Ei2={findFiberByHostInstance:Wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ri2={bundleType:Ei2.bundleType,version:Ei2.version,rendererPackageName:Ei2.rendererPackageName,rendererConfig:Ei2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q2.ReactCurrentDispatcher,findHostInstanceByFiber:__name(function(o3){return(o3=Zb(o3))===null?null:o3.stateNode},"findHostInstanceByFiber"),findFiberByHostInstance:Ei2.findFiberByHostInstance||__name(function(){return null},"jl"),findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mi2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mi2.isDisabled&&Mi2.supportsFiber)try{ft2=Mi2.inject(Ri2),pt2=Mi2}catch{}}return de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pi2,de.createPortal=function(o3,i3){var a3=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(i3))throw Error(p2(200));return __name(function(o4,i4,a4){var s3=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L2,key:s3==null?null:""+s3,children:o4,containerInfo:i4,implementation:a4}},"cl")(o3,i3,null,a3)},de.createRoot=function(o3,i3){if(!nl(o3))throw Error(p2(299));var a3=!1,s3="",u2=Oi2;return i3!=null&&(i3.unstable_strictMode===!0&&(a3=!0),i3.identifierPrefix!==void 0&&(s3=i3.identifierPrefix),i3.onRecoverableError!==void 0&&(u2=i3.onRecoverableError)),i3=bl(o3,1,!1,null,0,a3,0,s3,u2),o3[or2]=i3.current,sf(o3.nodeType===8?o3.parentNode:o3),new ll(i3)},de.findDOMNode=function(o3){if(o3==null)return null;if(o3.nodeType===1)return o3;var i3=o3._reactInternals;if(i3===void 0)throw typeof o3.render=="function"?Error(p2(188)):(o3=Object.keys(o3).join(","),Error(p2(268,o3)));return o3=(o3=Zb(i3))===null?null:o3.stateNode},de.flushSync=function(o3){return Rk(o3)},de.hydrate=function(o3,i3,a3){if(!ol(i3))throw Error(p2(200));return rl(null,o3,i3,!0,a3)},de.hydrateRoot=function(o3,i3,a3){if(!nl(o3))throw Error(p2(405));var s3=a3!=null&&a3.hydratedSources||null,u2=!1,O3="",w3=Oi2;if(a3!=null&&(a3.unstable_strictMode===!0&&(u2=!0),a3.identifierPrefix!==void 0&&(O3=a3.identifierPrefix),a3.onRecoverableError!==void 0&&(w3=a3.onRecoverableError)),i3=el(i3,null,o3,1,a3??null,u2,0,O3,w3),o3[or2]=i3.current,sf(o3),s3)for(o3=0;o3<s3.length;o3++)u2=(u2=(a3=s3[o3])._getVersion)(a3._source),i3.mutableSourceEagerHydrationData==null?i3.mutableSourceEagerHydrationData=[a3,u2]:i3.mutableSourceEagerHydrationData.push(a3,u2);return new ml(i3)},de.render=function(o3,i3,a3){if(!ol(i3))throw Error(p2(200));return rl(null,o3,i3,!1,a3)},de.unmountComponentAtNode=function(o3){if(!ol(o3))throw Error(p2(40));return!!o3._reactRootContainer&&(Rk(function(){rl(null,null,o3,!1,function(){o3._reactRootContainer=null,o3[or2]=null})}),!0)},de.unstable_batchedUpdates=Qk,de.unstable_renderSubtreeIntoContainer=function(o3,i3,a3,s3){if(!ol(a3))throw Error(p2(200));if(o3==null||o3._reactInternals===void 0)throw Error(p2(38));return rl(o3,i3,a3,!1,s3)},de.version="18.3.1-next-f1338f8080-20240426",de}__name(requireReactDom_production_min,"requireReactDom_production_min");var Pe,Re=__name(function(){return Pe||(Pe=1,__name(function checkDCE(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o2){console.error(o2)}},"checkDCE")(),ce.exports=requireReactDom_production_min()),ce.exports},"requireReactDom")(),_e=getDefaultExportFromCjs(Re);function formatProdErrorMessage(o2){return`Minified Redux error #${o2}; visit https://redux.js.org/Errors?code=${o2} for the full message or use the non-minified dev environment for full errors. `}__name(formatProdErrorMessage,"formatProdErrorMessage");var Qe=typeof Symbol=="function"&&Symbol.observable||"@@observable",randomString=__name(()=>Math.random().toString(36).substring(7).split("").join("."),"randomString"),$e={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`};function createStore$1(o2,i2,a2){if(typeof o2!="function")throw new Error(formatProdErrorMessage(2));if(typeof i2=="function"&&typeof a2=="function"||typeof a2=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof i2=="function"&&a2===void 0&&(a2=i2,i2=void 0),a2!==void 0){if(typeof a2!="function")throw new Error(formatProdErrorMessage(1));return a2(createStore$1)(o2,i2)}let s2=o2,u2=i2,O2=new Map,w2=O2,x2=0,C2=!1;function ensureCanMutateNextListeners(){w2===O2&&(w2=new Map,O2.forEach((o3,i3)=>{w2.set(i3,o3)}))}__name(ensureCanMutateNextListeners,"ensureCanMutateNextListeners");function getState(){if(C2)throw new Error(formatProdErrorMessage(3));return u2}__name(getState,"getState");function subscribe(o3){if(typeof o3!="function")throw new Error(formatProdErrorMessage(4));if(C2)throw new Error(formatProdErrorMessage(5));let i3=!0;ensureCanMutateNextListeners();const a3=x2++;return w2.set(a3,o3),__name(function(){if(i3){if(C2)throw new Error(formatProdErrorMessage(6));i3=!1,ensureCanMutateNextListeners(),w2.delete(a3),O2=null}},"unsubscribe")}__name(subscribe,"subscribe");function dispatch(o3){if(!__name(function(o4){if(typeof o4!="object"||o4===null)return!1;let i3=o4;for(;Object.getPrototypeOf(i3)!==null;)i3=Object.getPrototypeOf(i3);return Object.getPrototypeOf(o4)===i3||Object.getPrototypeOf(o4)===null},"isPlainObject$1")(o3))throw new Error(formatProdErrorMessage(7));if(o3.type===void 0)throw new Error(formatProdErrorMessage(8));if(typeof o3.type!="string")throw new Error(formatProdErrorMessage(17));if(C2)throw new Error(formatProdErrorMessage(9));try{C2=!0,u2=s2(u2,o3)}finally{C2=!1}return(O2=w2).forEach(o4=>{o4()}),o3}return __name(dispatch,"dispatch"),dispatch({type:$e.INIT}),{dispatch,subscribe,getState,replaceReducer:__name(function(o3){if(typeof o3!="function")throw new Error(formatProdErrorMessage(10));s2=o3,dispatch({type:$e.REPLACE})},"replaceReducer"),[Qe]:__name(function(){const o3=subscribe;return{subscribe(i3){if(typeof i3!="object"||i3===null)throw new Error(formatProdErrorMessage(11));function observeState(){const o4=i3;o4.next&&o4.next(getState())}return __name(observeState,"observeState"),observeState(),{unsubscribe:o3(observeState)}},[Qe](){return this}}},"observable")}}__name(createStore$1,"createStore$1");function bindActionCreator(o2,i2){return function(...a2){return i2(o2.apply(this,a2))}}__name(bindActionCreator,"bindActionCreator");function bindActionCreators$1(o2,i2){if(typeof o2=="function")return bindActionCreator(o2,i2);if(typeof o2!="object"||o2===null)throw new Error(formatProdErrorMessage(16));const a2={};for(const s2 in o2){const u2=o2[s2];typeof u2=="function"&&(a2[s2]=bindActionCreator(u2,i2))}return a2}__name(bindActionCreators$1,"bindActionCreators$1");function compose(...o2){return o2.length===0?o3=>o3:o2.length===1?o2[0]:o2.reduce((o3,i2)=>(...a2)=>o3(i2(...a2)))}__name(compose,"compose");var ze,We={exports:{}},He={},Xe;/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */__name(function(){return Xe||(Xe=1,We.exports=__name(function(){if(ze)return He;ze=1;var o2=React,i2=typeof Object.is=="function"?Object.is:__name(function(o3,i3){return o3===i3&&(o3!==0||1/o3==1/i3)||o3!=o3&&i3!=i3},"is2"),a2=o2.useSyncExternalStore,s2=o2.useRef,O2=o2.useEffect,w2=o2.useMemo,x2=o2.useDebugValue;return He.useSyncExternalStoreWithSelector=function(o3,u2,C2,T2,_2){var A2=s2(null);if(A2.current===null){var Q2={hasValue:!1,value:null};A2.current=Q2}else Q2=A2.current;A2=w2(function(){function memoizedSelector(u3){if(!s3){if(s3=!0,o4=u3,u3=T2(u3),_2!==void 0&&Q2.hasValue){var O4=Q2.value;if(_2(O4,u3))return a3=O4}return a3=u3}if(O4=a3,i2(o4,u3))return O4;var w3=T2(u3);return _2!==void 0&&_2(O4,w3)?(o4=u3,O4):(o4=u3,a3=w3)}__name(memoizedSelector,"memoizedSelector");var o4,a3,s3=!1,O3=C2===void 0?null:C2;return[function(){return memoizedSelector(u2())},O3===null?void 0:function(){return memoizedSelector(O3())}]},[u2,C2,T2,_2]);var N2=a2(o3,A2[0],A2[1]);return O2(function(){Q2.hasValue=!0,Q2.value=N2},[N2]),x2(N2),N2},He},"requireUseSyncExternalStoreWithSelector_production")()),We.exports},"requireWithSelector")();var et=reactExports.version.startsWith("19"),tt=Symbol.for(et?"react.transitional.element":"react.element"),nt=Symbol.for("react.portal"),rt=Symbol.for("react.fragment"),ot=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),st=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),dt=Symbol.for("react.memo"),ft=Symbol.for("react.lazy"),gt=lt,mt=dt;function typeOf(o2){if(typeof o2=="object"&&o2!==null){const{$$typeof:i2}=o2;switch(i2){case tt:switch(o2=o2.type){case rt:case it:case ot:case ct:case ut:return o2;default:switch(o2=o2&&o2.$$typeof){case st:case lt:case ft:case dt:case at:return o2;default:return i2}}case nt:return i2}}}__name(typeOf,"typeOf");function pureFinalPropsSelectorFactory(o2,i2,a2,s2,{areStatesEqual:u2,areOwnPropsEqual:O2,areStatePropsEqual:w2}){let x2,C2,T2,_2,A2,Q2=!1;function handleSubsequentCalls(Q3,N2){const L2=!O2(N2,C2),$2=!u2(Q3,x2,N2,C2);return x2=Q3,C2=N2,L2&&$2?__name(function(){return T2=o2(x2,C2),i2.dependsOnOwnProps&&(_2=i2(s2,C2)),A2=a2(T2,_2,C2),A2},"handleNewPropsAndNewState")():L2?__name(function(){return o2.dependsOnOwnProps&&(T2=o2(x2,C2)),i2.dependsOnOwnProps&&(_2=i2(s2,C2)),A2=a2(T2,_2,C2),A2},"handleNewProps")():$2?__name(function(){const i3=o2(x2,C2),s3=!w2(i3,T2);return T2=i3,s3&&(A2=a2(T2,_2,C2)),A2},"handleNewState")():A2}return __name(handleSubsequentCalls,"handleSubsequentCalls"),__name(function(u3,O3){return Q2?handleSubsequentCalls(u3,O3):__name(function(u4,O4){return x2=u4,C2=O4,T2=o2(x2,C2),_2=i2(s2,C2),A2=a2(T2,_2,C2),Q2=!0,A2},"handleFirstCall")(u3,O3)},"pureFinalPropsSelector")}__name(pureFinalPropsSelectorFactory,"pureFinalPropsSelectorFactory");function finalPropsSelectorFactory(o2,{initMapStateToProps:i2,initMapDispatchToProps:a2,initMergeProps:s2,...u2}){const O2=i2(o2,u2),w2=a2(o2,u2),x2=s2(o2,u2);return pureFinalPropsSelectorFactory(O2,w2,x2,o2,u2)}__name(finalPropsSelectorFactory,"finalPropsSelectorFactory");function wrapMapToPropsConstant(o2){return __name(function(i2){const a2=o2(i2);function constantSelector(){return a2}return __name(constantSelector,"constantSelector"),constantSelector.dependsOnOwnProps=!1,constantSelector},"initConstantSelector")}__name(wrapMapToPropsConstant,"wrapMapToPropsConstant");function getDependsOnOwnProps(o2){return o2.dependsOnOwnProps?!!o2.dependsOnOwnProps:o2.length!==1}__name(getDependsOnOwnProps,"getDependsOnOwnProps");function wrapMapToPropsFunc(o2,i2){return __name(function(a2,{displayName:s2}){const u2=__name(function(o3,i3){return u2.dependsOnOwnProps?u2.mapToProps(o3,i3):u2.mapToProps(o3,void 0)},"mapToPropsProxy");return u2.dependsOnOwnProps=!0,u2.mapToProps=__name(function(a3,O2){u2.mapToProps=o2,u2.dependsOnOwnProps=getDependsOnOwnProps(o2);let w2=u2(a3,O2);return typeof w2=="function"&&(u2.mapToProps=w2,u2.dependsOnOwnProps=getDependsOnOwnProps(w2),w2=u2(a3,O2)),w2},"detectFactoryAndVerify"),u2},"initProxySelector")}__name(wrapMapToPropsFunc,"wrapMapToPropsFunc");function createInvalidArgFactory(o2,i2){return(a2,s2)=>{throw new Error(`Invalid value of type ${typeof o2} for ${i2} argument when connecting component ${s2.wrappedComponentName}.`)}}__name(createInvalidArgFactory,"createInvalidArgFactory");function defaultMergeProps(o2,i2,a2){return{...a2,...o2,...i2}}__name(defaultMergeProps,"defaultMergeProps");function mergePropsFactory(o2){return o2?typeof o2=="function"?__name(function(o3){return __name(function(i2,{displayName:a2,areMergedPropsEqual:s2}){let u2,O2=!1;return __name(function(i3,w2,x2){const C2=o3(i3,w2,x2);return O2?s2(C2,u2)||(u2=C2):(O2=!0,u2=C2),u2},"mergePropsProxy")},"initMergePropsProxy")},"wrapMergePropsFunc")(o2):createInvalidArgFactory(o2,"mergeProps"):()=>defaultMergeProps}__name(mergePropsFactory,"mergePropsFactory");var vt={notify(){},get:__name(()=>[],"get")};function createSubscription(o2,i2){let a2,s2=vt,u2=0,O2=!1;function handleChangeWrapper(){w2.onStateChange&&w2.onStateChange()}__name(handleChangeWrapper,"handleChangeWrapper");function trySubscribe(){u2++,a2||(a2=i2?i2.addNestedSub(handleChangeWrapper):o2.subscribe(handleChangeWrapper),s2=__name(function(){let o3=null,i3=null;return{clear(){o3=null,i3=null},notify(){__name(function(o4){o4()},"defaultNoopBatch")(()=>{let i4=o3;for(;i4;)i4.callback(),i4=i4.next})},get(){const i4=[];let a3=o3;for(;a3;)i4.push(a3),a3=a3.next;return i4},subscribe(a3){let s3=!0;const u3=i3={callback:a3,next:null,prev:i3};return u3.prev?u3.prev.next=u3:o3=u3,__name(function(){s3&&o3!==null&&(s3=!1,u3.next?u3.next.prev=u3.prev:i3=u3.prev,u3.prev?u3.prev.next=u3.next:o3=u3.next)},"unsubscribe")}}},"createListenerCollection")())}__name(trySubscribe,"trySubscribe");function tryUnsubscribe(){u2--,a2&&u2===0&&(a2(),a2=void 0,s2.clear(),s2=vt)}__name(tryUnsubscribe,"tryUnsubscribe");const w2={addNestedSub:__name(function(o3){trySubscribe();const i3=s2.subscribe(o3);let a3=!1;return()=>{a3||(a3=!0,i3(),tryUnsubscribe())}},"addNestedSub"),notifyNestedSubs:__name(function(){s2.notify()},"notifyNestedSubs"),handleChangeWrapper,isSubscribed:__name(function(){return O2},"isSubscribed"),trySubscribe:__name(function(){O2||(O2=!0,trySubscribe())},"trySubscribeSelf"),tryUnsubscribe:__name(function(){O2&&(O2=!1,tryUnsubscribe())},"tryUnsubscribeSelf"),getListeners:__name(()=>s2,"getListeners")};return w2}__name(createSubscription,"createSubscription");var yt=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),Ot=typeof navigator<"u"&&navigator.product==="ReactNative",bt=yt||Ot?reactExports.useLayoutEffect:reactExports.useEffect;function is(o2,i2){return o2===i2?o2!==0||i2!==0||1/o2==1/i2:o2!=o2&&i2!=i2}__name(is,"is");function shallowEqual$1(o2,i2){if(is(o2,i2))return!0;if(typeof o2!="object"||o2===null||typeof i2!="object"||i2===null)return!1;const a2=Object.keys(o2),s2=Object.keys(i2);if(a2.length!==s2.length)return!1;for(let s3=0;s3<a2.length;s3++)if(!Object.prototype.hasOwnProperty.call(i2,a2[s3])||!is(o2[a2[s3]],i2[a2[s3]]))return!1;return!0}__name(shallowEqual$1,"shallowEqual$1");var St={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},wt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xt={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kt={[gt]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[mt]:xt};function getStatics(o2){return __name(function(o3){return typeOf(o3)===dt},"isMemo")(o2)?xt:kt[o2.$$typeof]||St}__name(getStatics,"getStatics");var Ct=Object.defineProperty,Pt=Object.getOwnPropertyNames,Et=Object.getOwnPropertySymbols,Tt=Object.getOwnPropertyDescriptor,Rt=Object.getPrototypeOf,Dt=Object.prototype;function hoistNonReactStatics(o2,i2){if(typeof i2!="string"){if(Dt){const a3=Rt(i2);a3&&a3!==Dt&&hoistNonReactStatics(o2,a3)}let a2=Pt(i2);Et&&(a2=a2.concat(Et(i2)));const s2=getStatics(o2),u2=getStatics(i2);for(let O2=0;O2<a2.length;++O2){const w2=a2[O2];if(!(wt[w2]||u2&&u2[w2]||s2&&s2[w2])){const a3=Tt(i2,w2);try{Ct(o2,w2,a3)}catch{}}}}return o2}__name(hoistNonReactStatics,"hoistNonReactStatics");var It=Symbol.for("react-redux-context"),Mt=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const o2=Mt[It]??(Mt[It]=new Map);let i2=o2.get(reactExports.createContext);return i2||(i2=reactExports.createContext(null),o2.set(reactExports.createContext,i2)),i2}__name(getContext,"getContext");var _t=getContext(),At=[null,null];function captureWrapperProps(o2,i2,a2,s2,u2,O2){o2.current=s2,a2.current=!1,u2.current&&(u2.current=null,O2())}__name(captureWrapperProps,"captureWrapperProps");function strictEqual(o2,i2){return o2===i2}__name(strictEqual,"strictEqual");var Nt=__name(function(o2,i2,a2,{pure:u2,areStatesEqual:O2=strictEqual,areOwnPropsEqual:w2=shallowEqual$1,areStatePropsEqual:x2=shallowEqual$1,areMergedPropsEqual:C2=shallowEqual$1,forwardRef:T2=!1,context:_2=_t}={}){const A2=_2,Q2=__name(function(o3){return o3?typeof o3=="function"?wrapMapToPropsFunc(o3):createInvalidArgFactory(o3,"mapStateToProps"):wrapMapToPropsConstant(()=>({}))},"mapStateToPropsFactory")(o2),N2=__name(function(o3){return o3&&typeof o3=="object"?wrapMapToPropsConstant(i3=>__name(function(o4,i4){const a3={};for(const s2 in o4){const u3=o4[s2];typeof u3=="function"&&(a3[s2]=(...o5)=>i4(u3(...o5)))}return a3},"bindActionCreators")(o3,i3)):o3?typeof o3=="function"?wrapMapToPropsFunc(o3):createInvalidArgFactory(o3,"mapDispatchToProps"):wrapMapToPropsConstant(o4=>({dispatch:o4}))},"mapDispatchToPropsFactory")(i2),L2=mergePropsFactory(a2),$2=!!o2;return o3=>{const i3=o3.displayName||o3.name||"Component",a3=`Connect(${i3})`,u3={shouldHandleStateChanges:$2,displayName:a3,wrappedComponentName:i3,WrappedComponent:o3,initMapStateToProps:Q2,initMapDispatchToProps:N2,initMergeProps:L2,areStatesEqual:O2,areStatePropsEqual:x2,areOwnPropsEqual:w2,areMergedPropsEqual:C2};function ConnectFunction(i4){const[O3,w3,x3]=reactExports.useMemo(()=>{const{reactReduxForwardedRef:o4,...a4}=i4;return[i4.context,o4,a4]},[i4]),C3=reactExports.useMemo(()=>{let o4=A2;return O3!=null&&O3.Consumer,o4},[O3,A2]),T3=reactExports.useContext(C3),_4=!!i4.store&&!!i4.store.getState&&!!i4.store.dispatch,Q3=!!T3&&!!T3.store,N3=_4?i4.store:T3.store,L3=Q3?T3.getServerState:N3.getState,F2=reactExports.useMemo(()=>finalPropsSelectorFactory(N3.dispatch,u3),[N3]),[B2,V2]=reactExports.useMemo(()=>{if(!$2)return At;const o4=createSubscription(N3,_4?void 0:T3.subscription),i5=o4.notifyNestedSubs.bind(o4);return[o4,i5]},[N3,_4,T3]),z2=reactExports.useMemo(()=>_4?T3:{...T3,subscription:B2},[_4,T3,B2]),j2=reactExports.useRef(void 0),U2=reactExports.useRef(x3),Z2=reactExports.useRef(void 0),X2=reactExports.useRef(!1),Y2=reactExports.useRef(!1),ee2=reactExports.useRef(void 0);bt(()=>(Y2.current=!0,()=>{Y2.current=!1}),[]);const ie2=reactExports.useMemo(()=>()=>Z2.current&&x3===U2.current?Z2.current:F2(N3.getState(),x3),[N3,x3]),ae2=reactExports.useMemo(()=>o4=>B2?__name(function(o5,i5,a4,s2,u4,O4,w4,x4,C4,T4,_5){if(!o5)return()=>{};let A3=!1,Q4=null;const checkForUpdates=__name(()=>{if(A3||!x4.current)return;const o6=i5.getState();let a5,N4;try{a5=s2(o6,u4.current)}catch(o7){N4=o7,Q4=o7}N4||(Q4=null),a5===O4.current?w4.current||T4():(O4.current=a5,C4.current=a5,w4.current=!0,_5())},"checkForUpdates");return a4.onStateChange=checkForUpdates,a4.trySubscribe(),checkForUpdates(),()=>{if(A3=!0,a4.tryUnsubscribe(),a4.onStateChange=null,Q4)throw Q4}},"subscribeUpdates")($2,N3,B2,F2,U2,j2,X2,Y2,Z2,V2,o4):()=>{},[B2]);let le2;__name(function(o4,i5,a4){bt(()=>o4(...i5),a4)},"useIsomorphicLayoutEffectWithArgs")(captureWrapperProps,[U2,j2,X2,x3,Z2,V2]);try{le2=reactExports.useSyncExternalStore(ae2,ie2,L3?()=>F2(L3(),x3):ie2)}catch(o4){throw ee2.current&&(o4.message+=`
The error may be correlated with this previous error:
${ee2.current.stack}

`),o4}bt(()=>{ee2.current=void 0,Z2.current=void 0,j2.current=le2});const ce2=reactExports.useMemo(()=>reactExports.createElement(o3,{...le2,ref:w3}),[w3,o3,le2]);return reactExports.useMemo(()=>$2?reactExports.createElement(C3.Provider,{value:z2},ce2):ce2,[C3,ce2,z2])}__name(ConnectFunction,"ConnectFunction");const _3=reactExports.memo(ConnectFunction);if(_3.WrappedComponent=o3,_3.displayName=ConnectFunction.displayName=a3,T2){const i4=reactExports.forwardRef(__name(function(o4,i5){return reactExports.createElement(_3,{...o4,reactReduxForwardedRef:i5})},"forwardConnectRef"));return i4.displayName=a3,i4.WrappedComponent=o3,hoistNonReactStatics(i4,o3)}return hoistNonReactStatics(_3,o3)}},"connect"),Lt=__name(function(o2){const{children:i2,context:a2,serverState:u2,store:O2}=o2,w2=reactExports.useMemo(()=>{const i3=createSubscription(O2);return{store:O2,subscription:i3,getServerState:u2?()=>u2:void 0}},[O2,u2]),x2=reactExports.useMemo(()=>O2.getState(),[O2]);bt(()=>{const{subscription:o3}=w2;return o3.onStateChange=o3.notifyNestedSubs,o3.trySubscribe(),x2!==O2.getState()&&o3.notifyNestedSubs(),()=>{o3.tryUnsubscribe(),o3.onStateChange=void 0}},[w2,x2]);const C2=a2||_t;return reactExports.createElement(C2.Provider,{value:w2},i2)},"Provider");function useMemoOne(o2,i2){var a2=reactExports.useState(function(){return{inputs:i2,result:o2()}})[0],s2=reactExports.useRef(!0),u2=reactExports.useRef(a2),C2=s2.current||!!(i2&&u2.current.inputs&&__name(function(o3,i3){if(o3.length!==i3.length)return!1;for(var a3=0;a3<o3.length;a3++)if(o3[a3]!==i3[a3])return!1;return!0},"areInputsEqual$1")(i2,u2.current.inputs)),T2=C2?u2.current:{inputs:i2,result:o2()};return reactExports.useEffect(function(){s2.current=!1,u2.current=T2},[T2]),T2.result}__name(useMemoOne,"useMemoOne");var $t=useMemoOne,Ft=__name(function(o2,i2){return useMemoOne(function(){return o2},i2)},"useCallbackOne"),Vt="Invariant failed";function invariant$1(o2,i2){throw new Error(Vt)}__name(invariant$1,"invariant$1");var zt=__name(function(o2){var i2=o2.top,a2=o2.right,s2=o2.bottom,u2=o2.left;return{top:i2,right:a2,bottom:s2,left:u2,width:a2-u2,height:s2-i2,x:u2,y:i2,center:{x:(a2+u2)/2,y:(s2+i2)/2}}},"getRect"),jt=__name(function(o2,i2){return{top:o2.top-i2.top,left:o2.left-i2.left,bottom:o2.bottom+i2.bottom,right:o2.right+i2.right}},"expand"),Wt=__name(function(o2,i2){return{top:o2.top+i2.top,left:o2.left+i2.left,bottom:o2.bottom-i2.bottom,right:o2.right-i2.right}},"shrink"),Ht={top:0,right:0,bottom:0,left:0},Ut=__name(function(o2){var i2=o2.borderBox,a2=o2.margin,s2=a2===void 0?Ht:a2,u2=o2.border,O2=u2===void 0?Ht:u2,w2=o2.padding,x2=w2===void 0?Ht:w2,C2=zt(jt(i2,s2)),T2=zt(Wt(i2,O2)),_2=zt(Wt(T2,x2));return{marginBox:C2,borderBox:zt(i2),paddingBox:T2,contentBox:_2,margin:s2,border:O2,padding:x2}},"createBox"),Zt=__name(function(o2){var i2=o2.slice(0,-2);if(o2.slice(-2)!=="px")return 0;var a2=Number(i2);return isNaN(a2)&&invariant$1(),a2},"parse"),qt=__name(function(o2,i2){var a2=o2.borderBox,s2=o2.border,u2=o2.margin,O2=o2.padding,w2=__name(function(o3,i3){return{top:o3.top+i3.y,left:o3.left+i3.x,bottom:o3.bottom+i3.y,right:o3.right+i3.x}},"shift")(a2,i2);return Ut({borderBox:w2,border:s2,margin:u2,padding:O2})},"offset"),Xt=__name(function(o2,i2){return i2===void 0&&(i2=__name(function(){return{x:window.pageXOffset,y:window.pageYOffset}},"getWindowScroll2")()),qt(o2,i2)},"withScroll"),Gt=__name(function(o2,i2){var a2={top:Zt(i2.marginTop),right:Zt(i2.marginRight),bottom:Zt(i2.marginBottom),left:Zt(i2.marginLeft)},s2={top:Zt(i2.paddingTop),right:Zt(i2.paddingRight),bottom:Zt(i2.paddingBottom),left:Zt(i2.paddingLeft)},u2={top:Zt(i2.borderTopWidth),right:Zt(i2.borderRightWidth),bottom:Zt(i2.borderBottomWidth),left:Zt(i2.borderLeftWidth)};return Ut({borderBox:o2,margin:a2,padding:s2,border:u2})},"calculateBox"),Yt=__name(function(o2){var i2=o2.getBoundingClientRect(),a2=window.getComputedStyle(o2);return Gt(i2,a2)},"getBox"),Kt=Number.isNaN||__name(function(o2){return typeof o2=="number"&&o2!=o2},"ponyfill");function areInputsEqual(o2,i2){if(o2.length!==i2.length)return!1;for(var a2=0;a2<o2.length;a2++)if(s2=o2[a2],u2=i2[a2],!(s2===u2||Kt(s2)&&Kt(u2)))return!1;var s2,u2;return!0}__name(areInputsEqual,"areInputsEqual");function memoizeOne(o2,i2){i2===void 0&&(i2=areInputsEqual);var a2=null;function memoized(){for(var s2=[],u2=0;u2<arguments.length;u2++)s2[u2]=arguments[u2];if(a2&&a2.lastThis===this&&i2(s2,a2.lastArgs))return a2.lastResult;var O2=o2.apply(this,s2);return a2={lastResult:O2,lastArgs:s2,lastThis:this},O2}return __name(memoized,"memoized"),memoized.clear=__name(function(){a2=null},"clear"),memoized}__name(memoizeOne,"memoizeOne");var Jt=__name(function(o2){var i2=[],a2=null,s2=__name(function(){for(var s3=arguments.length,u2=new Array(s3),O2=0;O2<s3;O2++)u2[O2]=arguments[O2];i2=u2,a2||(a2=requestAnimationFrame(function(){a2=null,o2.apply(void 0,i2)}))},"wrapperFn");return s2.cancel=function(){a2&&(cancelAnimationFrame(a2),a2=null)},s2},"rafSchd");function _extends(){return _extends=Object.assign?Object.assign.bind():function(o2){for(var i2=1;i2<arguments.length;i2++){var a2=arguments[i2];for(var s2 in a2)({}).hasOwnProperty.call(a2,s2)&&(o2[s2]=a2[s2])}return o2},_extends.apply(null,arguments)}__name(_extends,"_extends");function log(o2,i2){}__name(log,"log");log.bind(null,"warn");log.bind(null,"error");function noop$2(){}__name(noop$2,"noop$2");function bindEvents(o2,i2,a2){const s2=i2.map(i3=>{const s3=__name(function(o3,i4){return{...o3,...i4}},"getOptions")(a2,i3.options);return o2.addEventListener(i3.eventName,i3.fn,s3),__name(function(){o2.removeEventListener(i3.eventName,i3.fn,s3)},"unbind")});return __name(function(){s2.forEach(o3=>{o3()})},"unbindAll")}__name(bindEvents,"bindEvents");const sn="Invariant failed",_RbdInvariant=class _RbdInvariant extends Error{};__name(_RbdInvariant,"RbdInvariant");let RbdInvariant=_RbdInvariant;function invariant(o2,i2){throw new RbdInvariant(sn)}__name(invariant,"invariant");RbdInvariant.prototype.toString=__name(function(){return this.message},"toString");const _ErrorBoundary=class _ErrorBoundary extends React.Component{constructor(...o2){super(...o2),this.callbacks=null,this.unbind=noop$2,this.onWindowError=o3=>{const i2=this.getCallbacks();i2.isDragging()&&i2.tryAbort(),o3.error instanceof RbdInvariant&&o3.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=o3=>{this.callbacks=o3}}componentDidMount(){this.unbind=bindEvents(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(o2){if(o2 instanceof RbdInvariant)return void this.setState({});throw o2}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};__name(_ErrorBoundary,"ErrorBoundary");let ErrorBoundary=_ErrorBoundary;const position=__name(o2=>o2+1,"position"),withLocation=__name((o2,i2)=>{const a2=o2.droppableId===i2.droppableId,s2=position(o2.index),u2=position(i2.index);return a2?`
      You have moved the item from position ${s2}
      to position ${u2}
    `:`
    You have moved the item from position ${s2}
    in list ${o2.droppableId}
    to list ${i2.droppableId}
    in position ${u2}
  `},"withLocation"),withCombine=__name((o2,i2,a2)=>i2.droppableId===a2.droppableId?`
      The item ${o2}
      has been combined with ${a2.draggableId}`:`
      The item ${o2}
      in list ${i2.droppableId}
      has been combined with ${a2.draggableId}
      in list ${a2.droppableId}
    `,"withCombine"),returnedToStart=__name(o2=>`
  The item has returned to its starting position
  of ${position(o2.index)}
`,"returnedToStart"),ln={dragHandleUsageInstructions:`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,onDragStart:__name(o2=>`
  You have lifted an item in position ${position(o2.source.index)}
`,"onDragStart"),onDragUpdate:__name(o2=>{const i2=o2.destination;if(i2)return withLocation(o2.source,i2);const a2=o2.combine;return a2?withCombine(o2.draggableId,o2.source,a2):"You are over an area that cannot be dropped on"},"onDragUpdate"),onDragEnd:__name(o2=>{if(o2.reason==="CANCEL")return`
      Movement cancelled.
      ${returnedToStart(o2.source)}
    `;const i2=o2.destination,a2=o2.combine;return i2?`
      You have dropped the item.
      ${withLocation(o2.source,i2)}
    `:a2?`
      You have dropped the item.
      ${withCombine(o2.draggableId,o2.source,a2)}
    `:`
    The item has been dropped while not over a drop area.
    ${returnedToStart(o2.source)}
  `},"onDragEnd")},cn={x:0,y:0},add$1=__name((o2,i2)=>({x:o2.x+i2.x,y:o2.y+i2.y}),"add$1"),subtract=__name((o2,i2)=>({x:o2.x-i2.x,y:o2.y-i2.y}),"subtract"),isEqual$1=__name((o2,i2)=>o2.x===i2.x&&o2.y===i2.y,"isEqual$1"),negate=__name(o2=>({x:o2.x!==0?-o2.x:0,y:o2.y!==0?-o2.y:0}),"negate"),patch=__name((o2,i2,a2=0)=>o2==="x"?{x:i2,y:a2}:{x:a2,y:i2},"patch"),distance=__name((o2,i2)=>Math.sqrt((i2.x-o2.x)**2+(i2.y-o2.y)**2),"distance"),closest$1=__name((o2,i2)=>Math.min(...i2.map(i3=>distance(o2,i3))),"closest$1"),apply=__name(o2=>i2=>({x:o2(i2.x),y:o2(i2.y)}),"apply"),offsetByPosition=__name((o2,i2)=>({top:o2.top+i2.y,left:o2.left+i2.x,bottom:o2.bottom+i2.y,right:o2.right+i2.x}),"offsetByPosition"),getCorners=__name(o2=>[{x:o2.left,y:o2.top},{x:o2.right,y:o2.top},{x:o2.left,y:o2.bottom},{x:o2.right,y:o2.bottom}],"getCorners"),clip$1=__name((o2,i2)=>i2&&i2.shouldClipSubject?((o3,i3)=>{const a2=zt({top:Math.max(i3.top,o3.top),right:Math.min(i3.right,o3.right),bottom:Math.min(i3.bottom,o3.bottom),left:Math.max(i3.left,o3.left)});return a2.width<=0||a2.height<=0?null:a2})(i2.pageMarginBox,o2):zt(o2),"clip$1");var getSubject=__name(({page:o2,withPlaceholder:i2,axis:a2,frame:s2})=>{const u2=((o3,i3)=>i3?offsetByPosition(o3,i3.scroll.diff.displacement):o3)(o2.marginBox,s2),O2=((o3,i3,a3)=>a3&&a3.increasedBy?{...o3,[i3.end]:o3[i3.end]+a3.increasedBy[i3.line]}:o3)(u2,a2,i2);return{page:o2,withPlaceholder:i2,active:clip$1(O2,s2)}},"getSubject"),scrollDroppable=__name((o2,i2)=>{o2.frame||invariant();const a2=o2.frame,s2=subtract(i2,a2.scroll.initial),u2=negate(s2),O2={...a2,scroll:{initial:a2.scroll.initial,current:i2,diff:{value:s2,displacement:u2},max:a2.scroll.max}},w2=getSubject({page:o2.subject.page,withPlaceholder:o2.subject.withPlaceholder,axis:o2.axis,frame:O2});return{...o2,frame:O2,subject:w2}},"scrollDroppable");const un=memoizeOne(o2=>o2.reduce((o3,i2)=>(o3[i2.descriptor.id]=i2,o3),{})),dn=memoizeOne(o2=>o2.reduce((o3,i2)=>(o3[i2.descriptor.id]=i2,o3),{})),fn=memoizeOne(o2=>Object.values(o2)),pn=memoizeOne(o2=>Object.values(o2));var hn=memoizeOne((o2,i2)=>pn(i2).filter(i3=>o2===i3.descriptor.droppableId).sort((o3,i3)=>o3.descriptor.index-i3.descriptor.index));function tryGetDestination(o2){return o2.at&&o2.at.type==="REORDER"?o2.at.destination:null}__name(tryGetDestination,"tryGetDestination");function tryGetCombine(o2){return o2.at&&o2.at.type==="COMBINE"?o2.at.combine:null}__name(tryGetCombine,"tryGetCombine");var gn=memoizeOne((o2,i2)=>i2.filter(i3=>i3.descriptor.id!==o2.descriptor.id)),isHomeOf=__name((o2,i2)=>o2.descriptor.droppableId===i2.descriptor.id,"isHomeOf");const mn={point:cn,value:0},vn={invisible:{},visible:{},all:[]},yn={displaced:vn,displacedBy:mn,at:null};var isWithin=__name((o2,i2)=>a2=>o2<=a2&&a2<=i2,"isWithin"),isPartiallyVisibleThroughFrame=__name(o2=>{const i2=isWithin(o2.top,o2.bottom),a2=isWithin(o2.left,o2.right);return s2=>{if(i2(s2.top)&&i2(s2.bottom)&&a2(s2.left)&&a2(s2.right))return!0;const u2=i2(s2.top)||i2(s2.bottom),O2=a2(s2.left)||a2(s2.right);if(u2&&O2)return!0;const w2=s2.top<o2.top&&s2.bottom>o2.bottom,x2=s2.left<o2.left&&s2.right>o2.right;return w2&&x2?!0:w2&&O2||x2&&u2}},"isPartiallyVisibleThroughFrame"),isTotallyVisibleThroughFrame=__name(o2=>{const i2=isWithin(o2.top,o2.bottom),a2=isWithin(o2.left,o2.right);return o3=>i2(o3.top)&&i2(o3.bottom)&&a2(o3.left)&&a2(o3.right)},"isTotallyVisibleThroughFrame");const On={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},bn={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},isVisible$1=__name(({target:o2,destination:i2,viewport:a2,withDroppableDisplacement:s2,isVisibleThroughFrameFn:u2})=>{const O2=s2?((o3,i3)=>{const a3=i3.frame?i3.frame.scroll.diff.displacement:cn;return offsetByPosition(o3,a3)})(o2,i2):o2;return((o3,i3,a3)=>!!i3.subject.active&&a3(i3.subject.active)(o3))(O2,i2,u2)&&((o3,i3,a3)=>a3(i3)(o3))(O2,a2,u2)},"isVisible$1"),isTotallyVisible=__name(o2=>isVisible$1({...o2,isVisibleThroughFrameFn:isTotallyVisibleThroughFrame}),"isTotallyVisible");function getDisplacementGroups({afterDragging:o2,destination:i2,displacedBy:a2,viewport:s2,forceShouldAnimate:u2,last:O2}){return o2.reduce(__name(function(o3,w2){const x2=__name(function(o4,i3){const a3=o4.page.marginBox,s3={top:i3.point.y,right:0,bottom:0,left:i3.point.x};return zt(jt(a3,s3))},"getTarget")(w2,a2),C2=w2.descriptor.id;o3.all.push(C2);var T2;if(T2={target:x2,destination:i2,viewport:s2,withDroppableDisplacement:!0},!isVisible$1({...T2,isVisibleThroughFrameFn:isPartiallyVisibleThroughFrame}))return o3.invisible[w2.descriptor.id]=!0,o3;const _2=((o4,i3,a3)=>{if(typeof a3=="boolean")return a3;if(!i3)return!0;const{invisible:s3,visible:u3}=i3;if(s3[o4])return!1;const O3=u3[o4];return!O3||O3.shouldAnimate})(C2,O2,u2),A2={draggableId:C2,shouldAnimate:_2};return o3.visible[C2]=A2,o3},"process2"),{all:[],visible:{},invisible:{}})}__name(getDisplacementGroups,"getDisplacementGroups");function goAtEnd({insideDestination:o2,inHomeList:i2,displacedBy:a2,destination:s2}){const u2=__name(function(o3,i3){if(!o3.length)return 0;const a3=o3[o3.length-1].descriptor.index;return i3.inHomeList?a3:a3+1},"getIndexOfLastItem")(o2,{inHomeList:i2});return{displaced:vn,displacedBy:a2,at:{type:"REORDER",destination:{droppableId:s2.descriptor.id,index:u2}}}}__name(goAtEnd,"goAtEnd");function calculateReorderImpact({draggable:o2,insideDestination:i2,destination:a2,viewport:s2,displacedBy:u2,last:O2,index:w2,forceShouldAnimate:x2}){const C2=isHomeOf(o2,a2);if(w2==null)return goAtEnd({insideDestination:i2,inHomeList:C2,displacedBy:u2,destination:a2});const T2=i2.find(o3=>o3.descriptor.index===w2);if(!T2)return goAtEnd({insideDestination:i2,inHomeList:C2,displacedBy:u2,destination:a2});const _2=gn(o2,i2),A2=i2.indexOf(T2);return{displaced:getDisplacementGroups({afterDragging:_2.slice(A2),destination:a2,displacedBy:u2,last:O2,viewport:s2.frame,forceShouldAnimate:x2}),displacedBy:u2,at:{type:"REORDER",destination:{droppableId:a2.descriptor.id,index:w2}}}}__name(calculateReorderImpact,"calculateReorderImpact");function didStartAfterCritical(o2,i2){return!!i2.effected[o2]}__name(didStartAfterCritical,"didStartAfterCritical");var moveToNextIndex=__name(({isMovingForward:o2,isInHomeList:i2,draggable:a2,draggables:s2,destination:u2,insideDestination:O2,previousImpact:w2,viewport:x2,afterCritical:C2})=>{const T2=w2.at;if(T2||invariant(),T2.type==="REORDER"){const s3=(({isMovingForward:o3,isInHomeList:i3,insideDestination:a3,location:s4})=>{if(!a3.length)return null;const u3=s4.index,O3=o3?u3+1:u3-1,w3=a3[0].descriptor.index,x3=a3[a3.length-1].descriptor.index;return O3<w3||O3>(i3?x3:x3+1)?null:O3})({isMovingForward:o2,isInHomeList:i2,location:T2.destination,insideDestination:O2});return s3==null?null:calculateReorderImpact({draggable:a2,insideDestination:O2,destination:u2,viewport:x2,last:w2.displaced,displacedBy:w2.displacedBy,index:s3})}const _2=(({isMovingForward:o3,destination:i3,draggables:a3,combine:s3,afterCritical:u3})=>{if(!i3.isCombineEnabled)return null;const O3=s3.draggableId,w3=a3[O3].descriptor.index;return didStartAfterCritical(O3,u3)?o3?w3:w3-1:o3?w3+1:w3})({isMovingForward:o2,destination:u2,displaced:w2.displaced,draggables:s2,combine:T2.combine,afterCritical:C2});return _2==null?null:calculateReorderImpact({draggable:a2,insideDestination:O2,destination:u2,viewport:x2,last:w2.displaced,displacedBy:w2.displacedBy,index:_2})},"moveToNextIndex"),whenCombining=__name(({afterCritical:o2,impact:i2,draggables:a2})=>{const s2=tryGetCombine(i2);s2||invariant();const u2=s2.draggableId,O2=a2[u2].page.borderBox.center,w2=(({displaced:o3,afterCritical:i3,combineWith:a3,displacedBy:s3})=>{const u3=!!(o3.visible[a3]||o3.invisible[a3]);return didStartAfterCritical(a3,i3)?u3?cn:negate(s3.point):u3?s3.point:cn})({displaced:i2.displaced,afterCritical:o2,combineWith:u2,displacedBy:i2.displacedBy});return add$1(O2,w2)},"whenCombining");const distanceFromStartToBorderBoxCenter=__name((o2,i2)=>i2.margin[o2.start]+i2.borderBox[o2.size]/2,"distanceFromStartToBorderBoxCenter"),getCrossAxisBorderBoxCenter=__name((o2,i2,a2)=>i2[o2.crossAxisStart]+a2.margin[o2.crossAxisStart]+a2.borderBox[o2.crossAxisSize]/2,"getCrossAxisBorderBoxCenter"),goAfter=__name(({axis:o2,moveRelativeTo:i2,isMoving:a2})=>patch(o2.line,i2.marginBox[o2.end]+distanceFromStartToBorderBoxCenter(o2,a2),getCrossAxisBorderBoxCenter(o2,i2.marginBox,a2)),"goAfter"),goBefore=__name(({axis:o2,moveRelativeTo:i2,isMoving:a2})=>patch(o2.line,i2.marginBox[o2.start]-((o3,i3)=>i3.margin[o3.end]+i3.borderBox[o3.size]/2)(o2,a2),getCrossAxisBorderBoxCenter(o2,i2.marginBox,a2)),"goBefore");var whenReordering=__name(({impact:o2,draggable:i2,draggables:a2,droppable:s2,afterCritical:u2})=>{const O2=hn(s2.descriptor.id,a2),w2=i2.page,x2=s2.axis;if(!O2.length)return(({axis:o3,moveInto:i3,isMoving:a3})=>patch(o3.line,i3.contentBox[o3.start]+distanceFromStartToBorderBoxCenter(o3,a3),getCrossAxisBorderBoxCenter(o3,i3.contentBox,a3)))({axis:x2,moveInto:s2.page,isMoving:w2});const{displaced:C2,displacedBy:T2}=o2,_2=C2.all[0];if(_2){const o3=a2[_2];if(didStartAfterCritical(_2,u2))return goBefore({axis:x2,moveRelativeTo:o3.page,isMoving:w2});const i3=qt(o3.page,T2.point);return goBefore({axis:x2,moveRelativeTo:i3,isMoving:w2})}const A2=O2[O2.length-1];if(A2.descriptor.id===i2.descriptor.id)return w2.borderBox.center;if(didStartAfterCritical(A2.descriptor.id,u2)){const o3=qt(A2.page,negate(u2.displacedBy.point));return goAfter({axis:x2,moveRelativeTo:o3,isMoving:w2})}return goAfter({axis:x2,moveRelativeTo:A2.page,isMoving:w2})},"whenReordering"),withDroppableDisplacement=__name((o2,i2)=>{const a2=o2.frame;return a2?add$1(i2,a2.scroll.diff.displacement):i2},"withDroppableDisplacement"),getPageBorderBoxCenterFromImpact=__name(o2=>{const i2=(({impact:o3,draggable:i3,droppable:a3,draggables:s2,afterCritical:u2})=>{const O2=i3.page.borderBox.center,w2=o3.at;return a3&&w2?w2.type==="REORDER"?whenReordering({impact:o3,draggable:i3,draggables:s2,droppable:a3,afterCritical:u2}):whenCombining({impact:o3,draggables:s2,afterCritical:u2}):O2})(o2),a2=o2.droppable;return a2?withDroppableDisplacement(a2,i2):i2},"getPageBorderBoxCenterFromImpact"),scrollViewport=__name((o2,i2)=>{const a2=subtract(i2,o2.scroll.initial),s2=negate(a2);return{frame:zt({top:i2.y,bottom:i2.y+o2.frame.height,left:i2.x,right:i2.x+o2.frame.width}),scroll:{initial:o2.scroll.initial,max:o2.scroll.max,current:i2,diff:{value:a2,displacement:s2}}}},"scrollViewport");function getDraggables$1(o2,i2){return o2.map(o3=>i2[o3])}__name(getDraggables$1,"getDraggables$1");var getClientFromPageBorderBoxCenter=__name(({pageBorderBoxCenter:o2,draggable:i2,viewport:a2})=>{const s2=((o3,i3)=>add$1(o3.scroll.diff.displacement,i3))(a2,o2),u2=subtract(s2,i2.page.borderBox.center);return add$1(i2.client.borderBox.center,u2)},"getClientFromPageBorderBoxCenter"),isTotallyVisibleInNewLocation=__name(({draggable:o2,destination:i2,newPageBorderBoxCenter:a2,viewport:s2,withDroppableDisplacement:u2,onlyOnMainAxis:O2=!1})=>{const w2=subtract(a2,o2.page.borderBox.center),x2={target:offsetByPosition(o2.page.borderBox,w2),destination:i2,withDroppableDisplacement:u2,viewport:s2};return O2?(o3=>{return isVisible$1({...o3,isVisibleThroughFrameFn:(i3=o3.destination.axis,o4=>{const a3=isWithin(o4.top,o4.bottom),s3=isWithin(o4.left,o4.right);return o5=>i3===On?a3(o5.top)&&a3(o5.bottom):s3(o5.left)&&s3(o5.right)})});var i3})(x2):isTotallyVisible(x2)},"isTotallyVisibleInNewLocation"),moveToNextPlace=__name(({isMovingForward:o2,draggable:i2,destination:a2,draggables:s2,previousImpact:u2,viewport:O2,previousPageBorderBoxCenter:w2,previousClientSelection:x2,afterCritical:C2})=>{if(!a2.isEnabled)return null;const T2=hn(a2.descriptor.id,s2),_2=isHomeOf(i2,a2),A2=(({isMovingForward:o3,draggable:i3,destination:a3,insideDestination:s3,previousImpact:u3})=>{if(!a3.isCombineEnabled||!tryGetDestination(u3))return null;function getImpact(o4){const i4={type:"COMBINE",combine:{draggableId:o4,droppableId:a3.descriptor.id}};return{...u3,at:i4}}__name(getImpact,"getImpact");const O3=u3.displaced.all,w3=O3.length?O3[0]:null;if(o3)return w3?getImpact(w3):null;const x3=gn(i3,s3);if(!w3)return x3.length?getImpact(x3[x3.length-1].descriptor.id):null;const C3=x3.findIndex(o4=>o4.descriptor.id===w3);C3===-1&&invariant();const T3=C3-1;return T3<0?null:getImpact(x3[T3].descriptor.id)})({isMovingForward:o2,draggable:i2,destination:a2,insideDestination:T2,previousImpact:u2})||moveToNextIndex({isMovingForward:o2,isInHomeList:_2,draggable:i2,draggables:s2,destination:a2,insideDestination:T2,previousImpact:u2,viewport:O2,afterCritical:C2});if(!A2)return null;const Q2=getPageBorderBoxCenterFromImpact({impact:A2,draggable:i2,droppable:a2,draggables:s2,afterCritical:C2});if(isTotallyVisibleInNewLocation({draggable:i2,destination:a2,newPageBorderBoxCenter:Q2,viewport:O2.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:getClientFromPageBorderBoxCenter({pageBorderBoxCenter:Q2,draggable:i2,viewport:O2}),impact:A2,scrollJumpRequest:null};const N2=subtract(Q2,w2),L2=(({impact:o3,viewport:i3,destination:a3,draggables:s3,maxScrollChange:u3})=>{const O3=scrollViewport(i3,add$1(i3.scroll.current,u3)),w3=a3.frame?scrollDroppable(a3,add$1(a3.frame.scroll.current,u3)):a3,x3=o3.displaced,C3=getDisplacementGroups({afterDragging:getDraggables$1(x3.all,s3),destination:a3,displacedBy:o3.displacedBy,viewport:O3.frame,last:x3,forceShouldAnimate:!1}),T3=getDisplacementGroups({afterDragging:getDraggables$1(x3.all,s3),destination:w3,displacedBy:o3.displacedBy,viewport:i3.frame,last:x3,forceShouldAnimate:!1}),_3={},A3={},Q3=[x3,C3,T3];return x3.all.forEach(o4=>{const i4=__name(function(o5,i5){for(let a4=0;a4<i5.length;a4++){const s4=i5[a4].visible[o5];if(s4)return s4}return null},"tryGetVisible")(o4,Q3);i4?A3[o4]=i4:_3[o4]=!0}),{...o3,displaced:{all:x3.all,invisible:_3,visible:A3}}})({impact:A2,viewport:O2,destination:a2,draggables:s2,maxScrollChange:N2});return{clientSelection:x2,impact:L2,scrollJumpRequest:N2}},"moveToNextPlace");const getKnownActive=__name(o2=>{const i2=o2.subject.active;return i2||invariant(),i2},"getKnownActive"),getCurrentPageBorderBoxCenter=__name((o2,i2)=>{const a2=o2.page.borderBox.center;return didStartAfterCritical(o2.descriptor.id,i2)?subtract(a2,i2.displacedBy.point):a2},"getCurrentPageBorderBoxCenter"),getCurrentPageBorderBox=__name((o2,i2)=>{const a2=o2.page.borderBox;return didStartAfterCritical(o2.descriptor.id,i2)?offsetByPosition(a2,negate(i2.displacedBy.point)):a2},"getCurrentPageBorderBox");var Sn=memoizeOne(__name(function(o2,i2){const a2=i2[o2.line];return{value:a2,point:patch(o2.line,a2)}},"getDisplacedBy"));const withMaxScroll=__name((o2,i2)=>({...o2,scroll:{...o2.scroll,max:i2}}),"withMaxScroll"),addPlaceholder=__name((o2,i2,a2)=>{const s2=o2.frame;isHomeOf(i2,o2)&&invariant(),o2.subject.withPlaceholder&&invariant();const u2=Sn(o2.axis,i2.displaceBy).point,O2=((o3,i3,a3)=>{const s3=o3.axis;if(o3.descriptor.mode==="virtual")return patch(s3.line,i3[s3.line]);const u3=o3.subject.page.contentBox[s3.size],O3=hn(o3.descriptor.id,a3).reduce((o4,i4)=>o4+i4.client.marginBox[s3.size],0)+i3[s3.line]-u3;return O3<=0?null:patch(s3.line,O3)})(o2,u2,a2),w2={placeholderSize:u2,increasedBy:O2,oldFrameMaxScroll:o2.frame?o2.frame.scroll.max:null};if(!s2){const i3=getSubject({page:o2.subject.page,withPlaceholder:w2,axis:o2.axis,frame:o2.frame});return{...o2,subject:i3}}const x2=O2?add$1(s2.scroll.max,O2):s2.scroll.max,C2=withMaxScroll(s2,x2),T2=getSubject({page:o2.subject.page,withPlaceholder:w2,axis:o2.axis,frame:C2});return{...o2,subject:T2,frame:C2}},"addPlaceholder");var moveCrossAxis=__name(({isMovingForward:o2,previousPageBorderBoxCenter:i2,draggable:a2,isOver:s2,draggables:u2,droppables:O2,viewport:w2,afterCritical:x2})=>{const C2=(({isMovingForward:o3,pageBorderBoxCenter:i3,source:a3,droppables:s3,viewport:u3})=>{const O3=a3.subject.active;if(!O3)return null;const w3=a3.axis,x3=isWithin(O3[w3.start],O3[w3.end]),C3=fn(s3).filter(o4=>o4!==a3).filter(o4=>o4.isEnabled).filter(o4=>!!o4.subject.active).filter(o4=>isPartiallyVisibleThroughFrame(u3.frame)(getKnownActive(o4))).filter(i4=>{const a4=getKnownActive(i4);return o3?O3[w3.crossAxisEnd]<a4[w3.crossAxisEnd]:a4[w3.crossAxisStart]<O3[w3.crossAxisStart]}).filter(o4=>{const i4=getKnownActive(o4),a4=isWithin(i4[w3.start],i4[w3.end]);return x3(i4[w3.start])||x3(i4[w3.end])||a4(O3[w3.start])||a4(O3[w3.end])}).sort((i4,a4)=>{const s4=getKnownActive(i4)[w3.crossAxisStart],u4=getKnownActive(a4)[w3.crossAxisStart];return o3?s4-u4:u4-s4}).filter((o4,i4,a4)=>getKnownActive(o4)[w3.crossAxisStart]===getKnownActive(a4[0])[w3.crossAxisStart]);if(!C3.length)return null;if(C3.length===1)return C3[0];const T3=C3.filter(o4=>isWithin(getKnownActive(o4)[w3.start],getKnownActive(o4)[w3.end])(i3[w3.line]));return T3.length===1?T3[0]:T3.length>1?T3.sort((o4,i4)=>getKnownActive(o4)[w3.start]-getKnownActive(i4)[w3.start])[0]:C3.sort((o4,a4)=>{const s4=closest$1(i3,getCorners(getKnownActive(o4))),u4=closest$1(i3,getCorners(getKnownActive(a4)));return s4!==u4?s4-u4:getKnownActive(o4)[w3.start]-getKnownActive(a4)[w3.start]})[0]})({isMovingForward:o2,pageBorderBoxCenter:i2,source:s2,droppables:O2,viewport:w2});if(!C2)return null;const T2=hn(C2.descriptor.id,u2),_2=(({pageBorderBoxCenter:o3,viewport:i3,destination:a3,insideDestination:s3,afterCritical:u3})=>s3.filter(o4=>isTotallyVisible({target:getCurrentPageBorderBox(o4,u3),destination:a3,viewport:i3.frame,withDroppableDisplacement:!0})).sort((i4,s4)=>{const O4=distance(o3,withDroppableDisplacement(a3,getCurrentPageBorderBoxCenter(i4,u3))),w3=distance(o3,withDroppableDisplacement(a3,getCurrentPageBorderBoxCenter(s4,u3)));return O4<w3?-1:w3<O4?1:i4.descriptor.index-s4.descriptor.index})[0]||null)({pageBorderBoxCenter:i2,viewport:w2,destination:C2,insideDestination:T2,afterCritical:x2}),A2=(({previousPageBorderBoxCenter:o3,moveRelativeTo:i3,insideDestination:a3,draggable:s3,draggables:u3,destination:O3,viewport:w3,afterCritical:x3})=>{if(!i3){if(a3.length)return null;const o4={displaced:vn,displacedBy:mn,at:{type:"REORDER",destination:{droppableId:O3.descriptor.id,index:0}}},i4=getPageBorderBoxCenterFromImpact({impact:o4,draggable:s3,droppable:O3,draggables:u3,afterCritical:x3}),C4=isHomeOf(s3,O3)?O3:addPlaceholder(O3,s3,u3);return isTotallyVisibleInNewLocation({draggable:s3,destination:C4,newPageBorderBoxCenter:i4,viewport:w3.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?o4:null}const C3=o3[O3.axis.line]<=i3.page.borderBox.center[O3.axis.line],T3=(()=>{const o4=i3.descriptor.index;return i3.descriptor.id===s3.descriptor.id||C3?o4:o4+1})(),_3=Sn(O3.axis,s3.displaceBy);return calculateReorderImpact({draggable:s3,insideDestination:a3,destination:O3,viewport:w3,displacedBy:_3,last:vn,index:T3})})({previousPageBorderBoxCenter:i2,destination:C2,draggable:a2,draggables:u2,moveRelativeTo:_2,insideDestination:T2,viewport:w2,afterCritical:x2});if(!A2)return null;const Q2=getPageBorderBoxCenterFromImpact({impact:A2,draggable:a2,droppable:C2,draggables:u2,afterCritical:x2});return{clientSelection:getClientFromPageBorderBoxCenter({pageBorderBoxCenter:Q2,draggable:a2,viewport:w2}),impact:A2,scrollJumpRequest:null}},"moveCrossAxis"),whatIsDraggedOver=__name(o2=>{const i2=o2.at;return i2?i2.type==="REORDER"?i2.destination.droppableId:i2.combine.droppableId:null},"whatIsDraggedOver"),moveInDirection=__name(({state:o2,type:i2})=>{const a2=((o3,i3)=>{const a3=whatIsDraggedOver(o3);return a3?i3[a3]:null})(o2.impact,o2.dimensions.droppables),s2=!!a2,u2=o2.dimensions.droppables[o2.critical.droppable.id],O2=a2||u2,w2=O2.axis.direction,x2=w2==="vertical"&&(i2==="MOVE_UP"||i2==="MOVE_DOWN")||w2==="horizontal"&&(i2==="MOVE_LEFT"||i2==="MOVE_RIGHT");if(x2&&!s2)return null;const C2=i2==="MOVE_DOWN"||i2==="MOVE_RIGHT",T2=o2.dimensions.draggables[o2.critical.draggable.id],_2=o2.current.page.borderBoxCenter,{draggables:A2,droppables:Q2}=o2.dimensions;return x2?moveToNextPlace({isMovingForward:C2,previousPageBorderBoxCenter:_2,draggable:T2,destination:O2,draggables:A2,viewport:o2.viewport,previousClientSelection:o2.current.client.selection,previousImpact:o2.impact,afterCritical:o2.afterCritical}):moveCrossAxis({isMovingForward:C2,previousPageBorderBoxCenter:_2,draggable:T2,isOver:O2,draggables:A2,droppables:Q2,viewport:o2.viewport,afterCritical:o2.afterCritical})},"moveInDirection");function isMovementAllowed(o2){return o2.phase==="DRAGGING"||o2.phase==="COLLECTING"}__name(isMovementAllowed,"isMovementAllowed");function isPositionInFrame(o2){const i2=isWithin(o2.top,o2.bottom),a2=isWithin(o2.left,o2.right);return __name(function(o3){return i2(o3.y)&&a2(o3.x)},"run")}__name(isPositionInFrame,"isPositionInFrame");function getDroppableOver({pageBorderBox:o2,draggable:i2,droppables:a2}){const s2=fn(a2).filter(i3=>{if(!i3.isEnabled)return!1;const a3=i3.subject.active;if(!a3||!__name(function(o3,i4){return o3.left<i4.right&&o3.right>i4.left&&o3.top<i4.bottom&&o3.bottom>i4.top},"getHasOverlap")(o2,a3))return!1;if(isPositionInFrame(a3)(o2.center))return!0;const s3=i3.axis,u2=a3.center[s3.crossAxisLine],O2=o2[s3.crossAxisStart],w2=o2[s3.crossAxisEnd],x2=isWithin(a3[s3.crossAxisStart],a3[s3.crossAxisEnd]),C2=x2(O2),T2=x2(w2);return!C2&&!T2||(C2?O2<u2:w2>u2)});return s2.length?s2.length===1?s2[0].descriptor.id:__name(function({pageBorderBox:o3,draggable:i3,candidates:a3}){const s3=i3.page.borderBox.center,u2=a3.map(i4=>{const a4=i4.axis,u3=patch(i4.axis.line,o3.center[a4.line],i4.page.borderBox.center[a4.crossAxisLine]);return{id:i4.descriptor.id,distance:distance(s3,u3)}}).sort((o4,i4)=>i4.distance-o4.distance);return u2[0]?u2[0].id:null},"getFurthestAway")({pageBorderBox:o2,draggable:i2,candidates:s2}):null}__name(getDroppableOver,"getDroppableOver");const offsetRectByPosition=__name((o2,i2)=>zt(offsetByPosition(o2,i2)),"offsetRectByPosition");function getIsDisplaced({displaced:o2,id:i2}){return!!(o2.visible[i2]||o2.invisible[i2])}__name(getIsDisplaced,"getIsDisplaced");var getDragImpact=__name(({pageOffset:o2,draggable:i2,draggables:a2,droppables:s2,previousImpact:u2,viewport:O2,afterCritical:w2})=>{const x2=offsetRectByPosition(i2.page.borderBox,o2),C2=getDroppableOver({pageBorderBox:x2,draggable:i2,droppables:s2});if(!C2)return yn;const T2=s2[C2],_2=hn(T2.descriptor.id,a2),A2=((o3,i3)=>{const a3=o3.frame;return a3?offsetRectByPosition(i3,a3.scroll.diff.value):i3})(T2,x2);return(({draggable:o3,pageBorderBoxWithDroppableScroll:i3,previousImpact:a3,destination:s3,insideDestination:u3,afterCritical:O3})=>{if(!s3.isCombineEnabled)return null;const w3=s3.axis,x3=Sn(s3.axis,o3.displaceBy),C3=x3.value,T3=i3[w3.start],_3=i3[w3.end],A3=gn(o3,u3).find(o4=>{const i4=o4.descriptor.id,s4=o4.page.borderBox,u4=s4[w3.size]/4,x4=didStartAfterCritical(i4,O3),A4=getIsDisplaced({displaced:a3.displaced,id:i4});return x4?A4?_3>s4[w3.start]+u4&&_3<s4[w3.end]-u4:T3>s4[w3.start]-C3+u4&&T3<s4[w3.end]-C3-u4:A4?_3>s4[w3.start]+C3+u4&&_3<s4[w3.end]+C3-u4:T3>s4[w3.start]+u4&&T3<s4[w3.end]-u4});return A3?{displacedBy:x3,displaced:a3.displaced,at:{type:"COMBINE",combine:{draggableId:A3.descriptor.id,droppableId:s3.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:A2,draggable:i2,previousImpact:u2,destination:T2,insideDestination:_2,afterCritical:w2})||(({pageBorderBoxWithDroppableScroll:o3,draggable:i3,destination:a3,insideDestination:s3,last:u3,viewport:O3,afterCritical:w3})=>{const x3=a3.axis,C3=Sn(a3.axis,i3.displaceBy),T3=C3.value,_3=o3[x3.start],A3=o3[x3.end],Q2=gn(i3,s3).find(o4=>{const i4=o4.descriptor.id,a4=o4.page.borderBox.center[x3.line],s4=didStartAfterCritical(i4,w3),O4=getIsDisplaced({displaced:u3,id:i4});return s4?O4?A3<=a4:_3<a4-T3:O4?A3<=a4+T3:_3<a4})||null,N2=__name(function({draggable:o4,closest:i4,inHomeList:a4}){return i4?a4&&i4.descriptor.index>o4.descriptor.index?i4.descriptor.index-1:i4.descriptor.index:null},"atIndex")({draggable:i3,closest:Q2,inHomeList:isHomeOf(i3,a3)});return calculateReorderImpact({draggable:i3,insideDestination:s3,destination:a3,viewport:O3,last:u3,displacedBy:C3,index:N2})})({pageBorderBoxWithDroppableScroll:A2,draggable:i2,destination:T2,insideDestination:_2,last:u2.displaced,viewport:O2,afterCritical:w2})},"getDragImpact"),patchDroppableMap=__name((o2,i2)=>({...o2,[i2.descriptor.id]:i2}),"patchDroppableMap");const clearUnusedPlaceholder=__name(({previousImpact:o2,impact:i2,droppables:a2})=>{const s2=whatIsDraggedOver(o2),u2=whatIsDraggedOver(i2);if(!s2||s2===u2)return a2;const O2=a2[s2];if(!O2.subject.withPlaceholder)return a2;const w2=(o3=>{const i3=o3.subject.withPlaceholder;i3||invariant();const a3=o3.frame;if(!a3){const i4=getSubject({page:o3.subject.page,axis:o3.axis,frame:null,withPlaceholder:null});return{...o3,subject:i4}}const s3=i3.oldFrameMaxScroll;s3||invariant();const u3=withMaxScroll(a3,s3),O3=getSubject({page:o3.subject.page,axis:o3.axis,frame:u3,withPlaceholder:null});return{...o3,subject:O3,frame:u3}})(O2);return patchDroppableMap(a2,w2)},"clearUnusedPlaceholder");var update=__name(({state:o2,clientSelection:i2,dimensions:a2,viewport:s2,impact:u2,scrollJumpRequest:O2})=>{const w2=s2||o2.viewport,x2=a2||o2.dimensions,C2=i2||o2.current.client.selection,T2=subtract(C2,o2.initial.client.selection),_2={offset:T2,selection:C2,borderBoxCenter:add$1(o2.initial.client.borderBoxCenter,T2)},A2={selection:add$1(_2.selection,w2.scroll.current),borderBoxCenter:add$1(_2.borderBoxCenter,w2.scroll.current),offset:add$1(_2.offset,w2.scroll.diff.value)},Q2={client:_2,page:A2};if(o2.phase==="COLLECTING")return{...o2,dimensions:x2,viewport:w2,current:Q2};const N2=x2.draggables[o2.critical.draggable.id],L2=u2||getDragImpact({pageOffset:A2.offset,draggable:N2,draggables:x2.draggables,droppables:x2.droppables,previousImpact:o2.impact,viewport:w2,afterCritical:o2.afterCritical}),$2=(({draggable:o3,draggables:i3,droppables:a3,previousImpact:s3,impact:u3})=>{const O3=clearUnusedPlaceholder({previousImpact:s3,impact:u3,droppables:a3}),w3=whatIsDraggedOver(u3);if(!w3)return O3;const x3=a3[w3];if(isHomeOf(o3,x3)||x3.subject.withPlaceholder)return O3;const C3=addPlaceholder(x3,o3,i3);return patchDroppableMap(O3,C3)})({draggable:N2,impact:L2,previousImpact:o2.impact,draggables:x2.draggables,droppables:x2.droppables});return{...o2,current:Q2,dimensions:{draggables:x2.draggables,droppables:$2},impact:L2,viewport:w2,scrollJumpRequest:O2||null,forceShouldAnimate:!O2&&null}},"update"),recompute=__name(({impact:o2,viewport:i2,draggables:a2,destination:s2,forceShouldAnimate:u2})=>{const O2=o2.displaced,w2=__name(function(o3,i3){return o3.map(o4=>i3[o4])},"getDraggables")(O2.all,a2),x2=getDisplacementGroups({afterDragging:w2,destination:s2,displacedBy:o2.displacedBy,viewport:i2.frame,forceShouldAnimate:u2,last:O2});return{...o2,displaced:x2}},"recompute"),getClientBorderBoxCenter=__name(({impact:o2,draggable:i2,droppable:a2,draggables:s2,viewport:u2,afterCritical:O2})=>{const w2=getPageBorderBoxCenterFromImpact({impact:o2,draggable:i2,draggables:s2,droppable:a2,afterCritical:O2});return getClientFromPageBorderBoxCenter({pageBorderBoxCenter:w2,draggable:i2,viewport:u2})},"getClientBorderBoxCenter"),refreshSnap=__name(({state:o2,dimensions:i2,viewport:a2})=>{o2.movementMode!=="SNAP"&&invariant();const s2=o2.impact,u2=a2||o2.viewport,O2=i2||o2.dimensions,{draggables:w2,droppables:x2}=O2,C2=w2[o2.critical.draggable.id],T2=whatIsDraggedOver(s2);T2||invariant();const _2=x2[T2],A2=recompute({impact:s2,viewport:u2,destination:_2,draggables:w2}),Q2=getClientBorderBoxCenter({impact:A2,draggable:C2,droppable:_2,draggables:w2,viewport:u2,afterCritical:o2.afterCritical});return update({impact:A2,clientSelection:Q2,state:o2,dimensions:O2,viewport:u2})},"refreshSnap"),getLiftEffect=__name(({draggable:o2,home:i2,draggables:a2,viewport:s2})=>{const u2=Sn(i2.axis,o2.displaceBy),O2=hn(i2.descriptor.id,a2),w2=O2.indexOf(o2);w2===-1&&invariant();const x2=O2.slice(w2+1),C2=x2.reduce((o3,i3)=>(o3[i3.descriptor.id]=!0,o3),{}),T2={inVirtualList:i2.descriptor.mode==="virtual",displacedBy:u2,effected:C2};var _2;return{impact:{displaced:getDisplacementGroups({afterDragging:x2,destination:i2,displacedBy:u2,last:null,viewport:s2.frame,forceShouldAnimate:!1}),displacedBy:u2,at:{type:"REORDER",destination:(_2=o2.descriptor,{index:_2.index,droppableId:_2.droppableId})}},afterCritical:T2}},"getLiftEffect"),adjustAdditionsForScrollChanges=__name(({additions:o2,updatedDroppables:i2,viewport:a2})=>{const s2=a2.scroll.diff.value;return o2.map(o3=>{const u2=o3.descriptor.droppableId,O2=(o4=>{const i3=o4.frame;return i3||invariant(),i3})(i2[u2]),w2=O2.scroll.diff.value;return(({draggable:o4,offset:i3,initialWindowScroll:a3})=>{const s3=qt(o4.client,i3),u3=Xt(s3,a3);return{...o4,placeholder:{...o4.placeholder,client:s3},client:s3,page:u3}})({draggable:o3,offset:add$1(s2,w2),initialWindowScroll:a2.scroll.initial})})},"adjustAdditionsForScrollChanges");const isSnapping=__name(o2=>o2.movementMode==="SNAP","isSnapping"),postDroppableChange=__name((o2,i2,a2)=>{const s2=((o3,i3)=>({draggables:o3.draggables,droppables:patchDroppableMap(o3.droppables,i3)}))(o2.dimensions,i2);return!isSnapping(o2)||a2?update({state:o2,dimensions:s2}):refreshSnap({state:o2,dimensions:s2})},"postDroppableChange");function removeScrollJumpRequest(o2){return o2.isDragging&&o2.movementMode==="SNAP"?{...o2,scrollJumpRequest:null}:o2}__name(removeScrollJumpRequest,"removeScrollJumpRequest");const wn={phase:"IDLE",completed:null,shouldFlush:!1};var reducer=__name((o2=wn,i2)=>{if(i2.type==="FLUSH")return{...wn,shouldFlush:!0};if(i2.type==="INITIAL_PUBLISH"){o2.phase!=="IDLE"&&invariant();const{critical:a2,clientSelection:s2,viewport:u2,dimensions:O2,movementMode:w2}=i2.payload,x2=O2.draggables[a2.draggable.id],C2=O2.droppables[a2.droppable.id],T2={selection:s2,borderBoxCenter:x2.client.borderBox.center,offset:cn},_2={client:T2,page:{selection:add$1(T2.selection,u2.scroll.initial),borderBoxCenter:add$1(T2.selection,u2.scroll.initial),offset:add$1(T2.selection,u2.scroll.diff.value)}},A2=fn(O2.droppables).every(o3=>!o3.isFixedOnPage),{impact:Q2,afterCritical:N2}=getLiftEffect({draggable:x2,home:C2,draggables:O2.draggables,viewport:u2});return{phase:"DRAGGING",isDragging:!0,critical:a2,movementMode:w2,dimensions:O2,initial:_2,current:_2,isWindowScrollAllowed:A2,impact:Q2,afterCritical:N2,onLiftImpact:Q2,viewport:u2,scrollJumpRequest:null,forceShouldAnimate:null}}if(i2.type==="COLLECTION_STARTING")return o2.phase==="COLLECTING"||o2.phase==="DROP_PENDING"?o2:(o2.phase!=="DRAGGING"&&invariant(),{...o2,phase:"COLLECTING"});if(i2.type==="PUBLISH_WHILE_DRAGGING")return o2.phase!=="COLLECTING"&&o2.phase!=="DROP_PENDING"&&invariant(),(({state:o3,published:i3})=>{const a2=i3.modified.map(i4=>{const a3=o3.dimensions.droppables[i4.droppableId];return scrollDroppable(a3,i4.scroll)}),s2={...o3.dimensions.droppables,...un(a2)},u2=dn(adjustAdditionsForScrollChanges({additions:i3.additions,updatedDroppables:s2,viewport:o3.viewport})),O2={...o3.dimensions.draggables,...u2};i3.removals.forEach(o4=>{delete O2[o4]});const w2={droppables:s2,draggables:O2},x2=whatIsDraggedOver(o3.impact),C2=x2?w2.droppables[x2]:null,T2=w2.draggables[o3.critical.draggable.id],_2=w2.droppables[o3.critical.droppable.id],{impact:A2,afterCritical:Q2}=getLiftEffect({draggable:T2,home:_2,draggables:O2,viewport:o3.viewport}),N2=C2&&C2.isCombineEnabled?o3.impact:A2,L2=getDragImpact({pageOffset:o3.current.page.offset,draggable:w2.draggables[o3.critical.draggable.id],draggables:w2.draggables,droppables:w2.droppables,previousImpact:N2,viewport:o3.viewport,afterCritical:Q2}),$2={...o3,phase:"DRAGGING",impact:L2,onLiftImpact:A2,dimensions:w2,afterCritical:Q2,forceShouldAnimate:!1};return o3.phase==="COLLECTING"?$2:{...$2,phase:"DROP_PENDING",reason:o3.reason,isWaiting:!1}})({state:o2,published:i2.payload});if(i2.type==="MOVE"){if(o2.phase==="DROP_PENDING")return o2;isMovementAllowed(o2)||invariant();const{client:a2}=i2.payload;return isEqual$1(a2,o2.current.client.selection)?o2:update({state:o2,clientSelection:a2,impact:isSnapping(o2)?o2.impact:null})}if(i2.type==="UPDATE_DROPPABLE_SCROLL"){if(o2.phase==="DROP_PENDING"||o2.phase==="COLLECTING")return removeScrollJumpRequest(o2);isMovementAllowed(o2)||invariant();const{id:a2,newScroll:s2}=i2.payload,u2=o2.dimensions.droppables[a2];if(!u2)return o2;const O2=scrollDroppable(u2,s2);return postDroppableChange(o2,O2,!1)}if(i2.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(o2.phase==="DROP_PENDING")return o2;isMovementAllowed(o2)||invariant();const{id:a2,isEnabled:s2}=i2.payload,u2=o2.dimensions.droppables[a2];u2||invariant(),u2.isEnabled===s2&&invariant();const O2={...u2,isEnabled:s2};return postDroppableChange(o2,O2,!0)}if(i2.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(o2.phase==="DROP_PENDING")return o2;isMovementAllowed(o2)||invariant();const{id:a2,isCombineEnabled:s2}=i2.payload,u2=o2.dimensions.droppables[a2];u2||invariant(),u2.isCombineEnabled===s2&&invariant();const O2={...u2,isCombineEnabled:s2};return postDroppableChange(o2,O2,!0)}if(i2.type==="MOVE_BY_WINDOW_SCROLL"){if(o2.phase==="DROP_PENDING"||o2.phase==="DROP_ANIMATING")return o2;isMovementAllowed(o2)||invariant(),o2.isWindowScrollAllowed||invariant();const a2=i2.payload.newScroll;if(isEqual$1(o2.viewport.scroll.current,a2))return removeScrollJumpRequest(o2);const s2=scrollViewport(o2.viewport,a2);return isSnapping(o2)?refreshSnap({state:o2,viewport:s2}):update({state:o2,viewport:s2})}if(i2.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!isMovementAllowed(o2))return o2;const a2=i2.payload.maxScroll;if(isEqual$1(a2,o2.viewport.scroll.max))return o2;const s2={...o2.viewport,scroll:{...o2.viewport.scroll,max:a2}};return{...o2,viewport:s2}}if(i2.type==="MOVE_UP"||i2.type==="MOVE_DOWN"||i2.type==="MOVE_LEFT"||i2.type==="MOVE_RIGHT"){if(o2.phase==="COLLECTING"||o2.phase==="DROP_PENDING")return o2;o2.phase!=="DRAGGING"&&invariant();const a2=moveInDirection({state:o2,type:i2.type});return a2?update({state:o2,impact:a2.impact,clientSelection:a2.clientSelection,scrollJumpRequest:a2.scrollJumpRequest}):o2}if(i2.type==="DROP_PENDING"){const a2=i2.payload.reason;return o2.phase!=="COLLECTING"&&invariant(),{...o2,phase:"DROP_PENDING",isWaiting:!0,reason:a2}}if(i2.type==="DROP_ANIMATE"){const{completed:a2,dropDuration:s2,newHomeClientOffset:u2}=i2.payload;return o2.phase!=="DRAGGING"&&o2.phase!=="DROP_PENDING"&&invariant(),{phase:"DROP_ANIMATING",completed:a2,dropDuration:s2,newHomeClientOffset:u2,dimensions:o2.dimensions}}if(i2.type==="DROP_COMPLETE"){const{completed:o3}=i2.payload;return{phase:"IDLE",completed:o3,shouldFlush:!1}}return o2},"reducer");function guard(o2,i2){return o2 instanceof Object&&"type"in o2&&o2.type===i2}__name(guard,"guard");const publishWhileDragging=__name(o2=>({type:"PUBLISH_WHILE_DRAGGING",payload:o2}),"publishWhileDragging"),collectionStarting=__name(()=>({type:"COLLECTION_STARTING",payload:null}),"collectionStarting"),updateDroppableScroll=__name(o2=>({type:"UPDATE_DROPPABLE_SCROLL",payload:o2}),"updateDroppableScroll"),updateDroppableIsEnabled=__name(o2=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:o2}),"updateDroppableIsEnabled"),updateDroppableIsCombineEnabled=__name(o2=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:o2}),"updateDroppableIsCombineEnabled"),move=__name(o2=>({type:"MOVE",payload:o2}),"move"),moveUp=__name(()=>({type:"MOVE_UP",payload:null}),"moveUp"),moveDown=__name(()=>({type:"MOVE_DOWN",payload:null}),"moveDown"),moveRight=__name(()=>({type:"MOVE_RIGHT",payload:null}),"moveRight"),moveLeft=__name(()=>({type:"MOVE_LEFT",payload:null}),"moveLeft"),completeDrop=__name(o2=>({type:"DROP_COMPLETE",payload:o2}),"completeDrop"),drop=__name(o2=>({type:"DROP",payload:o2}),"drop"),dropAnimationFinished=__name(()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),"dropAnimationFinished"),xn="cubic-bezier(.2,1,.1,1)",kn={drop:0,combining:.7},Cn={drop:.75},Pn={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},En=`${Pn.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,Tn={fluid:`opacity ${En}`,snap:`transform ${En}, opacity ${En}`,drop:__name(o2=>{const i2=`${o2}s ${xn}`;return`transform ${i2}, opacity ${i2}`},"drop"),outOfTheWay:`transform ${En}`,placeholder:`height ${En}, width ${En}, margin ${En}`},moveTo=__name(o2=>isEqual$1(o2,cn)?void 0:`translate(${o2.x}px, ${o2.y}px)`,"moveTo"),Rn=moveTo,transforms_drop=__name((o2,i2)=>{const a2=moveTo(o2);if(a2)return i2?`${a2} scale(${Cn.drop})`:a2},"transforms_drop"),{minDropTime:Dn,maxDropTime:In}=Pn,Mn=In-Dn,dropMiddleware=__name(({getState:o2,dispatch:i2})=>a2=>s2=>{if(!guard(s2,"DROP"))return void a2(s2);const u2=o2(),O2=s2.payload.reason;if(u2.phase==="COLLECTING")return void i2((o3=>({type:"DROP_PENDING",payload:o3}))({reason:O2}));if(u2.phase==="IDLE")return;u2.phase==="DROP_PENDING"&&u2.isWaiting&&invariant(),u2.phase!=="DRAGGING"&&u2.phase!=="DROP_PENDING"&&invariant();const w2=u2.critical,x2=u2.dimensions,C2=x2.draggables[u2.critical.draggable.id],{impact:T2,didDropInsideDroppable:_2}=(({draggables:o3,reason:i3,lastImpact:a3,home:s3,viewport:u3,onLiftImpact:O3})=>!a3.at||i3!=="DROP"?{impact:recompute({draggables:o3,impact:O3,destination:s3,viewport:u3,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:a3.at.type==="REORDER"?{impact:a3,didDropInsideDroppable:!0}:{impact:{...a3,displaced:vn},didDropInsideDroppable:!0})({reason:O2,lastImpact:u2.impact,afterCritical:u2.afterCritical,onLiftImpact:u2.onLiftImpact,home:u2.dimensions.droppables[u2.critical.droppable.id],viewport:u2.viewport,draggables:u2.dimensions.draggables}),A2=_2?tryGetDestination(T2):null,Q2=_2?tryGetCombine(T2):null,N2={index:w2.draggable.index,droppableId:w2.droppable.id},L2={draggableId:C2.descriptor.id,type:C2.descriptor.type,source:N2,reason:O2,mode:u2.movementMode,destination:A2,combine:Q2},$2=(({impact:o3,draggable:i3,dimensions:a3,viewport:s3,afterCritical:u3})=>{const{draggables:O3,droppables:w3}=a3,x3=whatIsDraggedOver(o3),C3=x3?w3[x3]:null,T3=w3[i3.descriptor.droppableId],_3=getClientBorderBoxCenter({impact:o3,draggable:i3,draggables:O3,afterCritical:u3,droppable:C3||T3,viewport:s3});return subtract(_3,i3.client.borderBox.center)})({impact:T2,draggable:C2,dimensions:x2,viewport:u2.viewport,afterCritical:u2.afterCritical}),F2={critical:u2.critical,afterCritical:u2.afterCritical,result:L2,impact:T2};if(!(!isEqual$1(u2.current.client.offset,$2)||L2.combine))return void i2(completeDrop({completed:F2}));const B2=(({current:o3,destination:i3,reason:a3})=>{const s3=distance(o3,i3);if(s3<=0)return Dn;if(s3>=1500)return In;const u3=Dn+Mn*(s3/1500);return Number((a3==="CANCEL"?.6*u3:u3).toFixed(2))})({current:u2.current.client.offset,destination:$2,reason:O2});i2((o3=>({type:"DROP_ANIMATE",payload:o3}))({newHomeClientOffset:$2,dropDuration:B2,completed:F2}))},"dropMiddleware");var getWindowScroll=__name(()=>({x:window.pageXOffset,y:window.pageYOffset}),"getWindowScroll");function getScrollListener({onWindowScroll:o2}){const i2=Jt(__name(function(){o2(getWindowScroll())},"updateScroll")),a2=__name(function(o3){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:__name(i3=>{i3.target!==window&&i3.target!==window.document||o3()},"fn")}},"getWindowScrollBinding")(i2);let s2=noop$2;function isActive2(){return s2!==noop$2}return __name(isActive2,"isActive2"),{start:__name(function(){isActive2()&&invariant(),s2=bindEvents(window,[a2])},"start2"),stop:__name(function(){isActive2()||invariant(),i2.cancel(),s2(),s2=noop$2},"stop"),isActive:isActive2}}__name(getScrollListener,"getScrollListener");const scrollListener=__name(o2=>{const i2=getScrollListener({onWindowScroll:__name(i3=>{o2.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:i3}})},"onWindowScroll")});return o3=>a2=>{!i2.isActive()&&guard(a2,"INITIAL_PUBLISH")&&i2.start(),i2.isActive()&&(o4=>guard(o4,"DROP_COMPLETE")||guard(o4,"DROP_ANIMATE")||guard(o4,"FLUSH"))(a2)&&i2.stop(),o3(a2)}},"scrollListener");var getAsyncMarshal=__name(()=>{const o2=[];return{add:__name(i2=>{const a2=setTimeout(()=>(i3=>{const a3=o2.findIndex(o3=>o3.timerId===i3);a3===-1&&invariant();const[s3]=o2.splice(a3,1);s3.callback()})(a2)),s2={timerId:a2,callback:i2};o2.push(s2)},"add"),flush:__name(()=>{if(!o2.length)return;const i2=[...o2];o2.length=0,i2.forEach(o3=>{clearTimeout(o3.timerId),o3.callback()})},"flush")}},"getAsyncMarshal");const withTimings=__name((o2,i2)=>{i2()},"withTimings"),getDragStart=__name((o2,i2)=>({draggableId:o2.draggable.id,type:o2.droppable.type,source:{droppableId:o2.droppable.id,index:o2.draggable.index},mode:i2}),"getDragStart");function execute(o2,i2,a2,s2){if(!o2)return void a2(s2(i2));const u2=(o3=>{let i3=!1,a3=!1;const s3=setTimeout(()=>{a3=!0}),result=__name(u3=>{i3||a3||(i3=!0,o3(u3),clearTimeout(s3))},"result");return result.wasCalled=()=>i3,result})(a2);o2(i2,{announce:u2}),u2.wasCalled()||a2(s2(i2))}__name(execute,"execute");var responders=__name((o2,i2)=>{const a2=((o3,i3)=>{const a3=getAsyncMarshal();let s2=null;const drop2=__name(a4=>{s2||invariant(),s2=null,withTimings(0,()=>execute(o3().onDragEnd,a4,i3,ln.onDragEnd))},"drop2");return{beforeCapture:__name((i4,a4)=>{s2&&invariant(),withTimings(0,()=>{const s3=o3().onBeforeCapture;s3&&s3({draggableId:i4,mode:a4})})},"beforeCapture"),beforeStart:__name((i4,a4)=>{s2&&invariant(),withTimings(0,()=>{const s3=o3().onBeforeDragStart;s3&&s3(getDragStart(i4,a4))})},"beforeStart"),start:__name((u2,O2)=>{s2&&invariant();const w2=getDragStart(u2,O2);s2={mode:O2,lastCritical:u2,lastLocation:w2.source,lastCombine:null},a3.add(()=>{withTimings(0,()=>execute(o3().onDragStart,w2,i3,ln.onDragStart))})},"start"),update:__name((u2,O2)=>{const w2=tryGetDestination(O2),x2=tryGetCombine(O2);s2||invariant();const C2=!((o4,i4)=>{if(o4===i4)return!0;const a4=o4.draggable.id===i4.draggable.id&&o4.draggable.droppableId===i4.draggable.droppableId&&o4.draggable.type===i4.draggable.type&&o4.draggable.index===i4.draggable.index,s3=o4.droppable.id===i4.droppable.id&&o4.droppable.type===i4.droppable.type;return a4&&s3})(u2,s2.lastCritical);C2&&(s2.lastCritical=u2);const T2=(A2=w2,!((_2=s2.lastLocation)==null&&A2==null||_2!=null&&A2!=null&&_2.droppableId===A2.droppableId&&_2.index===A2.index));var _2,A2;T2&&(s2.lastLocation=w2);const Q2=!((o4,i4)=>o4==null&&i4==null||o4!=null&&i4!=null&&o4.draggableId===i4.draggableId&&o4.droppableId===i4.droppableId)(s2.lastCombine,x2);if(Q2&&(s2.lastCombine=x2),!C2&&!T2&&!Q2)return;const N2={...getDragStart(u2,s2.mode),combine:x2,destination:w2};a3.add(()=>{withTimings(0,()=>execute(o3().onDragUpdate,N2,i3,ln.onDragUpdate))})},"update"),flush:__name(()=>{s2||invariant(),a3.flush()},"flush"),drop:drop2,abort:__name(()=>{if(!s2)return;const o4={...getDragStart(s2.lastCritical,s2.mode),combine:null,destination:null,reason:"CANCEL"};drop2(o4)},"abort")}})(o2,i2);return o3=>i3=>s2=>{if(guard(s2,"BEFORE_INITIAL_CAPTURE"))return void a2.beforeCapture(s2.payload.draggableId,s2.payload.movementMode);if(guard(s2,"INITIAL_PUBLISH")){const o4=s2.payload.critical;return a2.beforeStart(o4,s2.payload.movementMode),i3(s2),void a2.start(o4,s2.payload.movementMode)}if(guard(s2,"DROP_COMPLETE")){const o4=s2.payload.completed.result;return a2.flush(),i3(s2),void a2.drop(o4)}if(i3(s2),guard(s2,"FLUSH"))return void a2.abort();const u2=o3.getState();u2.phase==="DRAGGING"&&a2.update(u2.critical,u2.impact)}},"responders");const dropAnimationFinishMiddleware=__name(o2=>i2=>a2=>{if(!guard(a2,"DROP_ANIMATION_FINISHED"))return void i2(a2);const s2=o2.getState();s2.phase!=="DROP_ANIMATING"&&invariant(),o2.dispatch(completeDrop({completed:s2.completed}))},"dropAnimationFinishMiddleware"),dropAnimationFlushOnScrollMiddleware=__name(o2=>{let i2=null,a2=null;return s2=>u2=>{if((guard(u2,"FLUSH")||guard(u2,"DROP_COMPLETE")||guard(u2,"DROP_ANIMATION_FINISHED"))&&__name(function(){a2&&(cancelAnimationFrame(a2),a2=null),i2&&(i2(),i2=null)},"clear")(),s2(u2),!guard(u2,"DROP_ANIMATE"))return;const O2={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:__name(function(){o2.getState().phase==="DROP_ANIMATING"&&o2.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})},"flushDropAnimation")};a2=requestAnimationFrame(()=>{a2=null,i2=bindEvents(window,[O2])})}},"dropAnimationFlushOnScrollMiddleware");var autoScroll=__name(o2=>i2=>a2=>s2=>{if((o3=>guard(o3,"DROP_COMPLETE")||guard(o3,"DROP_ANIMATE")||guard(o3,"FLUSH"))(s2))return o2.stop(),void a2(s2);if(guard(s2,"INITIAL_PUBLISH")){a2(s2);const u2=i2.getState();return u2.phase!=="DRAGGING"&&invariant(),void o2.start(u2)}a2(s2),o2.scroll(i2.getState())},"autoScroll");const pendingDrop=__name(o2=>i2=>a2=>{if(i2(a2),!guard(a2,"PUBLISH_WHILE_DRAGGING"))return;const s2=o2.getState();s2.phase==="DROP_PENDING"&&(s2.isWaiting||o2.dispatch(drop({reason:s2.reason})))},"pendingDrop"),_n=compose;var createStore=__name(({dimensionMarshal:o2,focusMarshal:i2,styleMarshal:a2,getResponders:s2,announce:u2,autoScroller:O2})=>{return createStore$1(reducer,_n(__name(function(...o3){return i3=>(a3,s3)=>{const u3=i3(a3,s3);let dispatch=__name(()=>{throw new Error(formatProdErrorMessage(15))},"dispatch");const O3={getState:u3.getState,dispatch:__name((o4,...i4)=>dispatch(o4,...i4),"dispatch")},w3=o3.map(o4=>o4(O3));return dispatch=compose(...w3)(u3.dispatch),{...u3,dispatch}}},"applyMiddleware")((w2=a2,()=>o3=>i3=>{guard(i3,"INITIAL_PUBLISH")&&w2.dragging(),guard(i3,"DROP_ANIMATE")&&w2.dropping(i3.payload.completed.result.reason),(guard(i3,"FLUSH")||guard(i3,"DROP_COMPLETE"))&&w2.resting(),o3(i3)}),(o3=>()=>i3=>a3=>{(guard(a3,"DROP_COMPLETE")||guard(a3,"FLUSH")||guard(a3,"DROP_ANIMATE"))&&o3.stopPublishing(),i3(a3)})(o2),(o3=>({getState:i3,dispatch:a3})=>s3=>u3=>{if(!guard(u3,"LIFT"))return void s3(u3);const{id:O3,clientSelection:w3,movementMode:x2}=u3.payload,C2=i3();C2.phase==="DROP_ANIMATING"&&a3(completeDrop({completed:C2.completed})),i3().phase!=="IDLE"&&invariant(),a3({type:"FLUSH",payload:null}),a3({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:O3,movementMode:x2}});const T2={draggableId:O3,scrollOptions:{shouldPublishImmediately:x2==="SNAP"}},{critical:_2,dimensions:A2,viewport:Q2}=o3.startPublishing(T2);a3({type:"INITIAL_PUBLISH",payload:{critical:_2,dimensions:A2,clientSelection:w3,movementMode:x2,viewport:Q2}})})(o2),dropMiddleware,dropAnimationFinishMiddleware,dropAnimationFlushOnScrollMiddleware,pendingDrop,autoScroll(O2),scrollListener,(o3=>{let i3=!1;return()=>a3=>s3=>{if(guard(s3,"INITIAL_PUBLISH"))return i3=!0,o3.tryRecordFocus(s3.payload.critical.draggable.id),a3(s3),void o3.tryRestoreFocusRecorded();if(a3(s3),i3){if(guard(s3,"FLUSH"))return i3=!1,void o3.tryRestoreFocusRecorded();if(guard(s3,"DROP_COMPLETE")){i3=!1;const a4=s3.payload.completed.result;a4.combine&&o3.tryShiftRecord(a4.draggableId,a4.combine.draggableId),o3.tryRestoreFocusRecorded()}}}})(i2),responders(s2,u2))));var w2},"createStore"),getMaxScroll=__name(({scrollHeight:o2,scrollWidth:i2,height:a2,width:s2})=>{const u2=subtract({x:i2,y:o2},{x:s2,y:a2});return{x:Math.max(0,u2.x),y:Math.max(0,u2.y)}},"getMaxScroll"),getDocumentElement=__name(()=>{const o2=document.documentElement;return o2||invariant(),o2},"getDocumentElement"),getMaxWindowScroll=__name(()=>{const o2=getDocumentElement();return getMaxScroll({scrollHeight:o2.scrollHeight,scrollWidth:o2.scrollWidth,width:o2.clientWidth,height:o2.clientHeight})},"getMaxWindowScroll"),getInitialPublish=__name(({critical:o2,scrollOptions:i2,registry:a2})=>{const s2=(()=>{const o3=getWindowScroll(),i3=getMaxWindowScroll(),a3=o3.y,s3=o3.x,u3=getDocumentElement(),O3=u3.clientWidth,w3=u3.clientHeight;return{frame:zt({top:a3,left:s3,right:s3+O3,bottom:a3+w3}),scroll:{initial:o3,current:o3,max:i3,diff:{value:cn,displacement:cn}}}})(),u2=s2.scroll.current,O2=o2.droppable,w2=a2.droppable.getAllByType(O2.type).map(o3=>o3.callbacks.getDimensionAndWatchScroll(u2,i2)),x2=a2.draggable.getAllByType(o2.draggable.type).map(o3=>o3.getDimension(u2));return{dimensions:{draggables:dn(x2),droppables:un(w2)},critical:o2,viewport:s2}},"getInitialPublish");function shouldPublishUpdate(o2,i2,a2){return a2.descriptor.id===i2.id||a2.descriptor.type!==i2.type?!1:o2.droppable.getById(a2.descriptor.droppableId).descriptor.mode==="virtual"||!1}__name(shouldPublishUpdate,"shouldPublishUpdate");var createDimensionMarshal=__name((o2,i2)=>{let a2=null;const s2=__name(function({registry:o3,callbacks:i3}){let a3={additions:{},removals:{},modified:{}},s3=null;const collect=__name(()=>{s3||(i3.collectionStarting(),s3=requestAnimationFrame(()=>{s3=null;const{additions:u3,removals:O2,modified:w2}=a3,x2=Object.keys(u3).map(i4=>o3.draggable.getById(i4).getDimension(cn)).sort((o4,i4)=>o4.descriptor.index-i4.descriptor.index),C2=Object.keys(w2).map(i4=>({droppableId:i4,scroll:o3.droppable.getById(i4).callbacks.getScrollWhileDragging()})),T2={additions:x2,removals:Object.keys(O2),modified:C2};a3={additions:{},removals:{},modified:{}},i3.publish(T2)}))},"collect");return{add:__name(o4=>{const i4=o4.descriptor.id;a3.additions[i4]=o4,a3.modified[o4.descriptor.droppableId]=!0,a3.removals[i4]&&delete a3.removals[i4],collect()},"add"),remove:__name(o4=>{const i4=o4.descriptor;a3.removals[i4.id]=!0,a3.modified[i4.droppableId]=!0,a3.additions[i4.id]&&delete a3.additions[i4.id],collect()},"remove"),stop:__name(()=>{s3&&(cancelAnimationFrame(s3),s3=null,a3={additions:{},removals:{},modified:{}})},"stop")}},"createPublisher")({callbacks:{publish:i2.publishWhileDragging,collectionStarting:i2.collectionStarting},registry:o2}),subscriber=__name(i3=>{a2||invariant();const u3=a2.critical.draggable;i3.type==="ADDITION"&&shouldPublishUpdate(o2,u3,i3.value)&&s2.add(i3.value),i3.type==="REMOVAL"&&shouldPublishUpdate(o2,u3,i3.value)&&s2.remove(i3.value)},"subscriber");return{updateDroppableIsEnabled:__name((s3,u3)=>{o2.droppable.exists(s3)||invariant(),a2&&i2.updateDroppableIsEnabled({id:s3,isEnabled:u3})},"updateDroppableIsEnabled"),updateDroppableIsCombineEnabled:__name((s3,u3)=>{a2&&(o2.droppable.exists(s3)||invariant(),i2.updateDroppableIsCombineEnabled({id:s3,isCombineEnabled:u3}))},"updateDroppableIsCombineEnabled"),scrollDroppable:__name((i3,s3)=>{a2&&o2.droppable.getById(i3).callbacks.scroll(s3)},"scrollDroppable"),updateDroppableScroll:__name((s3,u3)=>{a2&&(o2.droppable.exists(s3)||invariant(),i2.updateDroppableScroll({id:s3,newScroll:u3}))},"updateDroppableScroll"),startPublishing:__name(i3=>{a2&&invariant();const s3=o2.draggable.getById(i3.draggableId),u3=o2.droppable.getById(s3.descriptor.droppableId),O2={draggable:s3.descriptor,droppable:u3.descriptor},w2=o2.subscribe(subscriber);return a2={critical:O2,unsubscribe:w2},getInitialPublish({critical:O2,registry:o2,scrollOptions:i3.scrollOptions})},"startPublishing"),stopPublishing:__name(()=>{if(!a2)return;s2.stop();const i3=a2.critical.droppable;o2.droppable.getAllByType(i3.type).forEach(o3=>o3.callbacks.dragStopped()),a2.unsubscribe(),a2=null},"stopPublishing")}},"createDimensionMarshal"),canStartDrag=__name((o2,i2)=>o2.phase==="IDLE"||o2.phase==="DROP_ANIMATING"&&o2.completed.result.draggableId!==i2&&o2.completed.result.reason==="DROP","canStartDrag"),scrollWindow=__name(o2=>{window.scrollBy(o2.x,o2.y)},"scrollWindow");const An=memoizeOne(o2=>fn(o2).filter(o3=>!!o3.isEnabled&&!!o3.frame));var getBestScrollableDroppable=__name(({center:o2,destination:i2,droppables:a2})=>{if(i2){const o3=a2[i2];return o3.frame?o3:null}return((o3,i3)=>An(i3).find(i4=>(i4.frame||invariant(),isPositionInFrame(i4.frame.pageMarginBox)(o3)))||null)(o2,a2)},"getBestScrollableDroppable");const Qn={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:__name(o2=>o2**2,"ease"),durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var getPercentage=__name(({startOfRange:o2,endOfRange:i2,current:a2})=>{const s2=i2-o2;return s2===0?0:(a2-o2)/s2},"getPercentage"),getValue=__name(({distanceToEdge:o2,thresholds:i2,dragStartTime:a2,shouldUseTimeDampening:s2,getAutoScrollerOptions:u2})=>{const O2=((o3,i3,a3=()=>Qn)=>{const s3=a3();if(o3>i3.startScrollingFrom)return 0;if(o3<=i3.maxScrollValueAt)return s3.maxPixelScroll;if(o3===i3.startScrollingFrom)return 1;const u3=1-getPercentage({startOfRange:i3.maxScrollValueAt,endOfRange:i3.startScrollingFrom,current:o3}),O3=s3.maxPixelScroll*s3.ease(u3);return Math.ceil(O3)})(o2,i2,u2);return O2===0?0:s2?Math.max(((o3,i3,a3)=>{const s3=a3(),u3=s3.durationDampening.accelerateAt,O3=s3.durationDampening.stopDampeningAt,w2=i3,x2=O3,C2=Date.now()-w2;if(C2>=O3)return o3;if(C2<u3)return 1;const T2=getPercentage({startOfRange:u3,endOfRange:x2,current:C2}),_2=o3*s3.ease(T2);return Math.ceil(_2)})(O2,a2,u2),1):O2},"getValue"),getScrollOnAxis=__name(({container:o2,distanceToEdges:i2,dragStartTime:a2,axis:s2,shouldUseTimeDampening:u2,getAutoScrollerOptions:O2})=>{const w2=((o3,i3,a3=()=>Qn)=>{const s3=a3();return{startScrollingFrom:o3[i3.size]*s3.startFromPercentage,maxScrollValueAt:o3[i3.size]*s3.maxScrollAtPercentage}})(o2,s2,O2);return i2[s2.end]<i2[s2.start]?getValue({distanceToEdge:i2[s2.end],thresholds:w2,dragStartTime:a2,shouldUseTimeDampening:u2,getAutoScrollerOptions:O2}):-1*getValue({distanceToEdge:i2[s2.start],thresholds:w2,dragStartTime:a2,shouldUseTimeDampening:u2,getAutoScrollerOptions:O2})},"getScrollOnAxis");const Nn=apply(o2=>o2===0?0:o2);var getScroll$1=__name(({dragStartTime:o2,container:i2,subject:a2,center:s2,shouldUseTimeDampening:u2,getAutoScrollerOptions:O2})=>{const w2={top:s2.y-i2.top,right:i2.right-s2.x,bottom:i2.bottom-s2.y,left:s2.x-i2.left},x2=getScrollOnAxis({container:i2,distanceToEdges:w2,dragStartTime:o2,axis:On,shouldUseTimeDampening:u2,getAutoScrollerOptions:O2}),C2=getScrollOnAxis({container:i2,distanceToEdges:w2,dragStartTime:o2,axis:bn,shouldUseTimeDampening:u2,getAutoScrollerOptions:O2}),T2=Nn({x:C2,y:x2});if(isEqual$1(T2,cn))return null;const _2=(({container:o3,subject:i3,proposedScroll:a3})=>{const s3=i3.height>o3.height,u3=i3.width>o3.width;return u3||s3?u3&&s3?null:{x:u3?0:a3.x,y:s3?0:a3.y}:a3})({container:i2,subject:a2,proposedScroll:T2});return _2?isEqual$1(_2,cn)?null:_2:null},"getScroll$1");const Ln=apply(o2=>o2===0?0:o2>0?1:-1),$n=(()=>{const getRemainder=__name((o2,i2)=>o2<0?o2:o2>i2?o2-i2:0,"getRemainder");return({current:o2,max:i2,change:a2})=>{const s2=add$1(o2,a2),u2={x:getRemainder(s2.x,i2.x),y:getRemainder(s2.y,i2.y)};return isEqual$1(u2,cn)?null:u2}})(),canPartiallyScroll=__name(({max:o2,current:i2,change:a2})=>{const s2={x:Math.max(i2.x,o2.x),y:Math.max(i2.y,o2.y)},u2=Ln(a2),O2=$n({max:s2,current:i2,change:u2});return!O2||u2.x!==0&&O2.x===0||u2.y!==0&&O2.y===0},"canPartiallyScroll"),canScrollWindow=__name((o2,i2)=>canPartiallyScroll({current:o2.scroll.current,max:o2.scroll.max,change:i2}),"canScrollWindow"),canScrollDroppable=__name((o2,i2)=>{const a2=o2.frame;return!!a2&&canPartiallyScroll({current:a2.scroll.current,max:a2.scroll.max,change:i2})},"canScrollDroppable");var scroll=__name(({state:o2,dragStartTime:i2,shouldUseTimeDampening:a2,scrollWindow:s2,scrollDroppable:u2,getAutoScrollerOptions:O2})=>{const w2=o2.current.page.borderBoxCenter,x2=o2.dimensions.draggables[o2.critical.draggable.id].page.marginBox;if(o2.isWindowScrollAllowed){const u3=(({viewport:o3,subject:i3,center:a3,dragStartTime:s3,shouldUseTimeDampening:u4,getAutoScrollerOptions:O3})=>{const w3=getScroll$1({dragStartTime:s3,container:o3.frame,subject:i3,center:a3,shouldUseTimeDampening:u4,getAutoScrollerOptions:O3});return w3&&canScrollWindow(o3,w3)?w3:null})({dragStartTime:i2,viewport:o2.viewport,subject:x2,center:w2,shouldUseTimeDampening:a2,getAutoScrollerOptions:O2});if(u3)return void s2(u3)}const C2=getBestScrollableDroppable({center:w2,destination:whatIsDraggedOver(o2.impact),droppables:o2.dimensions.droppables});if(!C2)return;const T2=(({droppable:o3,subject:i3,center:a3,dragStartTime:s3,shouldUseTimeDampening:u3,getAutoScrollerOptions:O3})=>{const w3=o3.frame;if(!w3)return null;const x3=getScroll$1({dragStartTime:s3,container:w3.pageMarginBox,subject:i3,center:a3,shouldUseTimeDampening:u3,getAutoScrollerOptions:O3});return x3&&canScrollDroppable(o3,x3)?x3:null})({dragStartTime:i2,droppable:C2,subject:x2,center:w2,shouldUseTimeDampening:a2,getAutoScrollerOptions:O2});T2&&u2(C2.descriptor.id,T2)},"scroll"),createJumpScroller=__name(({move:o2,scrollDroppable:i2,scrollWindow:a2})=>{const scrollDroppableAsMuchAsItCan=__name((o3,a3)=>{if(!canScrollDroppable(o3,a3))return a3;const s2=((o4,i3)=>{const a4=o4.frame;return a4&&canScrollDroppable(o4,i3)?$n({current:a4.scroll.current,max:a4.scroll.max,change:i3}):null})(o3,a3);if(!s2)return i2(o3.descriptor.id,a3),null;const u2=subtract(a3,s2);return i2(o3.descriptor.id,u2),subtract(a3,u2)},"scrollDroppableAsMuchAsItCan"),scrollWindowAsMuchAsItCan=__name((o3,i3,s2)=>{if(!o3||!canScrollWindow(i3,s2))return s2;const u2=((o4,i4)=>{if(!canScrollWindow(o4,i4))return null;const a3=o4.scroll.max,s3=o4.scroll.current;return $n({current:s3,max:a3,change:i4})})(i3,s2);if(!u2)return a2(s2),null;const O2=subtract(s2,u2);return a2(O2),subtract(s2,O2)},"scrollWindowAsMuchAsItCan");return i3=>{const a3=i3.scrollJumpRequest;if(!a3)return;const s2=whatIsDraggedOver(i3.impact);s2||invariant();const u2=scrollDroppableAsMuchAsItCan(i3.dimensions.droppables[s2],a3);if(!u2)return;const O2=i3.viewport,w2=scrollWindowAsMuchAsItCan(i3.isWindowScrollAllowed,O2,u2);w2&&((i4,a4)=>{const s3=add$1(i4.current.client.selection,a4);o2({client:s3})})(i3,w2)}},"createJumpScroller");const Fn="data-rfd",Bn=(()=>{const o2=`${Fn}-drag-handle`;return{base:o2,draggableId:`${o2}-draggable-id`,contextId:`${o2}-context-id`}})(),Vn=(()=>{const o2=`${Fn}-draggable`;return{base:o2,contextId:`${o2}-context-id`,id:`${o2}-id`}})(),zn=(()=>{const o2=`${Fn}-droppable`;return{base:o2,contextId:`${o2}-context-id`,id:`${o2}-id`}})(),jn={contextId:`${Fn}-scroll-container-context-id`},getStyles=__name((o2,i2)=>o2.map(o3=>{const a2=o3.styles[i2];return a2?`${o3.selector} { ${a2} }`:""}).join(" "),"getStyles"),Wn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?reactExports.useLayoutEffect:reactExports.useEffect,getHead=__name(()=>{const o2=document.querySelector("head");return o2||invariant(),o2},"getHead"),createStyleEl=__name(o2=>{const i2=document.createElement("style");return o2&&i2.setAttribute("nonce",o2),i2.type="text/css",i2},"createStyleEl");function useStyleMarshal(o2,i2){const a2=$t(()=>(o3=>{const i3=(a3=o3,o4=>`[${o4}="${a3}"]`);var a3;const s3=(()=>{const o4=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:i3(Bn.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o4,dragging:"pointer-events: none;",dropAnimating:o4}}})(),u3=[(()=>{const o4=`
      transition: ${Tn.outOfTheWay};
    `;return{selector:i3(Vn.contextId),styles:{dragging:o4,dropAnimating:o4,userCancel:o4}}})(),s3,{selector:i3(zn.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:getStyles(u3,"always"),resting:getStyles(u3,"resting"),dragging:getStyles(u3,"dragging"),dropAnimating:getStyles(u3,"dropAnimating"),userCancel:getStyles(u3,"userCancel")}})(o2),[o2]),s2=reactExports.useRef(null),u2=reactExports.useRef(null),O2=Ft(memoizeOne(o3=>{const i3=u2.current;i3||invariant(),i3.textContent=o3}),[]),x2=Ft(o3=>{const i3=s2.current;i3||invariant(),i3.textContent=o3},[]);Wn(()=>{(s2.current||u2.current)&&invariant();const w2=createStyleEl(i2),C3=createStyleEl(i2);return s2.current=w2,u2.current=C3,w2.setAttribute(`${Fn}-always`,o2),C3.setAttribute(`${Fn}-dynamic`,o2),getHead().appendChild(w2),getHead().appendChild(C3),x2(a2.always),O2(a2.resting),()=>{const remove2=__name(o3=>{const i3=o3.current;i3||invariant(),getHead().removeChild(i3),o3.current=null},"remove2");remove2(s2),remove2(u2)}},[i2,x2,O2,a2.always,a2.resting,o2]);const C2=Ft(()=>O2(a2.dragging),[O2,a2.dragging]),T2=Ft(o3=>{O2(o3!=="DROP"?a2.userCancel:a2.dropAnimating)},[O2,a2.dropAnimating,a2.userCancel]),_2=Ft(()=>{u2.current&&O2(a2.resting)},[O2,a2.resting]);return $t(()=>({dragging:C2,dropping:T2,resting:_2}),[C2,T2,_2])}__name(useStyleMarshal,"useStyleMarshal");function querySelectorAll(o2,i2){return Array.from(o2.querySelectorAll(i2))}__name(querySelectorAll,"querySelectorAll");var getWindowFromEl=__name(o2=>o2&&o2.ownerDocument&&o2.ownerDocument.defaultView?o2.ownerDocument.defaultView:window,"getWindowFromEl");function isHtmlElement(o2){return o2 instanceof getWindowFromEl(o2).HTMLElement}__name(isHtmlElement,"isHtmlElement");function findDragHandle(o2,i2){const a2=`[${Bn.contextId}="${o2}"]`,s2=querySelectorAll(document,a2);if(!s2.length)return null;const u2=s2.find(o3=>o3.getAttribute(Bn.draggableId)===i2);return u2&&isHtmlElement(u2)?u2:null}__name(findDragHandle,"findDragHandle");function createRegistry(){const o2={draggables:{},droppables:{}},i2=[];function notify(o3){i2.length&&i2.forEach(i3=>i3(o3))}__name(notify,"notify");function findDraggableById(i3){return o2.draggables[i3]||null}__name(findDraggableById,"findDraggableById");const a2={register:__name(i3=>{o2.draggables[i3.descriptor.id]=i3,notify({type:"ADDITION",value:i3})},"register"),update:__name((i3,a3)=>{const s3=o2.draggables[a3.descriptor.id];s3&&s3.uniqueId===i3.uniqueId&&(delete o2.draggables[a3.descriptor.id],o2.draggables[i3.descriptor.id]=i3)},"update"),unregister:__name(i3=>{const a3=i3.descriptor.id,s3=findDraggableById(a3);s3&&i3.uniqueId===s3.uniqueId&&(delete o2.draggables[a3],o2.droppables[i3.descriptor.droppableId]&&notify({type:"REMOVAL",value:i3}))},"unregister"),getById:__name(function(o3){const i3=findDraggableById(o3);return i3||invariant(),i3},"getDraggableById"),findById:findDraggableById,exists:__name(o3=>!!findDraggableById(o3),"exists"),getAllByType:__name(i3=>Object.values(o2.draggables).filter(o3=>o3.descriptor.type===i3),"getAllByType")};function findDroppableById(i3){return o2.droppables[i3]||null}return __name(findDroppableById,"findDroppableById"),{draggable:a2,droppable:{register:__name(i3=>{o2.droppables[i3.descriptor.id]=i3},"register"),unregister:__name(i3=>{const a3=findDroppableById(i3.descriptor.id);a3&&i3.uniqueId===a3.uniqueId&&delete o2.droppables[i3.descriptor.id]},"unregister"),getById:__name(function(o3){const i3=findDroppableById(o3);return i3||invariant(),i3},"getDroppableById"),findById:findDroppableById,exists:__name(o3=>!!findDroppableById(o3),"exists"),getAllByType:__name(i3=>Object.values(o2.droppables).filter(o3=>o3.descriptor.type===i3),"getAllByType")},subscribe:__name(function(o3){return i2.push(o3),__name(function(){const a3=i2.indexOf(o3);a3!==-1&&i2.splice(a3,1)},"unsubscribe")},"subscribe"),clean:__name(function(){o2.draggables={},o2.droppables={},i2.length=0},"clean")}}__name(createRegistry,"createRegistry");var Hn=React.createContext(null),getBodyElement=__name(()=>{const o2=document.body;return o2||invariant(),o2},"getBodyElement");const Un={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Zn={separator:"::"};function useUniqueId(o2,i2=Zn){const a2=React.useId();return $t(()=>`${o2}${i2.separator}${a2}`,[i2.separator,o2,a2])}__name(useUniqueId,"useUniqueId");var qn=React.createContext(null);function usePrevious(o2){const i2=reactExports.useRef(o2);return reactExports.useEffect(()=>{i2.current=o2}),i2}__name(usePrevious,"usePrevious");function isDragging(o2){return o2.phase!=="IDLE"&&o2.phase!=="DROP_ANIMATING"&&o2.isDragging}__name(isDragging,"isDragging");const Kn=9,Jn=13,er=33,tr=34,nr=35,rr=36,or={[Jn]:!0,[Kn]:!0};var preventStandardKeyEvents=__name(o2=>{or[o2.keyCode]&&o2.preventDefault()},"preventStandardKeyEvents");const ir=(()=>{const o2="visibilitychange";return typeof document>"u"?o2:[o2,`ms${o2}`,`webkit${o2}`,`moz${o2}`,`o${o2}`].find(o3=>`on${o3}`in document)||o2})(),ar={type:"IDLE"};function getCaptureBindings({cancel:o2,completed:i2,getPhase:a2,setPhase:s2}){return[{eventName:"mousemove",fn:__name(o3=>{const{button:i3,clientX:u2,clientY:O2}=o3;if(i3!==0)return;const w2={x:u2,y:O2},x2=a2();if(x2.type==="DRAGGING")return o3.preventDefault(),void x2.actions.move(w2);if(x2.type!=="PENDING"&&invariant(),!__name(function(o4,i4){return Math.abs(i4.x-o4.x)>=5||Math.abs(i4.y-o4.y)>=5},"isSloppyClickThresholdExceeded")(x2.point,w2))return;o3.preventDefault();const C2=x2.actions.fluidLift(w2);s2({type:"DRAGGING",actions:C2})},"fn")},{eventName:"mouseup",fn:__name(s3=>{const u2=a2();u2.type==="DRAGGING"?(s3.preventDefault(),u2.actions.drop({shouldBlockNextClick:!0}),i2()):o2()},"fn")},{eventName:"mousedown",fn:__name(i3=>{a2().type==="DRAGGING"&&i3.preventDefault(),o2()},"fn")},{eventName:"keydown",fn:__name(i3=>{if(a2().type!=="PENDING")return i3.keyCode===27?(i3.preventDefault(),void o2()):void preventStandardKeyEvents(i3);o2()},"fn")},{eventName:"resize",fn:o2},{eventName:"scroll",options:{passive:!0,capture:!1},fn:__name(()=>{a2().type==="PENDING"&&o2()},"fn")},{eventName:"webkitmouseforcedown",fn:__name(i3=>{const s3=a2();s3.type==="IDLE"&&invariant(),s3.actions.shouldRespectForcePress()?o2():i3.preventDefault()},"fn")},{eventName:ir,fn:o2}]}__name(getCaptureBindings,"getCaptureBindings");function noop$1(){}__name(noop$1,"noop$1");const sr={[tr]:!0,[er]:!0,[rr]:!0,[nr]:!0};function getDraggingBindings(o2,i2){function cancel(){i2(),o2.cancel()}return __name(cancel,"cancel"),[{eventName:"keydown",fn:__name(a2=>a2.keyCode===27?(a2.preventDefault(),void cancel()):a2.keyCode===32?(a2.preventDefault(),void __name(function(){i2(),o2.drop()},"drop2")()):a2.keyCode===40?(a2.preventDefault(),void o2.moveDown()):a2.keyCode===38?(a2.preventDefault(),void o2.moveUp()):a2.keyCode===39?(a2.preventDefault(),void o2.moveRight()):a2.keyCode===37?(a2.preventDefault(),void o2.moveLeft()):void(sr[a2.keyCode]?a2.preventDefault():preventStandardKeyEvents(a2)),"fn")},{eventName:"mousedown",fn:cancel},{eventName:"mouseup",fn:cancel},{eventName:"click",fn:cancel},{eventName:"touchstart",fn:cancel},{eventName:"resize",fn:cancel},{eventName:"wheel",fn:cancel,options:{passive:!0}},{eventName:ir,fn:cancel}]}__name(getDraggingBindings,"getDraggingBindings");const lr={type:"IDLE"},cr=["input","button","textarea","select","option","optgroup","video","audio"];function isAnInteractiveElement(o2,i2){if(i2==null)return!1;if(cr.includes(i2.tagName.toLowerCase()))return!0;const a2=i2.getAttribute("contenteditable");return a2==="true"||a2===""||i2!==o2&&isAnInteractiveElement(o2,i2.parentElement)}__name(isAnInteractiveElement,"isAnInteractiveElement");function isEventInInteractiveElement(o2,i2){const a2=i2.target;return!!isHtmlElement(a2)&&isAnInteractiveElement(o2,a2)}__name(isEventInInteractiveElement,"isEventInInteractiveElement");var getBorderBoxCenterPosition=__name(o2=>zt(o2.getBoundingClientRect()).center,"getBorderBoxCenterPosition");const ur=(()=>{const o2="matches";return typeof document>"u"?o2:[o2,"msMatchesSelector","webkitMatchesSelector"].find(o3=>o3 in Element.prototype)||o2})();function closestPonyfill(o2,i2){return o2==null?null:o2[ur](i2)?o2:closestPonyfill(o2.parentElement,i2)}__name(closestPonyfill,"closestPonyfill");function closest(o2,i2){return o2.closest?o2.closest(i2):closestPonyfill(o2,i2)}__name(closest,"closest");function findClosestDragHandleFromEvent(o2,i2){const a2=i2.target;if(!__name(function(o3){return o3 instanceof getWindowFromEl(o3).Element},"isElement")(a2))return null;const s2=__name(function(o3){return`[${Bn.contextId}="${o3}"]`},"getSelector")(o2),u2=closest(a2,s2);return u2&&isHtmlElement(u2)?u2:null}__name(findClosestDragHandleFromEvent,"findClosestDragHandleFromEvent");function preventDefault(o2){o2.preventDefault()}__name(preventDefault,"preventDefault");function isActive({expected:o2,phase:i2,isLockActive:a2,shouldWarn:s2}){return a2()&&o2===i2||!1}__name(isActive,"isActive");function canStart({lockAPI:o2,store:i2,registry:a2,draggableId:s2}){if(o2.isClaimed())return!1;const u2=a2.draggable.findById(s2);return u2?!!u2.options.isEnabled&&!!canStartDrag(i2.getState(),s2):!1}__name(canStart,"canStart");function tryStart({lockAPI:o2,contextId:i2,store:a2,registry:s2,draggableId:u2,forceSensorStop:O2,sourceEvent:w2}){if(!canStart({lockAPI:o2,store:a2,registry:s2,draggableId:u2}))return null;const x2=s2.draggable.getById(u2),C2=__name(function(o3,i3){const a3=`[${Vn.contextId}="${o3}"]`,s3=querySelectorAll(document,a3).find(o4=>o4.getAttribute(Vn.id)===i3);return s3&&isHtmlElement(s3)?s3:null},"findDraggable")(i2,x2.descriptor.id);if(!C2||w2&&!x2.options.canDragInteractiveElements&&isEventInInteractiveElement(C2,w2))return null;const T2=o2.claim(O2||noop$2);let _2="PRE_DRAG";function getShouldRespectForcePress(){return x2.options.shouldRespectForcePress}__name(getShouldRespectForcePress,"getShouldRespectForcePress");function isLockActive(){return o2.isActive(T2)}__name(isLockActive,"isLockActive");const A2=__name(function(o3,i3){isActive({expected:o3,phase:_2,isLockActive,shouldWarn:!0})&&a2.dispatch(i3())},"tryDispatch").bind(null,"DRAGGING");function lift(i3){function completed(){o2.release(),_2="COMPLETED"}__name(completed,"completed");function finish2(o3,s3={shouldBlockNextClick:!1}){if(i3.cleanup(),s3.shouldBlockNextClick){const o4=bindEvents(window,[{eventName:"click",fn:preventDefault,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o4)}completed(),a2.dispatch(drop({reason:o3}))}return __name(finish2,"finish2"),_2!=="PRE_DRAG"&&(completed(),invariant()),a2.dispatch((o3=>({type:"LIFT",payload:o3}))(i3.liftActionArgs)),_2="DRAGGING",{isActive:__name(()=>isActive({expected:"DRAGGING",phase:_2,isLockActive,shouldWarn:!1}),"isActive"),shouldRespectForcePress:getShouldRespectForcePress,drop:__name(o3=>finish2("DROP",o3),"drop"),cancel:__name(o3=>finish2("CANCEL",o3),"cancel"),...i3.actions}}return __name(lift,"lift"),{isActive:__name(()=>isActive({expected:"PRE_DRAG",phase:_2,isLockActive,shouldWarn:!1}),"isActive"),shouldRespectForcePress:getShouldRespectForcePress,fluidLift:__name(function(o3){const i3=Jt(o4=>{A2(()=>move({client:o4}))});return{...lift({liftActionArgs:{id:u2,clientSelection:o3,movementMode:"FLUID"},cleanup:__name(()=>i3.cancel(),"cleanup"),actions:{move:i3}}),move:i3}},"fluidLift"),snapLift:__name(function(){const o3={moveUp:__name(()=>A2(moveUp),"moveUp"),moveRight:__name(()=>A2(moveRight),"moveRight"),moveDown:__name(()=>A2(moveDown),"moveDown"),moveLeft:__name(()=>A2(moveLeft),"moveLeft")};return lift({liftActionArgs:{id:u2,clientSelection:getBorderBoxCenterPosition(C2),movementMode:"SNAP"},cleanup:noop$2,actions:o3})},"snapLift"),abort:__name(function(){isActive({expected:"PRE_DRAG",phase:_2,isLockActive,shouldWarn:!0})&&o2.release()},"abortPreDrag")}}__name(tryStart,"tryStart");const dr=[__name(function(o2){const i2=reactExports.useRef(ar),a2=reactExports.useRef(noop$2),s2=$t(()=>({eventName:"mousedown",fn:__name(function(i3){if(i3.defaultPrevented||i3.button!==0||i3.ctrlKey||i3.metaKey||i3.shiftKey||i3.altKey)return;const s3=o2.findClosestDraggableId(i3);if(!s3)return;const u3=o2.tryGetLock(s3,x2,{sourceEvent:i3});if(!u3)return;i3.preventDefault();const O3={x:i3.clientX,y:i3.clientY};a2.current(),_2(u3,O3)},"onMouseDown")}),[o2]),u2=$t(()=>({eventName:"webkitmouseforcewillbegin",fn:__name(i3=>{if(i3.defaultPrevented)return;const a3=o2.findClosestDraggableId(i3);if(!a3)return;const s3=o2.findOptionsForDraggable(a3);s3&&(s3.shouldRespectForcePress||o2.canGetLock(a3)&&i3.preventDefault())},"fn")}),[o2]),O2=Ft(__name(function(){a2.current=bindEvents(window,[u2,s2],{passive:!1,capture:!0})},"listenForCapture"),[u2,s2]),x2=Ft(()=>{i2.current.type!=="IDLE"&&(i2.current=ar,a2.current(),O2())},[O2]),C2=Ft(()=>{const o3=i2.current;x2(),o3.type==="DRAGGING"&&o3.actions.cancel({shouldBlockNextClick:!0}),o3.type==="PENDING"&&o3.actions.abort()},[x2]),T2=Ft(__name(function(){const o3=getCaptureBindings({cancel:C2,completed:x2,getPhase:__name(()=>i2.current,"getPhase"),setPhase:__name(o4=>{i2.current=o4},"setPhase")});a2.current=bindEvents(window,o3,{capture:!0,passive:!1})},"bindCapturingEvents"),[C2,x2]),_2=Ft(__name(function(o3,a3){i2.current.type!=="IDLE"&&invariant(),i2.current={type:"PENDING",point:a3,actions:o3},T2()},"startPendingDrag"),[T2]);Wn(__name(function(){return O2(),__name(function(){a2.current()},"unmount")},"mount"),[O2])},"useMouseSensor"),__name(function(o2){const i2=reactExports.useRef(noop$1),a2=$t(()=>({eventName:"keydown",fn:__name(function(a3){if(a3.defaultPrevented||a3.keyCode!==32)return;const u2=o2.findClosestDraggableId(a3);if(!u2)return;const O2=o2.tryGetLock(u2,stop,{sourceEvent:a3});if(!O2)return;a3.preventDefault();let w2=!0;const x2=O2.snapLift();function stop(){w2||invariant(),w2=!1,i2.current(),s2()}__name(stop,"stop"),i2.current(),i2.current=bindEvents(window,getDraggingBindings(x2,stop),{capture:!0,passive:!1})},"onKeyDown")}),[o2]),s2=Ft(__name(function(){i2.current=bindEvents(window,[a2],{passive:!1,capture:!0})},"tryStartCapture"),[a2]);Wn(__name(function(){return s2(),__name(function(){i2.current()},"unmount")},"mount"),[s2])},"useKeyboardSensor"),__name(function(o2){const i2=reactExports.useRef(lr),a2=reactExports.useRef(noop$2),s2=Ft(__name(function(){return i2.current},"getPhase"),[]),u2=Ft(__name(function(o3){i2.current=o3},"setPhase"),[]),O2=$t(()=>({eventName:"touchstart",fn:__name(function(i3){if(i3.defaultPrevented)return;const s3=o2.findClosestDraggableId(i3);if(!s3)return;const u3=o2.tryGetLock(s3,C2,{sourceEvent:i3});if(!u3)return;const O3=i3.touches[0],{clientX:w2,clientY:x3}=O3,T3={x:w2,y:x3};a2.current(),Q2(u3,T3)},"onTouchStart")}),[o2]),x2=Ft(__name(function(){a2.current=bindEvents(window,[O2],{capture:!0,passive:!1})},"listenForCapture"),[O2]),C2=Ft(()=>{const o3=i2.current;o3.type!=="IDLE"&&(o3.type==="PENDING"&&clearTimeout(o3.longPressTimerId),u2(lr),a2.current(),x2())},[x2,u2]),T2=Ft(()=>{const o3=i2.current;C2(),o3.type==="DRAGGING"&&o3.actions.cancel({shouldBlockNextClick:!0}),o3.type==="PENDING"&&o3.actions.abort()},[C2]),_2=Ft(__name(function(){const o3={capture:!0,passive:!1},i3={cancel:T2,completed:C2,getPhase:s2},u3=bindEvents(window,__name(function({cancel:o4,completed:i4,getPhase:a3}){return[{eventName:"touchmove",options:{capture:!1},fn:__name(i5=>{const s3=a3();if(s3.type!=="DRAGGING")return void o4();s3.hasMoved=!0;const{clientX:u4,clientY:O4}=i5.touches[0],w2={x:u4,y:O4};i5.preventDefault(),s3.actions.move(w2)},"fn")},{eventName:"touchend",fn:__name(s3=>{const u4=a3();u4.type==="DRAGGING"?(s3.preventDefault(),u4.actions.drop({shouldBlockNextClick:!0}),i4()):o4()},"fn")},{eventName:"touchcancel",fn:__name(i5=>{a3().type==="DRAGGING"&&i5.preventDefault(),o4()},"fn")},{eventName:"touchforcechange",fn:__name(i5=>{const s3=a3();s3.type==="IDLE"&&invariant();const u4=i5.touches[0];if(!u4||!(u4.force>=.15))return;const O4=s3.actions.shouldRespectForcePress();if(s3.type!=="PENDING")return O4?s3.hasMoved?void i5.preventDefault():void o4():void i5.preventDefault();O4&&o4()},"fn")},{eventName:ir,fn:o4}]},"getHandleBindings")(i3),o3),O3=bindEvents(window,__name(function({cancel:o4,getPhase:i4}){return[{eventName:"orientationchange",fn:o4},{eventName:"resize",fn:o4},{eventName:"contextmenu",fn:__name(o5=>{o5.preventDefault()},"fn")},{eventName:"keydown",fn:__name(a3=>{i4().type==="DRAGGING"&&a3.keyCode===27&&a3.preventDefault(),o4()},"fn")},{eventName:ir,fn:o4}]},"getWindowBindings")(i3),o3);a2.current=__name(function(){u3(),O3()},"unbindAll")},"bindCapturingEvents"),[T2,s2,C2]),A2=Ft(__name(function(){const o3=s2();o3.type!=="PENDING"&&invariant();const i3=o3.actions.fluidLift(o3.point);u2({type:"DRAGGING",actions:i3,hasMoved:!1})},"startDragging"),[s2,u2]),Q2=Ft(__name(function(o3,i3){s2().type!=="IDLE"&&invariant();const a3=setTimeout(A2,120);u2({type:"PENDING",point:i3,actions:o3,longPressTimerId:a3}),_2()},"startPendingDrag"),[_2,s2,u2,A2]);Wn(__name(function(){return x2(),__name(function(){a2.current();const o3=s2();o3.type==="PENDING"&&(clearTimeout(o3.longPressTimerId),u2(lr))},"unmount")},"mount"),[s2,x2,u2]),Wn(__name(function(){return bindEvents(window,[{eventName:"touchmove",fn:__name(()=>{},"fn"),options:{capture:!1,passive:!1}}])},"webkitHack"),[])},"useTouchSensor")];function useSensorMarshal({contextId:o2,store:i2,registry:a2,customSensors:s2,enableDefaultSensors:u2}){const w2=[...u2?dr:[],...s2||[]],x2=reactExports.useState(()=>__name(function(){let o3=null;function release(){o3||invariant(),o3=null}return __name(release,"release"),{isClaimed:__name(function(){return!!o3},"isClaimed"),isActive:__name(function(i3){return i3===o3},"isActive2"),claim:__name(function(i3){o3&&invariant();const a3={abandon:i3};return o3=a3,a3},"claim"),release,tryAbandon:__name(function(){o3&&(o3.abandon(),release())},"tryAbandon")}},"create")())[0],C2=Ft(__name(function(o3,i3){isDragging(o3)&&!isDragging(i3)&&x2.tryAbandon()},"tryAbandonLock"),[x2]);Wn(__name(function(){let o3=i2.getState();return i2.subscribe(()=>{const a3=i2.getState();C2(o3,a3),o3=a3})},"listenToStore"),[x2,i2,C2]),Wn(()=>x2.tryAbandon,[x2.tryAbandon]);const T2=Ft(o3=>canStart({lockAPI:x2,registry:a2,store:i2,draggableId:o3}),[x2,a2,i2]),_2=Ft((s3,u3,O2)=>tryStart({lockAPI:x2,registry:a2,contextId:o2,store:i2,draggableId:s3,forceSensorStop:u3||null,sourceEvent:O2&&O2.sourceEvent?O2.sourceEvent:null}),[o2,x2,a2,i2]),A2=Ft(i3=>__name(function(o3,i4){const a3=findClosestDragHandleFromEvent(o3,i4);return a3?a3.getAttribute(Bn.draggableId):null},"tryGetClosestDraggableIdFromEvent")(o2,i3),[o2]),Q2=Ft(o3=>{const i3=a2.draggable.findById(o3);return i3?i3.options:null},[a2.draggable]),N2=Ft(__name(function(){x2.isClaimed()&&(x2.tryAbandon(),i2.getState().phase!=="IDLE"&&i2.dispatch({type:"FLUSH",payload:null}))},"tryReleaseLock"),[x2,i2]),L2=Ft(()=>x2.isClaimed(),[x2]),$2=$t(()=>({canGetLock:T2,tryGetLock:_2,findClosestDraggableId:A2,findOptionsForDraggable:Q2,tryReleaseLock:N2,isLockClaimed:L2}),[T2,_2,A2,Q2,N2,L2]);for(let o3=0;o3<w2.length;o3++)w2[o3]($2)}__name(useSensorMarshal,"useSensorMarshal");function getStore(o2){return o2.current||invariant(),o2.current}__name(getStore,"getStore");function App$1(o2){const{contextId:i2,setCallbacks:a2,sensors:s2,nonce:O2,dragHandleUsageInstructions:C2}=o2,T2=reactExports.useRef(null),_2=usePrevious(o2),A2=Ft(()=>(o3=>({onBeforeCapture:__name(i3=>{Re.flushSync(()=>{o3.onBeforeCapture&&o3.onBeforeCapture(i3)})},"onBeforeCapture"),onBeforeDragStart:o3.onBeforeDragStart,onDragStart:o3.onDragStart,onDragEnd:o3.onDragEnd,onDragUpdate:o3.onDragUpdate}))(_2.current),[_2]),Q2=Ft(()=>(o3=>({...Qn,...o3.autoScrollerOptions,durationDampening:{...Qn.durationDampening,...o3.autoScrollerOptions}}))(_2.current),[_2]),N2=__name(function(o3){const i3=$t(()=>(o4=>`rfd-announcement-${o4}`)(o3),[o3]),a3=reactExports.useRef(null);return reactExports.useEffect(__name(function(){const o4=document.createElement("div");return a3.current=o4,o4.id=i3,o4.setAttribute("aria-live","assertive"),o4.setAttribute("aria-atomic","true"),_extends(o4.style,Un),getBodyElement().appendChild(o4),__name(function(){setTimeout(__name(function(){const i4=getBodyElement();i4.contains(o4)&&i4.removeChild(o4),o4===a3.current&&(a3.current=null)},"remove2"))},"cleanup")},"setup"),[i3]),Ft(o4=>{const i4=a3.current;i4&&(i4.textContent=o4)},[])},"useAnnouncer")(i2),L2=__name(function({contextId:o3,text:i3}){const a3=useUniqueId("hidden-text",{separator:"-"}),s3=$t(()=>__name(function({contextId:o4,uniqueId:i4}){return`rfd-hidden-text-${o4}-${i4}`},"getElementId")({contextId:o3,uniqueId:a3}),[a3,o3]);return reactExports.useEffect(__name(function(){const o4=document.createElement("div");return o4.id=s3,o4.textContent=i3,o4.style.display="none",getBodyElement().appendChild(o4),__name(function(){const i4=getBodyElement();i4.contains(o4)&&i4.removeChild(o4)},"unmount")},"mount"),[s3,i3]),s3},"useHiddenTextElement")({contextId:i2,text:C2}),$2=useStyleMarshal(i2,O2),F2=Ft(o3=>{getStore(T2).dispatch(o3)},[]),B2=$t(()=>bindActionCreators$1({publishWhileDragging,updateDroppableScroll,updateDroppableIsEnabled,updateDroppableIsCombineEnabled,collectionStarting},F2),[F2]),V2=__name(function(){const o3=$t(createRegistry,[]);return reactExports.useEffect(()=>__name(function(){o3.clean()},"unmount"),[o3]),o3},"useRegistry")(),z2=$t(()=>createDimensionMarshal(V2,B2),[V2,B2]),j2=$t(()=>(({scrollDroppable:o3,scrollWindow:i3,move:a3,getAutoScrollerOptions:s3})=>{const u2=(({scrollWindow:o4,scrollDroppable:i4,getAutoScrollerOptions:a4=__name(()=>Qn,"a4")})=>{const s4=Jt(o4),u3=Jt(i4);let O4=null;const tryScroll=__name(o5=>{O4||invariant();const{shouldUseTimeDampening:i5,dragStartTime:w2}=O4;scroll({state:o5,scrollWindow:s4,scrollDroppable:u3,dragStartTime:w2,shouldUseTimeDampening:i5,getAutoScrollerOptions:a4})},"tryScroll");return{start:__name(o5=>{O4&&invariant();const i5=Date.now();let s5=!1;const fakeScrollCallback=__name(()=>{s5=!0},"fakeScrollCallback");scroll({state:o5,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:fakeScrollCallback,scrollDroppable:fakeScrollCallback,getAutoScrollerOptions:a4}),O4={dragStartTime:i5,shouldUseTimeDampening:s5},s5&&tryScroll(o5)},"start"),stop:__name(()=>{O4&&(s4.cancel(),u3.cancel(),O4=null)},"stop"),scroll:tryScroll}})({scrollWindow:i3,scrollDroppable:o3,getAutoScrollerOptions:s3}),O3=createJumpScroller({move:a3,scrollWindow:i3,scrollDroppable:o3});return{scroll:__name(o4=>{s3().disabled||o4.phase!=="DRAGGING"||(o4.movementMode!=="FLUID"?o4.scrollJumpRequest&&O3(o4):u2.scroll(o4))},"scroll"),start:u2.start,stop:u2.stop}})({scrollWindow,scrollDroppable:z2.scrollDroppable,getAutoScrollerOptions:Q2,...bindActionCreators$1({move},F2)}),[z2.scrollDroppable,F2,Q2]),U2=__name(function(o3){const i3=reactExports.useRef({}),a3=reactExports.useRef(null),s3=reactExports.useRef(null),u2=reactExports.useRef(!1),O3=Ft(__name(function(o4,a4){const s4={id:o4,focus:a4};return i3.current[o4]=s4,__name(function(){const a5=i3.current;a5[o4]!==s4&&delete a5[o4]},"unregister")},"register"),[]),x2=Ft(__name(function(i4){const a4=findDragHandle(o3,i4);a4&&a4!==document.activeElement&&a4.focus()},"tryGiveFocus"),[o3]),C3=Ft(__name(function(o4,i4){a3.current===o4&&(a3.current=i4)},"tryShiftRecord"),[]),T3=Ft(__name(function(){s3.current||u2.current&&(s3.current=requestAnimationFrame(()=>{s3.current=null;const o4=a3.current;o4&&x2(o4)}))},"tryRestoreFocusRecorded"),[x2]),_3=Ft(__name(function(o4){a3.current=null;const i4=document.activeElement;i4&&i4.getAttribute(Bn.draggableId)===o4&&(a3.current=o4)},"tryRecordFocus"),[]);return Wn(()=>(u2.current=!0,__name(function(){u2.current=!1;const o4=s3.current;o4&&cancelAnimationFrame(o4)},"clearFrameOnUnmount")),[]),$t(()=>({register:O3,tryRecordFocus:_3,tryRestoreFocusRecorded:T3,tryShiftRecord:C3}),[O3,_3,T3,C3])},"useFocusMarshal")(i2),Z2=$t(()=>createStore({announce:N2,autoScroller:j2,dimensionMarshal:z2,focusMarshal:U2,getResponders:A2,styleMarshal:$2}),[N2,j2,z2,U2,A2,$2]);T2.current=Z2;const X2=Ft(()=>{const o3=getStore(T2);o3.getState().phase!=="IDLE"&&o3.dispatch({type:"FLUSH",payload:null})},[]),Y2=Ft(()=>{const o3=getStore(T2).getState();return o3.phase==="DROP_ANIMATING"||o3.phase!=="IDLE"&&o3.isDragging},[]);a2($t(()=>({isDragging:Y2,tryAbort:X2}),[Y2,X2]));const ee2=Ft(o3=>canStartDrag(getStore(T2).getState(),o3),[]),ie2=Ft(()=>isMovementAllowed(getStore(T2).getState()),[]),ae2=$t(()=>({marshal:z2,focus:U2,contextId:i2,canLift:ee2,isMovementAllowed:ie2,dragHandleUsageInstructionsId:L2,registry:V2}),[i2,z2,L2,U2,ee2,ie2,V2]);return useSensorMarshal({contextId:i2,store:Z2,registry:V2,customSensors:s2||null,enableDefaultSensors:o2.enableDefaultSensors!==!1}),reactExports.useEffect(()=>X2,[X2]),React.createElement(qn.Provider,{value:ae2},React.createElement(Lt,{context:Hn,store:Z2},o2.children))}__name(App$1,"App$1");function DragDropContext(o2){const i2=__name(function(){return React.useId()},"useUniqueContextId")(),a2=o2.dragHandleUsageInstructions||ln.dragHandleUsageInstructions;return React.createElement(ErrorBoundary,null,s2=>React.createElement(App$1,{nonce:o2.nonce,contextId:i2,setCallbacks:s2,dragHandleUsageInstructions:a2,enableDefaultSensors:o2.enableDefaultSensors,sensors:o2.sensors,onBeforeCapture:o2.onBeforeCapture,onBeforeDragStart:o2.onBeforeDragStart,onDragStart:o2.onDragStart,onDragUpdate:o2.onDragUpdate,onDragEnd:o2.onDragEnd,autoScrollerOptions:o2.autoScrollerOptions},o2.children))}__name(DragDropContext,"DragDropContext");const fr=5e3,pr=4500,getDraggingTransition=__name((o2,i2)=>i2?Tn.drop(i2.duration):o2?Tn.snap:Tn.fluid,"getDraggingTransition"),getDraggingOpacity=__name((o2,i2)=>{if(o2)return i2?kn.drop:kn.combining},"getDraggingOpacity");function getStyle$1(o2){return o2.type==="DRAGGING"?__name(function(o3){const i2=o3.dimension.client,{offset:a2,combineWith:s2,dropping:u2}=o3,O2=!!s2,w2=(o4=>o4.forceShouldAnimate!=null?o4.forceShouldAnimate:o4.mode==="SNAP")(o3),x2=!!u2,C2=x2?transforms_drop(a2,O2):Rn(a2);return{position:"fixed",top:i2.marginBox.top,left:i2.marginBox.left,boxSizing:"border-box",width:i2.borderBox.width,height:i2.borderBox.height,transition:getDraggingTransition(w2,u2),transform:C2,opacity:getDraggingOpacity(O2,x2),zIndex:x2?pr:fr,pointerEvents:"none"}},"getDraggingStyle")(o2):__name(function(o3){return{transform:Rn(o3.offset),transition:o3.shouldAnimateDisplacement?void 0:"none"}},"getSecondaryStyle")(o2)}__name(getStyle$1,"getStyle$1");function useDraggablePublisher(o2){const i2=useUniqueId("draggable"),{descriptor:a2,registry:s2,getDraggableRef:u2,canDragInteractiveElements:O2,shouldRespectForcePress:x2,isEnabled:C2}=o2,T2=$t(()=>({canDragInteractiveElements:O2,shouldRespectForcePress:x2,isEnabled:C2}),[O2,C2,x2]),_2=Ft(o3=>{const i3=u2();return i3||invariant(),__name(function(o4,i4,a3=cn){const s3=window.getComputedStyle(i4),u3=i4.getBoundingClientRect(),O3=Gt(u3,s3),w2=Xt(O3,a3);return{descriptor:o4,placeholder:{client:O3,tagName:i4.tagName.toLowerCase(),display:s3.display},displaceBy:{x:O3.marginBox.width,y:O3.marginBox.height},client:O3,page:w2}},"getDimension$1")(a2,i3,o3)},[a2,u2]),A2=$t(()=>({uniqueId:i2,descriptor:a2,options:T2,getDimension:_2}),[a2,_2,T2,i2]),Q2=reactExports.useRef(A2),N2=reactExports.useRef(!0);Wn(()=>(s2.draggable.register(Q2.current),()=>s2.draggable.unregister(Q2.current)),[s2.draggable]),Wn(()=>{if(N2.current)return void(N2.current=!1);const o3=Q2.current;Q2.current=A2,s2.draggable.update(A2,o3)},[A2,s2.draggable])}__name(useDraggablePublisher,"useDraggablePublisher");var hr=React.createContext(null);function useRequiredContext(o2){const i2=reactExports.useContext(o2);return i2||invariant(),i2}__name(useRequiredContext,"useRequiredContext");function preventHtml5Dnd(o2){o2.preventDefault()}__name(preventHtml5Dnd,"preventHtml5Dnd");var isStrictEqual=__name((o2,i2)=>o2===i2,"isStrictEqual"),whatIsDraggedOverFromResult=__name(o2=>{const{combine:i2,destination:a2}=o2;return a2?a2.droppableId:i2?i2.droppableId:null},"whatIsDraggedOverFromResult");function getSecondarySnapshot(o2=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:o2,combineWith:null}}__name(getSecondarySnapshot,"getSecondarySnapshot");const gr={mapped:{type:"SECONDARY",offset:cn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:getSecondarySnapshot(null)}},mr=Nt(()=>{const o2=__name(function(){const o3=memoizeOne((o4,i4)=>({x:o4,y:i4})),i3=memoizeOne((o4,i4,a3=null,s2=null,u2=null)=>({isDragging:!0,isClone:i4,isDropAnimating:!!u2,dropAnimation:u2,mode:o4,draggingOver:a3,combineWith:s2,combineTargetFor:null})),a2=memoizeOne((o4,a3,s2,u2,O2=null,w2=null,x2=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:O2,combineWith:w2,mode:a3,offset:o4,dimension:s2,forceShouldAnimate:x2,snapshot:i3(a3,u2,O2,w2,null)}}));return(s2,u2)=>{if(isDragging(s2)){if(s2.critical.draggable.id!==u2.draggableId)return null;const i4=s2.current.client.offset,w2=s2.dimensions.draggables[u2.draggableId],x2=whatIsDraggedOver(s2.impact),C2=(O2=s2.impact).at&&O2.at.type==="COMBINE"?O2.at.combine.draggableId:null,T2=s2.forceShouldAnimate;return a2(o3(i4.x,i4.y),s2.movementMode,w2,u2.isClone,x2,C2,T2)}var O2;if(s2.phase==="DROP_ANIMATING"){const o4=s2.completed;if(o4.result.draggableId!==u2.draggableId)return null;const a3=u2.isClone,O3=s2.dimensions.draggables[u2.draggableId],w2=o4.result,x2=w2.mode,C2=whatIsDraggedOverFromResult(w2),T2=(o5=>o5.combine?o5.combine.draggableId:null)(w2),_2={duration:s2.dropDuration,curve:xn,moveTo:s2.newHomeClientOffset,opacity:T2?kn.drop:null,scale:T2?Cn.drop:null};return{mapped:{type:"DRAGGING",offset:s2.newHomeClientOffset,dimension:O3,dropping:_2,draggingOver:C2,combineWith:T2,mode:x2,forceShouldAnimate:null,snapshot:i3(x2,a3,C2,T2,_2)}}}return null}},"getDraggableSelector")(),i2=__name(function(){const o3=memoizeOne((o4,i4)=>({x:o4,y:i4})),i3=memoizeOne(getSecondarySnapshot),a2=memoizeOne((o4,a3=null,s2)=>({mapped:{type:"SECONDARY",offset:o4,combineTargetFor:a3,shouldAnimateDisplacement:s2,snapshot:i3(a3)}})),getFallback=__name(o4=>o4?a2(cn,o4,!0):null,"getFallback"),getProps=__name((i4,s2,u2,O2)=>{const w2=u2.displaced.visible[i4],x2=!!(O2.inVirtualList&&O2.effected[i4]),C2=tryGetCombine(u2),T2=C2&&C2.draggableId===i4?s2:null;if(!w2){if(!x2)return getFallback(T2);if(u2.displaced.invisible[i4])return null;const s3=negate(O2.displacedBy.point),w3=o3(s3.x,s3.y);return a2(w3,T2,!0)}if(x2)return getFallback(T2);const _2=u2.displacedBy.point,A2=o3(_2.x,_2.y);return a2(A2,T2,w2.shouldAnimate)},"getProps");return(o4,i4)=>{if(isDragging(o4))return o4.critical.draggable.id===i4.draggableId?null:getProps(i4.draggableId,o4.critical.draggable.id,o4.impact,o4.afterCritical);if(o4.phase==="DROP_ANIMATING"){const a3=o4.completed;return a3.result.draggableId===i4.draggableId?null:getProps(i4.draggableId,a3.result.draggableId,a3.impact,a3.afterCritical)}return null}},"getSecondarySelector")();return(a2,s2)=>o2(a2,s2)||i2(a2,s2)||gr},{dropAnimationFinished},null,{context:Hn,areStatePropsEqual:isStrictEqual})(o2=>{const i2=reactExports.useRef(null),a2=Ft((o3=null)=>{i2.current=o3},[]),s2=Ft(()=>i2.current,[]),{contextId:O2,dragHandleUsageInstructionsId:x2,registry:C2}=useRequiredContext(qn),{type:T2,droppableId:_2}=useRequiredContext(hr),A2=$t(()=>({id:o2.draggableId,index:o2.index,type:T2,droppableId:_2}),[o2.draggableId,o2.index,T2,_2]),{children:Q2,draggableId:N2,isEnabled:L2,shouldRespectForcePress:$2,canDragInteractiveElements:F2,isClone:B2,mapped:V2,dropAnimationFinished:z2}=o2;B2||useDraggablePublisher($t(()=>({descriptor:A2,registry:C2,getDraggableRef:s2,canDragInteractiveElements:F2,shouldRespectForcePress:$2,isEnabled:L2}),[A2,C2,s2,F2,$2,L2]));const j2=$t(()=>L2?{tabIndex:0,role:"button","aria-describedby":x2,"data-rfd-drag-handle-draggable-id":N2,"data-rfd-drag-handle-context-id":O2,draggable:!1,onDragStart:preventHtml5Dnd}:null,[O2,x2,N2,L2]),U2=Ft(o3=>{V2.type==="DRAGGING"&&V2.dropping&&o3.propertyName==="transform"&&Re.flushSync(z2)},[z2,V2]),Z2=$t(()=>{const o3=getStyle$1(V2),i3=V2.type==="DRAGGING"&&V2.dropping?U2:void 0;return{innerRef:a2,draggableProps:{"data-rfd-draggable-context-id":O2,"data-rfd-draggable-id":N2,style:o3,onTransitionEnd:i3},dragHandleProps:j2}},[O2,j2,N2,V2,U2,a2]),X2=$t(()=>({draggableId:A2.id,type:A2.type,source:{index:A2.index,droppableId:A2.droppableId}}),[A2.droppableId,A2.id,A2.index,A2.type]);return React.createElement(React.Fragment,null,Q2(Z2,V2.snapshot,X2))});function PrivateDraggable(o2){return useRequiredContext(hr).isUsingCloneFor!==o2.draggableId||o2.isClone?React.createElement(mr,o2):null}__name(PrivateDraggable,"PrivateDraggable");function PublicDraggable(o2){const i2=typeof o2.isDragDisabled!="boolean"||!o2.isDragDisabled,a2=!!o2.disableInteractiveElementBlocking,s2=!!o2.shouldRespectForcePress;return React.createElement(PrivateDraggable,_extends({},o2,{isClone:!1,isEnabled:i2,canDragInteractiveElements:a2,shouldRespectForcePress:s2}))}__name(PublicDraggable,"PublicDraggable");const isEqual=__name(o2=>i2=>o2===i2,"isEqual"),vr=isEqual("scroll"),yr=isEqual("auto"),isEither=__name((o2,i2)=>i2(o2.overflowX)||i2(o2.overflowY),"isEither"),isElementScrollable=__name(o2=>{const i2=window.getComputedStyle(o2),a2={overflowX:i2.overflowX,overflowY:i2.overflowY};return isEither(a2,vr)||isEither(a2,yr)},"isElementScrollable"),getClosestScrollable=__name(o2=>o2==null?null:o2===document.body?!1?o2:null:o2===document.documentElement?null:isElementScrollable(o2)?o2:getClosestScrollable(o2.parentElement),"getClosestScrollable");var getScroll=__name(o2=>({x:o2.scrollLeft,y:o2.scrollTop}),"getScroll");const getIsFixed=__name(o2=>o2?window.getComputedStyle(o2).position==="fixed"||getIsFixed(o2.parentElement):!1,"getIsFixed");var getDimension=__name(({ref:o2,descriptor:i2,env:a2,windowScroll:s2,direction:u2,isDropDisabled:O2,isCombineEnabled:w2,shouldClipSubject:x2})=>{const C2=a2.closestScrollable,T2=((o3,i3)=>{const a3=Yt(o3);if(!i3||o3!==i3)return a3;const s3=a3.paddingBox.top-i3.scrollTop,u3=a3.paddingBox.left-i3.scrollLeft,O3=s3+i3.scrollHeight,w3=u3+i3.scrollWidth,x3=jt({top:s3,right:w3,bottom:O3,left:u3},a3.border);return Ut({borderBox:x3,margin:a3.margin,border:a3.border,padding:a3.padding})})(o2,C2),_2=Xt(T2,s2),A2=(()=>{if(!C2)return null;const o3=Yt(C2),i3={scrollHeight:C2.scrollHeight,scrollWidth:C2.scrollWidth};return{client:o3,page:Xt(o3,s2),scroll:getScroll(C2),scrollSize:i3,shouldClipSubject:x2}})();return(({descriptor:o3,isEnabled:i3,isCombineEnabled:a3,isFixedOnPage:s3,direction:u3,client:O3,page:w3,closest:x3})=>{const C3=(()=>{if(!x3)return null;const{scrollSize:o4,client:i4}=x3,a4=getMaxScroll({scrollHeight:o4.scrollHeight,scrollWidth:o4.scrollWidth,height:i4.paddingBox.height,width:i4.paddingBox.width});return{pageMarginBox:x3.page.marginBox,frameClient:i4,scrollSize:o4,shouldClipSubject:x3.shouldClipSubject,scroll:{initial:x3.scroll,current:x3.scroll,max:a4,diff:{value:cn,displacement:cn}}}})(),T3=u3==="vertical"?On:bn;return{descriptor:o3,isCombineEnabled:a3,isFixedOnPage:s3,axis:T3,isEnabled:i3,client:O3,page:w3,frame:C3,subject:getSubject({page:w3,withPlaceholder:null,axis:T3,frame:C3})}})({descriptor:i2,isEnabled:!O2,isCombineEnabled:w2,isFixedOnPage:a2.isFixedOnPage,direction:u2,client:T2,page:_2,closest:A2})},"getDimension");const br={passive:!1},Sr={passive:!0};var getListenerOptions=__name(o2=>o2.shouldPublishImmediately?br:Sr,"getListenerOptions");const getClosestScrollableFromDrag=__name(o2=>o2&&o2.env.closestScrollable||null,"getClosestScrollableFromDrag");function useDroppablePublisher(o2){const i2=reactExports.useRef(null),a2=useRequiredContext(qn),s2=useUniqueId("droppable"),{registry:u2,marshal:O2}=a2,x2=usePrevious(o2),C2=$t(()=>({id:o2.droppableId,type:o2.type,mode:o2.mode}),[o2.droppableId,o2.mode,o2.type]),T2=reactExports.useRef(C2),_2=$t(()=>memoizeOne((o3,a3)=>{i2.current||invariant();const s3={x:o3,y:a3};O2.updateDroppableScroll(C2.id,s3)}),[C2.id,O2]),A2=Ft(()=>{const o3=i2.current;return o3&&o3.env.closestScrollable?getScroll(o3.env.closestScrollable):cn},[]),Q2=Ft(()=>{const o3=A2();_2(o3.x,o3.y)},[A2,_2]),N2=$t(()=>Jt(Q2),[Q2]),L2=Ft(()=>{const o3=i2.current,a3=getClosestScrollableFromDrag(o3);o3&&a3||invariant(),o3.scrollOptions.shouldPublishImmediately?Q2():N2()},[N2,Q2]),$2=Ft((o3,s3)=>{i2.current&&invariant();const u3=x2.current,O3=u3.getDroppableRef();O3||invariant();const w2=(o4=>({closestScrollable:getClosestScrollable(o4),isFixedOnPage:getIsFixed(o4)}))(O3),T3={ref:O3,descriptor:C2,env:w2,scrollOptions:s3};i2.current=T3;const _3=getDimension({ref:O3,descriptor:C2,env:w2,windowScroll:o3,direction:u3.direction,isDropDisabled:u3.isDropDisabled,isCombineEnabled:u3.isCombineEnabled,shouldClipSubject:!u3.ignoreContainerClipping}),A3=w2.closestScrollable;return A3&&(A3.setAttribute(jn.contextId,a2.contextId),A3.addEventListener("scroll",L2,getListenerOptions(T3.scrollOptions))),_3},[a2.contextId,C2,L2,x2]),F2=Ft(()=>{const o3=i2.current,a3=getClosestScrollableFromDrag(o3);return o3&&a3||invariant(),getScroll(a3)},[]),B2=Ft(()=>{const o3=i2.current;o3||invariant();const a3=getClosestScrollableFromDrag(o3);i2.current=null,a3&&(N2.cancel(),a3.removeAttribute(jn.contextId),a3.removeEventListener("scroll",L2,getListenerOptions(o3.scrollOptions)))},[L2,N2]),V2=Ft(o3=>{const a3=i2.current;a3||invariant();const s3=getClosestScrollableFromDrag(a3);s3||invariant(),s3.scrollTop+=o3.y,s3.scrollLeft+=o3.x},[]),z2=$t(()=>({getDimensionAndWatchScroll:$2,getScrollWhileDragging:F2,dragStopped:B2,scroll:V2}),[B2,$2,F2,V2]),j2=$t(()=>({uniqueId:s2,descriptor:C2,callbacks:z2}),[z2,C2,s2]);Wn(()=>(T2.current=j2.descriptor,u2.droppable.register(j2),()=>{i2.current&&B2(),u2.droppable.unregister(j2)}),[z2,C2,B2,j2,O2,u2.droppable]),Wn(()=>{i2.current&&O2.updateDroppableIsEnabled(T2.current.id,!o2.isDropDisabled)},[o2.isDropDisabled,O2]),Wn(()=>{i2.current&&O2.updateDroppableIsCombineEnabled(T2.current.id,o2.isCombineEnabled)},[o2.isCombineEnabled,O2])}__name(useDroppablePublisher,"useDroppablePublisher");function noop(){}__name(noop,"noop");const wr={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},getStyle=__name(({isAnimatingOpenOnMount:o2,placeholder:i2,animate:a2})=>{const s2=(({isAnimatingOpenOnMount:o3,placeholder:i3,animate:a3})=>o3||a3==="close"?wr:{height:i3.client.borderBox.height,width:i3.client.borderBox.width,margin:i3.client.margin})({isAnimatingOpenOnMount:o2,placeholder:i2,animate:a2});return{display:i2.display,boxSizing:"border-box",width:s2.width,height:s2.height,marginTop:s2.margin.top,marginRight:s2.margin.right,marginBottom:s2.margin.bottom,marginLeft:s2.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a2!=="none"?Tn.placeholder:null}},"getStyle");var xr=React.memo(o2=>{const i2=reactExports.useRef(null),a2=Ft(()=>{i2.current&&(clearTimeout(i2.current),i2.current=null)},[]),{animate:s2,onTransitionEnd:C2,onClose:T2,contextId:_2}=o2,[A2,Q2]=reactExports.useState(o2.animate==="open");reactExports.useEffect(()=>A2?s2!=="open"?(a2(),Q2(!1),noop):i2.current?noop:(i2.current=setTimeout(()=>{i2.current=null,Q2(!1)}),a2):noop,[s2,A2,a2]);const N2=Ft(o3=>{o3.propertyName==="height"&&(C2(),s2==="close"&&T2())},[s2,T2,C2]),L2=getStyle({isAnimatingOpenOnMount:A2,animate:o2.animate,placeholder:o2.placeholder});return React.createElement(o2.placeholder.tagName,{style:L2,"data-rfd-placeholder-context-id":_2,onTransitionEnd:N2,ref:o2.innerRef})});const _AnimateInOut=class _AnimateInOut extends React.PureComponent{constructor(...o2){super(...o2),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(o2,i2){return o2.shouldAnimate?o2.on?{isVisible:!0,data:o2.on,animate:"open"}:i2.isVisible?{isVisible:!0,data:i2.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!o2.on,data:o2.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const o2={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(o2)}};__name(_AnimateInOut,"AnimateInOut");let AnimateInOut=_AnimateInOut;const Er={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:__name(function(){return document.body||invariant(),document.body},"getBody")},attachDefaultPropsToOwnProps=__name(o2=>{let i2,a2={...o2};for(i2 in Er)o2[i2]===void 0&&(a2={...a2,[i2]:Er[i2]});return a2},"attachDefaultPropsToOwnProps"),isMatchingType=__name((o2,i2)=>o2===i2.droppable.type,"isMatchingType"),getDraggable=__name((o2,i2)=>i2.draggables[o2.draggable.id],"getDraggable"),Tr=Nt(()=>{const o2={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},i2={...o2,shouldAnimatePlaceholder:!1},a2=memoizeOne(o3=>({draggableId:o3.id,type:o3.type,source:{index:o3.index,droppableId:o3.droppableId}})),s2=memoizeOne((s3,u2,O2,w2,x2,C2)=>{const T2=x2.descriptor.id;if(x2.descriptor.droppableId===s3){const o3=C2?{render:C2,dragging:a2(x2.descriptor)}:null,i3={isDraggingOver:O2,draggingOverWith:O2?T2:null,draggingFromThisWith:T2,isUsingPlaceholder:!0};return{placeholder:x2.placeholder,shouldAnimatePlaceholder:!1,snapshot:i3,useClone:o3}}if(!u2)return i2;if(!w2)return o2;const _2={isDraggingOver:O2,draggingOverWith:T2,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:x2.placeholder,shouldAnimatePlaceholder:!0,snapshot:_2,useClone:null}});return(a3,u2)=>{const O2=attachDefaultPropsToOwnProps(u2),w2=O2.droppableId,x2=O2.type,C2=!O2.isDropDisabled,T2=O2.renderClone;if(isDragging(a3)){const o3=a3.critical;if(!isMatchingType(x2,o3))return i2;const u3=getDraggable(o3,a3.dimensions),O3=whatIsDraggedOver(a3.impact)===w2;return s2(w2,C2,O3,O3,u3,T2)}if(a3.phase==="DROP_ANIMATING"){const o3=a3.completed;if(!isMatchingType(x2,o3.critical))return i2;const u3=getDraggable(o3.critical,a3.dimensions);return s2(w2,C2,whatIsDraggedOverFromResult(o3.result)===w2,whatIsDraggedOver(o3.impact)===w2,u3,T2)}if(a3.phase==="IDLE"&&a3.completed&&!a3.shouldFlush){const s3=a3.completed;if(!isMatchingType(x2,s3.critical))return i2;const u3=whatIsDraggedOver(s3.impact)===w2,O3=!!(s3.impact.at&&s3.impact.at.type==="COMBINE"),C3=s3.critical.droppable.id===w2;return u3?O3?o2:i2:C3?o2:i2}return i2}},{updateViewportMaxScroll:__name(o2=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:o2}),"updateViewportMaxScroll")},(o2,i2,a2)=>({...attachDefaultPropsToOwnProps(a2),...o2,...i2}),{context:Hn,areStatePropsEqual:isStrictEqual})(o2=>{const i2=reactExports.useContext(qn);i2||invariant();const{contextId:a2,isMovementAllowed:s2}=i2,O2=reactExports.useRef(null),x2=reactExports.useRef(null),{children:T2,droppableId:_2,type:A2,mode:Q2,direction:N2,ignoreContainerClipping:L2,isDropDisabled:$2,isCombineEnabled:F2,snapshot:B2,useClone:V2,updateViewportMaxScroll:z2,getContainerForClone:j2}=o2,U2=Ft(()=>O2.current,[]),Z2=Ft((o3=null)=>{O2.current=o3},[]);Ft(()=>x2.current,[]);const Y2=Ft((o3=null)=>{x2.current=o3},[]),ee2=Ft(()=>{s2()&&z2({maxScroll:getMaxWindowScroll()})},[s2,z2]);useDroppablePublisher({droppableId:_2,type:A2,mode:Q2,direction:N2,isDropDisabled:$2,isCombineEnabled:F2,ignoreContainerClipping:L2,getDroppableRef:U2});const ie2=$t(()=>React.createElement(AnimateInOut,{on:o2.placeholder,shouldAnimate:o2.shouldAnimatePlaceholder},({onClose:o3,data:i3,animate:s3})=>React.createElement(xr,{placeholder:i3,onClose:o3,innerRef:Y2,animate:s3,contextId:a2,onTransitionEnd:ee2})),[a2,ee2,o2.placeholder,o2.shouldAnimatePlaceholder,Y2]),ae2=$t(()=>({innerRef:Z2,placeholder:ie2,droppableProps:{"data-rfd-droppable-id":_2,"data-rfd-droppable-context-id":a2}}),[a2,_2,ie2,Z2]),le2=V2?V2.dragging.draggableId:null,ce2=$t(()=>({droppableId:_2,type:A2,isUsingCloneFor:le2}),[_2,le2,A2]);return React.createElement(hr.Provider,{value:ce2},T2(ae2,B2),__name(function(){if(!V2)return null;const{dragging:o3,render:i3}=V2,a3=React.createElement(PrivateDraggable,{draggableId:o3.draggableId,index:o3.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(a4,s3)=>i3(a4,s3,o3));return _e.createPortal(a3,j2())},"getClone")())});var Rr=Tr;function SignalList$1(i2){var a2=i2.children,s2=i2.droppableProps,u2=i2.innerRef;return jsxRuntimeExports.jsx("div",__assign$1({style:{backgroundColor:"#1D2126",padding:"10px",borderRight:"1px solid #3A424B",width:"100%",boxSizing:"border-box",height:"100%",overflowY:"auto",userSelect:"none"}},s2,{ref:u2,children:a2}))}__name(SignalList$1,"SignalList$1");function SimpleCommittedTextInput(i2){var a2=i2.onCommit,s2=a2===void 0?function(o2){}:a2,O2=i2.isValid,w2=O2===void 0?function(o2){return!0}:O2,x2=i2.initialValue,C2=x2===void 0?"":x2,T2=i2.color,_2=T2===void 0?"var(--gray7)":T2,A2=i2.bgColor,Q2=A2===void 0?"var(--gray3)":A2,N2=i2.bgActive,L2=N2===void 0?"var(--gray4)":N2,$2=i2.bgInvalidInput,F2=$2===void 0?"var(--danger)":$2,B2=i2.invalidInputColor,V2=B2===void 0?"var(--gray2)":B2,z2=i2.charSize,j2=z2===void 0?void 0:z2,U2=i2.maxCharSize,Z2=U2===void 0?50:U2,X2=React.useState(!1),Y2=X2[0],ee2=X2[1],ie2=React.useState(!0),ae2=ie2[0],le2=ie2[1],generateId=__name(function(){return Math.random().toString(36).substring(7)},"generateId"),ce2=React.useState(generateId()),de2=ce2[0],fe2=ce2[1],pe2=React.useState(j2||(C2.length<=Z2?C2.length:Z2)),ye2=pe2[0],be2=pe2[1],reset=__name(function(){ee2(!1),le2(!0),fe2(generateId())},"reset");return jsxRuntimeExports.jsx("input",{type:"text",defaultValue:C2,size:ye2,style:{backgroundColor:Y2?ae2?L2:F2:Q2,color:ae2?_2:V2,border:"none",padding:"5px",paddingLeft:"10px",borderRadius:"var(--borderRadiusSmall)",minWidth:"100px",fontSize:"16px"},readOnly:!Y2,onFocus:__name(function(){return ee2(!0)},"onFocus"),onChange:__name(function(o2){le2(w2(o2.target.value)),j2||(o2.target.value.length<=Z2?be2(o2.target.value.length):be2(Z2))},"onChange"),onBlur:__name(function(o2){ae2?(reset(),s2(o2.target.value)):(o2.target.value=C2,reset())},"onBlur"),onKeyDown:__name(function(o2){o2.key==="Enter"&&(ae2?(reset(),s2(o2.target.value)):reset())},"onKeyDown")},de2)}__name(SimpleCommittedTextInput,"SimpleCommittedTextInput");function Icon$1(a2){var s2=a2.iconName,O2=s2===void 0?"home":s2,w2=a2.bgColor,x2=w2===void 0?"transparent":w2,C2=a2.hoverBgColor,T2=C2===void 0?"var(--gray3)":C2,_2=a2.color,A2=_2===void 0?"var(--gray6)":_2,Q2=a2.hoverColor,N2=Q2===void 0?"var(--gray7)":Q2,L2=a2.cursor,$2=L2===void 0?"pointer":L2,F2=a2.onClick,B2=F2===void 0?function(){}:F2,V2=React.useState(!1),z2=V2[0],j2=V2[1];return jsxRuntimeExports.jsx("div",{style:{userSelect:"none",width:"35px",height:"35px",margin:"5px",cursor:$2,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:z2?T2:x2,transition:"background-color 0.2s",fontSize:"20px",color:z2?N2:A2},className:"materialSymbols",onMouseOver:__name(function(){return j2(!0)},"onMouseOver"),onMouseOut:__name(function(){return j2(!1)},"onMouseOut"),onClick:B2,children:jsxRuntimeExports.jsxs("div",{children:[" ",O2]})})}__name(Icon$1,"Icon$1");function Button$1(a2){var s2=a2.text,O2=s2===void 0?void 0:s2,w2=a2.iconName,x2=w2===void 0?void 0:w2,C2=a2.bgColor,T2=C2===void 0?"var(--gray3)":C2,_2=a2.hoverBgColor,A2=_2===void 0?"var(--gray4)":_2,Q2=a2.color,N2=Q2===void 0?"var(--gray7)":Q2,L2=a2.hoverColor,$2=L2===void 0?"var(--gray8)":L2,F2=a2.cursor,B2=F2===void 0?"pointer":F2,V2=a2.onClick,z2=V2===void 0?function(){}:V2,j2=React.useState(!1),U2=j2[0],Z2=j2[1];return jsxRuntimeExports.jsxs("button",{onMouseOver:__name(function(){return Z2(!0)},"onMouseOver"),onMouseOut:__name(function(){return Z2(!1)},"onMouseOut"),onClick:z2,style:{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",padding:"0px",cursor:B2,height:"35px",margin:"5px",userSelect:"none",backgroundColor:U2?A2:T2,transition:"background-color 0.2s",fontSize:"var(--defaultFontSize)",color:U2?$2:N2,border:"none",borderRadius:"5px"},children:[O2?jsxRuntimeExports.jsx("div",{style:{marginTop:"2px",marginRight:x2?"2px":"15px",marginLeft:"15px"},children:O2}):null,x2?jsxRuntimeExports.jsx("div",{style:{marginRight:O2?"0px":"10px",marginLeft:O2?"0px":"10px"},children:jsxRuntimeExports.jsx(Icon$1,{iconName:x2,color:U2?$2:N2,hoverColor:U2?$2:N2,bgColor:"transparent",hoverBgColor:"transparent"})}):null]})}__name(Button$1,"Button$1");function Signal$2(a2){var s2=a2.signalId,O2=a2.project,w2=a2.projectTools,x2=a2.index,C2=a2.selection;a2.setSelection;var T2=React.useState(!1),_2=T2[0],A2=T2[1],Q2=React.useState(!1),N2=Q2[0],L2=Q2[1],$2=O2.orgData.signalNames[s2],F2=O2.orgData.activeSignalIds.includes(s2),B2=O2.signalData[s2].isStatic,V2=O2.signalData[s2].defaultValue,z2=O2.signalData[s2].type;return jsxRuntimeExports.jsx(PublicDraggable,{draggableId:s2,index:x2,children:__name(function(a3){return jsxRuntimeExports.jsxs("div",__assign$1({onMouseOver:__name(function(){return A2(!0)},"onMouseOver"),onMouseOut:__name(function(){return A2(!1)},"onMouseOut"),ref:a3.innerRef},a3.draggableProps,{style:__assign$1({width:"100%",borderRadius:"5px",color:"#C1BFAB",backgroundColor:"var(--gray2)",marginBottom:"10px",display:"grid",gridTemplateColumns:"auto auto auto  1fr auto  auto  auto",gridTemplateAreas:"'drag-handle signal-type signal-name   .  hidden toggle-active add_value'",border:C2.includes(s2)?"2px solid var(--gray5)":"2px solid transparent"},a3.draggableProps.style),children:[jsxRuntimeExports.jsx("div",__assign$1({style:{gridArea:"drag-handle"}},a3.dragHandleProps,{children:jsxRuntimeExports.jsx(Icon$1,{iconName:"drag_indicator",cursor:"grab"})})),jsxRuntimeExports.jsx("div",{style:{gridArea:"signal-type",display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold"},children:jsxRuntimeExports.jsx("div",{style:{backgroundColor:z2==="continuous"?"#4A5F9D75":"#91505075",width:"30px",height:"25px",fontSize:"12px",borderRadius:"var(--borderRadiusSmall)",display:"flex",justifyContent:"center",alignItems:"center",color:"var(--gray6)"},children:z2==="continuous"?"123":"Abc"})}),jsxRuntimeExports.jsxs("div",{style:{gridArea:"hidden",overflow:"hidden",display:_2?"grid":"none",gridTemplateColumns:"auto auto auto",gridTemplateAreas:"'duplicate delete selection-box'"},children:[jsxRuntimeExports.jsx("div",{style:{gridArea:"duplicate",display:_2?"block":"none"},children:jsxRuntimeExports.jsx(Icon$1,{iconName:"content_copy",onClick:__name(function(){return w2.duplicateSignal(s2)},"onClick")})}),jsxRuntimeExports.jsx("div",{style:{gridArea:"delete",display:_2?"block":"none"},onClick:__name(function(){return w2.deleteSignal(s2)},"onClick"),children:jsxRuntimeExports.jsx(Icon$1,{iconName:"delete",onClick:__name(function(){return w2.deleteSignal(s2)},"onClick")})})]}),jsxRuntimeExports.jsx("div",{style:{gridArea:"add_value",display:B2?"flex":"none",justifyContent:"center",alignItems:"center",marginRight:"15px",fontFamily:"monospace"},children:jsxRuntimeExports.jsx(SimpleCommittedTextInput,{initialValue:V2+"",charSize:5,isValid:__name(function(o2){if(z2==="discrete")return!0;if(isNaN(parseFloat(o2)))return!1;var i2=O2.signalData[s2].range,a4=parseFloat(o2);return a4>=i2[0]&&a4<=i2[1]},"isValid"),onCommit:__name(function(o2){z2==="discrete"&&w2.updateSignalDefaultValue(s2,o2),w2.updateSignalDefaultValue(s2,parseFloat(o2))},"onCommit")},Math.random().toString(36).substring(7))}),jsxRuntimeExports.jsx("div",{onMouseOver:__name(function(){return L2(!0)},"onMouseOver"),onMouseOut:__name(function(){return L2(!1)},"onMouseOut"),style:{display:"flex",alignItems:"center",gridArea:"signal-name",marginLeft:"10px"},children:jsxRuntimeExports.jsx(SimpleCommittedTextInput,{initialValue:$2,isValid:__name(function(o2){return o2.length>0},"isValid"),onCommit:__name(function(o2){return w2.updateSignalName(s2,o2)},"onCommit"),bgColor:N2?void 0:"transparent"})}),jsxRuntimeExports.jsx("div",{style:{gridArea:"toggle-active",display:B2?"none":"block"},children:jsxRuntimeExports.jsx(Icon$1,{iconName:F2?"visibility":"visibility_off",hoverBgColor:F2?"#50aaeb50":void 0,color:F2?"#50aaeb":void 0,hoverColor:F2?"white":void 0,onClick:__name(function(){return w2.updateSignalActiveStatus(s2,!F2)},"onClick")})})]}))},"children")})}__name(Signal$2,"Signal$2");function OrganisationAreaSignalListContent(a2){var s2=a2,u2=__spreadArray([],s2.project.orgData.signalIds,!0).filter(function(o2){var i2=s2.searchFilter;return s2.project.orgData.signalNames[o2].startsWith(i2)}),w2=s2.projectTools.updateSignalIndex,x2=reactExports.useState(!1),C2=x2[0],T2=x2[1],_2=reactExports.useState(null),A2=_2[0],Q2=_2[1],N2=reactExports.useState([]),L2=N2[0],$2=N2[1];u2.join(",")===L2.join(",")||C2||$2(u2);var handleChangeSignalIdOrder=__name(function(o2,i2,a3){var s3=__name(function(o3,i3,a4){var s4=Array.from(o3),u3=s4.splice(i3,1)[0];return s4.splice(a4,0,u3),__spreadArray([],s4,!0)},"reorder")(L2,o2,i2);w2(A2,s3.indexOf(A2),a3),a3&&$2(s3)},"handleChangeSignalIdOrder");return jsxRuntimeExports.jsx(DragDropContext,{onDragStart:__name(function(o2){Q2(o2.draggableId),T2(!0)},"onDragStart"),onDragEnd:__name(function(o2){T2(!1),o2.destination&&handleChangeSignalIdOrder(o2.source.index,o2.destination.index,!0)},"onDragEnd"),onDragUpdate:__name(function(o2){o2.destination&&handleChangeSignalIdOrder(o2.source.index,o2.destination.index,!1)},"onDragUpdate"),children:jsxRuntimeExports.jsx(Rr,{droppableId:"list",children:__name(function(a3){return jsxRuntimeExports.jsxs(SignalList$1,{innerRef:a3.innerRef,droppableProps:a3.droppableProps,children:[L2.map(function(i2,a4){return jsxRuntimeExports.jsx(Signal$2,{signalId:i2,index:a4,projectTools:s2.projectTools,project:s2.project,selection:s2.selection,setSelection:s2.setSelection},i2)}),a3.placeholder]})},"children")})})}__name(OrganisationAreaSignalListContent,"OrganisationAreaSignalListContent");function SearchBar(a2){var s2=a2.filter,u2=a2.setFilter;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",backgroundColor:"var(--gray2)",color:"var(--gray6)",gap:"10px",alignItems:"center"},children:[jsxRuntimeExports.jsx("span",{style:{marginLeft:"15px"},children:"filter:"}),jsxRuntimeExports.jsx(SimpleCommittedTextInput,{initialValue:s2,onCommit:u2})]})}__name(SearchBar,"SearchBar");function IdleBar(i2){return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsx(Button$1,{text:"create signal",iconName:"add",onClick:i2.openCreateSignalModal})})}__name(IdleBar,"IdleBar");function DeriveOrCreateSignalButton(i2){return jsxRuntimeExports.jsx("div",{style:{backgroundColor:"var(--gray2)",color:"var(--gray6)",display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"10px",height:"50px"},children:jsxRuntimeExports.jsx(IdleBar,{openCreateSignalModal:i2.openCreateSignalModal})})}__name(DeriveOrCreateSignalButton,"DeriveOrCreateSignalButton");function OrganisationAreaSignalList(a2){var s2=a2,u2=reactExports.useState(""),w2=u2[0],x2=u2[1],C2=reactExports.useState([]),T2=C2[0],_2=C2[1];return jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateRows:"40px 1fr auto",height:"100%",width:"100%",borderTop:"1px solid var(--gray5)",scrollbarColor:"var(--gray3) var(--gray1)"},children:[jsxRuntimeExports.jsx(SearchBar,{filter:w2,setFilter:x2}),jsxRuntimeExports.jsx(OrganisationAreaSignalListContent,__assign$1({},s2,{searchFilter:w2,selection:T2,setSelection:_2})),jsxRuntimeExports.jsx(DeriveOrCreateSignalButton,{project:s2.project,projectTools:s2.projectTools,openCreateSignalModal:s2.openCreateSignalModal,selection:T2,setSelection:_2})]})}__name(OrganisationAreaSignalList,"OrganisationAreaSignalList");var Dr,Ir=15,Mr=45,_r=45,Ar=15,Qr=50,Nr=500,Lr=10,$r=1,Fr=0,Br=9,Vr=19,zr=20,jr=21,Wr=29,Hr=function(o2){function Camera(){return o2!==null&&o2.apply(this,arguments)||this}return __name(Camera,"Camera"),__extends(Camera,o2),Object.defineProperty(Camera.prototype,"displayDimensions",{get:__name(function(){var o3=this.context.p.displayDimensions;return[o3.width,o3.height]},"get"),enumerable:!1,configurable:!0}),Camera.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(Camera.prototype,"canvasDimensions",{get:__name(function(){var o3=this.context.p.signalHeights,i2=Object.entries(o3).reduce(function(o4,i3){return i3[0],o4+i3[1]},0)+2*_r,a2=this.context.p.project.timelineData.numberOfFrames*Lr+2*Mr,s2=this.displayDimensions,u2=s2[0],O2=s2[1];return[Math.max(a2,u2),Math.max(i2,O2)]},"get"),enumerable:!1,configurable:!0}),Camera.prototype.translate=function(o3,i2){var a2=this.canvasDimensions,s2=a2[0],u2=a2[1],O2=__spreadArray([],o3.o,!0),w2=o3.w,x2=o3.h,C2=[O2=o$1(O2,i2),o$1(O2,[w2,0]),o$1(O2,[0,x2]),o$1(O2,[w2,x2])],T2=Math.min.apply(Math,C2.map(function(o4){return o4[0]})),_2=Math.max.apply(Math,C2.map(function(o4){return o4[0]})),A2=Math.min.apply(Math,C2.map(function(o4){return o4[1]})),Q2=Math.max.apply(Math,C2.map(function(o4){return o4[1]})),N2=[0,0];return T2<0?N2[0]=-T2:_2>s2&&(N2[0]=s2-_2),A2<0?N2[1]=-A2:Q2>u2&&(N2[1]=u2-Q2),__spreadArray([],O2,!0),O2=o$1(O2,N2),new h(O2,w2,x2)},Camera.prototype.withinBounds=function(o3,i2,a2,s2){return s2===void 0&&(s2=1e-10),o3>=i2-s2&&o3<=a2+s2},Camera.prototype.updateDimensions=function(o3,i2,a2){this.setState(__assign$1(__assign$1({},this.state),{cameraBox:new h(o3,i2,a2)})),this.checkBounds()},Camera.prototype.checkBounds=function(){var o3,i2,a2,s2=this.canvasDimensions,u2=s2[0],O2=s2[1];o3=this.state.cameraBox.o,i2=this.state.cameraBox.w,a2=this.state.cameraBox.h,o3[0]=Math.max(Math.min(o3[0],u2),0),o3[1]=Math.max(Math.min(o3[1],O2),0),i2=Math.max(Math.min(i2,u2-o3[0]),0),a2=Math.max(Math.min(a2,O2-o3[1]),0),this.setState(__assign$1(__assign$1({},this.state),{cameraBox:new h(o3,i2,a2)}))},Camera.prototype.onGlobalWindowChange=function(){},Camera.prototype.scale=function(o3,i2,a2){var s2,u2,O2,w2=this.canvasDimensions,x2=w2[0],C2=w2[1];if(i2[0]<=0||i2[1]<=0)throw new Error("Scale factor must be positive");s2=o3.o;var T2=x2/(u2=o3.w),_2=C2/(O2=o3.h),A2=u2*(i2=[Math.min(i2[0],T2),Math.min(i2[1],_2)])[0],Q2=O2*i2[1],N2=[a2[0]-s2[0],a2[1]-s2[1]],L2=N2[0],B2=N2[1],V2=[s2[0]+L2*i2[0],s2[1]+B2*i2[1]],z2=u$1(a2,V2);return u2=A2,O2=Q2,this.translate(new h(s2,u2,O2),z2)},Camera.prototype.getCenter=function(){return o$1(this.o,[this.w/2,this.h/2])},Camera.prototype.getBox=function(){return this.state.cameraBox},Camera}(p$1),Ur=function(o2){function InteractiveCamera(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.persistentDisplayDimensions=[0,0],i2.layer=zr,i2.scaleAnchor=[0,0],i2}return __name(InteractiveCamera,"InteractiveCamera"),__extends(InteractiveCamera,o2),InteractiveCamera.prototype.windowDidMount=function(){o2.prototype.windowDidMount.call(this),this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:new h([0,0],this.displayDimensions[0],this.displayDimensions[1])})},InteractiveCamera.prototype.windowDidUpdate=function(o3){},InteractiveCamera.prototype.onMouseDown=function(o3,i2){if(i2.button===1){var a2=o3.terminateEvent,s2=o3.canvasPos;this.setState(__assign$1(__assign$1({},this.state),{lastMousePosition:s2,isPanning:!0})),a2()}},InteractiveCamera.prototype.onMouseMove=function(o3,i2){var a2=o3.terminateEvent,s2=o3.canvasPos;o3.absolutePos;var u2=o3.canvasUnit,O2=u2[0],w2=u2[1],x2=__assign$1({},this.state);if(this.scaleAnchor=s2,this.state.isPanning){a2();var C2=u$1(s2,this.state.lastMousePosition),T2=C2[0],_2=C2[1],A2=this.translate(this.state.cameraBox.clone(),[-T2*O2,-_2*w2]);x2=__assign$1(__assign$1({},x2),{lastMousePosition:s2,cameraBox:A2}),this.setState(x2)}},InteractiveCamera.prototype.onMouseUp=function(o3,i2){this.setState(__assign$1(__assign$1({},this.state),{isPanning:!1}))},InteractiveCamera.prototype.onWheel=function(o3,i2){var a2=o3.terminateEvent,s2=o3.canvasToAbsoluteMeasure,u2=i2.deltaX,O2=i2.deltaY,w2=i2.ctrlKey,x2=i2.altKey;if(w2){var C2=1;if(C2=u2!==0?1-.01*u2:1+.01*O2,!x2){if(this.w*C2<5*Lr)return;var T2=this.scale(this.state.cameraBox.clone(),[Math.max(.1,C2),1],this.scaleAnchor);this.setState(__assign$1(__assign$1({},this.state),{cameraBox:T2}))}}else{var _2=s2([u2,O2]),A2=_2[0],Q2=_2[1];T2=this.translate(this.state.cameraBox.clone(),[A2,Q2]),this.setState(__assign$1(__assign$1({},this.state),{cameraBox:T2}))}a2()},InteractiveCamera.prototype.render=function(o3){},InteractiveCamera}(Hr),Zr=function(o2){function BaseSignalContentWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(BaseSignalContentWindow,"BaseSignalContentWindow"),__extends(BaseSignalContentWindow,o2),BaseSignalContentWindow.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0],a2=o3[1],s2=Ar/2*i2,u2=Ar/2*a2,O2=this.parentW-Ar*i2,w2=this.parentH-Ar*a2;return new h([s2,u2],O2,w2)},BaseSignalContentWindow}(p$1),qr=function(o2){function BaseSignalWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(BaseSignalWindow,"BaseSignalWindow"),__extends(BaseSignalWindow,o2),BaseSignalWindow.prototype.windowDidMount=function(o3){this.setContext("signalId",o3.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[o3.signalId])},BaseSignalWindow.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0],a2=o3[1],s2=this.context.p.signalStartHeights,u2=this.context.p.signalHeights,O2=s2[this.props.signalId],w2=Mr*i2,x2=_r*a2+O2,C2=this.context.p.project.timelineData.numberOfFrames*Lr,T2=u2[this.props.signalId]-Ir*a2;return new h([w2,x2],C2,T2)},BaseSignalWindow}(p$1),Xr=function(o2){function BasePin(){return o2!==null&&o2.apply(this,arguments)||this}return __name(BasePin,"BasePin"),__extends(BasePin,o2),BasePin.prototype.windowDidMount=function(o3){this.setContext("pinId",o3.pinId);var i2=this.pinCoords;i2.frame;var s2=i2.value,u2=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];s2=this.context.signalType==="continuous"?s2:.5,this.context.p.project.timelineData.numberOfFrames,u2[0],u2[1],u2[0],this.parentW,this.parentH},Object.defineProperty(BasePin.prototype,"pinCoords",{get:__name(function(){return{frame:this.context.p.project.signalData[this.context.signalId].pinTimes[this.props.pinId],value:this.context.p.project.orgData.signalTypes[this.context.signalId]==="continuous"?this.context.p.project.signalData[this.context.signalId].pinValues[this.props.pinId]:void 0}},"get"),enumerable:!1,configurable:!0}),BasePin.prototype.getBox=function(){var o3=this.pinCoords,i2=o3.frame,a2=o3.value,s2=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];a2=this.context.signalType==="continuous"?a2:.5;var u2=i2/this.context.p.project.timelineData.numberOfFrames,O2=(a2-s2[0])/(s2[1]-s2[0]),w2=u2*this.parentW,x2=(1-O2)*this.parentH;return new h([w2,x2],0,0)},BasePin}(p$1),Gr=function(o2){function BasePinBox(){return o2!==null&&o2.apply(this,arguments)||this}return __name(BasePinBox,"BasePinBox"),__extends(BasePinBox,o2),BasePinBox.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0],a2=o3[1];return new h([-7.5*i2,-7.5*a2],Ar*i2,Ar*a2)},BasePinBox}(p$1),Yr=function(o2){function PermanentPinWindowBox(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Br,i2}return __name(PermanentPinWindowBox,"PermanentPinWindowBox"),__extends(PermanentPinWindowBox,o2),PermanentPinWindowBox.prototype.onMouseMove=function(o3){o3.pointInside&&this.context.setCursor("pointer")},PermanentPinWindowBox.prototype.render=function(o3){var i2,a2,s2=this.context.pointerModeMachineState,u2=s2.selectedPinIds;u2===void 0&&(u2=[]);var O2=s2.type==="start_no_pins_selected"||s2.type==="change_signal_height",w2=u2.includes(this.context.pinId)||O2?"yellow":"rgb(200,200,0",x2=this.w,C2=this.h,T2=[[x2/2,0],[x2,C2/2],[x2/2,C2],[0,C2/2]];o3.ctx.beginPath(),(i2=o3.ctx).moveTo.apply(i2,o3.localToCanvas(T2[0]));for(var _2=1;_2<T2.length;_2++)(a2=o3.ctx).lineTo.apply(a2,o3.localToCanvas(T2[_2]));o3.ctx.closePath(),o3.ctx.fillStyle=w2,o3.ctx.fill()},PermanentPinWindowBox}(Gr),Kr=function(o2){function PermanentPinWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PermanentPinWindow,"PermanentPinWindow"),__extends(PermanentPinWindow,o2),PermanentPinWindow.prototype.getChildren=function(){return[Yr.Node()]},PermanentPinWindow}(Xr),Jr=function(o2){function BaseSegment(){return o2!==null&&o2.apply(this,arguments)||this}return __name(BaseSegment,"BaseSegment"),__extends(BaseSegment,o2),BaseSegment.prototype.windowDidMount=function(o3){this.setContext("pinId",o3.pinId)},BaseSegment.prototype.calculateSegmentAttributes=function(){var o3=__assign$1({},this.context.p.project.signalData[this.context.signalId].pinTimes);o3.__start__=-1;var i2=Object.keys(o3).sort(function(i3,a3){return o3[i3]-o3[a3]}),a2=i2.indexOf(this.props.pinId),s2=i2[a2-1];return o3[s2]=Math.max(0,o3[s2]),o3[this.props.pinId],o3[s2],{startFrame:o3[s2],endFrame:o3[this.props.pinId]}},BaseSegment.prototype.getBox=function(){var o3=this.calculateSegmentAttributes(),i2=o3.startFrame,a2=o3.endFrame,s2=this.context.p.project.timelineData.numberOfFrames,u2=i2/s2,O2=a2/s2,w2=u2*this.parentW,x2=(O2-u2)*this.parentW,C2=this.parentH;return new h([w2,0],x2,C2)},BaseSegment}(p$1),eo={exports:{}},to=eo.exports,no=__name(function(){return Dr||(Dr=1,o2=eo,i2=eo.exports,(function(){var a2,s2="Expected a function",u2="__lodash_hash_undefined__",O2="__lodash_placeholder__",w2=32,x2=128,C2=256,T2=1/0,_2=9007199254740991,A2=NaN,Q2=4294967295,N2=[["ary",x2],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",w2],["partialRight",64],["rearg",C2]],L2="[object Arguments]",$2="[object Array]",F2="[object Boolean]",B2="[object Date]",V2="[object Error]",z2="[object Function]",j2="[object GeneratorFunction]",U2="[object Map]",Z2="[object Number]",X2="[object Object]",Y2="[object Promise]",ee2="[object RegExp]",ie2="[object Set]",le2="[object String]",ce2="[object Symbol]",de2="[object WeakMap]",fe2="[object ArrayBuffer]",pe2="[object DataView]",ye2="[object Float32Array]",be2="[object Float64Array]",Se2="[object Int8Array]",we2="[object Int16Array]",xe2="[object Int32Array]",Pe2="[object Uint8Array]",Te2="[object Uint8ClampedArray]",Re2="[object Uint16Array]",_e2="[object Uint32Array]",Qe2=/\b__p \+= '';/g,$e2=/\b(__p \+=) '' \+/g,ze2=/(__e\(.*?\)|\b__t\)) \+\n'';/g,We2=/&(?:amp|lt|gt|quot|#39);/g,He2=/[&<>"']/g,qe2=RegExp(We2.source),Xe2=RegExp(He2.source),Ye2=/<%-([\s\S]+?)%>/g,et2=/<%([\s\S]+?)%>/g,tt2=/<%=([\s\S]+?)%>/g,nt2=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt2=/^\w*$/,ot2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it2=/[\\^$.*+?()[\]{}|]/g,at2=RegExp(it2.source),st2=/^\s+/,lt2=/\s/,ct2=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut2=/\{\n\/\* \[wrapped with (.+)\] \*/,dt2=/,? & /,ft2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pt2=/[()=,{}\[\]\/\s]/,ht2=/\\(\\)?/g,gt2=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,mt2=/\w*$/,vt2=/^[-+]0x[0-9a-f]+$/i,yt2=/^0b[01]+$/i,Ot2=/^\[object .+?Constructor\]$/,bt2=/^0o[0-7]+$/i,St2=/^(?:0|[1-9]\d*)$/,wt2=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt2=/($^)/,kt2=/['\n\r\u2028\u2029\\]/g,Ct2="\\ud800-\\udfff",Pt2="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Et2="\\u2700-\\u27bf",Tt2="a-z\\xdf-\\xf6\\xf8-\\xff",Rt2="A-Z\\xc0-\\xd6\\xd8-\\xde",Dt2="\\ufe0e\\ufe0f",It2="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mt2="['’]",_t2="["+Ct2+"]",At2="["+It2+"]",Qt2="["+Pt2+"]",Nt2="\\d+",Lt2="["+Et2+"]",$t2="["+Tt2+"]",Ft2="[^"+Ct2+It2+Nt2+Et2+Tt2+Rt2+"]",Bt2="\\ud83c[\\udffb-\\udfff]",Vt2="[^"+Ct2+"]",zt2="(?:\\ud83c[\\udde6-\\uddff]){2}",jt2="[\\ud800-\\udbff][\\udc00-\\udfff]",Wt2="["+Rt2+"]",Ht2="\\u200d",Ut2="(?:"+$t2+"|"+Ft2+")",Zt2="(?:"+Wt2+"|"+Ft2+")",qt2="(?:['’](?:d|ll|m|re|s|t|ve))?",Xt2="(?:['’](?:D|LL|M|RE|S|T|VE))?",Gt2="(?:"+Qt2+"|"+Bt2+")?",Yt2="["+Dt2+"]?",Kt2=Yt2+Gt2+"(?:"+Ht2+"(?:"+[Vt2,zt2,jt2].join("|")+")"+Yt2+Gt2+")*",Jt2="(?:"+[Lt2,zt2,jt2].join("|")+")"+Kt2,en2="(?:"+[Vt2+Qt2+"?",Qt2,zt2,jt2,_t2].join("|")+")",tn2=RegExp(Mt2,"g"),nn2=RegExp(Qt2,"g"),rn2=RegExp(Bt2+"(?="+Bt2+")|"+en2+Kt2,"g"),on2=RegExp([Wt2+"?"+$t2+"+"+qt2+"(?="+[At2,Wt2,"$"].join("|")+")",Zt2+"+"+Xt2+"(?="+[At2,Wt2+Ut2,"$"].join("|")+")",Wt2+"?"+Ut2+"+"+qt2,Wt2+"+"+Xt2,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nt2,Jt2].join("|"),"g"),an2=RegExp("["+Ht2+Ct2+Pt2+Dt2+"]"),sn2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ln2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],cn2=-1,un2={};un2[ye2]=un2[be2]=un2[Se2]=un2[we2]=un2[xe2]=un2[Pe2]=un2[Te2]=un2[Re2]=un2[_e2]=!0,un2[L2]=un2[$2]=un2[fe2]=un2[F2]=un2[pe2]=un2[B2]=un2[V2]=un2[z2]=un2[U2]=un2[Z2]=un2[X2]=un2[ee2]=un2[ie2]=un2[le2]=un2[de2]=!1;var dn2={};dn2[L2]=dn2[$2]=dn2[fe2]=dn2[pe2]=dn2[F2]=dn2[B2]=dn2[ye2]=dn2[be2]=dn2[Se2]=dn2[we2]=dn2[xe2]=dn2[U2]=dn2[Z2]=dn2[X2]=dn2[ee2]=dn2[ie2]=dn2[le2]=dn2[ce2]=dn2[Pe2]=dn2[Te2]=dn2[Re2]=dn2[_e2]=!0,dn2[V2]=dn2[z2]=dn2[de2]=!1;var fn2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pn2=parseFloat,hn2=parseInt,gn2=typeof ae=="object"&&ae&&ae.Object===Object&&ae,mn2=typeof self=="object"&&self&&self.Object===Object&&self,vn2=gn2||mn2||Function("return this")(),yn2=i2&&!i2.nodeType&&i2,On2=yn2&&o2&&!o2.nodeType&&o2,bn2=On2&&On2.exports===yn2,Sn2=bn2&&gn2.process,wn2=function(){try{var o3=On2&&On2.require&&On2.require("util").types;return o3||Sn2&&Sn2.binding&&Sn2.binding("util")}catch{}}(),xn2=wn2&&wn2.isArrayBuffer,kn2=wn2&&wn2.isDate,Cn2=wn2&&wn2.isMap,Pn2=wn2&&wn2.isRegExp,En2=wn2&&wn2.isSet,Tn2=wn2&&wn2.isTypedArray;function apply2(o3,i3,a3){switch(a3.length){case 0:return o3.call(i3);case 1:return o3.call(i3,a3[0]);case 2:return o3.call(i3,a3[0],a3[1]);case 3:return o3.call(i3,a3[0],a3[1],a3[2])}return o3.apply(i3,a3)}__name(apply2,"apply2");function arrayAggregator(o3,i3,a3,s3){for(var u3=-1,O3=o3==null?0:o3.length;++u3<O3;){var w3=o3[u3];i3(s3,w3,a3(w3),o3)}return s3}__name(arrayAggregator,"arrayAggregator");function arrayEach(o3,i3){for(var a3=-1,s3=o3==null?0:o3.length;++a3<s3&&i3(o3[a3],a3,o3)!==!1;);return o3}__name(arrayEach,"arrayEach");function arrayEachRight(o3,i3){for(var a3=o3==null?0:o3.length;a3--&&i3(o3[a3],a3,o3)!==!1;);return o3}__name(arrayEachRight,"arrayEachRight");function arrayEvery(o3,i3){for(var a3=-1,s3=o3==null?0:o3.length;++a3<s3;)if(!i3(o3[a3],a3,o3))return!1;return!0}__name(arrayEvery,"arrayEvery");function arrayFilter(o3,i3){for(var a3=-1,s3=o3==null?0:o3.length,u3=0,O3=[];++a3<s3;){var w3=o3[a3];i3(w3,a3,o3)&&(O3[u3++]=w3)}return O3}__name(arrayFilter,"arrayFilter");function arrayIncludes(o3,i3){return!(o3==null||!o3.length)&&baseIndexOf(o3,i3,0)>-1}__name(arrayIncludes,"arrayIncludes");function arrayIncludesWith(o3,i3,a3){for(var s3=-1,u3=o3==null?0:o3.length;++s3<u3;)if(a3(i3,o3[s3]))return!0;return!1}__name(arrayIncludesWith,"arrayIncludesWith");function arrayMap(o3,i3){for(var a3=-1,s3=o3==null?0:o3.length,u3=Array(s3);++a3<s3;)u3[a3]=i3(o3[a3],a3,o3);return u3}__name(arrayMap,"arrayMap");function arrayPush(o3,i3){for(var a3=-1,s3=i3.length,u3=o3.length;++a3<s3;)o3[u3+a3]=i3[a3];return o3}__name(arrayPush,"arrayPush");function arrayReduce(o3,i3,a3,s3){var u3=-1,O3=o3==null?0:o3.length;for(s3&&O3&&(a3=o3[++u3]);++u3<O3;)a3=i3(a3,o3[u3],u3,o3);return a3}__name(arrayReduce,"arrayReduce");function arrayReduceRight(o3,i3,a3,s3){var u3=o3==null?0:o3.length;for(s3&&u3&&(a3=o3[--u3]);u3--;)a3=i3(a3,o3[u3],u3,o3);return a3}__name(arrayReduceRight,"arrayReduceRight");function arraySome(o3,i3){for(var a3=-1,s3=o3==null?0:o3.length;++a3<s3;)if(i3(o3[a3],a3,o3))return!0;return!1}__name(arraySome,"arraySome");var Rn2=baseProperty("length");function baseFindKey(o3,i3,a3){var s3;return a3(o3,function(o4,a4,u3){if(i3(o4,a4,u3))return s3=a4,!1}),s3}__name(baseFindKey,"baseFindKey");function baseFindIndex(o3,i3,a3,s3){for(var u3=o3.length,O3=a3+(s3?1:-1);s3?O3--:++O3<u3;)if(i3(o3[O3],O3,o3))return O3;return-1}__name(baseFindIndex,"baseFindIndex");function baseIndexOf(o3,i3,a3){return i3==i3?__name(function(o4,i4,a4){for(var s3=a4-1,u3=o4.length;++s3<u3;)if(o4[s3]===i4)return s3;return-1},"strictIndexOf")(o3,i3,a3):baseFindIndex(o3,baseIsNaN,a3)}__name(baseIndexOf,"baseIndexOf");function baseIndexOfWith(o3,i3,a3,s3){for(var u3=a3-1,O3=o3.length;++u3<O3;)if(s3(o3[u3],i3))return u3;return-1}__name(baseIndexOfWith,"baseIndexOfWith");function baseIsNaN(o3){return o3!=o3}__name(baseIsNaN,"baseIsNaN");function baseMean(o3,i3){var a3=o3==null?0:o3.length;return a3?baseSum(o3,i3)/a3:A2}__name(baseMean,"baseMean");function baseProperty(o3){return function(i3){return i3==null?a2:i3[o3]}}__name(baseProperty,"baseProperty");function basePropertyOf(o3){return function(i3){return o3==null?a2:o3[i3]}}__name(basePropertyOf,"basePropertyOf");function baseReduce(o3,i3,a3,s3,u3){return u3(o3,function(o4,u4,O3){a3=s3?(s3=!1,o4):i3(a3,o4,u4,O3)}),a3}__name(baseReduce,"baseReduce");function baseSum(o3,i3){for(var s3,u3=-1,O3=o3.length;++u3<O3;){var w3=i3(o3[u3]);w3!==a2&&(s3=s3===a2?w3:s3+w3)}return s3}__name(baseSum,"baseSum");function baseTimes(o3,i3){for(var a3=-1,s3=Array(o3);++a3<o3;)s3[a3]=i3(a3);return s3}__name(baseTimes,"baseTimes");function baseTrim(o3){return o3&&o3.slice(0,trimmedEndIndex(o3)+1).replace(st2,"")}__name(baseTrim,"baseTrim");function baseUnary(o3){return function(i3){return o3(i3)}}__name(baseUnary,"baseUnary");function baseValues(o3,i3){return arrayMap(i3,function(i4){return o3[i4]})}__name(baseValues,"baseValues");function cacheHas(o3,i3){return o3.has(i3)}__name(cacheHas,"cacheHas");function charsStartIndex(o3,i3){for(var a3=-1,s3=o3.length;++a3<s3&&baseIndexOf(i3,o3[a3],0)>-1;);return a3}__name(charsStartIndex,"charsStartIndex");function charsEndIndex(o3,i3){for(var a3=o3.length;a3--&&baseIndexOf(i3,o3[a3],0)>-1;);return a3}__name(charsEndIndex,"charsEndIndex");var Dn2=basePropertyOf({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),In2=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(o3){return"\\"+fn2[o3]}__name(escapeStringChar,"escapeStringChar");function hasUnicode(o3){return an2.test(o3)}__name(hasUnicode,"hasUnicode");function mapToArray(o3){var i3=-1,a3=Array(o3.size);return o3.forEach(function(o4,s3){a3[++i3]=[s3,o4]}),a3}__name(mapToArray,"mapToArray");function overArg(o3,i3){return function(a3){return o3(i3(a3))}}__name(overArg,"overArg");function replaceHolders(o3,i3){for(var a3=-1,s3=o3.length,u3=0,w3=[];++a3<s3;){var x3=o3[a3];x3!==i3&&x3!==O2||(o3[a3]=O2,w3[u3++]=a3)}return w3}__name(replaceHolders,"replaceHolders");function setToArray(o3){var i3=-1,a3=Array(o3.size);return o3.forEach(function(o4){a3[++i3]=o4}),a3}__name(setToArray,"setToArray");function setToPairs(o3){var i3=-1,a3=Array(o3.size);return o3.forEach(function(o4){a3[++i3]=[o4,o4]}),a3}__name(setToPairs,"setToPairs");function stringSize(o3){return hasUnicode(o3)?__name(function(o4){for(var i3=rn2.lastIndex=0;rn2.test(o4);)++i3;return i3},"unicodeSize")(o3):Rn2(o3)}__name(stringSize,"stringSize");function stringToArray(o3){return hasUnicode(o3)?__name(function(o4){return o4.match(rn2)||[]},"unicodeToArray")(o3):__name(function(o4){return o4.split("")},"asciiToArray")(o3)}__name(stringToArray,"stringToArray");function trimmedEndIndex(o3){for(var i3=o3.length;i3--&&lt2.test(o3.charAt(i3)););return i3}__name(trimmedEndIndex,"trimmedEndIndex");var Mn2=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_n2=__name(function runInContext(o3){var i3,ae2=(o3=o3==null?vn2:_n2.defaults(vn2.Object(),o3,_n2.pick(vn2,ln2))).Array,lt3=o3.Date,Ct3=o3.Error,Pt3=o3.Function,Et3=o3.Math,Tt3=o3.Object,Rt3=o3.RegExp,Dt3=o3.String,It3=o3.TypeError,Mt3=ae2.prototype,_t3=Pt3.prototype,At3=Tt3.prototype,Qt3=o3["__core-js_shared__"],Nt3=_t3.toString,Lt3=At3.hasOwnProperty,$t3=0,Ft3=(i3=/[^.]+$/.exec(Qt3&&Qt3.keys&&Qt3.keys.IE_PROTO||""))?"Symbol(src)_1."+i3:"",Bt3=At3.toString,Vt3=Nt3.call(Tt3),zt3=vn2._,jt3=Rt3("^"+Nt3.call(Lt3).replace(it2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt3=bn2?o3.Buffer:a2,Ht3=o3.Symbol,Ut3=o3.Uint8Array,Zt3=Wt3?Wt3.allocUnsafe:a2,qt3=overArg(Tt3.getPrototypeOf,Tt3),Xt3=Tt3.create,Gt3=At3.propertyIsEnumerable,Yt3=Mt3.splice,Kt3=Ht3?Ht3.isConcatSpreadable:a2,Jt3=Ht3?Ht3.iterator:a2,en3=Ht3?Ht3.toStringTag:a2,rn3=function(){try{var o4=getNative(Tt3,"defineProperty");return o4({},"",{}),o4}catch{}}(),an3=o3.clearTimeout!==vn2.clearTimeout&&o3.clearTimeout,fn3=lt3&&lt3.now!==vn2.Date.now&&lt3.now,gn3=o3.setTimeout!==vn2.setTimeout&&o3.setTimeout,mn3=Et3.ceil,yn3=Et3.floor,On3=Tt3.getOwnPropertySymbols,Sn3=Wt3?Wt3.isBuffer:a2,wn3=o3.isFinite,Rn3=Mt3.join,An2=overArg(Tt3.keys,Tt3),Qn2=Et3.max,Nn2=Et3.min,Ln2=lt3.now,$n2=o3.parseInt,Fn2=Et3.random,Bn2=Mt3.reverse,Vn2=getNative(o3,"DataView"),zn2=getNative(o3,"Map"),jn2=getNative(o3,"Promise"),Wn2=getNative(o3,"Set"),Hn2=getNative(o3,"WeakMap"),Un2=getNative(Tt3,"create"),Zn2=Hn2&&new Hn2,qn2={},Xn2=toSource(Vn2),Gn2=toSource(zn2),Yn2=toSource(jn2),Kn2=toSource(Wn2),Jn2=toSource(Hn2),er2=Ht3?Ht3.prototype:a2,tr2=er2?er2.valueOf:a2,nr2=er2?er2.toString:a2;function lodash(o4){if(isObjectLike(o4)&&!ao2(o4)&&!(o4 instanceof LazyWrapper)){if(o4 instanceof LodashWrapper)return o4;if(Lt3.call(o4,"__wrapped__"))return wrapperClone(o4)}return new LodashWrapper(o4)}__name(lodash,"lodash");var rr2=function(){function object(){}return __name(object,"object"),function(o4){if(!isObject(o4))return{};if(Xt3)return Xt3(o4);object.prototype=o4;var i4=new object;return object.prototype=a2,i4}}();function baseLodash(){}__name(baseLodash,"baseLodash");function LodashWrapper(o4,i4){this.__wrapped__=o4,this.__actions__=[],this.__chain__=!!i4,this.__index__=0,this.__values__=a2}__name(LodashWrapper,"LodashWrapper");function LazyWrapper(o4){this.__wrapped__=o4,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q2,this.__views__=[]}__name(LazyWrapper,"LazyWrapper");function Hash(o4){var i4=-1,a3=o4==null?0:o4.length;for(this.clear();++i4<a3;){var s3=o4[i4];this.set(s3[0],s3[1])}}__name(Hash,"Hash");function ListCache(o4){var i4=-1,a3=o4==null?0:o4.length;for(this.clear();++i4<a3;){var s3=o4[i4];this.set(s3[0],s3[1])}}__name(ListCache,"ListCache");function MapCache(o4){var i4=-1,a3=o4==null?0:o4.length;for(this.clear();++i4<a3;){var s3=o4[i4];this.set(s3[0],s3[1])}}__name(MapCache,"MapCache");function SetCache(o4){var i4=-1,a3=o4==null?0:o4.length;for(this.__data__=new MapCache;++i4<a3;)this.add(o4[i4])}__name(SetCache,"SetCache");function Stack2(o4){var i4=this.__data__=new ListCache(o4);this.size=i4.size}__name(Stack2,"Stack2");function arrayLikeKeys(o4,i4){var a3=ao2(o4),s3=!a3&&io2(o4),u3=!a3&&!s3&&lo2(o4),O3=!a3&&!s3&&!u3&&ho2(o4),w3=a3||s3||u3||O3,x3=w3?baseTimes(o4.length,Dt3):[],C3=x3.length;for(var T3 in o4)!i4&&!Lt3.call(o4,T3)||w3&&(T3=="length"||u3&&(T3=="offset"||T3=="parent")||O3&&(T3=="buffer"||T3=="byteLength"||T3=="byteOffset")||isIndex(T3,C3))||x3.push(T3);return x3}__name(arrayLikeKeys,"arrayLikeKeys");function arraySample(o4){var i4=o4.length;return i4?o4[baseRandom(0,i4-1)]:a2}__name(arraySample,"arraySample");function arraySampleSize(o4,i4){return shuffleSelf(copyArray(o4),baseClamp(i4,0,o4.length))}__name(arraySampleSize,"arraySampleSize");function arrayShuffle(o4){return shuffleSelf(copyArray(o4))}__name(arrayShuffle,"arrayShuffle");function assignMergeValue(o4,i4,s3){(s3!==a2&&!eq(o4[i4],s3)||s3===a2&&!(i4 in o4))&&baseAssignValue(o4,i4,s3)}__name(assignMergeValue,"assignMergeValue");function assignValue(o4,i4,s3){var u3=o4[i4];Lt3.call(o4,i4)&&eq(u3,s3)&&(s3!==a2||i4 in o4)||baseAssignValue(o4,i4,s3)}__name(assignValue,"assignValue");function assocIndexOf(o4,i4){for(var a3=o4.length;a3--;)if(eq(o4[a3][0],i4))return a3;return-1}__name(assocIndexOf,"assocIndexOf");function baseAggregator(o4,i4,a3,s3){return or2(o4,function(o5,u3,O3){i4(s3,o5,a3(o5),O3)}),s3}__name(baseAggregator,"baseAggregator");function baseAssign(o4,i4){return o4&&copyObject(i4,keys(i4),o4)}__name(baseAssign,"baseAssign");function baseAssignValue(o4,i4,a3){i4=="__proto__"&&rn3?rn3(o4,i4,{configurable:!0,enumerable:!0,value:a3,writable:!0}):o4[i4]=a3}__name(baseAssignValue,"baseAssignValue");function baseAt(o4,i4){for(var s3=-1,u3=i4.length,O3=ae2(u3),w3=o4==null;++s3<u3;)O3[s3]=w3?a2:get(o4,i4[s3]);return O3}__name(baseAt,"baseAt");function baseClamp(o4,i4,s3){return o4==o4&&(s3!==a2&&(o4=o4<=s3?o4:s3),i4!==a2&&(o4=o4>=i4?o4:i4)),o4}__name(baseClamp,"baseClamp");function baseClone(o4,i4,s3,u3,O3,w3){var x3,C3=1&i4,T3=2&i4,_3=4&i4;if(s3&&(x3=O3?s3(o4,u3,O3,w3):s3(o4)),x3!==a2)return x3;if(!isObject(o4))return o4;var A3=ao2(o4);if(A3){if(x3=__name(function(o5){var i5=o5.length,a3=new o5.constructor(i5);return i5&&typeof o5[0]=="string"&&Lt3.call(o5,"index")&&(a3.index=o5.index,a3.input=o5.input),a3},"initCloneArray")(o4),!C3)return copyArray(o4,x3)}else{var Q3=mr2(o4),N3=Q3==z2||Q3==j2;if(lo2(o4))return cloneBuffer(o4,C3);if(Q3==X2||Q3==L2||N3&&!O3){if(x3=T3||N3?{}:initCloneObject(o4),!C3)return T3?__name(function(o5,i5){return copyObject(o5,gr2(o5),i5)},"copySymbolsIn")(o4,__name(function(o5,i5){return o5&&copyObject(i5,keysIn(i5),o5)},"baseAssignIn")(x3,o4)):__name(function(o5,i5){return copyObject(o5,hr2(o5),i5)},"copySymbols")(o4,baseAssign(x3,o4))}else{if(!dn2[Q3])return O3?o4:{};x3=__name(function(o5,i5,a3){var s4=o5.constructor;switch(i5){case fe2:return cloneArrayBuffer(o5);case F2:case B2:return new s4(+o5);case pe2:return __name(function(o6,i6){var a4=i6?cloneArrayBuffer(o6.buffer):o6.buffer;return new o6.constructor(a4,o6.byteOffset,o6.byteLength)},"cloneDataView")(o5,a3);case ye2:case be2:case Se2:case we2:case xe2:case Pe2:case Te2:case Re2:case _e2:return cloneTypedArray(o5,a3);case U2:return new s4;case Z2:case le2:return new s4(o5);case ee2:return __name(function(o6){var i6=new o6.constructor(o6.source,mt2.exec(o6));return i6.lastIndex=o6.lastIndex,i6},"cloneRegExp")(o5);case ie2:return new s4;case ce2:return __name(function(o6){return tr2?Tt3(tr2.call(o6)):{}},"cloneSymbol")(o5)}},"initCloneByTag")(o4,Q3,C3)}}w3||(w3=new Stack2);var $3=w3.get(o4);if($3)return $3;w3.set(o4,x3),po2(o4)?o4.forEach(function(a3){x3.add(baseClone(a3,i4,s3,a3,o4,w3))}):uo2(o4)&&o4.forEach(function(a3,u4){x3.set(u4,baseClone(a3,i4,s3,u4,o4,w3))});var V3=A3?a2:(_3?T3?getAllKeysIn:getAllKeys:T3?keysIn:keys)(o4);return arrayEach(V3||o4,function(a3,u4){V3&&(a3=o4[u4=a3]),assignValue(x3,u4,baseClone(a3,i4,s3,u4,o4,w3))}),x3}__name(baseClone,"baseClone");function baseConformsTo(o4,i4,s3){var u3=s3.length;if(o4==null)return!u3;for(o4=Tt3(o4);u3--;){var O3=s3[u3],w3=i4[O3],x3=o4[O3];if(x3===a2&&!(O3 in o4)||!w3(x3))return!1}return!0}__name(baseConformsTo,"baseConformsTo");function baseDelay(o4,i4,u3){if(typeof o4!="function")throw new It3(s2);return Or2(function(){o4.apply(a2,u3)},i4)}__name(baseDelay,"baseDelay");function baseDifference(o4,i4,a3,s3){var u3=-1,O3=arrayIncludes,w3=!0,x3=o4.length,C3=[],T3=i4.length;if(!x3)return C3;a3&&(i4=arrayMap(i4,baseUnary(a3))),s3?(O3=arrayIncludesWith,w3=!1):i4.length>=200&&(O3=cacheHas,w3=!1,i4=new SetCache(i4));e:for(;++u3<x3;){var _3=o4[u3],A3=a3==null?_3:a3(_3);if(_3=s3||_3!==0?_3:0,w3&&A3==A3){for(var Q3=T3;Q3--;)if(i4[Q3]===A3)continue e;C3.push(_3)}else O3(i4,A3,s3)||C3.push(_3)}return C3}__name(baseDifference,"baseDifference"),lodash.templateSettings={escape:Ye2,evaluate:et2,interpolate:tt2,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=rr2(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=rr2(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=__name(function(){this.__data__=Un2?Un2(null):{},this.size=0},"hashClear"),Hash.prototype.delete=__name(function(o4){var i4=this.has(o4)&&delete this.__data__[o4];return this.size-=i4?1:0,i4},"hashDelete"),Hash.prototype.get=__name(function(o4){var i4=this.__data__;if(Un2){var s3=i4[o4];return s3===u2?a2:s3}return Lt3.call(i4,o4)?i4[o4]:a2},"hashGet"),Hash.prototype.has=__name(function(o4){var i4=this.__data__;return Un2?i4[o4]!==a2:Lt3.call(i4,o4)},"hashHas"),Hash.prototype.set=__name(function(o4,i4){var s3=this.__data__;return this.size+=this.has(o4)?0:1,s3[o4]=Un2&&i4===a2?u2:i4,this},"hashSet"),ListCache.prototype.clear=__name(function(){this.__data__=[],this.size=0},"listCacheClear"),ListCache.prototype.delete=__name(function(o4){var i4=this.__data__,a3=assocIndexOf(i4,o4);return!(a3<0||(a3==i4.length-1?i4.pop():Yt3.call(i4,a3,1),--this.size,0))},"listCacheDelete"),ListCache.prototype.get=__name(function(o4){var i4=this.__data__,s3=assocIndexOf(i4,o4);return s3<0?a2:i4[s3][1]},"listCacheGet"),ListCache.prototype.has=__name(function(o4){return assocIndexOf(this.__data__,o4)>-1},"listCacheHas"),ListCache.prototype.set=__name(function(o4,i4){var a3=this.__data__,s3=assocIndexOf(a3,o4);return s3<0?(++this.size,a3.push([o4,i4])):a3[s3][1]=i4,this},"listCacheSet"),MapCache.prototype.clear=__name(function(){this.size=0,this.__data__={hash:new Hash,map:new(zn2||ListCache),string:new Hash}},"mapCacheClear"),MapCache.prototype.delete=__name(function(o4){var i4=getMapData(this,o4).delete(o4);return this.size-=i4?1:0,i4},"mapCacheDelete"),MapCache.prototype.get=__name(function(o4){return getMapData(this,o4).get(o4)},"mapCacheGet"),MapCache.prototype.has=__name(function(o4){return getMapData(this,o4).has(o4)},"mapCacheHas"),MapCache.prototype.set=__name(function(o4,i4){var a3=getMapData(this,o4),s3=a3.size;return a3.set(o4,i4),this.size+=a3.size==s3?0:1,this},"mapCacheSet"),SetCache.prototype.add=SetCache.prototype.push=__name(function(o4){return this.__data__.set(o4,u2),this},"setCacheAdd"),SetCache.prototype.has=__name(function(o4){return this.__data__.has(o4)},"setCacheHas"),Stack2.prototype.clear=__name(function(){this.__data__=new ListCache,this.size=0},"stackClear"),Stack2.prototype.delete=__name(function(o4){var i4=this.__data__,a3=i4.delete(o4);return this.size=i4.size,a3},"stackDelete"),Stack2.prototype.get=__name(function(o4){return this.__data__.get(o4)},"stackGet"),Stack2.prototype.has=__name(function(o4){return this.__data__.has(o4)},"stackHas"),Stack2.prototype.set=__name(function(o4,i4){var a3=this.__data__;if(a3 instanceof ListCache){var s3=a3.__data__;if(!zn2||s3.length<199)return s3.push([o4,i4]),this.size=++a3.size,this;a3=this.__data__=new MapCache(s3)}return a3.set(o4,i4),this.size=a3.size,this},"stackSet");var or2=createBaseEach(baseForOwn),ir2=createBaseEach(baseForOwnRight,!0);function baseEvery(o4,i4){var a3=!0;return or2(o4,function(o5,s3,u3){return a3=!!i4(o5,s3,u3)}),a3}__name(baseEvery,"baseEvery");function baseExtremum(o4,i4,s3){for(var u3=-1,O3=o4.length;++u3<O3;){var w3=o4[u3],x3=i4(w3);if(x3!=null&&(C3===a2?x3==x3&&!isSymbol(x3):s3(x3,C3)))var C3=x3,T3=w3}return T3}__name(baseExtremum,"baseExtremum");function baseFilter(o4,i4){var a3=[];return or2(o4,function(o5,s3,u3){i4(o5,s3,u3)&&a3.push(o5)}),a3}__name(baseFilter,"baseFilter");function baseFlatten(o4,i4,a3,s3,u3){var O3=-1,w3=o4.length;for(a3||(a3=isFlattenable),u3||(u3=[]);++O3<w3;){var x3=o4[O3];i4>0&&a3(x3)?i4>1?baseFlatten(x3,i4-1,a3,s3,u3):arrayPush(u3,x3):s3||(u3[u3.length]=x3)}return u3}__name(baseFlatten,"baseFlatten");var ar2=createBaseFor(),sr2=createBaseFor(!0);function baseForOwn(o4,i4){return o4&&ar2(o4,i4,keys)}__name(baseForOwn,"baseForOwn");function baseForOwnRight(o4,i4){return o4&&sr2(o4,i4,keys)}__name(baseForOwnRight,"baseForOwnRight");function baseFunctions(o4,i4){return arrayFilter(i4,function(i5){return isFunction(o4[i5])})}__name(baseFunctions,"baseFunctions");function baseGet(o4,i4){for(var s3=0,u3=(i4=castPath(i4,o4)).length;o4!=null&&s3<u3;)o4=o4[toKey(i4[s3++])];return s3&&s3==u3?o4:a2}__name(baseGet,"baseGet");function baseGetAllKeys(o4,i4,a3){var s3=i4(o4);return ao2(o4)?s3:arrayPush(s3,a3(o4))}__name(baseGetAllKeys,"baseGetAllKeys");function baseGetTag(o4){return o4==null?o4===a2?"[object Undefined]":"[object Null]":en3&&en3 in Tt3(o4)?__name(function(o5){var i4=Lt3.call(o5,en3),s3=o5[en3];try{o5[en3]=a2;var u3=!0}catch{}var O3=Bt3.call(o5);return u3&&(i4?o5[en3]=s3:delete o5[en3]),O3},"getRawTag")(o4):__name(function(o5){return Bt3.call(o5)},"objectToString")(o4)}__name(baseGetTag,"baseGetTag");function baseGt(o4,i4){return o4>i4}__name(baseGt,"baseGt");function baseHas(o4,i4){return o4!=null&&Lt3.call(o4,i4)}__name(baseHas,"baseHas");function baseHasIn(o4,i4){return o4!=null&&i4 in Tt3(o4)}__name(baseHasIn,"baseHasIn");function baseIntersection(o4,i4,s3){for(var u3=s3?arrayIncludesWith:arrayIncludes,O3=o4[0].length,w3=o4.length,x3=w3,C3=ae2(w3),T3=1/0,_3=[];x3--;){var A3=o4[x3];x3&&i4&&(A3=arrayMap(A3,baseUnary(i4))),T3=Nn2(A3.length,T3),C3[x3]=!s3&&(i4||O3>=120&&A3.length>=120)?new SetCache(x3&&A3):a2}A3=o4[0];var Q3=-1,N3=C3[0];e:for(;++Q3<O3&&_3.length<T3;){var L3=A3[Q3],$3=i4?i4(L3):L3;if(L3=s3||L3!==0?L3:0,!(N3?cacheHas(N3,$3):u3(_3,$3,s3))){for(x3=w3;--x3;){var F3=C3[x3];if(!(F3?cacheHas(F3,$3):u3(o4[x3],$3,s3)))continue e}N3&&N3.push($3),_3.push(L3)}}return _3}__name(baseIntersection,"baseIntersection");function baseInvoke(o4,i4,s3){var u3=(o4=parent(o4,i4=castPath(i4,o4)))==null?o4:o4[toKey(last2(i4))];return u3==null?a2:apply2(u3,o4,s3)}__name(baseInvoke,"baseInvoke");function baseIsArguments(o4){return isObjectLike(o4)&&baseGetTag(o4)==L2}__name(baseIsArguments,"baseIsArguments");function baseIsEqual(o4,i4,s3,u3,O3){return o4===i4||(o4==null||i4==null||!isObjectLike(o4)&&!isObjectLike(i4)?o4!=o4&&i4!=i4:__name(function(o5,i5,s4,u4,O4,w3){var x3=ao2(o5),C3=ao2(i5),T3=x3?$2:mr2(o5),_3=C3?$2:mr2(i5),A3=(T3=T3==L2?X2:T3)==X2,Q3=(_3=_3==L2?X2:_3)==X2,N3=T3==_3;if(N3&&lo2(o5)){if(!lo2(i5))return!1;x3=!0,A3=!1}if(N3&&!A3)return w3||(w3=new Stack2),x3||ho2(o5)?equalArrays(o5,i5,s4,u4,O4,w3):__name(function(o6,i6,a3,s5,u5,O5,w4){switch(a3){case pe2:if(o6.byteLength!=i6.byteLength||o6.byteOffset!=i6.byteOffset)return!1;o6=o6.buffer,i6=i6.buffer;case fe2:return!(o6.byteLength!=i6.byteLength||!O5(new Ut3(o6),new Ut3(i6)));case F2:case B2:case Z2:return eq(+o6,+i6);case V2:return o6.name==i6.name&&o6.message==i6.message;case ee2:case le2:return o6==i6+"";case U2:var x4=mapToArray;case ie2:var C4=1&s5;if(x4||(x4=setToArray),o6.size!=i6.size&&!C4)return!1;var T4=w4.get(o6);if(T4)return T4==i6;s5|=2,w4.set(o6,i6);var _4=equalArrays(x4(o6),x4(i6),s5,u5,O5,w4);return w4.delete(o6),_4;case ce2:if(tr2)return tr2.call(o6)==tr2.call(i6)}return!1},"equalByTag")(o5,i5,T3,s4,u4,O4,w3);if(!(1&s4)){var z3=A3&&Lt3.call(o5,"__wrapped__"),j3=Q3&&Lt3.call(i5,"__wrapped__");if(z3||j3){var Y3=z3?o5.value():o5,ae3=j3?i5.value():i5;return w3||(w3=new Stack2),O4(Y3,ae3,s4,u4,w3)}}return!!N3&&(w3||(w3=new Stack2),__name(function(o6,i6,s5,u5,O5,w4){var x4=1&s5,C4=getAllKeys(o6),T4=C4.length,_4=getAllKeys(i6),A4=_4.length;if(T4!=A4&&!x4)return!1;for(var Q4=T4;Q4--;){var N4=C4[Q4];if(!(x4?N4 in i6:Lt3.call(i6,N4)))return!1}var L3=w4.get(o6),$3=w4.get(i6);if(L3&&$3)return L3==i6&&$3==o6;var F3=!0;w4.set(o6,i6),w4.set(i6,o6);for(var B3=x4;++Q4<T4;){var V3=o6[N4=C4[Q4]],z4=i6[N4];if(u5)var j4=x4?u5(z4,V3,N4,i6,o6,w4):u5(V3,z4,N4,o6,i6,w4);if(!(j4===a2?V3===z4||O5(V3,z4,s5,u5,w4):j4)){F3=!1;break}B3||(B3=N4=="constructor")}if(F3&&!B3){var U3=o6.constructor,Z3=i6.constructor;U3==Z3||!("constructor"in o6)||!("constructor"in i6)||typeof U3=="function"&&U3 instanceof U3&&typeof Z3=="function"&&Z3 instanceof Z3||(F3=!1)}return w4.delete(o6),w4.delete(i6),F3},"equalObjects")(o5,i5,s4,u4,O4,w3))},"baseIsEqualDeep")(o4,i4,s3,u3,baseIsEqual,O3))}__name(baseIsEqual,"baseIsEqual");function baseIsMatch(o4,i4,s3,u3){var O3=s3.length,w3=O3,x3=!u3;if(o4==null)return!w3;for(o4=Tt3(o4);O3--;){var C3=s3[O3];if(x3&&C3[2]?C3[1]!==o4[C3[0]]:!(C3[0]in o4))return!1}for(;++O3<w3;){var T3=(C3=s3[O3])[0],_3=o4[T3],A3=C3[1];if(x3&&C3[2]){if(_3===a2&&!(T3 in o4))return!1}else{var Q3=new Stack2;if(u3)var N3=u3(_3,A3,T3,o4,i4,Q3);if(!(N3===a2?baseIsEqual(A3,_3,3,u3,Q3):N3))return!1}}return!0}__name(baseIsMatch,"baseIsMatch");function baseIsNative(o4){return!(!isObject(o4)||__name(function(o5){return!!Ft3&&Ft3 in o5},"isMasked")(o4))&&(isFunction(o4)?jt3:Ot2).test(toSource(o4))}__name(baseIsNative,"baseIsNative");function baseIteratee(o4){return typeof o4=="function"?o4:o4==null?identity:typeof o4=="object"?ao2(o4)?baseMatchesProperty(o4[0],o4[1]):baseMatches(o4):property(o4)}__name(baseIteratee,"baseIteratee");function baseKeys(o4){if(!isPrototype(o4))return An2(o4);var i4=[];for(var a3 in Tt3(o4))Lt3.call(o4,a3)&&a3!="constructor"&&i4.push(a3);return i4}__name(baseKeys,"baseKeys");function baseKeysIn(o4){if(!isObject(o4))return __name(function(o5){var i5=[];if(o5!=null)for(var a4 in Tt3(o5))i5.push(a4);return i5},"nativeKeysIn")(o4);var i4=isPrototype(o4),a3=[];for(var s3 in o4)(s3!="constructor"||!i4&&Lt3.call(o4,s3))&&a3.push(s3);return a3}__name(baseKeysIn,"baseKeysIn");function baseLt(o4,i4){return o4<i4}__name(baseLt,"baseLt");function baseMap(o4,i4){var a3=-1,s3=isArrayLike(o4)?ae2(o4.length):[];return or2(o4,function(o5,u3,O3){s3[++a3]=i4(o5,u3,O3)}),s3}__name(baseMap,"baseMap");function baseMatches(o4){var i4=getMatchData(o4);return i4.length==1&&i4[0][2]?matchesStrictComparable(i4[0][0],i4[0][1]):function(a3){return a3===o4||baseIsMatch(a3,o4,i4)}}__name(baseMatches,"baseMatches");function baseMatchesProperty(o4,i4){return isKey(o4)&&isStrictComparable(i4)?matchesStrictComparable(toKey(o4),i4):function(s3){var u3=get(s3,o4);return u3===a2&&u3===i4?hasIn(s3,o4):baseIsEqual(i4,u3,3)}}__name(baseMatchesProperty,"baseMatchesProperty");function baseMerge(o4,i4,s3,u3,O3){o4!==i4&&ar2(i4,function(w3,x3){if(O3||(O3=new Stack2),isObject(w3))__name(function(o5,i5,s4,u4,O4,w4,x4){var C4=safeGet(o5,s4),T3=safeGet(i5,s4),_3=x4.get(T3);if(_3)assignMergeValue(o5,s4,_3);else{var A3=w4?w4(C4,T3,s4+"",o5,i5,x4):a2,Q3=A3===a2;if(Q3){var N3=ao2(T3),L3=!N3&&lo2(T3),$3=!N3&&!L3&&ho2(T3);A3=T3,N3||L3||$3?ao2(C4)?A3=C4:isArrayLikeObject(C4)?A3=copyArray(C4):L3?(Q3=!1,A3=cloneBuffer(T3,!0)):$3?(Q3=!1,A3=cloneTypedArray(T3,!0)):A3=[]:isPlainObject(T3)||io2(T3)?(A3=C4,io2(C4)?A3=toPlainObject(C4):isObject(C4)&&!isFunction(C4)||(A3=initCloneObject(T3))):Q3=!1}Q3&&(x4.set(T3,A3),O4(A3,T3,u4,w4,x4),x4.delete(T3)),assignMergeValue(o5,s4,A3)}},"baseMergeDeep")(o4,i4,x3,s3,baseMerge,u3,O3);else{var C3=u3?u3(safeGet(o4,x3),w3,x3+"",o4,i4,O3):a2;C3===a2&&(C3=w3),assignMergeValue(o4,x3,C3)}},keysIn)}__name(baseMerge,"baseMerge");function baseNth(o4,i4){var s3=o4.length;if(s3)return isIndex(i4+=i4<0?s3:0,s3)?o4[i4]:a2}__name(baseNth,"baseNth");function baseOrderBy(o4,i4,a3){i4=i4.length?arrayMap(i4,function(o5){return ao2(o5)?function(i5){return baseGet(i5,o5.length===1?o5[0]:o5)}:o5}):[identity];var s3=-1;i4=arrayMap(i4,baseUnary(getIteratee()));var u3=baseMap(o4,function(o5,a4,u4){var O3=arrayMap(i4,function(i5){return i5(o5)});return{criteria:O3,index:++s3,value:o5}});return __name(function(o5,i5){var a4=o5.length;for(o5.sort(i5);a4--;)o5[a4]=o5[a4].value;return o5},"baseSortBy")(u3,function(o5,i5){return __name(function(o6,i6,a4){for(var s4=-1,u4=o6.criteria,O3=i6.criteria,w3=u4.length,x3=a4.length;++s4<w3;){var C3=compareAscending(u4[s4],O3[s4]);if(C3)return s4>=x3?C3:C3*(a4[s4]=="desc"?-1:1)}return o6.index-i6.index},"compareMultiple")(o5,i5,a3)})}__name(baseOrderBy,"baseOrderBy");function basePickBy(o4,i4,a3){for(var s3=-1,u3=i4.length,O3={};++s3<u3;){var w3=i4[s3],x3=baseGet(o4,w3);a3(x3,w3)&&baseSet(O3,castPath(w3,o4),x3)}return O3}__name(basePickBy,"basePickBy");function basePullAll(o4,i4,a3,s3){var u3=s3?baseIndexOfWith:baseIndexOf,O3=-1,w3=i4.length,x3=o4;for(o4===i4&&(i4=copyArray(i4)),a3&&(x3=arrayMap(o4,baseUnary(a3)));++O3<w3;)for(var C3=0,T3=i4[O3],_3=a3?a3(T3):T3;(C3=u3(x3,_3,C3,s3))>-1;)x3!==o4&&Yt3.call(x3,C3,1),Yt3.call(o4,C3,1);return o4}__name(basePullAll,"basePullAll");function basePullAt(o4,i4){for(var a3=o4?i4.length:0,s3=a3-1;a3--;){var u3=i4[a3];if(a3==s3||u3!==O3){var O3=u3;isIndex(u3)?Yt3.call(o4,u3,1):baseUnset(o4,u3)}}return o4}__name(basePullAt,"basePullAt");function baseRandom(o4,i4){return o4+yn3(Fn2()*(i4-o4+1))}__name(baseRandom,"baseRandom");function baseRepeat(o4,i4){var a3="";if(!o4||i4<1||i4>_2)return a3;do i4%2&&(a3+=o4),(i4=yn3(i4/2))&&(o4+=o4);while(i4);return a3}__name(baseRepeat,"baseRepeat");function baseRest(o4,i4){return br2(overRest(o4,i4,identity),o4+"")}__name(baseRest,"baseRest");function baseSample(o4){return arraySample(values(o4))}__name(baseSample,"baseSample");function baseSampleSize(o4,i4){var a3=values(o4);return shuffleSelf(a3,baseClamp(i4,0,a3.length))}__name(baseSampleSize,"baseSampleSize");function baseSet(o4,i4,s3,u3){if(!isObject(o4))return o4;for(var O3=-1,w3=(i4=castPath(i4,o4)).length,x3=w3-1,C3=o4;C3!=null&&++O3<w3;){var T3=toKey(i4[O3]),_3=s3;if(T3==="__proto__"||T3==="constructor"||T3==="prototype")return o4;if(O3!=x3){var A3=C3[T3];(_3=u3?u3(A3,T3,C3):a2)===a2&&(_3=isObject(A3)?A3:isIndex(i4[O3+1])?[]:{})}assignValue(C3,T3,_3),C3=C3[T3]}return o4}__name(baseSet,"baseSet");var lr2=Zn2?function(o4,i4){return Zn2.set(o4,i4),o4}:identity,cr2=rn3?function(o4,i4){return rn3(o4,"toString",{configurable:!0,enumerable:!1,value:constant(i4),writable:!0})}:identity;function baseShuffle(o4){return shuffleSelf(values(o4))}__name(baseShuffle,"baseShuffle");function baseSlice(o4,i4,a3){var s3=-1,u3=o4.length;i4<0&&(i4=-i4>u3?0:u3+i4),(a3=a3>u3?u3:a3)<0&&(a3+=u3),u3=i4>a3?0:a3-i4>>>0,i4>>>=0;for(var O3=ae2(u3);++s3<u3;)O3[s3]=o4[s3+i4];return O3}__name(baseSlice,"baseSlice");function baseSome(o4,i4){var a3;return or2(o4,function(o5,s3,u3){return!(a3=i4(o5,s3,u3))}),!!a3}__name(baseSome,"baseSome");function baseSortedIndex(o4,i4,a3){var s3=0,u3=o4==null?s3:o4.length;if(typeof i4=="number"&&i4==i4&&u3<=2147483647){for(;s3<u3;){var O3=s3+u3>>>1,w3=o4[O3];w3!==null&&!isSymbol(w3)&&(a3?w3<=i4:w3<i4)?s3=O3+1:u3=O3}return u3}return baseSortedIndexBy(o4,i4,identity,a3)}__name(baseSortedIndex,"baseSortedIndex");function baseSortedIndexBy(o4,i4,s3,u3){var O3=0,w3=o4==null?0:o4.length;if(w3===0)return 0;for(var x3=(i4=s3(i4))!=i4,C3=i4===null,T3=isSymbol(i4),_3=i4===a2;O3<w3;){var A3=yn3((O3+w3)/2),Q3=s3(o4[A3]),N3=Q3!==a2,L3=Q3===null,$3=Q3==Q3,F3=isSymbol(Q3);if(x3)var B3=u3||$3;else B3=_3?$3&&(u3||N3):C3?$3&&N3&&(u3||!L3):T3?$3&&N3&&!L3&&(u3||!F3):!L3&&!F3&&(u3?Q3<=i4:Q3<i4);B3?O3=A3+1:w3=A3}return Nn2(w3,4294967294)}__name(baseSortedIndexBy,"baseSortedIndexBy");function baseSortedUniq(o4,i4){for(var a3=-1,s3=o4.length,u3=0,O3=[];++a3<s3;){var w3=o4[a3],x3=i4?i4(w3):w3;if(!a3||!eq(x3,C3)){var C3=x3;O3[u3++]=w3===0?0:w3}}return O3}__name(baseSortedUniq,"baseSortedUniq");function baseToNumber(o4){return typeof o4=="number"?o4:isSymbol(o4)?A2:+o4}__name(baseToNumber,"baseToNumber");function baseToString(o4){if(typeof o4=="string")return o4;if(ao2(o4))return arrayMap(o4,baseToString)+"";if(isSymbol(o4))return nr2?nr2.call(o4):"";var i4=o4+"";return i4=="0"&&1/o4==-1/0?"-0":i4}__name(baseToString,"baseToString");function baseUniq(o4,i4,a3){var s3=-1,u3=arrayIncludes,O3=o4.length,w3=!0,x3=[],C3=x3;if(a3)w3=!1,u3=arrayIncludesWith;else if(O3>=200){var T3=i4?null:fr2(o4);if(T3)return setToArray(T3);w3=!1,u3=cacheHas,C3=new SetCache}else C3=i4?[]:x3;e:for(;++s3<O3;){var _3=o4[s3],A3=i4?i4(_3):_3;if(_3=a3||_3!==0?_3:0,w3&&A3==A3){for(var Q3=C3.length;Q3--;)if(C3[Q3]===A3)continue e;i4&&C3.push(A3),x3.push(_3)}else u3(C3,A3,a3)||(C3!==x3&&C3.push(A3),x3.push(_3))}return x3}__name(baseUniq,"baseUniq");function baseUnset(o4,i4){return(o4=parent(o4,i4=castPath(i4,o4)))==null||delete o4[toKey(last2(i4))]}__name(baseUnset,"baseUnset");function baseUpdate(o4,i4,a3,s3){return baseSet(o4,i4,a3(baseGet(o4,i4)),s3)}__name(baseUpdate,"baseUpdate");function baseWhile(o4,i4,a3,s3){for(var u3=o4.length,O3=s3?u3:-1;(s3?O3--:++O3<u3)&&i4(o4[O3],O3,o4););return a3?baseSlice(o4,s3?0:O3,s3?O3+1:u3):baseSlice(o4,s3?O3+1:0,s3?u3:O3)}__name(baseWhile,"baseWhile");function baseWrapperValue(o4,i4){var a3=o4;return a3 instanceof LazyWrapper&&(a3=a3.value()),arrayReduce(i4,function(o5,i5){return i5.func.apply(i5.thisArg,arrayPush([o5],i5.args))},a3)}__name(baseWrapperValue,"baseWrapperValue");function baseXor(o4,i4,a3){var s3=o4.length;if(s3<2)return s3?baseUniq(o4[0]):[];for(var u3=-1,O3=ae2(s3);++u3<s3;)for(var w3=o4[u3],x3=-1;++x3<s3;)x3!=u3&&(O3[u3]=baseDifference(O3[u3]||w3,o4[x3],i4,a3));return baseUniq(baseFlatten(O3,1),i4,a3)}__name(baseXor,"baseXor");function baseZipObject(o4,i4,s3){for(var u3=-1,O3=o4.length,w3=i4.length,x3={};++u3<O3;){var C3=u3<w3?i4[u3]:a2;s3(x3,o4[u3],C3)}return x3}__name(baseZipObject,"baseZipObject");function castArrayLikeObject(o4){return isArrayLikeObject(o4)?o4:[]}__name(castArrayLikeObject,"castArrayLikeObject");function castFunction(o4){return typeof o4=="function"?o4:identity}__name(castFunction,"castFunction");function castPath(o4,i4){return ao2(o4)?o4:isKey(o4,i4)?[o4]:Sr2(toString2(o4))}__name(castPath,"castPath");var ur2=baseRest;function castSlice(o4,i4,s3){var u3=o4.length;return s3=s3===a2?u3:s3,!i4&&s3>=u3?o4:baseSlice(o4,i4,s3)}__name(castSlice,"castSlice");var dr2=an3||function(o4){return vn2.clearTimeout(o4)};function cloneBuffer(o4,i4){if(i4)return o4.slice();var a3=o4.length,s3=Zt3?Zt3(a3):new o4.constructor(a3);return o4.copy(s3),s3}__name(cloneBuffer,"cloneBuffer");function cloneArrayBuffer(o4){var i4=new o4.constructor(o4.byteLength);return new Ut3(i4).set(new Ut3(o4)),i4}__name(cloneArrayBuffer,"cloneArrayBuffer");function cloneTypedArray(o4,i4){var a3=i4?cloneArrayBuffer(o4.buffer):o4.buffer;return new o4.constructor(a3,o4.byteOffset,o4.length)}__name(cloneTypedArray,"cloneTypedArray");function compareAscending(o4,i4){if(o4!==i4){var s3=o4!==a2,u3=o4===null,O3=o4==o4,w3=isSymbol(o4),x3=i4!==a2,C3=i4===null,T3=i4==i4,_3=isSymbol(i4);if(!C3&&!_3&&!w3&&o4>i4||w3&&x3&&T3&&!C3&&!_3||u3&&x3&&T3||!s3&&T3||!O3)return 1;if(!u3&&!w3&&!_3&&o4<i4||_3&&s3&&O3&&!u3&&!w3||C3&&s3&&O3||!x3&&O3||!T3)return-1}return 0}__name(compareAscending,"compareAscending");function composeArgs(o4,i4,a3,s3){for(var u3=-1,O3=o4.length,w3=a3.length,x3=-1,C3=i4.length,T3=Qn2(O3-w3,0),_3=ae2(C3+T3),A3=!s3;++x3<C3;)_3[x3]=i4[x3];for(;++u3<w3;)(A3||u3<O3)&&(_3[a3[u3]]=o4[u3]);for(;T3--;)_3[x3++]=o4[u3++];return _3}__name(composeArgs,"composeArgs");function composeArgsRight(o4,i4,a3,s3){for(var u3=-1,O3=o4.length,w3=-1,x3=a3.length,C3=-1,T3=i4.length,_3=Qn2(O3-x3,0),A3=ae2(_3+T3),Q3=!s3;++u3<_3;)A3[u3]=o4[u3];for(var N3=u3;++C3<T3;)A3[N3+C3]=i4[C3];for(;++w3<x3;)(Q3||u3<O3)&&(A3[N3+a3[w3]]=o4[u3++]);return A3}__name(composeArgsRight,"composeArgsRight");function copyArray(o4,i4){var a3=-1,s3=o4.length;for(i4||(i4=ae2(s3));++a3<s3;)i4[a3]=o4[a3];return i4}__name(copyArray,"copyArray");function copyObject(o4,i4,s3,u3){var O3=!s3;s3||(s3={});for(var w3=-1,x3=i4.length;++w3<x3;){var C3=i4[w3],T3=u3?u3(s3[C3],o4[C3],C3,s3,o4):a2;T3===a2&&(T3=o4[C3]),O3?baseAssignValue(s3,C3,T3):assignValue(s3,C3,T3)}return s3}__name(copyObject,"copyObject");function createAggregator(o4,i4){return function(a3,s3){var u3=ao2(a3)?arrayAggregator:baseAggregator,O3=i4?i4():{};return u3(a3,o4,getIteratee(s3,2),O3)}}__name(createAggregator,"createAggregator");function createAssigner(o4){return baseRest(function(i4,s3){var u3=-1,O3=s3.length,w3=O3>1?s3[O3-1]:a2,x3=O3>2?s3[2]:a2;for(w3=o4.length>3&&typeof w3=="function"?(O3--,w3):a2,x3&&isIterateeCall(s3[0],s3[1],x3)&&(w3=O3<3?a2:w3,O3=1),i4=Tt3(i4);++u3<O3;){var C3=s3[u3];C3&&o4(i4,C3,u3,w3)}return i4})}__name(createAssigner,"createAssigner");function createBaseEach(o4,i4){return function(a3,s3){if(a3==null)return a3;if(!isArrayLike(a3))return o4(a3,s3);for(var u3=a3.length,O3=i4?u3:-1,w3=Tt3(a3);(i4?O3--:++O3<u3)&&s3(w3[O3],O3,w3)!==!1;);return a3}}__name(createBaseEach,"createBaseEach");function createBaseFor(o4){return function(i4,a3,s3){for(var u3=-1,O3=Tt3(i4),w3=s3(i4),x3=w3.length;x3--;){var C3=w3[o4?x3:++u3];if(a3(O3[C3],C3,O3)===!1)break}return i4}}__name(createBaseFor,"createBaseFor");function createCaseFirst(o4){return function(i4){var s3=hasUnicode(i4=toString2(i4))?stringToArray(i4):a2,u3=s3?s3[0]:i4.charAt(0),O3=s3?castSlice(s3,1).join(""):i4.slice(1);return u3[o4]()+O3}}__name(createCaseFirst,"createCaseFirst");function createCompounder(o4){return function(i4){return arrayReduce(words(deburr(i4).replace(tn2,"")),o4,"")}}__name(createCompounder,"createCompounder");function createCtor(o4){return function(){var i4=arguments;switch(i4.length){case 0:return new o4;case 1:return new o4(i4[0]);case 2:return new o4(i4[0],i4[1]);case 3:return new o4(i4[0],i4[1],i4[2]);case 4:return new o4(i4[0],i4[1],i4[2],i4[3]);case 5:return new o4(i4[0],i4[1],i4[2],i4[3],i4[4]);case 6:return new o4(i4[0],i4[1],i4[2],i4[3],i4[4],i4[5]);case 7:return new o4(i4[0],i4[1],i4[2],i4[3],i4[4],i4[5],i4[6])}var a3=rr2(o4.prototype),s3=o4.apply(a3,i4);return isObject(s3)?s3:a3}}__name(createCtor,"createCtor");function createFind(o4){return function(i4,s3,u3){var O3=Tt3(i4);if(!isArrayLike(i4)){var w3=getIteratee(s3,3);i4=keys(i4),s3=__name(function(o5){return w3(O3[o5],o5,O3)},"s3")}var x3=o4(i4,s3,u3);return x3>-1?O3[w3?i4[x3]:x3]:a2}}__name(createFind,"createFind");function createFlow(o4){return flatRest(function(i4){var u3=i4.length,O3=u3,w3=LodashWrapper.prototype.thru;for(o4&&i4.reverse();O3--;){var x3=i4[O3];if(typeof x3!="function")throw new It3(s2);if(w3&&!C3&&getFuncName(x3)=="wrapper")var C3=new LodashWrapper([],!0)}for(O3=C3?O3:u3;++O3<u3;){var T3=getFuncName(x3=i4[O3]),_3=T3=="wrapper"?pr2(x3):a2;C3=_3&&isLaziable(_3[0])&&_3[1]==424&&!_3[4].length&&_3[9]==1?C3[getFuncName(_3[0])].apply(C3,_3[3]):x3.length==1&&isLaziable(x3)?C3[T3]():C3.thru(x3)}return function(){var o5=arguments,a3=o5[0];if(C3&&o5.length==1&&ao2(a3))return C3.plant(a3).value();for(var s3=0,O4=u3?i4[s3].apply(this,o5):a3;++s3<u3;)O4=i4[s3].call(this,O4);return O4}})}__name(createFlow,"createFlow");function createHybrid(o4,i4,s3,u3,O3,w3,C3,T3,_3,A3){var Q3=i4&x2,N3=1&i4,L3=2&i4,$3=24&i4,F3=512&i4,B3=L3?a2:createCtor(o4);return __name(function wrapper(){for(var x3=arguments.length,V3=ae2(x3),z3=x3;z3--;)V3[z3]=arguments[z3];if($3)var j3=getHolder(wrapper),U3=__name(function(o5,i5){for(var a3=o5.length,s4=0;a3--;)o5[a3]===i5&&++s4;return s4},"countHolders")(V3,j3);if(u3&&(V3=composeArgs(V3,u3,O3,$3)),w3&&(V3=composeArgsRight(V3,w3,C3,$3)),x3-=U3,$3&&x3<A3){var Z3=replaceHolders(V3,j3);return createRecurry(o4,i4,createHybrid,wrapper.placeholder,s3,V3,Z3,T3,_3,A3-x3)}var X3=N3?s3:this,Y3=L3?X3[o4]:o4;return x3=V3.length,T3?V3=__name(function(o5,i5){for(var s4=o5.length,u4=Nn2(i5.length,s4),O4=copyArray(o5);u4--;){var w4=i5[u4];o5[u4]=isIndex(w4,s4)?O4[w4]:a2}return o5},"reorder")(V3,T3):F3&&x3>1&&V3.reverse(),Q3&&_3<x3&&(V3.length=_3),this&&this!==vn2&&this instanceof wrapper&&(Y3=B3||createCtor(Y3)),Y3.apply(X3,V3)},"wrapper")}__name(createHybrid,"createHybrid");function createInverter(o4,i4){return function(a3,s3){return __name(function(o5,i5,a4,s4){return baseForOwn(o5,function(o6,u3,O3){i5(s4,a4(o6),u3,O3)}),s4},"baseInverter")(a3,o4,i4(s3),{})}}__name(createInverter,"createInverter");function createMathOperation(o4,i4){return function(s3,u3){var O3;if(s3===a2&&u3===a2)return i4;if(s3!==a2&&(O3=s3),u3!==a2){if(O3===a2)return u3;typeof s3=="string"||typeof u3=="string"?(s3=baseToString(s3),u3=baseToString(u3)):(s3=baseToNumber(s3),u3=baseToNumber(u3)),O3=o4(s3,u3)}return O3}}__name(createMathOperation,"createMathOperation");function createOver(o4){return flatRest(function(i4){return i4=arrayMap(i4,baseUnary(getIteratee())),baseRest(function(a3){var s3=this;return o4(i4,function(o5){return apply2(o5,s3,a3)})})})}__name(createOver,"createOver");function createPadding(o4,i4){var s3=(i4=i4===a2?" ":baseToString(i4)).length;if(s3<2)return s3?baseRepeat(i4,o4):i4;var u3=baseRepeat(i4,mn3(o4/stringSize(i4)));return hasUnicode(i4)?castSlice(stringToArray(u3),0,o4).join(""):u3.slice(0,o4)}__name(createPadding,"createPadding");function createRange(o4){return function(i4,s3,u3){return u3&&typeof u3!="number"&&isIterateeCall(i4,s3,u3)&&(s3=u3=a2),i4=toFinite(i4),s3===a2?(s3=i4,i4=0):s3=toFinite(s3),__name(function(o5,i5,a3,s4){for(var u4=-1,O3=Qn2(mn3((i5-o5)/(a3||1)),0),w3=ae2(O3);O3--;)w3[s4?O3:++u4]=o5,o5+=a3;return w3},"baseRange")(i4,s3,u3=u3===a2?i4<s3?1:-1:toFinite(u3),o4)}}__name(createRange,"createRange");function createRelationalOperation(o4){return function(i4,a3){return typeof i4=="string"&&typeof a3=="string"||(i4=toNumber(i4),a3=toNumber(a3)),o4(i4,a3)}}__name(createRelationalOperation,"createRelationalOperation");function createRecurry(o4,i4,s3,u3,O3,x3,C3,T3,_3,A3){var Q3=8&i4;i4|=Q3?w2:64,4&(i4&=~(Q3?64:w2))||(i4&=-4);var N3=[o4,i4,O3,Q3?x3:a2,Q3?C3:a2,Q3?a2:x3,Q3?a2:C3,T3,_3,A3],L3=s3.apply(a2,N3);return isLaziable(o4)&&yr2(L3,N3),L3.placeholder=u3,setWrapToString(L3,o4,i4)}__name(createRecurry,"createRecurry");function createRound(o4){var i4=Et3[o4];return function(o5,a3){if(o5=toNumber(o5),(a3=a3==null?0:Nn2(toInteger(a3),292))&&wn3(o5)){var s3=(toString2(o5)+"e").split("e");return+((s3=(toString2(i4(s3[0]+"e"+(+s3[1]+a3)))+"e").split("e"))[0]+"e"+(+s3[1]-a3))}return i4(o5)}}__name(createRound,"createRound");var fr2=Wn2&&1/setToArray(new Wn2([,-0]))[1]==T2?function(o4){return new Wn2(o4)}:noop2;function createToPairs(o4){return function(i4){var a3=mr2(i4);return a3==U2?mapToArray(i4):a3==ie2?setToPairs(i4):__name(function(o5,i5){return arrayMap(i5,function(i6){return[i6,o5[i6]]})},"baseToPairs")(i4,o4(i4))}}__name(createToPairs,"createToPairs");function createWrap(o4,i4,u3,T3,_3,A3,Q3,N3){var L3=2&i4;if(!L3&&typeof o4!="function")throw new It3(s2);var $3=T3?T3.length:0;if($3||(i4&=-97,T3=_3=a2),Q3=Q3===a2?Q3:Qn2(toInteger(Q3),0),N3=N3===a2?N3:toInteger(N3),$3-=_3?_3.length:0,64&i4){var F3=T3,B3=_3;T3=_3=a2}var V3=L3?a2:pr2(o4),z3=[o4,i4,u3,T3,_3,F3,B3,A3,Q3,N3];if(V3&&__name(function(o5,i5){var a3=o5[1],s3=i5[1],u4=a3|s3,w3=u4<131,T4=s3==x2&&a3==8||s3==x2&&a3==C2&&o5[7].length<=i5[8]||s3==384&&i5[7].length<=i5[8]&&a3==8;if(!w3&&!T4)return o5;1&s3&&(o5[2]=i5[2],u4|=1&a3?0:4);var _4=i5[3];if(_4){var A4=o5[3];o5[3]=A4?composeArgs(A4,_4,i5[4]):_4,o5[4]=A4?replaceHolders(o5[3],O2):i5[4]}return(_4=i5[5])&&(A4=o5[5],o5[5]=A4?composeArgsRight(A4,_4,i5[6]):_4,o5[6]=A4?replaceHolders(o5[5],O2):i5[6]),(_4=i5[7])&&(o5[7]=_4),s3&x2&&(o5[8]=o5[8]==null?i5[8]:Nn2(o5[8],i5[8])),o5[9]==null&&(o5[9]=i5[9]),o5[0]=i5[0],o5[1]=u4,o5},"mergeData")(z3,V3),o4=z3[0],i4=z3[1],u3=z3[2],T3=z3[3],_3=z3[4],!(N3=z3[9]=z3[9]===a2?L3?0:o4.length:Qn2(z3[9]-$3,0))&&24&i4&&(i4&=-25),i4&&i4!=1)j3=i4==8||i4==16?__name(function(o5,i5,s3){var u4=createCtor(o5);return __name(function wrapper(){for(var O3=arguments.length,w3=ae2(O3),x3=O3,C3=getHolder(wrapper);x3--;)w3[x3]=arguments[x3];var T4=O3<3&&w3[0]!==C3&&w3[O3-1]!==C3?[]:replaceHolders(w3,C3);return(O3-=T4.length)<s3?createRecurry(o5,i5,createHybrid,wrapper.placeholder,a2,w3,T4,a2,a2,s3-O3):apply2(this&&this!==vn2&&this instanceof wrapper?u4:o5,this,w3)},"wrapper")},"createCurry")(o4,i4,N3):i4!=w2&&i4!=33||_3.length?createHybrid.apply(a2,z3):__name(function(o5,i5,a3,s3){var u4=1&i5,O3=createCtor(o5);return __name(function wrapper(){for(var i6=-1,w3=arguments.length,x3=-1,C3=s3.length,T4=ae2(C3+w3),_4=this&&this!==vn2&&this instanceof wrapper?O3:o5;++x3<C3;)T4[x3]=s3[x3];for(;w3--;)T4[x3++]=arguments[++i6];return apply2(_4,u4?a3:this,T4)},"wrapper")},"createPartial")(o4,i4,u3,T3);else var j3=__name(function(o5,i5,a3){var s3=1&i5,u4=createCtor(o5);return __name(function wrapper(){return(this&&this!==vn2&&this instanceof wrapper?u4:o5).apply(s3?a3:this,arguments)},"wrapper")},"createBind")(o4,i4,u3);return setWrapToString((V3?lr2:yr2)(j3,z3),o4,i4)}__name(createWrap,"createWrap");function customDefaultsAssignIn(o4,i4,s3,u3){return o4===a2||eq(o4,At3[s3])&&!Lt3.call(u3,s3)?i4:o4}__name(customDefaultsAssignIn,"customDefaultsAssignIn");function customDefaultsMerge(o4,i4,s3,u3,O3,w3){return isObject(o4)&&isObject(i4)&&(w3.set(i4,o4),baseMerge(o4,i4,a2,customDefaultsMerge,w3),w3.delete(i4)),o4}__name(customDefaultsMerge,"customDefaultsMerge");function customOmitClone(o4){return isPlainObject(o4)?a2:o4}__name(customOmitClone,"customOmitClone");function equalArrays(o4,i4,s3,u3,O3,w3){var x3=1&s3,C3=o4.length,T3=i4.length;if(C3!=T3&&!(x3&&T3>C3))return!1;var _3=w3.get(o4),A3=w3.get(i4);if(_3&&A3)return _3==i4&&A3==o4;var Q3=-1,N3=!0,L3=2&s3?new SetCache:a2;for(w3.set(o4,i4),w3.set(i4,o4);++Q3<C3;){var $3=o4[Q3],F3=i4[Q3];if(u3)var B3=x3?u3(F3,$3,Q3,i4,o4,w3):u3($3,F3,Q3,o4,i4,w3);if(B3!==a2){if(B3)continue;N3=!1;break}if(L3){if(!arraySome(i4,function(o5,i5){if(!cacheHas(L3,i5)&&($3===o5||O3($3,o5,s3,u3,w3)))return L3.push(i5)})){N3=!1;break}}else if($3!==F3&&!O3($3,F3,s3,u3,w3)){N3=!1;break}}return w3.delete(o4),w3.delete(i4),N3}__name(equalArrays,"equalArrays");function flatRest(o4){return br2(overRest(o4,a2,flatten),o4+"")}__name(flatRest,"flatRest");function getAllKeys(o4){return baseGetAllKeys(o4,keys,hr2)}__name(getAllKeys,"getAllKeys");function getAllKeysIn(o4){return baseGetAllKeys(o4,keysIn,gr2)}__name(getAllKeysIn,"getAllKeysIn");var pr2=Zn2?function(o4){return Zn2.get(o4)}:noop2;function getFuncName(o4){for(var i4=o4.name+"",a3=qn2[i4],s3=Lt3.call(qn2,i4)?a3.length:0;s3--;){var u3=a3[s3],O3=u3.func;if(O3==null||O3==o4)return u3.name}return i4}__name(getFuncName,"getFuncName");function getHolder(o4){return(Lt3.call(lodash,"placeholder")?lodash:o4).placeholder}__name(getHolder,"getHolder");function getIteratee(){var o4=lodash.iteratee||iteratee;return o4=o4===iteratee?baseIteratee:o4,arguments.length?o4(arguments[0],arguments[1]):o4}__name(getIteratee,"getIteratee");function getMapData(o4,i4){var a3=o4.__data__;return __name(function(o5){var i5=typeof o5;return i5=="string"||i5=="number"||i5=="symbol"||i5=="boolean"?o5!=="__proto__":o5===null},"isKeyable")(i4)?a3[typeof i4=="string"?"string":"hash"]:a3.map}__name(getMapData,"getMapData");function getMatchData(o4){for(var i4=keys(o4),a3=i4.length;a3--;){var s3=i4[a3],u3=o4[s3];i4[a3]=[s3,u3,isStrictComparable(u3)]}return i4}__name(getMatchData,"getMatchData");function getNative(o4,i4){var s3=__name(function(o5,i5){return o5==null?a2:o5[i5]},"getValue2")(o4,i4);return baseIsNative(s3)?s3:a2}__name(getNative,"getNative");var hr2=On3?function(o4){return o4==null?[]:(o4=Tt3(o4),arrayFilter(On3(o4),function(i4){return Gt3.call(o4,i4)}))}:stubArray,gr2=On3?function(o4){for(var i4=[];o4;)arrayPush(i4,hr2(o4)),o4=qt3(o4);return i4}:stubArray,mr2=baseGetTag;function hasPath(o4,i4,a3){for(var s3=-1,u3=(i4=castPath(i4,o4)).length,O3=!1;++s3<u3;){var w3=toKey(i4[s3]);if(!(O3=o4!=null&&a3(o4,w3)))break;o4=o4[w3]}return O3||++s3!=u3?O3:!!(u3=o4==null?0:o4.length)&&isLength(u3)&&isIndex(w3,u3)&&(ao2(o4)||io2(o4))}__name(hasPath,"hasPath");function initCloneObject(o4){return typeof o4.constructor!="function"||isPrototype(o4)?{}:rr2(qt3(o4))}__name(initCloneObject,"initCloneObject");function isFlattenable(o4){return ao2(o4)||io2(o4)||!!(Kt3&&o4&&o4[Kt3])}__name(isFlattenable,"isFlattenable");function isIndex(o4,i4){var a3=typeof o4;return!!(i4=i4??_2)&&(a3=="number"||a3!="symbol"&&St2.test(o4))&&o4>-1&&o4%1==0&&o4<i4}__name(isIndex,"isIndex");function isIterateeCall(o4,i4,a3){if(!isObject(a3))return!1;var s3=typeof i4;return!!(s3=="number"?isArrayLike(a3)&&isIndex(i4,a3.length):s3=="string"&&i4 in a3)&&eq(a3[i4],o4)}__name(isIterateeCall,"isIterateeCall");function isKey(o4,i4){if(ao2(o4))return!1;var a3=typeof o4;return!(a3!="number"&&a3!="symbol"&&a3!="boolean"&&o4!=null&&!isSymbol(o4))||rt2.test(o4)||!nt2.test(o4)||i4!=null&&o4 in Tt3(i4)}__name(isKey,"isKey");function isLaziable(o4){var i4=getFuncName(o4),a3=lodash[i4];if(typeof a3!="function"||!(i4 in LazyWrapper.prototype))return!1;if(o4===a3)return!0;var s3=pr2(a3);return!!s3&&o4===s3[0]}__name(isLaziable,"isLaziable"),(Vn2&&mr2(new Vn2(new ArrayBuffer(1)))!=pe2||zn2&&mr2(new zn2)!=U2||jn2&&mr2(jn2.resolve())!=Y2||Wn2&&mr2(new Wn2)!=ie2||Hn2&&mr2(new Hn2)!=de2)&&(mr2=__name(function(o4){var i4=baseGetTag(o4),s3=i4==X2?o4.constructor:a2,u3=s3?toSource(s3):"";if(u3)switch(u3){case Xn2:return pe2;case Gn2:return U2;case Yn2:return Y2;case Kn2:return ie2;case Jn2:return de2}return i4},"mr2"));var vr2=Qt3?isFunction:stubFalse;function isPrototype(o4){var i4=o4&&o4.constructor;return o4===(typeof i4=="function"&&i4.prototype||At3)}__name(isPrototype,"isPrototype");function isStrictComparable(o4){return o4==o4&&!isObject(o4)}__name(isStrictComparable,"isStrictComparable");function matchesStrictComparable(o4,i4){return function(s3){return s3!=null&&s3[o4]===i4&&(i4!==a2||o4 in Tt3(s3))}}__name(matchesStrictComparable,"matchesStrictComparable");function overRest(o4,i4,s3){return i4=Qn2(i4===a2?o4.length-1:i4,0),function(){for(var a3=arguments,u3=-1,O3=Qn2(a3.length-i4,0),w3=ae2(O3);++u3<O3;)w3[u3]=a3[i4+u3];u3=-1;for(var x3=ae2(i4+1);++u3<i4;)x3[u3]=a3[u3];return x3[i4]=s3(w3),apply2(o4,this,x3)}}__name(overRest,"overRest");function parent(o4,i4){return i4.length<2?o4:baseGet(o4,baseSlice(i4,0,-1))}__name(parent,"parent");function safeGet(o4,i4){if((i4!=="constructor"||typeof o4[i4]!="function")&&i4!="__proto__")return o4[i4]}__name(safeGet,"safeGet");var yr2=shortOut(lr2),Or2=gn3||function(o4,i4){return vn2.setTimeout(o4,i4)},br2=shortOut(cr2);function setWrapToString(o4,i4,a3){var s3=i4+"";return br2(o4,__name(function(o5,i5){var a4=i5.length;if(!a4)return o5;var s4=a4-1;return i5[s4]=(a4>1?"& ":"")+i5[s4],i5=i5.join(a4>2?", ":" "),o5.replace(ct2,`{
/* [wrapped with `+i5+`] */
`)},"insertWrapDetails")(s3,__name(function(o5,i5){return arrayEach(N2,function(a4){var s4="_."+a4[0];i5&a4[1]&&!arrayIncludes(o5,s4)&&o5.push(s4)}),o5.sort()},"updateWrapDetails")(__name(function(o5){var i5=o5.match(ut2);return i5?i5[1].split(dt2):[]},"getWrapDetails")(s3),a3)))}__name(setWrapToString,"setWrapToString");function shortOut(o4){var i4=0,s3=0;return function(){var u3=Ln2(),O3=16-(u3-s3);if(s3=u3,O3>0){if(++i4>=800)return arguments[0]}else i4=0;return o4.apply(a2,arguments)}}__name(shortOut,"shortOut");function shuffleSelf(o4,i4){var s3=-1,u3=o4.length,O3=u3-1;for(i4=i4===a2?u3:i4;++s3<i4;){var w3=baseRandom(s3,O3),x3=o4[w3];o4[w3]=o4[s3],o4[s3]=x3}return o4.length=i4,o4}__name(shuffleSelf,"shuffleSelf");var Sr2=__name(function(o4){var i4=memoize(o4,function(o5){return a3.size===500&&a3.clear(),o5}),a3=i4.cache;return i4},"memoizeCapped")(function(o4){var i4=[];return o4.charCodeAt(0)===46&&i4.push(""),o4.replace(ot2,function(o5,a3,s3,u3){i4.push(s3?u3.replace(ht2,"$1"):a3||o5)}),i4});function toKey(o4){if(typeof o4=="string"||isSymbol(o4))return o4;var i4=o4+"";return i4=="0"&&1/o4==-1/0?"-0":i4}__name(toKey,"toKey");function toSource(o4){if(o4!=null){try{return Nt3.call(o4)}catch{}try{return o4+""}catch{}}return""}__name(toSource,"toSource");function wrapperClone(o4){if(o4 instanceof LazyWrapper)return o4.clone();var i4=new LodashWrapper(o4.__wrapped__,o4.__chain__);return i4.__actions__=copyArray(o4.__actions__),i4.__index__=o4.__index__,i4.__values__=o4.__values__,i4}__name(wrapperClone,"wrapperClone");var wr2=baseRest(function(o4,i4){return isArrayLikeObject(o4)?baseDifference(o4,baseFlatten(i4,1,isArrayLikeObject,!0)):[]}),xr2=baseRest(function(o4,i4){var s3=last2(i4);return isArrayLikeObject(s3)&&(s3=a2),isArrayLikeObject(o4)?baseDifference(o4,baseFlatten(i4,1,isArrayLikeObject,!0),getIteratee(s3,2)):[]}),kr2=baseRest(function(o4,i4){var s3=last2(i4);return isArrayLikeObject(s3)&&(s3=a2),isArrayLikeObject(o4)?baseDifference(o4,baseFlatten(i4,1,isArrayLikeObject,!0),a2,s3):[]});function findIndex(o4,i4,a3){var s3=o4==null?0:o4.length;if(!s3)return-1;var u3=a3==null?0:toInteger(a3);return u3<0&&(u3=Qn2(s3+u3,0)),baseFindIndex(o4,getIteratee(i4,3),u3)}__name(findIndex,"findIndex");function findLastIndex(o4,i4,s3){var u3=o4==null?0:o4.length;if(!u3)return-1;var O3=u3-1;return s3!==a2&&(O3=toInteger(s3),O3=s3<0?Qn2(u3+O3,0):Nn2(O3,u3-1)),baseFindIndex(o4,getIteratee(i4,3),O3,!0)}__name(findLastIndex,"findLastIndex");function flatten(o4){return o4!=null&&o4.length?baseFlatten(o4,1):[]}__name(flatten,"flatten");function head(o4){return o4&&o4.length?o4[0]:a2}__name(head,"head");var Cr2=baseRest(function(o4){var i4=arrayMap(o4,castArrayLikeObject);return i4.length&&i4[0]===o4[0]?baseIntersection(i4):[]}),Pr2=baseRest(function(o4){var i4=last2(o4),s3=arrayMap(o4,castArrayLikeObject);return i4===last2(s3)?i4=a2:s3.pop(),s3.length&&s3[0]===o4[0]?baseIntersection(s3,getIteratee(i4,2)):[]}),Er2=baseRest(function(o4){var i4=last2(o4),s3=arrayMap(o4,castArrayLikeObject);return(i4=typeof i4=="function"?i4:a2)&&s3.pop(),s3.length&&s3[0]===o4[0]?baseIntersection(s3,a2,i4):[]});function last2(o4){var i4=o4==null?0:o4.length;return i4?o4[i4-1]:a2}__name(last2,"last");var Tr2=baseRest(pullAll);function pullAll(o4,i4){return o4&&o4.length&&i4&&i4.length?basePullAll(o4,i4):o4}__name(pullAll,"pullAll");var Rr2=flatRest(function(o4,i4){var a3=o4==null?0:o4.length,s3=baseAt(o4,i4);return basePullAt(o4,arrayMap(i4,function(o5){return isIndex(o5,a3)?+o5:o5}).sort(compareAscending)),s3});function reverse(o4){return o4==null?o4:Bn2.call(o4)}__name(reverse,"reverse");var Dr2=baseRest(function(o4){return baseUniq(baseFlatten(o4,1,isArrayLikeObject,!0))}),Ir2=baseRest(function(o4){var i4=last2(o4);return isArrayLikeObject(i4)&&(i4=a2),baseUniq(baseFlatten(o4,1,isArrayLikeObject,!0),getIteratee(i4,2))}),Mr2=baseRest(function(o4){var i4=last2(o4);return i4=typeof i4=="function"?i4:a2,baseUniq(baseFlatten(o4,1,isArrayLikeObject,!0),a2,i4)});function unzip(o4){if(!o4||!o4.length)return[];var i4=0;return o4=arrayFilter(o4,function(o5){if(isArrayLikeObject(o5))return i4=Qn2(o5.length,i4),!0}),baseTimes(i4,function(i5){return arrayMap(o4,baseProperty(i5))})}__name(unzip,"unzip");function unzipWith(o4,i4){if(!o4||!o4.length)return[];var s3=unzip(o4);return i4==null?s3:arrayMap(s3,function(o5){return apply2(i4,a2,o5)})}__name(unzipWith,"unzipWith");var _r2=baseRest(function(o4,i4){return isArrayLikeObject(o4)?baseDifference(o4,i4):[]}),Ar2=baseRest(function(o4){return baseXor(arrayFilter(o4,isArrayLikeObject))}),Qr2=baseRest(function(o4){var i4=last2(o4);return isArrayLikeObject(i4)&&(i4=a2),baseXor(arrayFilter(o4,isArrayLikeObject),getIteratee(i4,2))}),Nr2=baseRest(function(o4){var i4=last2(o4);return i4=typeof i4=="function"?i4:a2,baseXor(arrayFilter(o4,isArrayLikeObject),a2,i4)}),Lr2=baseRest(unzip),$r2=baseRest(function(o4){var i4=o4.length,s3=i4>1?o4[i4-1]:a2;return s3=typeof s3=="function"?(o4.pop(),s3):a2,unzipWith(o4,s3)});function chain(o4){var i4=lodash(o4);return i4.__chain__=!0,i4}__name(chain,"chain");function thru(o4,i4){return i4(o4)}__name(thru,"thru");var Fr2=flatRest(function(o4){var i4=o4.length,s3=i4?o4[0]:0,u3=this.__wrapped__,interceptor=__name(function(i5){return baseAt(i5,o4)},"interceptor");return!(i4>1||this.__actions__.length)&&u3 instanceof LazyWrapper&&isIndex(s3)?((u3=u3.slice(s3,+s3+(i4?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:a2}),new LodashWrapper(u3,this.__chain__).thru(function(o5){return i4&&!o5.length&&o5.push(a2),o5})):this.thru(interceptor)}),Br2=createAggregator(function(o4,i4,a3){Lt3.call(o4,a3)?++o4[a3]:baseAssignValue(o4,a3,1)}),Vr2=createFind(findIndex),zr2=createFind(findLastIndex);function forEach(o4,i4){return(ao2(o4)?arrayEach:or2)(o4,getIteratee(i4,3))}__name(forEach,"forEach");function forEachRight(o4,i4){return(ao2(o4)?arrayEachRight:ir2)(o4,getIteratee(i4,3))}__name(forEachRight,"forEachRight");var jr2=createAggregator(function(o4,i4,a3){Lt3.call(o4,a3)?o4[a3].push(i4):baseAssignValue(o4,a3,[i4])}),Wr2=baseRest(function(o4,i4,a3){var s3=-1,u3=typeof i4=="function",O3=isArrayLike(o4)?ae2(o4.length):[];return or2(o4,function(o5){O3[++s3]=u3?apply2(i4,o5,a3):baseInvoke(o5,i4,a3)}),O3}),Hr2=createAggregator(function(o4,i4,a3){baseAssignValue(o4,a3,i4)});function map(o4,i4){return(ao2(o4)?arrayMap:baseMap)(o4,getIteratee(i4,3))}__name(map,"map");var Ur2=createAggregator(function(o4,i4,a3){o4[a3?0:1].push(i4)},function(){return[[],[]]}),Zr2=baseRest(function(o4,i4){if(o4==null)return[];var a3=i4.length;return a3>1&&isIterateeCall(o4,i4[0],i4[1])?i4=[]:a3>2&&isIterateeCall(i4[0],i4[1],i4[2])&&(i4=[i4[0]]),baseOrderBy(o4,baseFlatten(i4,1),[])}),qr2=fn3||function(){return vn2.Date.now()};function ary(o4,i4,s3){return i4=s3?a2:i4,i4=o4&&i4==null?o4.length:i4,createWrap(o4,x2,a2,a2,a2,a2,i4)}__name(ary,"ary");function before(o4,i4){var u3;if(typeof i4!="function")throw new It3(s2);return o4=toInteger(o4),function(){return--o4>0&&(u3=i4.apply(this,arguments)),o4<=1&&(i4=a2),u3}}__name(before,"before");var Xr2=baseRest(function(o4,i4,a3){var s3=1;if(a3.length){var u3=replaceHolders(a3,getHolder(Xr2));s3|=w2}return createWrap(o4,s3,i4,a3,u3)}),Gr2=baseRest(function(o4,i4,a3){var s3=3;if(a3.length){var u3=replaceHolders(a3,getHolder(Gr2));s3|=w2}return createWrap(i4,s3,o4,a3,u3)});function debounce(o4,i4,u3){var O3,w3,x3,C3,T3,_3,A3=0,Q3=!1,N3=!1,L3=!0;if(typeof o4!="function")throw new It3(s2);function invokeFunc(i5){var s3=O3,u4=w3;return O3=w3=a2,A3=i5,C3=o4.apply(u4,s3)}__name(invokeFunc,"invokeFunc");function shouldInvoke(o5){var s3=o5-_3;return _3===a2||s3>=i4||s3<0||N3&&o5-A3>=x3}__name(shouldInvoke,"shouldInvoke");function timerExpired(){var o5=qr2();if(shouldInvoke(o5))return trailingEdge(o5);T3=Or2(timerExpired,__name(function(o6){var a3=i4-(o6-_3);return N3?Nn2(a3,x3-(o6-A3)):a3},"remainingWait")(o5))}__name(timerExpired,"timerExpired");function trailingEdge(o5){return T3=a2,L3&&O3?invokeFunc(o5):(O3=w3=a2,C3)}__name(trailingEdge,"trailingEdge");function debounced(){var o5=qr2(),s3=shouldInvoke(o5);if(O3=arguments,w3=this,_3=o5,s3){if(T3===a2)return __name(function(o6){return A3=o6,T3=Or2(timerExpired,i4),Q3?invokeFunc(o6):C3},"leadingEdge")(_3);if(N3)return dr2(T3),T3=Or2(timerExpired,i4),invokeFunc(_3)}return T3===a2&&(T3=Or2(timerExpired,i4)),C3}return __name(debounced,"debounced"),i4=toNumber(i4)||0,isObject(u3)&&(Q3=!!u3.leading,x3=(N3="maxWait"in u3)?Qn2(toNumber(u3.maxWait)||0,i4):x3,L3="trailing"in u3?!!u3.trailing:L3),debounced.cancel=__name(function(){T3!==a2&&dr2(T3),A3=0,O3=_3=w3=T3=a2},"cancel"),debounced.flush=__name(function(){return T3===a2?C3:trailingEdge(qr2())},"flush"),debounced}__name(debounce,"debounce");var Yr2=baseRest(function(o4,i4){return baseDelay(o4,1,i4)}),Kr2=baseRest(function(o4,i4,a3){return baseDelay(o4,toNumber(i4)||0,a3)});function memoize(o4,i4){if(typeof o4!="function"||i4!=null&&typeof i4!="function")throw new It3(s2);var memoized=__name(function(){var a3=arguments,s3=i4?i4.apply(this,a3):a3[0],u3=memoized.cache;if(u3.has(s3))return u3.get(s3);var O3=o4.apply(this,a3);return memoized.cache=u3.set(s3,O3)||u3,O3},"memoized");return memoized.cache=new(memoize.Cache||MapCache),memoized}__name(memoize,"memoize");function negate2(o4){if(typeof o4!="function")throw new It3(s2);return function(){var i4=arguments;switch(i4.length){case 0:return!o4.call(this);case 1:return!o4.call(this,i4[0]);case 2:return!o4.call(this,i4[0],i4[1]);case 3:return!o4.call(this,i4[0],i4[1],i4[2])}return!o4.apply(this,i4)}}__name(negate2,"negate2"),memoize.Cache=MapCache;var Jr2=ur2(function(o4,i4){var a3=(i4=i4.length==1&&ao2(i4[0])?arrayMap(i4[0],baseUnary(getIteratee())):arrayMap(baseFlatten(i4,1),baseUnary(getIteratee()))).length;return baseRest(function(s3){for(var u3=-1,O3=Nn2(s3.length,a3);++u3<O3;)s3[u3]=i4[u3].call(this,s3[u3]);return apply2(o4,this,s3)})}),eo2=baseRest(function(o4,i4){var s3=replaceHolders(i4,getHolder(eo2));return createWrap(o4,w2,a2,i4,s3)}),to2=baseRest(function(o4,i4){var s3=replaceHolders(i4,getHolder(to2));return createWrap(o4,64,a2,i4,s3)}),no2=flatRest(function(o4,i4){return createWrap(o4,C2,a2,a2,a2,i4)});function eq(o4,i4){return o4===i4||o4!=o4&&i4!=i4}__name(eq,"eq");var ro2=createRelationalOperation(baseGt),oo2=createRelationalOperation(function(o4,i4){return o4>=i4}),io2=baseIsArguments(function(){return arguments}())?baseIsArguments:function(o4){return isObjectLike(o4)&&Lt3.call(o4,"callee")&&!Gt3.call(o4,"callee")},ao2=ae2.isArray,so2=xn2?baseUnary(xn2):__name(function(o4){return isObjectLike(o4)&&baseGetTag(o4)==fe2},"baseIsArrayBuffer");function isArrayLike(o4){return o4!=null&&isLength(o4.length)&&!isFunction(o4)}__name(isArrayLike,"isArrayLike");function isArrayLikeObject(o4){return isObjectLike(o4)&&isArrayLike(o4)}__name(isArrayLikeObject,"isArrayLikeObject");var lo2=Sn3||stubFalse,co2=kn2?baseUnary(kn2):__name(function(o4){return isObjectLike(o4)&&baseGetTag(o4)==B2},"baseIsDate");function isError(o4){if(!isObjectLike(o4))return!1;var i4=baseGetTag(o4);return i4==V2||i4=="[object DOMException]"||typeof o4.message=="string"&&typeof o4.name=="string"&&!isPlainObject(o4)}__name(isError,"isError");function isFunction(o4){if(!isObject(o4))return!1;var i4=baseGetTag(o4);return i4==z2||i4==j2||i4=="[object AsyncFunction]"||i4=="[object Proxy]"}__name(isFunction,"isFunction");function isInteger(o4){return typeof o4=="number"&&o4==toInteger(o4)}__name(isInteger,"isInteger");function isLength(o4){return typeof o4=="number"&&o4>-1&&o4%1==0&&o4<=_2}__name(isLength,"isLength");function isObject(o4){var i4=typeof o4;return o4!=null&&(i4=="object"||i4=="function")}__name(isObject,"isObject");function isObjectLike(o4){return o4!=null&&typeof o4=="object"}__name(isObjectLike,"isObjectLike");var uo2=Cn2?baseUnary(Cn2):__name(function(o4){return isObjectLike(o4)&&mr2(o4)==U2},"baseIsMap");function isNumber(o4){return typeof o4=="number"||isObjectLike(o4)&&baseGetTag(o4)==Z2}__name(isNumber,"isNumber");function isPlainObject(o4){if(!isObjectLike(o4)||baseGetTag(o4)!=X2)return!1;var i4=qt3(o4);if(i4===null)return!0;var a3=Lt3.call(i4,"constructor")&&i4.constructor;return typeof a3=="function"&&a3 instanceof a3&&Nt3.call(a3)==Vt3}__name(isPlainObject,"isPlainObject");var fo2=Pn2?baseUnary(Pn2):__name(function(o4){return isObjectLike(o4)&&baseGetTag(o4)==ee2},"baseIsRegExp"),po2=En2?baseUnary(En2):__name(function(o4){return isObjectLike(o4)&&mr2(o4)==ie2},"baseIsSet");function isString(o4){return typeof o4=="string"||!ao2(o4)&&isObjectLike(o4)&&baseGetTag(o4)==le2}__name(isString,"isString");function isSymbol(o4){return typeof o4=="symbol"||isObjectLike(o4)&&baseGetTag(o4)==ce2}__name(isSymbol,"isSymbol");var ho2=Tn2?baseUnary(Tn2):__name(function(o4){return isObjectLike(o4)&&isLength(o4.length)&&!!un2[baseGetTag(o4)]},"baseIsTypedArray"),mo2=createRelationalOperation(baseLt),vo2=createRelationalOperation(function(o4,i4){return o4<=i4});function toArray(o4){if(!o4)return[];if(isArrayLike(o4))return isString(o4)?stringToArray(o4):copyArray(o4);if(Jt3&&o4[Jt3])return __name(function(o5){for(var i5,a3=[];!(i5=o5.next()).done;)a3.push(i5.value);return a3},"iteratorToArray")(o4[Jt3]());var i4=mr2(o4);return(i4==U2?mapToArray:i4==ie2?setToArray:values)(o4)}__name(toArray,"toArray");function toFinite(o4){return o4?(o4=toNumber(o4))===T2||o4===-1/0?17976931348623157e292*(o4<0?-1:1):o4==o4?o4:0:o4===0?o4:0}__name(toFinite,"toFinite");function toInteger(o4){var i4=toFinite(o4),a3=i4%1;return i4==i4?a3?i4-a3:i4:0}__name(toInteger,"toInteger");function toLength(o4){return o4?baseClamp(toInteger(o4),0,Q2):0}__name(toLength,"toLength");function toNumber(o4){if(typeof o4=="number")return o4;if(isSymbol(o4))return A2;if(isObject(o4)){var i4=typeof o4.valueOf=="function"?o4.valueOf():o4;o4=isObject(i4)?i4+"":i4}if(typeof o4!="string")return o4===0?o4:+o4;o4=baseTrim(o4);var a3=yt2.test(o4);return a3||bt2.test(o4)?hn2(o4.slice(2),a3?2:8):vt2.test(o4)?A2:+o4}__name(toNumber,"toNumber");function toPlainObject(o4){return copyObject(o4,keysIn(o4))}__name(toPlainObject,"toPlainObject");function toString2(o4){return o4==null?"":baseToString(o4)}__name(toString2,"toString2");var yo2=createAssigner(function(o4,i4){if(isPrototype(i4)||isArrayLike(i4))copyObject(i4,keys(i4),o4);else for(var a3 in i4)Lt3.call(i4,a3)&&assignValue(o4,a3,i4[a3])}),Oo2=createAssigner(function(o4,i4){copyObject(i4,keysIn(i4),o4)}),bo2=createAssigner(function(o4,i4,a3,s3){copyObject(i4,keysIn(i4),o4,s3)}),So2=createAssigner(function(o4,i4,a3,s3){copyObject(i4,keys(i4),o4,s3)}),wo2=flatRest(baseAt),xo2=baseRest(function(o4,i4){o4=Tt3(o4);var s3=-1,u3=i4.length,O3=u3>2?i4[2]:a2;for(O3&&isIterateeCall(i4[0],i4[1],O3)&&(u3=1);++s3<u3;)for(var w3=i4[s3],x3=keysIn(w3),C3=-1,T3=x3.length;++C3<T3;){var _3=x3[C3],A3=o4[_3];(A3===a2||eq(A3,At3[_3])&&!Lt3.call(o4,_3))&&(o4[_3]=w3[_3])}return o4}),ko2=baseRest(function(o4){return o4.push(a2,customDefaultsMerge),apply2(Ro2,a2,o4)});function get(o4,i4,s3){var u3=o4==null?a2:baseGet(o4,i4);return u3===a2?s3:u3}__name(get,"get");function hasIn(o4,i4){return o4!=null&&hasPath(o4,i4,baseHasIn)}__name(hasIn,"hasIn");var Co2=createInverter(function(o4,i4,a3){i4!=null&&typeof i4.toString!="function"&&(i4=Bt3.call(i4)),o4[i4]=a3},constant(identity)),Po2=createInverter(function(o4,i4,a3){i4!=null&&typeof i4.toString!="function"&&(i4=Bt3.call(i4)),Lt3.call(o4,i4)?o4[i4].push(a3):o4[i4]=[a3]},getIteratee),Eo2=baseRest(baseInvoke);function keys(o4){return isArrayLike(o4)?arrayLikeKeys(o4):baseKeys(o4)}__name(keys,"keys");function keysIn(o4){return isArrayLike(o4)?arrayLikeKeys(o4,!0):baseKeysIn(o4)}__name(keysIn,"keysIn");var To2=createAssigner(function(o4,i4,a3){baseMerge(o4,i4,a3)}),Ro2=createAssigner(function(o4,i4,a3,s3){baseMerge(o4,i4,a3,s3)}),Do2=flatRest(function(o4,i4){var a3={};if(o4==null)return a3;var s3=!1;i4=arrayMap(i4,function(i5){return i5=castPath(i5,o4),s3||(s3=i5.length>1),i5}),copyObject(o4,getAllKeysIn(o4),a3),s3&&(a3=baseClone(a3,7,customOmitClone));for(var u3=i4.length;u3--;)baseUnset(a3,i4[u3]);return a3}),Io2=flatRest(function(o4,i4){return o4==null?{}:__name(function(o5,i5){return basePickBy(o5,i5,function(i6,a3){return hasIn(o5,a3)})},"basePick")(o4,i4)});function pickBy(o4,i4){if(o4==null)return{};var a3=arrayMap(getAllKeysIn(o4),function(o5){return[o5]});return i4=getIteratee(i4),basePickBy(o4,a3,function(o5,a4){return i4(o5,a4[0])})}__name(pickBy,"pickBy");var Mo2=createToPairs(keys),_o2=createToPairs(keysIn);function values(o4){return o4==null?[]:baseValues(o4,keys(o4))}__name(values,"values");var Ao2=createCompounder(function(o4,i4,a3){return i4=i4.toLowerCase(),o4+(a3?capitalize(i4):i4)});function capitalize(o4){return Vo2(toString2(o4).toLowerCase())}__name(capitalize,"capitalize");function deburr(o4){return(o4=toString2(o4))&&o4.replace(wt2,Dn2).replace(nn2,"")}__name(deburr,"deburr");var Qo2=createCompounder(function(o4,i4,a3){return o4+(a3?"-":"")+i4.toLowerCase()}),No2=createCompounder(function(o4,i4,a3){return o4+(a3?" ":"")+i4.toLowerCase()}),Lo2=createCaseFirst("toLowerCase"),$o2=createCompounder(function(o4,i4,a3){return o4+(a3?"_":"")+i4.toLowerCase()}),Fo2=createCompounder(function(o4,i4,a3){return o4+(a3?" ":"")+Vo2(i4)}),Bo2=createCompounder(function(o4,i4,a3){return o4+(a3?" ":"")+i4.toUpperCase()}),Vo2=createCaseFirst("toUpperCase");function words(o4,i4,s3){return o4=toString2(o4),(i4=s3?a2:i4)===a2?__name(function(o5){return sn2.test(o5)},"hasUnicodeWord")(o4)?__name(function(o5){return o5.match(on2)||[]},"unicodeWords")(o4):__name(function(o5){return o5.match(ft2)||[]},"asciiWords")(o4):o4.match(i4)||[]}__name(words,"words");var zo2=baseRest(function(o4,i4){try{return apply2(o4,a2,i4)}catch(o5){return isError(o5)?o5:new Ct3(o5)}}),jo2=flatRest(function(o4,i4){return arrayEach(i4,function(i5){i5=toKey(i5),baseAssignValue(o4,i5,Xr2(o4[i5],o4))}),o4});function constant(o4){return function(){return o4}}__name(constant,"constant");var Wo2=createFlow(),Ho2=createFlow(!0);function identity(o4){return o4}__name(identity,"identity");function iteratee(o4){return baseIteratee(typeof o4=="function"?o4:baseClone(o4,1))}__name(iteratee,"iteratee");var Uo2=baseRest(function(o4,i4){return function(a3){return baseInvoke(a3,o4,i4)}}),Zo2=baseRest(function(o4,i4){return function(a3){return baseInvoke(o4,a3,i4)}});function mixin(o4,i4,a3){var s3=keys(i4),u3=baseFunctions(i4,s3);a3!=null||isObject(i4)&&(u3.length||!s3.length)||(a3=i4,i4=o4,o4=this,u3=baseFunctions(i4,keys(i4)));var O3=!(isObject(a3)&&"chain"in a3&&!a3.chain),w3=isFunction(o4);return arrayEach(u3,function(a4){var s4=i4[a4];o4[a4]=s4,w3&&(o4.prototype[a4]=function(){var i5=this.__chain__;if(O3||i5){var a5=o4(this.__wrapped__);return(a5.__actions__=copyArray(this.__actions__)).push({func:s4,args:arguments,thisArg:o4}),a5.__chain__=i5,a5}return s4.apply(o4,arrayPush([this.value()],arguments))})}),o4}__name(mixin,"mixin");function noop2(){}__name(noop2,"noop2");var qo2=createOver(arrayMap),Xo2=createOver(arrayEvery),Go2=createOver(arraySome);function property(o4){return isKey(o4)?baseProperty(toKey(o4)):__name(function(o5){return function(i4){return baseGet(i4,o5)}},"basePropertyDeep")(o4)}__name(property,"property");var Yo2=createRange(),Ko2=createRange(!0);function stubArray(){return[]}__name(stubArray,"stubArray");function stubFalse(){return!1}__name(stubFalse,"stubFalse");var Jo2,Oi2=createMathOperation(function(o4,i4){return o4+i4},0),Pi2=createRound("ceil"),Ei2=createMathOperation(function(o4,i4){return o4/i4},1),Ri2=createRound("floor"),Mi2=createMathOperation(function(o4,i4){return o4*i4},1),_i2=createRound("round"),Wi2=createMathOperation(function(o4,i4){return o4-i4},0);return lodash.after=__name(function(o4,i4){if(typeof i4!="function")throw new It3(s2);return o4=toInteger(o4),function(){if(--o4<1)return i4.apply(this,arguments)}},"after"),lodash.ary=ary,lodash.assign=yo2,lodash.assignIn=Oo2,lodash.assignInWith=bo2,lodash.assignWith=So2,lodash.at=wo2,lodash.before=before,lodash.bind=Xr2,lodash.bindAll=jo2,lodash.bindKey=Gr2,lodash.castArray=__name(function(){if(!arguments.length)return[];var o4=arguments[0];return ao2(o4)?o4:[o4]},"castArray"),lodash.chain=chain,lodash.chunk=__name(function(o4,i4,s3){i4=(s3?isIterateeCall(o4,i4,s3):i4===a2)?1:Qn2(toInteger(i4),0);var u3=o4==null?0:o4.length;if(!u3||i4<1)return[];for(var O3=0,w3=0,x3=ae2(mn3(u3/i4));O3<u3;)x3[w3++]=baseSlice(o4,O3,O3+=i4);return x3},"chunk"),lodash.compact=__name(function(o4){for(var i4=-1,a3=o4==null?0:o4.length,s3=0,u3=[];++i4<a3;){var O3=o4[i4];O3&&(u3[s3++]=O3)}return u3},"compact"),lodash.concat=__name(function(){var o4=arguments.length;if(!o4)return[];for(var i4=ae2(o4-1),a3=arguments[0],s3=o4;s3--;)i4[s3-1]=arguments[s3];return arrayPush(ao2(a3)?copyArray(a3):[a3],baseFlatten(i4,1))},"concat"),lodash.cond=__name(function(o4){var i4=o4==null?0:o4.length,a3=getIteratee();return o4=i4?arrayMap(o4,function(o5){if(typeof o5[1]!="function")throw new It3(s2);return[a3(o5[0]),o5[1]]}):[],baseRest(function(a4){for(var s3=-1;++s3<i4;){var u3=o4[s3];if(apply2(u3[0],this,a4))return apply2(u3[1],this,a4)}})},"cond"),lodash.conforms=__name(function(o4){return __name(function(o5){var i4=keys(o5);return function(a3){return baseConformsTo(a3,o5,i4)}},"baseConforms")(baseClone(o4,1))},"conforms"),lodash.constant=constant,lodash.countBy=Br2,lodash.create=__name(function(o4,i4){var a3=rr2(o4);return i4==null?a3:baseAssign(a3,i4)},"create"),lodash.curry=__name(function curry(o4,i4,s3){var u3=createWrap(o4,8,a2,a2,a2,a2,a2,i4=s3?a2:i4);return u3.placeholder=curry.placeholder,u3},"curry"),lodash.curryRight=__name(function curryRight(o4,i4,s3){var u3=createWrap(o4,16,a2,a2,a2,a2,a2,i4=s3?a2:i4);return u3.placeholder=curryRight.placeholder,u3},"curryRight"),lodash.debounce=debounce,lodash.defaults=xo2,lodash.defaultsDeep=ko2,lodash.defer=Yr2,lodash.delay=Kr2,lodash.difference=wr2,lodash.differenceBy=xr2,lodash.differenceWith=kr2,lodash.drop=__name(function(o4,i4,s3){var u3=o4==null?0:o4.length;return u3?baseSlice(o4,(i4=s3||i4===a2?1:toInteger(i4))<0?0:i4,u3):[]},"drop2"),lodash.dropRight=__name(function(o4,i4,s3){var u3=o4==null?0:o4.length;return u3?baseSlice(o4,0,(i4=u3-(i4=s3||i4===a2?1:toInteger(i4)))<0?0:i4):[]},"dropRight"),lodash.dropRightWhile=__name(function(o4,i4){return o4&&o4.length?baseWhile(o4,getIteratee(i4,3),!0,!0):[]},"dropRightWhile"),lodash.dropWhile=__name(function(o4,i4){return o4&&o4.length?baseWhile(o4,getIteratee(i4,3),!0):[]},"dropWhile"),lodash.fill=__name(function(o4,i4,s3,u3){var O3=o4==null?0:o4.length;return O3?(s3&&typeof s3!="number"&&isIterateeCall(o4,i4,s3)&&(s3=0,u3=O3),__name(function(o5,i5,s4,u4){var O4=o5.length;for((s4=toInteger(s4))<0&&(s4=-s4>O4?0:O4+s4),(u4=u4===a2||u4>O4?O4:toInteger(u4))<0&&(u4+=O4),u4=s4>u4?0:toLength(u4);s4<u4;)o5[s4++]=i5;return o5},"baseFill")(o4,i4,s3,u3)):[]},"fill"),lodash.filter=__name(function(o4,i4){return(ao2(o4)?arrayFilter:baseFilter)(o4,getIteratee(i4,3))},"filter"),lodash.flatMap=__name(function(o4,i4){return baseFlatten(map(o4,i4),1)},"flatMap"),lodash.flatMapDeep=__name(function(o4,i4){return baseFlatten(map(o4,i4),T2)},"flatMapDeep"),lodash.flatMapDepth=__name(function(o4,i4,s3){return s3=s3===a2?1:toInteger(s3),baseFlatten(map(o4,i4),s3)},"flatMapDepth"),lodash.flatten=flatten,lodash.flattenDeep=__name(function(o4){return o4!=null&&o4.length?baseFlatten(o4,T2):[]},"flattenDeep"),lodash.flattenDepth=__name(function(o4,i4){return o4!=null&&o4.length?baseFlatten(o4,i4=i4===a2?1:toInteger(i4)):[]},"flattenDepth"),lodash.flip=__name(function(o4){return createWrap(o4,512)},"flip"),lodash.flow=Wo2,lodash.flowRight=Ho2,lodash.fromPairs=__name(function(o4){for(var i4=-1,a3=o4==null?0:o4.length,s3={};++i4<a3;){var u3=o4[i4];s3[u3[0]]=u3[1]}return s3},"fromPairs"),lodash.functions=__name(function(o4){return o4==null?[]:baseFunctions(o4,keys(o4))},"functions"),lodash.functionsIn=__name(function(o4){return o4==null?[]:baseFunctions(o4,keysIn(o4))},"functionsIn"),lodash.groupBy=jr2,lodash.initial=__name(function(o4){return o4!=null&&o4.length?baseSlice(o4,0,-1):[]},"initial"),lodash.intersection=Cr2,lodash.intersectionBy=Pr2,lodash.intersectionWith=Er2,lodash.invert=Co2,lodash.invertBy=Po2,lodash.invokeMap=Wr2,lodash.iteratee=iteratee,lodash.keyBy=Hr2,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=__name(function(o4,i4){var a3={};return i4=getIteratee(i4,3),baseForOwn(o4,function(o5,s3,u3){baseAssignValue(a3,i4(o5,s3,u3),o5)}),a3},"mapKeys"),lodash.mapValues=__name(function(o4,i4){var a3={};return i4=getIteratee(i4,3),baseForOwn(o4,function(o5,s3,u3){baseAssignValue(a3,s3,i4(o5,s3,u3))}),a3},"mapValues"),lodash.matches=__name(function(o4){return baseMatches(baseClone(o4,1))},"matches"),lodash.matchesProperty=__name(function(o4,i4){return baseMatchesProperty(o4,baseClone(i4,1))},"matchesProperty"),lodash.memoize=memoize,lodash.merge=To2,lodash.mergeWith=Ro2,lodash.method=Uo2,lodash.methodOf=Zo2,lodash.mixin=mixin,lodash.negate=negate2,lodash.nthArg=__name(function(o4){return o4=toInteger(o4),baseRest(function(i4){return baseNth(i4,o4)})},"nthArg"),lodash.omit=Do2,lodash.omitBy=__name(function(o4,i4){return pickBy(o4,negate2(getIteratee(i4)))},"omitBy"),lodash.once=__name(function(o4){return before(2,o4)},"once"),lodash.orderBy=__name(function(o4,i4,s3,u3){return o4==null?[]:(ao2(i4)||(i4=i4==null?[]:[i4]),ao2(s3=u3?a2:s3)||(s3=s3==null?[]:[s3]),baseOrderBy(o4,i4,s3))},"orderBy"),lodash.over=qo2,lodash.overArgs=Jr2,lodash.overEvery=Xo2,lodash.overSome=Go2,lodash.partial=eo2,lodash.partialRight=to2,lodash.partition=Ur2,lodash.pick=Io2,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=__name(function(o4){return function(i4){return o4==null?a2:baseGet(o4,i4)}},"propertyOf"),lodash.pull=Tr2,lodash.pullAll=pullAll,lodash.pullAllBy=__name(function(o4,i4,a3){return o4&&o4.length&&i4&&i4.length?basePullAll(o4,i4,getIteratee(a3,2)):o4},"pullAllBy"),lodash.pullAllWith=__name(function(o4,i4,s3){return o4&&o4.length&&i4&&i4.length?basePullAll(o4,i4,a2,s3):o4},"pullAllWith"),lodash.pullAt=Rr2,lodash.range=Yo2,lodash.rangeRight=Ko2,lodash.rearg=no2,lodash.reject=__name(function(o4,i4){return(ao2(o4)?arrayFilter:baseFilter)(o4,negate2(getIteratee(i4,3)))},"reject"),lodash.remove=__name(function(o4,i4){var a3=[];if(!o4||!o4.length)return a3;var s3=-1,u3=[],O3=o4.length;for(i4=getIteratee(i4,3);++s3<O3;){var w3=o4[s3];i4(w3,s3,o4)&&(a3.push(w3),u3.push(s3))}return basePullAt(o4,u3),a3},"remove2"),lodash.rest=__name(function(o4,i4){if(typeof o4!="function")throw new It3(s2);return baseRest(o4,i4=i4===a2?i4:toInteger(i4))},"rest"),lodash.reverse=reverse,lodash.sampleSize=__name(function(o4,i4,s3){return i4=(s3?isIterateeCall(o4,i4,s3):i4===a2)?1:toInteger(i4),(ao2(o4)?arraySampleSize:baseSampleSize)(o4,i4)},"sampleSize"),lodash.set=__name(function(o4,i4,a3){return o4==null?o4:baseSet(o4,i4,a3)},"set"),lodash.setWith=__name(function(o4,i4,s3,u3){return u3=typeof u3=="function"?u3:a2,o4==null?o4:baseSet(o4,i4,s3,u3)},"setWith"),lodash.shuffle=__name(function(o4){return(ao2(o4)?arrayShuffle:baseShuffle)(o4)},"shuffle"),lodash.slice=__name(function(o4,i4,s3){var u3=o4==null?0:o4.length;return u3?(s3&&typeof s3!="number"&&isIterateeCall(o4,i4,s3)?(i4=0,s3=u3):(i4=i4==null?0:toInteger(i4),s3=s3===a2?u3:toInteger(s3)),baseSlice(o4,i4,s3)):[]},"slice"),lodash.sortBy=Zr2,lodash.sortedUniq=__name(function(o4){return o4&&o4.length?baseSortedUniq(o4):[]},"sortedUniq"),lodash.sortedUniqBy=__name(function(o4,i4){return o4&&o4.length?baseSortedUniq(o4,getIteratee(i4,2)):[]},"sortedUniqBy"),lodash.split=__name(function(o4,i4,s3){return s3&&typeof s3!="number"&&isIterateeCall(o4,i4,s3)&&(i4=s3=a2),(s3=s3===a2?Q2:s3>>>0)?(o4=toString2(o4))&&(typeof i4=="string"||i4!=null&&!fo2(i4))&&!(i4=baseToString(i4))&&hasUnicode(o4)?castSlice(stringToArray(o4),0,s3):o4.split(i4,s3):[]},"split"),lodash.spread=__name(function(o4,i4){if(typeof o4!="function")throw new It3(s2);return i4=i4==null?0:Qn2(toInteger(i4),0),baseRest(function(a3){var s3=a3[i4],u3=castSlice(a3,0,i4);return s3&&arrayPush(u3,s3),apply2(o4,this,u3)})},"spread"),lodash.tail=__name(function(o4){var i4=o4==null?0:o4.length;return i4?baseSlice(o4,1,i4):[]},"tail"),lodash.take=__name(function(o4,i4,s3){return o4&&o4.length?baseSlice(o4,0,(i4=s3||i4===a2?1:toInteger(i4))<0?0:i4):[]},"take"),lodash.takeRight=__name(function(o4,i4,s3){var u3=o4==null?0:o4.length;return u3?baseSlice(o4,(i4=u3-(i4=s3||i4===a2?1:toInteger(i4)))<0?0:i4,u3):[]},"takeRight"),lodash.takeRightWhile=__name(function(o4,i4){return o4&&o4.length?baseWhile(o4,getIteratee(i4,3),!1,!0):[]},"takeRightWhile"),lodash.takeWhile=__name(function(o4,i4){return o4&&o4.length?baseWhile(o4,getIteratee(i4,3)):[]},"takeWhile"),lodash.tap=__name(function(o4,i4){return i4(o4),o4},"tap"),lodash.throttle=__name(function(o4,i4,a3){var u3=!0,O3=!0;if(typeof o4!="function")throw new It3(s2);return isObject(a3)&&(u3="leading"in a3?!!a3.leading:u3,O3="trailing"in a3?!!a3.trailing:O3),debounce(o4,i4,{leading:u3,maxWait:i4,trailing:O3})},"throttle"),lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=Mo2,lodash.toPairsIn=_o2,lodash.toPath=__name(function(o4){return ao2(o4)?arrayMap(o4,toKey):isSymbol(o4)?[o4]:copyArray(Sr2(toString2(o4)))},"toPath"),lodash.toPlainObject=toPlainObject,lodash.transform=__name(function(o4,i4,a3){var s3=ao2(o4),u3=s3||lo2(o4)||ho2(o4);if(i4=getIteratee(i4,4),a3==null){var O3=o4&&o4.constructor;a3=u3?s3?new O3:[]:isObject(o4)&&isFunction(O3)?rr2(qt3(o4)):{}}return(u3?arrayEach:baseForOwn)(o4,function(o5,s4,u4){return i4(a3,o5,s4,u4)}),a3},"transform"),lodash.unary=__name(function(o4){return ary(o4,1)},"unary"),lodash.union=Dr2,lodash.unionBy=Ir2,lodash.unionWith=Mr2,lodash.uniq=__name(function(o4){return o4&&o4.length?baseUniq(o4):[]},"uniq"),lodash.uniqBy=__name(function(o4,i4){return o4&&o4.length?baseUniq(o4,getIteratee(i4,2)):[]},"uniqBy"),lodash.uniqWith=__name(function(o4,i4){return i4=typeof i4=="function"?i4:a2,o4&&o4.length?baseUniq(o4,a2,i4):[]},"uniqWith"),lodash.unset=__name(function(o4,i4){return o4==null||baseUnset(o4,i4)},"unset"),lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=__name(function(o4,i4,a3){return o4==null?o4:baseUpdate(o4,i4,castFunction(a3))},"update2"),lodash.updateWith=__name(function(o4,i4,s3,u3){return u3=typeof u3=="function"?u3:a2,o4==null?o4:baseUpdate(o4,i4,castFunction(s3),u3)},"updateWith"),lodash.values=values,lodash.valuesIn=__name(function(o4){return o4==null?[]:baseValues(o4,keysIn(o4))},"valuesIn"),lodash.without=_r2,lodash.words=words,lodash.wrap=__name(function(o4,i4){return eo2(castFunction(i4),o4)},"wrap"),lodash.xor=Ar2,lodash.xorBy=Qr2,lodash.xorWith=Nr2,lodash.zip=Lr2,lodash.zipObject=__name(function(o4,i4){return baseZipObject(o4||[],i4||[],assignValue)},"zipObject"),lodash.zipObjectDeep=__name(function(o4,i4){return baseZipObject(o4||[],i4||[],baseSet)},"zipObjectDeep"),lodash.zipWith=$r2,lodash.entries=Mo2,lodash.entriesIn=_o2,lodash.extend=Oo2,lodash.extendWith=bo2,mixin(lodash,lodash),lodash.add=Oi2,lodash.attempt=zo2,lodash.camelCase=Ao2,lodash.capitalize=capitalize,lodash.ceil=Pi2,lodash.clamp=__name(function(o4,i4,s3){return s3===a2&&(s3=i4,i4=a2),s3!==a2&&(s3=(s3=toNumber(s3))==s3?s3:0),i4!==a2&&(i4=(i4=toNumber(i4))==i4?i4:0),baseClamp(toNumber(o4),i4,s3)},"clamp2"),lodash.clone=__name(function(o4){return baseClone(o4,4)},"clone"),lodash.cloneDeep=__name(function(o4){return baseClone(o4,5)},"cloneDeep"),lodash.cloneDeepWith=__name(function(o4,i4){return baseClone(o4,5,i4=typeof i4=="function"?i4:a2)},"cloneDeepWith"),lodash.cloneWith=__name(function(o4,i4){return baseClone(o4,4,i4=typeof i4=="function"?i4:a2)},"cloneWith"),lodash.conformsTo=__name(function(o4,i4){return i4==null||baseConformsTo(o4,i4,keys(i4))},"conformsTo"),lodash.deburr=deburr,lodash.defaultTo=__name(function(o4,i4){return o4==null||o4!=o4?i4:o4},"defaultTo"),lodash.divide=Ei2,lodash.endsWith=__name(function(o4,i4,s3){o4=toString2(o4),i4=baseToString(i4);var u3=o4.length,O3=s3=s3===a2?u3:baseClamp(toInteger(s3),0,u3);return(s3-=i4.length)>=0&&o4.slice(s3,O3)==i4},"endsWith"),lodash.eq=eq,lodash.escape=__name(function(o4){return(o4=toString2(o4))&&Xe2.test(o4)?o4.replace(He2,In2):o4},"escape"),lodash.escapeRegExp=__name(function(o4){return(o4=toString2(o4))&&at2.test(o4)?o4.replace(it2,"\\$&"):o4},"escapeRegExp"),lodash.every=__name(function(o4,i4,s3){var u3=ao2(o4)?arrayEvery:baseEvery;return s3&&isIterateeCall(o4,i4,s3)&&(i4=a2),u3(o4,getIteratee(i4,3))},"every"),lodash.find=Vr2,lodash.findIndex=findIndex,lodash.findKey=__name(function(o4,i4){return baseFindKey(o4,getIteratee(i4,3),baseForOwn)},"findKey"),lodash.findLast=zr2,lodash.findLastIndex=findLastIndex,lodash.findLastKey=__name(function(o4,i4){return baseFindKey(o4,getIteratee(i4,3),baseForOwnRight)},"findLastKey"),lodash.floor=Ri2,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=__name(function(o4,i4){return o4==null?o4:ar2(o4,getIteratee(i4,3),keysIn)},"forIn"),lodash.forInRight=__name(function(o4,i4){return o4==null?o4:sr2(o4,getIteratee(i4,3),keysIn)},"forInRight"),lodash.forOwn=__name(function(o4,i4){return o4&&baseForOwn(o4,getIteratee(i4,3))},"forOwn"),lodash.forOwnRight=__name(function(o4,i4){return o4&&baseForOwnRight(o4,getIteratee(i4,3))},"forOwnRight"),lodash.get=get,lodash.gt=ro2,lodash.gte=oo2,lodash.has=__name(function(o4,i4){return o4!=null&&hasPath(o4,i4,baseHas)},"has"),lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=__name(function(o4,i4,a3,s3){o4=isArrayLike(o4)?o4:values(o4),a3=a3&&!s3?toInteger(a3):0;var u3=o4.length;return a3<0&&(a3=Qn2(u3+a3,0)),isString(o4)?a3<=u3&&o4.indexOf(i4,a3)>-1:!!u3&&baseIndexOf(o4,i4,a3)>-1},"includes"),lodash.indexOf=__name(function(o4,i4,a3){var s3=o4==null?0:o4.length;if(!s3)return-1;var u3=a3==null?0:toInteger(a3);return u3<0&&(u3=Qn2(s3+u3,0)),baseIndexOf(o4,i4,u3)},"indexOf"),lodash.inRange=__name(function(o4,i4,s3){return i4=toFinite(i4),s3===a2?(s3=i4,i4=0):s3=toFinite(s3),__name(function(o5,i5,a3){return o5>=Nn2(i5,a3)&&o5<Qn2(i5,a3)},"baseInRange")(o4=toNumber(o4),i4,s3)},"inRange"),lodash.invoke=Eo2,lodash.isArguments=io2,lodash.isArray=ao2,lodash.isArrayBuffer=so2,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=__name(function(o4){return o4===!0||o4===!1||isObjectLike(o4)&&baseGetTag(o4)==F2},"isBoolean2"),lodash.isBuffer=lo2,lodash.isDate=co2,lodash.isElement=__name(function(o4){return isObjectLike(o4)&&o4.nodeType===1&&!isPlainObject(o4)},"isElement"),lodash.isEmpty=__name(function(o4){if(o4==null)return!0;if(isArrayLike(o4)&&(ao2(o4)||typeof o4=="string"||typeof o4.splice=="function"||lo2(o4)||ho2(o4)||io2(o4)))return!o4.length;var i4=mr2(o4);if(i4==U2||i4==ie2)return!o4.size;if(isPrototype(o4))return!baseKeys(o4).length;for(var a3 in o4)if(Lt3.call(o4,a3))return!1;return!0},"isEmpty"),lodash.isEqual=__name(function(o4,i4){return baseIsEqual(o4,i4)},"isEqual2"),lodash.isEqualWith=__name(function(o4,i4,s3){var u3=(s3=typeof s3=="function"?s3:a2)?s3(o4,i4):a2;return u3===a2?baseIsEqual(o4,i4,a2,s3):!!u3},"isEqualWith"),lodash.isError=isError,lodash.isFinite=__name(function(o4){return typeof o4=="number"&&wn3(o4)},"isFinite2"),lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=uo2,lodash.isMatch=__name(function(o4,i4){return o4===i4||baseIsMatch(o4,i4,getMatchData(i4))},"isMatch"),lodash.isMatchWith=__name(function(o4,i4,s3){return s3=typeof s3=="function"?s3:a2,baseIsMatch(o4,i4,getMatchData(i4),s3)},"isMatchWith"),lodash.isNaN=__name(function(o4){return isNumber(o4)&&o4!=+o4},"isNaN2"),lodash.isNative=__name(function(o4){if(vr2(o4))throw new Ct3("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(o4)},"isNative"),lodash.isNil=__name(function(o4){return o4==null},"isNil"),lodash.isNull=__name(function(o4){return o4===null},"isNull"),lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=fo2,lodash.isSafeInteger=__name(function(o4){return isInteger(o4)&&o4>=-9007199254740991&&o4<=_2},"isSafeInteger"),lodash.isSet=po2,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=ho2,lodash.isUndefined=__name(function(o4){return o4===a2},"isUndefined"),lodash.isWeakMap=__name(function(o4){return isObjectLike(o4)&&mr2(o4)==de2},"isWeakMap"),lodash.isWeakSet=__name(function(o4){return isObjectLike(o4)&&baseGetTag(o4)=="[object WeakSet]"},"isWeakSet"),lodash.join=__name(function(o4,i4){return o4==null?"":Rn3.call(o4,i4)},"join"),lodash.kebabCase=Qo2,lodash.last=last2,lodash.lastIndexOf=__name(function(o4,i4,s3){var u3=o4==null?0:o4.length;if(!u3)return-1;var O3=u3;return s3!==a2&&(O3=(O3=toInteger(s3))<0?Qn2(u3+O3,0):Nn2(O3,u3-1)),i4==i4?__name(function(o5,i5,a3){for(var s4=a3+1;s4--;)if(o5[s4]===i5)return s4;return s4},"strictLastIndexOf")(o4,i4,O3):baseFindIndex(o4,baseIsNaN,O3,!0)},"lastIndexOf"),lodash.lowerCase=No2,lodash.lowerFirst=Lo2,lodash.lt=mo2,lodash.lte=vo2,lodash.max=__name(function(o4){return o4&&o4.length?baseExtremum(o4,identity,baseGt):a2},"max"),lodash.maxBy=__name(function(o4,i4){return o4&&o4.length?baseExtremum(o4,getIteratee(i4,2),baseGt):a2},"maxBy"),lodash.mean=__name(function(o4){return baseMean(o4,identity)},"mean"),lodash.meanBy=__name(function(o4,i4){return baseMean(o4,getIteratee(i4,2))},"meanBy"),lodash.min=__name(function(o4){return o4&&o4.length?baseExtremum(o4,identity,baseLt):a2},"min"),lodash.minBy=__name(function(o4,i4){return o4&&o4.length?baseExtremum(o4,getIteratee(i4,2),baseLt):a2},"minBy"),lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=__name(function(){return{}},"stubObject"),lodash.stubString=__name(function(){return""},"stubString"),lodash.stubTrue=__name(function(){return!0},"stubTrue"),lodash.multiply=Mi2,lodash.nth=__name(function(o4,i4){return o4&&o4.length?baseNth(o4,toInteger(i4)):a2},"nth"),lodash.noConflict=__name(function(){return vn2._===this&&(vn2._=zt3),this},"noConflict"),lodash.noop=noop2,lodash.now=qr2,lodash.pad=__name(function(o4,i4,a3){o4=toString2(o4);var s3=(i4=toInteger(i4))?stringSize(o4):0;if(!i4||s3>=i4)return o4;var u3=(i4-s3)/2;return createPadding(yn3(u3),a3)+o4+createPadding(mn3(u3),a3)},"pad"),lodash.padEnd=__name(function(o4,i4,a3){o4=toString2(o4);var s3=(i4=toInteger(i4))?stringSize(o4):0;return i4&&s3<i4?o4+createPadding(i4-s3,a3):o4},"padEnd"),lodash.padStart=__name(function(o4,i4,a3){o4=toString2(o4);var s3=(i4=toInteger(i4))?stringSize(o4):0;return i4&&s3<i4?createPadding(i4-s3,a3)+o4:o4},"padStart"),lodash.parseInt=__name(function(o4,i4,a3){return a3||i4==null?i4=0:i4&&(i4=+i4),$n2(toString2(o4).replace(st2,""),i4||0)},"parseInt2"),lodash.random=__name(function(o4,i4,s3){if(s3&&typeof s3!="boolean"&&isIterateeCall(o4,i4,s3)&&(i4=s3=a2),s3===a2&&(typeof i4=="boolean"?(s3=i4,i4=a2):typeof o4=="boolean"&&(s3=o4,o4=a2)),o4===a2&&i4===a2?(o4=0,i4=1):(o4=toFinite(o4),i4===a2?(i4=o4,o4=0):i4=toFinite(i4)),o4>i4){var u3=o4;o4=i4,i4=u3}if(s3||o4%1||i4%1){var O3=Fn2();return Nn2(o4+O3*(i4-o4+pn2("1e-"+((O3+"").length-1))),i4)}return baseRandom(o4,i4)},"random"),lodash.reduce=__name(function(o4,i4,a3){var s3=ao2(o4)?arrayReduce:baseReduce,u3=arguments.length<3;return s3(o4,getIteratee(i4,4),a3,u3,or2)},"reduce"),lodash.reduceRight=__name(function(o4,i4,a3){var s3=ao2(o4)?arrayReduceRight:baseReduce,u3=arguments.length<3;return s3(o4,getIteratee(i4,4),a3,u3,ir2)},"reduceRight"),lodash.repeat=__name(function(o4,i4,s3){return i4=(s3?isIterateeCall(o4,i4,s3):i4===a2)?1:toInteger(i4),baseRepeat(toString2(o4),i4)},"repeat"),lodash.replace=__name(function(){var o4=arguments,i4=toString2(o4[0]);return o4.length<3?i4:i4.replace(o4[1],o4[2])},"replace2"),lodash.result=__name(function(o4,i4,s3){var u3=-1,O3=(i4=castPath(i4,o4)).length;for(O3||(O3=1,o4=a2);++u3<O3;){var w3=o4==null?a2:o4[toKey(i4[u3])];w3===a2&&(u3=O3,w3=s3),o4=isFunction(w3)?w3.call(o4):w3}return o4},"result"),lodash.round=_i2,lodash.runInContext=runInContext,lodash.sample=__name(function(o4){return(ao2(o4)?arraySample:baseSample)(o4)},"sample"),lodash.size=__name(function(o4){if(o4==null)return 0;if(isArrayLike(o4))return isString(o4)?stringSize(o4):o4.length;var i4=mr2(o4);return i4==U2||i4==ie2?o4.size:baseKeys(o4).length},"size"),lodash.snakeCase=$o2,lodash.some=__name(function(o4,i4,s3){var u3=ao2(o4)?arraySome:baseSome;return s3&&isIterateeCall(o4,i4,s3)&&(i4=a2),u3(o4,getIteratee(i4,3))},"some"),lodash.sortedIndex=__name(function(o4,i4){return baseSortedIndex(o4,i4)},"sortedIndex"),lodash.sortedIndexBy=__name(function(o4,i4,a3){return baseSortedIndexBy(o4,i4,getIteratee(a3,2))},"sortedIndexBy"),lodash.sortedIndexOf=__name(function(o4,i4){var a3=o4==null?0:o4.length;if(a3){var s3=baseSortedIndex(o4,i4);if(s3<a3&&eq(o4[s3],i4))return s3}return-1},"sortedIndexOf"),lodash.sortedLastIndex=__name(function(o4,i4){return baseSortedIndex(o4,i4,!0)},"sortedLastIndex"),lodash.sortedLastIndexBy=__name(function(o4,i4,a3){return baseSortedIndexBy(o4,i4,getIteratee(a3,2),!0)},"sortedLastIndexBy"),lodash.sortedLastIndexOf=__name(function(o4,i4){if(o4!=null&&o4.length){var a3=baseSortedIndex(o4,i4,!0)-1;if(eq(o4[a3],i4))return a3}return-1},"sortedLastIndexOf"),lodash.startCase=Fo2,lodash.startsWith=__name(function(o4,i4,a3){return o4=toString2(o4),a3=a3==null?0:baseClamp(toInteger(a3),0,o4.length),i4=baseToString(i4),o4.slice(a3,a3+i4.length)==i4},"startsWith"),lodash.subtract=Wi2,lodash.sum=__name(function(o4){return o4&&o4.length?baseSum(o4,identity):0},"sum"),lodash.sumBy=__name(function(o4,i4){return o4&&o4.length?baseSum(o4,getIteratee(i4,2)):0},"sumBy"),lodash.template=__name(function(o4,i4,s3){var u3=lodash.templateSettings;s3&&isIterateeCall(o4,i4,s3)&&(i4=a2),o4=toString2(o4),i4=bo2({},i4,u3,customDefaultsAssignIn);var O3,w3,x3=bo2({},i4.imports,u3.imports,customDefaultsAssignIn),C3=keys(x3),T3=baseValues(x3,C3),_3=0,A3=i4.interpolate||xt2,Q3="__p += '",N3=Rt3((i4.escape||xt2).source+"|"+A3.source+"|"+(A3===tt2?gt2:xt2).source+"|"+(i4.evaluate||xt2).source+"|$","g"),L3="//# sourceURL="+(Lt3.call(i4,"sourceURL")?(i4.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++cn2+"]")+`
`;o4.replace(N3,function(i5,a3,s4,u4,x4,C4){return s4||(s4=u4),Q3+=o4.slice(_3,C4).replace(kt2,escapeStringChar),a3&&(O3=!0,Q3+=`' +
__e(`+a3+`) +
'`),x4&&(w3=!0,Q3+=`';
`+x4+`;
__p += '`),s4&&(Q3+=`' +
((__t = (`+s4+`)) == null ? '' : __t) +
'`),_3=C4+i5.length,i5}),Q3+=`';
`;var $3=Lt3.call(i4,"variable")&&i4.variable;if($3){if(pt2.test($3))throw new Ct3("Invalid `variable` option passed into `_.template`")}else Q3=`with (obj) {
`+Q3+`
}
`;Q3=(w3?Q3.replace(Qe2,""):Q3).replace($e2,"$1").replace(ze2,"$1;"),Q3="function("+($3||"obj")+`) {
`+($3?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O3?", __e = _.escape":"")+(w3?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Q3+`return __p
}`;var F3=zo2(function(){return Pt3(C3,L3+"return "+Q3).apply(a2,T3)});if(F3.source=Q3,isError(F3))throw F3;return F3},"template"),lodash.times=__name(function(o4,i4){if((o4=toInteger(o4))<1||o4>_2)return[];var a3=Q2,s3=Nn2(o4,Q2);i4=getIteratee(i4),o4-=Q2;for(var u3=baseTimes(s3,i4);++a3<o4;)i4(a3);return u3},"times"),lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=__name(function(o4){return toString2(o4).toLowerCase()},"toLower"),lodash.toNumber=toNumber,lodash.toSafeInteger=__name(function(o4){return o4?baseClamp(toInteger(o4),-9007199254740991,_2):o4===0?o4:0},"toSafeInteger"),lodash.toString=toString2,lodash.toUpper=__name(function(o4){return toString2(o4).toUpperCase()},"toUpper"),lodash.trim=__name(function(o4,i4,s3){if((o4=toString2(o4))&&(s3||i4===a2))return baseTrim(o4);if(!o4||!(i4=baseToString(i4)))return o4;var u3=stringToArray(o4),O3=stringToArray(i4);return castSlice(u3,charsStartIndex(u3,O3),charsEndIndex(u3,O3)+1).join("")},"trim"),lodash.trimEnd=__name(function(o4,i4,s3){if((o4=toString2(o4))&&(s3||i4===a2))return o4.slice(0,trimmedEndIndex(o4)+1);if(!o4||!(i4=baseToString(i4)))return o4;var u3=stringToArray(o4);return castSlice(u3,0,charsEndIndex(u3,stringToArray(i4))+1).join("")},"trimEnd"),lodash.trimStart=__name(function(o4,i4,s3){if((o4=toString2(o4))&&(s3||i4===a2))return o4.replace(st2,"");if(!o4||!(i4=baseToString(i4)))return o4;var u3=stringToArray(o4);return castSlice(u3,charsStartIndex(u3,stringToArray(i4))).join("")},"trimStart"),lodash.truncate=__name(function(o4,i4){var s3=30,u3="...";if(isObject(i4)){var O3="separator"in i4?i4.separator:O3;s3="length"in i4?toInteger(i4.length):s3,u3="omission"in i4?baseToString(i4.omission):u3}var w3=(o4=toString2(o4)).length;if(hasUnicode(o4)){var x3=stringToArray(o4);w3=x3.length}if(s3>=w3)return o4;var C3=s3-stringSize(u3);if(C3<1)return u3;var T3=x3?castSlice(x3,0,C3).join(""):o4.slice(0,C3);if(O3===a2)return T3+u3;if(x3&&(C3+=T3.length-C3),fo2(O3)){if(o4.slice(C3).search(O3)){var _3,A3=T3;for(O3.global||(O3=Rt3(O3.source,toString2(mt2.exec(O3))+"g")),O3.lastIndex=0;_3=O3.exec(A3);)var Q3=_3.index;T3=T3.slice(0,Q3===a2?C3:Q3)}}else if(o4.indexOf(baseToString(O3),C3)!=C3){var N3=T3.lastIndexOf(O3);N3>-1&&(T3=T3.slice(0,N3))}return T3+u3},"truncate"),lodash.unescape=__name(function(o4){return(o4=toString2(o4))&&qe2.test(o4)?o4.replace(We2,Mn2):o4},"unescape"),lodash.uniqueId=__name(function(o4){var i4=++$t3;return toString2(o4)+i4},"uniqueId"),lodash.upperCase=Bo2,lodash.upperFirst=Vo2,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(Jo2={},baseForOwn(lodash,function(o4,i4){Lt3.call(lodash.prototype,i4)||(Jo2[i4]=o4)}),Jo2),{chain:!1}),lodash.VERSION="4.17.21",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o4){lodash[o4].placeholder=lodash}),arrayEach(["drop","take"],function(o4,i4){LazyWrapper.prototype[o4]=function(s3){s3=s3===a2?1:Qn2(toInteger(s3),0);var u3=this.__filtered__&&!i4?new LazyWrapper(this):this.clone();return u3.__filtered__?u3.__takeCount__=Nn2(s3,u3.__takeCount__):u3.__views__.push({size:Nn2(s3,Q2),type:o4+(u3.__dir__<0?"Right":"")}),u3},LazyWrapper.prototype[o4+"Right"]=function(i5){return this.reverse()[o4](i5).reverse()}}),arrayEach(["filter","map","takeWhile"],function(o4,i4){var a3=i4+1,s3=a3==1||a3==3;LazyWrapper.prototype[o4]=function(o5){var i5=this.clone();return i5.__iteratees__.push({iteratee:getIteratee(o5,3),type:a3}),i5.__filtered__=i5.__filtered__||s3,i5}}),arrayEach(["head","last"],function(o4,i4){var a3="take"+(i4?"Right":"");LazyWrapper.prototype[o4]=function(){return this[a3](1).value()[0]}}),arrayEach(["initial","tail"],function(o4,i4){var a3="drop"+(i4?"":"Right");LazyWrapper.prototype[o4]=function(){return this.__filtered__?new LazyWrapper(this):this[a3](1)}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(o4){return this.filter(o4).head()},LazyWrapper.prototype.findLast=function(o4){return this.reverse().find(o4)},LazyWrapper.prototype.invokeMap=baseRest(function(o4,i4){return typeof o4=="function"?new LazyWrapper(this):this.map(function(a3){return baseInvoke(a3,o4,i4)})}),LazyWrapper.prototype.reject=function(o4){return this.filter(negate2(getIteratee(o4)))},LazyWrapper.prototype.slice=function(o4,i4){o4=toInteger(o4);var s3=this;return s3.__filtered__&&(o4>0||i4<0)?new LazyWrapper(s3):(o4<0?s3=s3.takeRight(-o4):o4&&(s3=s3.drop(o4)),i4!==a2&&(s3=(i4=toInteger(i4))<0?s3.dropRight(-i4):s3.take(i4-o4)),s3)},LazyWrapper.prototype.takeRightWhile=function(o4){return this.reverse().takeWhile(o4).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(Q2)},baseForOwn(LazyWrapper.prototype,function(o4,i4){var s3=/^(?:filter|find|map|reject)|While$/.test(i4),u3=/^(?:head|last)$/.test(i4),O3=lodash[u3?"take"+(i4=="last"?"Right":""):i4],w3=u3||/^find/.test(i4);O3&&(lodash.prototype[i4]=function(){var i5=this.__wrapped__,x3=u3?[1]:arguments,C3=i5 instanceof LazyWrapper,T3=x3[0],_3=C3||ao2(i5),interceptor=__name(function(o5){var i6=O3.apply(lodash,arrayPush([o5],x3));return u3&&A3?i6[0]:i6},"interceptor");_3&&s3&&typeof T3=="function"&&T3.length!=1&&(C3=_3=!1);var A3=this.__chain__,Q3=!!this.__actions__.length,N3=w3&&!A3,L3=C3&&!Q3;if(!w3&&_3){i5=L3?i5:new LazyWrapper(this);var $3=o4.apply(i5,x3);return $3.__actions__.push({func:thru,args:[interceptor],thisArg:a2}),new LodashWrapper($3,A3)}return N3&&L3?o4.apply(this,x3):($3=this.thru(interceptor),N3?u3?$3.value()[0]:$3.value():$3)})}),arrayEach(["pop","push","shift","sort","splice","unshift"],function(o4){var i4=Mt3[o4],a3=/^(?:push|sort|unshift)$/.test(o4)?"tap":"thru",s3=/^(?:pop|shift)$/.test(o4);lodash.prototype[o4]=function(){var o5=arguments;if(s3&&!this.__chain__){var u3=this.value();return i4.apply(ao2(u3)?u3:[],o5)}return this[a3](function(a4){return i4.apply(ao2(a4)?a4:[],o5)})}}),baseForOwn(LazyWrapper.prototype,function(o4,i4){var a3=lodash[i4];if(a3){var s3=a3.name+"";Lt3.call(qn2,s3)||(qn2[s3]=[]),qn2[s3].push({name:i4,func:a3})}}),qn2[createHybrid(a2,2).name]=[{name:"wrapper",func:a2}],LazyWrapper.prototype.clone=__name(function(){var o4=new LazyWrapper(this.__wrapped__);return o4.__actions__=copyArray(this.__actions__),o4.__dir__=this.__dir__,o4.__filtered__=this.__filtered__,o4.__iteratees__=copyArray(this.__iteratees__),o4.__takeCount__=this.__takeCount__,o4.__views__=copyArray(this.__views__),o4},"lazyClone"),LazyWrapper.prototype.reverse=__name(function(){if(this.__filtered__){var o4=new LazyWrapper(this);o4.__dir__=-1,o4.__filtered__=!0}else(o4=this.clone()).__dir__*=-1;return o4},"lazyReverse"),LazyWrapper.prototype.value=__name(function(){var o4=this.__wrapped__.value(),i4=this.__dir__,a3=ao2(o4),s3=i4<0,u3=a3?o4.length:0,O3=__name(function(o5,i5,a4){for(var s4=-1,u4=a4.length;++s4<u4;){var O4=a4[s4],w4=O4.size;switch(O4.type){case"drop":o5+=w4;break;case"dropRight":i5-=w4;break;case"take":i5=Nn2(i5,o5+w4);break;case"takeRight":o5=Qn2(o5,i5-w4)}}return{start:o5,end:i5}},"getView")(0,u3,this.__views__),w3=O3.start,x3=O3.end,C3=x3-w3,T3=s3?x3:w3-1,_3=this.__iteratees__,A3=_3.length,Q3=0,N3=Nn2(C3,this.__takeCount__);if(!a3||!s3&&u3==C3&&N3==C3)return baseWrapperValue(o4,this.__actions__);var L3=[];e:for(;C3--&&Q3<N3;){for(var $3=-1,F3=o4[T3+=i4];++$3<A3;){var B3=_3[$3],V3=B3.iteratee,z3=B3.type,j3=V3(F3);if(z3==2)F3=j3;else if(!j3){if(z3==1)continue e;break e}}L3[Q3++]=F3}return L3},"lazyValue"),lodash.prototype.at=Fr2,lodash.prototype.chain=__name(function(){return chain(this)},"wrapperChain"),lodash.prototype.commit=__name(function(){return new LodashWrapper(this.value(),this.__chain__)},"wrapperCommit"),lodash.prototype.next=__name(function(){this.__values__===a2&&(this.__values__=toArray(this.value()));var o4=this.__index__>=this.__values__.length;return{done:o4,value:o4?a2:this.__values__[this.__index__++]}},"wrapperNext"),lodash.prototype.plant=__name(function(o4){for(var i4,s3=this;s3 instanceof baseLodash;){var u3=wrapperClone(s3);u3.__index__=0,u3.__values__=a2,i4?O3.__wrapped__=u3:i4=u3;var O3=u3;s3=s3.__wrapped__}return O3.__wrapped__=o4,i4},"wrapperPlant"),lodash.prototype.reverse=__name(function(){var o4=this.__wrapped__;if(o4 instanceof LazyWrapper){var i4=o4;return this.__actions__.length&&(i4=new LazyWrapper(this)),(i4=i4.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:a2}),new LodashWrapper(i4,this.__chain__)}return this.thru(reverse)},"wrapperReverse"),lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=__name(function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},"wrapperValue"),lodash.prototype.first=lodash.prototype.head,Jt3&&(lodash.prototype[Jt3]=__name(function(){return this},"wrapperToIterator")),lodash},"runInContext")();On2?((On2.exports=_n2)._=_n2,yn2._=_n2):vn2._=_n2}).call(to)),eo.exports;var o2,i2},"requireLodash")(),ro=function(o2){function DiscreteGraphTextBox(){return o2!==null&&o2.apply(this,arguments)||this}return __name(DiscreteGraphTextBox,"DiscreteGraphTextBox"),__extends(DiscreteGraphTextBox,o2),DiscreteGraphTextBox.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0];o3[1];var a2=[0,this.parentH/2+5*i2],s2=this.parentW;return new h(a2,s2,5*i2)},DiscreteGraphTextBox.prototype.render=function(o3){var i2=o3.ctx;o3.localToCanvas,o3.canvasToLocal;var a2=o3.absoluteToCanvasMeasure,s2=o3.canvasToAbsoluteMeasure,u2=this.context.p.project.signalData[this.context.signalId].pinValues[this.context.pinId],O2=a2([this.w,0]),w2=O2[0];O2[1],i2.fillStyle="white",i2.font="20px Sans-serif";for(var x2=u2;i2.measureText(x2).width+15>w2&&x2!=="";){var C2=x2.split("");C2.pop(),x2=C2.join("")}var T2=s2([i2.measureText(x2).width+15,0]),_2=T2[0];T2[1];var A2=o3.absoluteO,Q2=A2[0],N2=A2[1],L2=this.absoluteUnit,$2=L2[0];L2[1];var F2=[Q2+(this.w-_2)*$2,N2],B2=F2[0],V2=F2[1];i2.fillText(x2,B2,V2)},DiscreteGraphTextBox}(p$1),oo=function(o2){function DiscreteGraph(){return o2!==null&&o2.apply(this,arguments)||this}return __name(DiscreteGraph,"DiscreteGraph"),__extends(DiscreteGraph,o2),DiscreteGraph.prototype.getChildren=function(){var o3=[];return o3.push(ro.Node()),o3},DiscreteGraph.prototype.getBox=function(){return new h([0,0],this.parentW,this.parentH)},DiscreteGraph}(p$1);function generateId$4(){return Math.random().toString(36).substring(7)}__name(generateId$4,"generateId$4");var io=function(o2){function ContinuousGraph(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Br-1,i2.debouncedCalculatePinMaxResCoordinatePoints=no.debounce(i2.calculatePinMaxResCoordinatePoints.bind(i2),500),i2.initialUpdate=!0,i2.pinMaxResId=generateId$4(),i2.pinMaxResCoodinatePoints=[],i2.pinCoordinatePoints=[],i2}return __name(ContinuousGraph,"ContinuousGraph"),__extends(ContinuousGraph,o2),ContinuousGraph.prototype.getBox=function(){return new h([0,0],this.parentW,this.parentH)},ContinuousGraph.prototype.windowDidMount=function(o3){this.setState({id:"0"}),this.signalData=this.context.p.project.signalData,this.orgData=this.context.p.project.orgData,this.project=this.context.p.project},ContinuousGraph.prototype.needsUpdate=function(){var o3=this.context.p.project,i2=this.project;if(this.initialUpdate)return this.initialUpdate=!1,!0;if(this.context.p.project.orgData.activeSignalIds!==this.orgData.activeSignalIds)return!0;if(this.context.p.project.signalData!==this.signalData){var a2=this.context.pinId,s2=this.context.signalId,u2=o3.signalData[s2].curves[a2],O2=[];o3.orgData.signalIds.forEach(function(i3){var a3=o3.orgData.signalNames[i3];u2.includes(a3)&&O2.push(i3)}),O2.push(s2);var w2=O2.some(function(a3){return i2.signalData[a3]!==o3.signalData[a3]});return w2}},ContinuousGraph.prototype.windowDidUpdate=function(o3){var i2=this.context.p.project.signalData,a2=this.context.p.project.orgData;this.needsUpdate()&&(this.signalData=i2,this.orgData=a2,this.project=this.context.p.project,this.pinCoordinatePoints=this.calculatePinCoordinatePoints(),this.pinMaxResCoodinatePoints=[],this.pinMaxResId=generateId$4(),this.debouncedCalculatePinMaxResCoordinatePoints())},ContinuousGraph.prototype.calculatePinMaxResCoordinatePoints=function(){return __awaiter(this,void 0,void 0,function(){var o3,i2,a2,s2,u2,O2,w2,x2,C2,T2,_2,A2,Q2,N2,L2,$2,F2,B2,V2;return __generator(this,function(z2){switch(z2.label){case 0:for(o3=this.pinMaxResId,i2=this.context.pinId,a2=this.context.signalId,s2=this.context.p,u2=s2.project,s2.interpolateSignalValue,O2=u2.signalData[a2].pinTimes,w2=Object.entries(O2).sort(function(o4,i3){return o4[1]-i3[1]}),x2=w2.findIndex(function(o4){var a3=o4[0];return o4[1],a3===i2}),T2=(C2=x2-1>=0?x2-1:void 0)!==void 0?w2[C2][1]:0,_2=(_2=u2.signalData[a2].pinTimes[i2])<T2?T2:_2,A2=this.canvasUnit,Q2=A2[0],A2[1],N2=Math.floor(this.w*Q2),L2=[],$2=0;$2<=N2;$2++)F2=T2+$2/N2*(_2-T2),L2.push(F2);return B2=[],[4,V$1(u2,a2,L2)];case 1:return V2=z2.sent(),o3!==this.pinMaxResId?[2]:(V2.forEach(function(o4,i3){var a3=o4[0],s3=o4[1].length>0;B2.push([L2[i3],a3,s3])}),this.pinMaxResCoodinatePoints=B2,this.setState({id:generateId$4()}),[2])}})})},ContinuousGraph.prototype.calculatePinCoordinatePoints=function(){var o3=this.context.pinId,i2=this.context.signalId,a2=this.context.p,s2=a2.project,u2=a2.interpolateSignalValue,O2=s2.signalData[i2].pinTimes,w2=Object.entries(O2).sort(function(o4,i3){return o4[1]-i3[1]}),x2=w2.findIndex(function(i3){var a3=i3[0];return i3[1],a3===o3}),C2=x2-1>=0?x2-1:void 0,T2=C2!==void 0?w2[C2][1]:0,_2=s2.signalData[i2].pinTimes[o3];_2=_2<T2?T2:_2;for(var A2=$r,Q2=[],N2=T2;N2<_2+A2;N2+=A2){var L2=N2>_2?_2:N2,$2=u2(i2,L2),F2=$2[0],B2=$2[1].length>0;Q2.push([L2,F2,B2])}return Q2},ContinuousGraph.prototype.render=function(o3){var i2=this,a2=o3.ctx,s2=o3.localToCanvas;o3.canvasToLocal,o3.absoluteToCanvasMeasure,o3.canvasToAbsoluteMeasure;var u2=s2,O2=this.context.pointerModeMachineState,w2=O2.selectedPinIds;w2===void 0&&(w2=[]);var x2=O2.type==="start_no_pins_selected"||O2.type==="change_signal_height",C2=w2.includes(this.context.pinId)||x2?"yellow":"rgb(120,120,0",T2=this.context.signalId,_2=this.pinMaxResCoodinatePoints.length>0?this.pinMaxResCoodinatePoints:this.pinCoordinatePoints,A2=this.pinMaxResCoodinatePoints.length>0,Q2=_2.map(function(o4){var a3=o4[0],s3=o4[1],O3=o4[2],w3=i2.context.PinPositionMeasurementHelper.getImaginaryPinPosition(T2,a3,s3),x3=u$1(w3,i2.globalO);return __spreadArray(__spreadArray([],u2(x3),!0),[O3],!1)});if(this.pinCoordinatePoints.map(function(o4){var a3=o4[0],s3=o4[1],O3=o4[2],w3=i2.context.PinPositionMeasurementHelper.getImaginaryPinPosition(T2,a3,s3),x3=u$1(w3,i2.globalO);return __spreadArray(__spreadArray([],u2(x3),!0),[O3],!1)}),A2)for(var N2=0;N2<Q2.length-1;N2++){var L2=Q2[N2],$2=Q2[N2+1];a2.beginPath(),a2.moveTo(L2[0],L2[1]),a2.lineTo($2[0],$2[1]),a2.strokeStyle=$2[2]?"red":C2,a2.stroke()}else{var B2=Q2;if(B2.length<2)return;for(a2.beginPath(),a2.moveTo(B2[0][0],B2[0][1]),N2=1;N2<B2.length-1;N2++){var V2=(B2[N2][0]+B2[N2+1][0])/2,z2=(B2[N2][1]+B2[N2+1][1])/2;a2.quadraticCurveTo(B2[N2][0],B2[N2][1],V2,z2)}a2.lineTo(B2[B2.length-1][0],B2[B2.length-1][1]),a2.strokeStyle=B2[B2.length-1][2]?"red":C2,a2.stroke()}a2.globalAlpha=1},ContinuousGraph}(p$1),ao=function(o2){function PermanentSegmentWindow(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Br-2,i2}return __name(PermanentSegmentWindow,"PermanentSegmentWindow"),__extends(PermanentSegmentWindow,o2),PermanentSegmentWindow.prototype.getChildren=function(){var o3=[];if(this.context.signalType==="continuous")o3.push(io.Node());else{var i2=this.context.signalId;this.context.p.project.signalData[i2].displayValues&&o3.push(oo.Node())}return o3},PermanentSegmentWindow.prototype.render=function(o3){var i2,a2=this.context.pointerModeMachineState,s2=a2.selectedPinIds;s2===void 0&&(s2=[]);var u2=a2.type==="start_no_pins_selected"||a2.type==="change_signal_height",O2=s2.includes(this.context.pinId),w2=u2?.6:O2?1:.2;o3.ctx.globalAlpha=w2;var x2=o3.localToCanvas,C2=this.absoluteUnit,T2=C2[0],_2=C2[1],A2=this.context.signalType==="continuous"?"4A5F9D":"915050";o3.ctx.beginPath(),(i2=o3.ctx).roundRect.apply(i2,__spreadArray(__spreadArray([],x2([0,0]),!1),[this.w*T2,this.h*_2,[15,0,0,15]],!1)),o3.ctx.strokeStyle="#".concat(A2),o3.ctx.lineWidth=1,o3.ctx.stroke(),o3.ctx.closePath(),o3.ctx.globalAlpha=1},PermanentSegmentWindow}(Jr),so=function(o2){function ValueTimeline(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Br,i2}return __name(ValueTimeline,"ValueTimeline"),__extends(ValueTimeline,o2),ValueTimeline.prototype.getBox=function(){var o3=this.canvasUnit;o3[0],o3[1];var i2=this.parentW,a2=this.parentH;return new h([0,0],i2,a2)},ValueTimeline.prototype.render=function(o3){var i2=o3.absoluteO;i2[0];var a2=i2[1],s2=this.absoluteUnit;s2[0];var u2=s2[1],O2=a2,w2=this.h*u2,x2=[[0,O2],[50,O2],[50,O2+w2],[0,O2+w2]],C2=this.context.signalId,T2=this.context.p.project.signalData[C2].range,_2=[0,.25,.5,.75,1].map(function(o4){return O2+o4*w2}),A2=[0,.5,1].map(function(o4){return[o4*w2,1-o4]}).map(function(o4){var i3=o4[0],a3=o4[1];return[i3,(T2[1]-T2[0])*a3+T2[0]]}).map(function(o4){return[o4[0],o4[1].toFixed(1)]}),Q2=o3.ctx;Q2.beginPath(),Q2.moveTo.apply(Q2,x2[0]),Q2.lineTo.apply(Q2,x2[1]),Q2.lineTo.apply(Q2,x2[2]),Q2.lineTo.apply(Q2,x2[3]),Q2.closePath();var N2=Q2.createLinearGradient.apply(Q2,__spreadArray(__spreadArray([],x2[0],!1),x2[1],!1));N2.addColorStop(.5,"#243157"),N2.addColorStop(1,"rgba(36, 49, 87,0)"),Q2.fillStyle=N2,Q2.fill(),Q2.strokeStyle=this.props.mouseover?"#94a3d0":"#4A5F9D",Q2.lineWidth=1,Q2.beginPath();for(var L2=0,$2=_2;L2<$2.length;L2++){var F2=$2[L2];Q2.moveTo(0,F2),Q2.lineTo(10,F2)}Q2.stroke(),Q2.font="12px Arial",Q2.fillStyle=this.props.mouseover?"#94a3d0":"#4A5F9D";for(var B2=0,V2=A2;B2<V2.length;B2++){var z2=V2[B2],j2=z2[0],U2=z2[1],Z2=j2===0?j2+3:j2===w2?j2-3:j2;Q2.fillText(U2,15,a2+Z2+5)}Q2.fill()},ValueTimeline}(p$1),lo=function(o2){function PermanentSegmentStart(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PermanentSegmentStart,"PermanentSegmentStart"),__extends(PermanentSegmentStart,o2),PermanentSegmentStart.prototype.getBox=function(){if(this.context.p.project.signalData[this.context.signalId].pinIds.length===0)return new h([0,0],0,0);var o3=this.context.p.project.signalData[this.context.signalId].pinIds[0],i2=this.context.p.project.signalData[this.context.signalId].pinTimes[o3],a2=this.context.p.project.signalData[this.context.signalId].defaultValue,s2=this.context.PinPositionMeasurementHelper.getImaginaryPinPosition(this.context.signalId,0,a2),u2=this.context.PinPositionMeasurementHelper.getImaginaryPinPosition(this.context.signalId,i2,a2),O2=u$1(s2,this.parentO),w2=u2[0]-s2[0];return new h(O2,w2,0)},PermanentSegmentStart.prototype.render=function(o3){var i2,a2,s2=[[0,0],[this.w,0]],u2=o3.localToCanvas,O2=this.absoluteUnit;O2[0],O2[1],o3.ctx.beginPath(),(i2=o3.ctx).moveTo.apply(i2,u2(s2[0])),(a2=o3.ctx).lineTo.apply(a2,u2(s2[1])),o3.ctx.strokeStyle="".concat("rgba(255,255,0,0.5)"),o3.ctx.lineWidth=1,o3.ctx.stroke()},PermanentSegmentStart}(Jr),co=function(o2){function PermanentSegmentEnd(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PermanentSegmentEnd,"PermanentSegmentEnd"),__extends(PermanentSegmentEnd,o2),PermanentSegmentEnd.prototype.getBox=function(){var o3=this.context.p.project.signalData[this.context.signalId].defaultValue,i2=this.context.p.project.timelineData.numberOfFrames,a2=this.context.p.project.signalData[this.context.signalId].pinIds,s2=i2;if(a2.length!==0){var u2=this.context.p.project.signalData[this.context.signalId].pinIds[a2.length-1];s2=this.context.p.project.signalData[this.context.signalId].pinTimes[u2]}var O2=this.context.PinPositionMeasurementHelper.getImaginaryPinPosition(this.context.signalId,s2,o3),w2=this.context.PinPositionMeasurementHelper.getImaginaryPinPosition(this.context.signalId,i2,o3),x2=u$1(O2,this.parentO),C2=w2[0]-O2[0];return new h(x2,C2,0)},PermanentSegmentEnd.prototype.render=function(o3){var i2,a2,s2=[[0,0],[this.w,0]],u2=o3.localToCanvas,O2=this.absoluteUnit;O2[0],O2[1],o3.ctx.beginPath(),(i2=o3.ctx).moveTo.apply(i2,u2(s2[0])),(a2=o3.ctx).lineTo.apply(a2,u2(s2[1])),o3.ctx.strokeStyle="".concat("rgba(255,255,0,0.5)"),o3.ctx.lineWidth=1,o3.ctx.stroke()},PermanentSegmentEnd}(Jr),uo=function(o2){function PermanentSignalContentWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PermanentSignalContentWindow,"PermanentSignalContentWindow"),__extends(PermanentSignalContentWindow,o2),PermanentSignalContentWindow.prototype.getChildren=function(){var o3,i2=[];i2.push(po.Node());for(var a2=(o3=this.context.p.project.signalData[this.context.signalId])===null||o3===void 0?void 0:o3.pinIds,s2=1;s2<a2.length;s2++){var u2=a2[s2],O2=ao.Node({pinId:u2,key:"s"+u2});i2.push(O2)}this.context.signalType==="continuous"&&(i2.push(lo.Node()),i2.push(co.Node()));for(var w2=0,x2=a2;w2<x2.length;w2++){u2=x2[w2];var C2=Kr.Node({pinId:u2,key:"p"+u2});i2.push(C2)}return i2},PermanentSignalContentWindow.prototype.render=function(o3){var i2=o3.ctx,a2=this.context.p.project.timelineData.focusRange,s2=a2[0],u2=a2[1],O2=this.context.p.project.timelineData.numberOfFrames,w2=[s2/O2,u2/O2],x2=w2[0],C2=w2[1]-x2;i2.fillStyle="rgba(255,255,255,0.05)";var T2=o3.absoluteO,_2=T2[0],A2=T2[1],Q2=o3.absoluteUnit,N2=Q2[0],L2=Q2[1];i2.fillRect(_2+x2*this.w*N2,A2,C2*this.w*N2,this.h*L2)},PermanentSignalContentWindow}(Zr),fo=function(o2){function Label(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Br,i2}return __name(Label,"Label"),__extends(Label,o2),Label.prototype.getBox=function(){var o3=this.parentW,i2=this.parentH;return new h([0,0],o3,i2)},Label.prototype.render=function(o3){var i2=o3.ctx;o3.localToCanvas,o3.canvasToLocal,o3.absoluteToCanvasMeasure,o3.canvasToAbsoluteMeasure,i2.fillStyle="#ffffff80",i2.font="".concat(14,"px Sans-serif");var a2=this.context.signalId,s2=this.context.p.project.orgData.signalNames[a2],u2=o3.absoluteO;u2[0];var O2=u2[1],w2=[15+this.props.paddingLeft,O2+14],x2=w2[0],C2=w2[1],T2=i2.measureText(s2).width;i2.fillStyle=this.context.signalType==="continuous"?"#24315730":"#562F2F30",i2.fillRect(x2,C2-14,T2+5,19),i2.fillStyle="#ffffff90",i2.fillText(s2,x2,C2)},Label}(p$1),po=function(o2){function VisualOverlays(){return o2!==null&&o2.apply(this,arguments)||this}return __name(VisualOverlays,"VisualOverlays"),__extends(VisualOverlays,o2),VisualOverlays.prototype.windowDidMount=function(o3){this.setState({mouseover:!1})},VisualOverlays.prototype.onMouseMove=function(o3,i2){o3.pointInside!==this.state.mouseover&&this.setState({mouseover:o3.pointInside})},VisualOverlays.prototype.getBox=function(){var o3=this.parentW,i2=this.parentH;return new h([0,0],o3,i2)},Object.defineProperty(VisualOverlays.prototype,"displayValueTimeline",{get:__name(function(){var o3=this.context.signalType==="continuous";return this.state.mouseover,o3},"get"),enumerable:!1,configurable:!0}),VisualOverlays.prototype.getChildren=function(){var o3=[];return this.displayValueTimeline&&o3.push(so.Node({mouseover:this.state.mouseover})),o3},VisualOverlays}(p$1),ho=function(o2){function PermanentSignalWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PermanentSignalWindow,"PermanentSignalWindow"),__extends(PermanentSignalWindow,o2),Object.defineProperty(PermanentSignalWindow.prototype,"p",{get:__name(function(){return this.context.externalProjectAPI},"get"),enumerable:!1,configurable:!0}),PermanentSignalWindow.prototype.getChildren=function(){var o3=[];return o3.push(uo.Node()),o3.push(fo.Node({paddingLeft:45})),o3},PermanentSignalWindow.prototype.render=function(o3){var i2,a2,s2=this.context.signalType==="continuous"?"243157":"562F2F",u2=this.absoluteUnit,O2=u2[0],w2=u2[1],x2=o3.absoluteO;x2[0];var C2=x2[1],T2=this._cameraSnapshot.w*O2,_2=[[0,C2],[T2,C2],[T2,C2+this.h*w2],[0,C2+this.h*w2]];o3.ctx.fillStyle="#".concat(s2),o3.ctx.beginPath(),(i2=o3.ctx).moveTo.apply(i2,_2[0]);for(var A2=1;A2<_2.length;A2++)(a2=o3.ctx).lineTo.apply(a2,_2[A2]);o3.ctx.fill()},PermanentSignalWindow}(qr),mo=function(o2){function Playhead(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Wr,i2.side=30,i2.dragging=!1,i2}return __name(Playhead,"Playhead"),__extends(Playhead,o2),Playhead.prototype.windowDidUpdate=function(){},Playhead.prototype.getBox=function(){var o3=this.context.p.project.timelineData,i2=o3.numberOfFrames,a2=o3.playheadPosition/i2*this.parentW,s2=this.canvasO;s2[0],s2[1];var u2=this.canvasUnit,O2=u2[0],w2=u2[1],x2=this.side*O2,C2=this.side*w2;return new h([a2-x2/2,0],x2,C2)},Playhead.prototype.onMouseDown=function(o3){o3.pointInside&&(this.dragging=!0,o3.terminateEvent())},Playhead.prototype.onMouseMove=function(o3){if(o3.pointInside&&this.context.setCursor("pointer"),this.dragging){o3.terminateEvent();var i2=o3.absolutePos,a2=i2[0];i2[1];var s2=(0,o3.canvasToAbsoluteMeasure)([Mr,0]),u2=s2[0];s2[1];var O2=a2-u2,w2=Math.floor(O2/Lr);w2=Math.min(Math.max(w2,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(w2)}},Playhead.prototype.onMouseUp=function(o3){if(this.dragging){o3.terminateEvent();var i2=o3.absolutePos,a2=i2[0];i2[1];var s2=(0,o3.canvasToAbsoluteMeasure)([Mr,0]),u2=s2[0];s2[1];var O2=a2-u2,w2=Math.floor(O2/Lr);w2=Math.min(Math.max(w2,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(w2,!0)}this.dragging=!1},Playhead.prototype.render=function(o3){o3.canvasToLocal,o3.canvasToAbsoluteMeasure,o3.absoluteToCanvasMeasure;var i2=o3.localToCanvas,a2=o3.ctx,s2=i2,u2=[[0,0],[this.w,0],[this.w/2,this.h]].map(function(o4){return s2(o4)});a2.beginPath(),a2.moveTo.apply(a2,u2[0]),a2.lineTo.apply(a2,u2[1]),a2.lineTo.apply(a2,u2[2]),a2.lineTo.apply(a2,u2[0]),a2.fillStyle="aquamarine",a2.lineWidth=2,a2.fill(),a2.closePath()},Playhead}(p$1),vo=function(o2){function TimelineCursor(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=1e3,i2}return __name(TimelineCursor,"TimelineCursor"),__extends(TimelineCursor,o2),TimelineCursor.prototype.getBox=function(){var o3=this.context.p.project.timelineData,i2=o3.numberOfFrames,a2=o3.playheadPosition/i2*this.parentW,s2=this.canvasO;s2[0],s2[1];var u2=this.canvasUnit;u2[0],u2[1];var O2=this._cameraSnapshot.h;return new h([a2-0,0],0,O2)},TimelineCursor.prototype.render=function(o3){o3.localToCanvas;var i2=o3.ctx,a2=this.absoluteUnit;a2[0];var s2=a2[1],u2=o3.absoluteO,O2=u2[0];u2[1];var w2=[[O2,0],[O2,this.h*s2]];i2.beginPath(),i2.moveTo.apply(i2,w2[0]),i2.lineTo.apply(i2,w2[1]),i2.lineWidth=2,i2.strokeStyle="aquamarine",i2.stroke()},TimelineCursor}(p$1),yo=function(o2){function TicksMeter(){return o2!==null&&o2.apply(this,arguments)||this}return __name(TicksMeter,"TicksMeter"),__extends(TicksMeter,o2),TicksMeter.prototype.getBox=function(){return new h([0,0],this.parentW,20)},TicksMeter.prototype.itemsOnScreen=function(o3){var i2=this.parentW/o3;return Math.floor(this._cameraSnapshot.w/i2)},TicksMeter.prototype.render=function(o3){for(var i2=this,a2=o3.ctx,s2=this.context.p.project.timelineData.numberOfFrames,u2=this.context.p.project.timelineData.framesPerSecond,O2=function(o4){var i3=[];return i3.push(1),o4%2==0&&(i3.push(2),i3.push(o4/2)),o4%3==0&&(i3.push(3),i3.push(o4/3)),o4%5==0&&(i3.push(5),i3.push(o4/5)),o4%10==0&&(i3.push(10),i3.push(o4/10)),i3.push(o4),i3.push(2*o4),i3.push(5*o4),i3.push(10*o4),i3}(u2),w2=O2.map(function(o4){var a3=Math.floor(s2/o4);return[o4,i2.itemsOnScreen(a3)]}),x2=w2.map(function(o4){var i3=o4[0],a3=o4[1];return[i3,Math.abs(a3-10)]}).sort(function(o4,i3){return o4[1]-i3[1]})[0][0],C2=w2.map(function(o4){var i3=o4[0],a3=o4[1];return[i3,Math.abs(a3-100)]}).sort(function(o4,i3){return o4[1]-i3[1]})[0][0],T2=o3.absoluteO[0],_2=0;_2<=s2;_2+=x2){var A2=T2+_2/s2*this.w*this.absoluteUnit[0];a2.beginPath(),a2.strokeStyle="white",a2.moveTo(A2,0),a2.lineTo(A2,7),a2.stroke(),a2.fillStyle="white";var Q2="".concat(_2),N2=a2.measureText(Q2).width;a2.fillText(Q2,A2-N2/2,18)}for(_2=0;_2<=s2;_2+=C2)A2=T2+_2/s2*this.w*this.absoluteUnit[0],a2.beginPath(),a2.strokeStyle="white",a2.moveTo(A2,0),a2.lineTo(A2,3),a2.stroke()},TicksMeter}(p$1),Oo=function(o2){function FocusRange(){return o2!==null&&o2.apply(this,arguments)||this}return __name(FocusRange,"FocusRange"),__extends(FocusRange,o2),FocusRange.prototype.getBox=function(){return new h([0,0],this.parentW,20)},FocusRange.prototype.itemsOnScreen=function(o3){var i2=this.parentW/o3;return Math.floor(this._cameraSnapshot.w/i2)},FocusRange.prototype.render=function(o3){var i2=o3.ctx,a2=this.context.p.project.timelineData.focusRange,s2=a2[0],u2=a2[1],O2=this.context.p.project.timelineData.numberOfFrames,w2=[s2/O2,u2/O2],x2=w2[0],C2=w2[1]-x2;i2.fillStyle="#3B434B";var T2=o3.absoluteO[0],_2=o3.absoluteUnit,A2=_2[0];_2[1],i2.fillRect(T2+x2*this.w*A2,0,C2*this.w*A2,this.h)},FocusRange}(p$1),bo=function(o2){function Timeline(){return o2!==null&&o2.apply(this,arguments)||this}return __name(Timeline,"Timeline"),__extends(Timeline,o2),Timeline.prototype.getChildren=function(){var o3=[];return o3.push(Oo.Node()),o3.push(yo.Node()),o3.push(mo.Node()),o3.push(vo.Node()),o3},Timeline.prototype.windowDidUpdate=function(){},Timeline.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0];o3[1];var a2=(Mr+Ar/2)*i2,s2=this.canvasO;s2[0];var u2=s2[1],O2=this.context.p.project.timelineData.numberOfFrames*Lr-Ar*i2;return new h([a2,u2],O2,20)},Timeline.prototype.render=function(o3){o3.ctx.fillStyle="#282E34";var i2=this.absoluteUnit,a2=i2[0];i2[1],o3.ctx.fillRect(0,0,this._cameraSnapshot.w*a2,22)},Timeline}(p$1),So=function(o2){function PermanentWindows(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.key="permanentWindows",i2.layer=Fr,i2}return __name(PermanentWindows,"PermanentWindows"),__extends(PermanentWindows,o2),PermanentWindows.prototype.getChildren=function(){for(var o3=[],i2=0,a2=this.context.p.project.orgData.activeSignalIds;i2<a2.length;i2++){var s2=a2[i2],u2=ho.Node({signalId:s2,key:s2});o3.push(u2)}return o3.push(bo.Node()),o3},PermanentWindows}(p$1),wo=function(o2){function ResizeBarBase(){return o2!==null&&o2.apply(this,arguments)||this}return __name(ResizeBarBase,"ResizeBarBase"),__extends(ResizeBarBase,o2),Object.defineProperty(ResizeBarBase.prototype,"o",{get:__name(function(){return[0,0]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(ResizeBarBase.prototype,"h",{get:__name(function(){return this.parentH},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(ResizeBarBase.prototype,"w",{get:__name(function(){return this.parentW},"get"),enumerable:!1,configurable:!0}),ResizeBarBase}(p$1),xo=function(o2){function ResizeBarPointerStateDispatcher(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Vr,i2}return __name(ResizeBarPointerStateDispatcher,"ResizeBarPointerStateDispatcher"),__extends(ResizeBarPointerStateDispatcher,o2),ResizeBarPointerStateDispatcher.prototype.onMouseDown=function(o3){var i2=this.context,a2=i2.dispatchPointerModeMachineEvent,s2=i2.pointerModeMachineState,u2=o3.terminateEvent,O2=o3.pointInside;O2&&(s2.type!=="start_no_pins_selected"&&s2.type!=="start_some_pins_selected"||a2({type:"mousedown_resizebar"})),O2&&u2()},ResizeBarPointerStateDispatcher}(wo),ko=function(o2){function ResizeBarOverlay(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=jr,i2}return __name(ResizeBarOverlay,"ResizeBarOverlay"),__extends(ResizeBarOverlay,o2),Object.defineProperty(ResizeBarOverlay.prototype,"mouseover",{get:__name(function(){return this.state.mouseover},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(ResizeBarOverlay.prototype,"mousedown",{get:__name(function(){return this.state.mousedown},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(ResizeBarOverlay.prototype,"dragging",{get:__name(function(){return this.context.pointerModeMachineState.type==="change_signal_height"&&this.mousedown},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(ResizeBarOverlay.prototype,"hover",{get:__name(function(){return this.context.pointerModeMachineState.type==="start_no_pins_selected"&&this.mouseover},"get"),enumerable:!1,configurable:!0}),ResizeBarOverlay.prototype.windowDidMount=function(o3){this.setState({mouseover:!1,mousedown:!1})},ResizeBarOverlay.prototype.onMouseDown=function(o3){o3.relativePos,o3.pointInside&&this.setState(__assign$1(__assign$1({},this.state),{mousedown:!0}))},ResizeBarOverlay.prototype.onMouseMove=function(o3){var i2=o3.absolutePos;o3.pointInside||this.dragging?(this.context.setCursor("ns-resize"),this.setState(__assign$1(__assign$1({},this.state),{mouseover:!0}))):this.setState(__assign$1(__assign$1({},this.state),{mouseover:!1}));var a2=this.context.p;a2.project;var s2=a2.signalStartHeights;a2.projectTools,a2.signalHeights;var u2=a2.setSignalHeight;if(this.dragging){var O2=s2[this.context.signalId],w2=(0,o3.canvasToAbsoluteMeasure)([Mr,_r]);w2[0];var x2=w2[1],C2=i2[1]-(O2+x2),T2=(0,o3.absoluteToCanvasMeasure)([0,C2]);T2[0];var _2=T2[1];if(_2<Qr||_2>Nr)return;u2(this.context.signalId,C2)}},ResizeBarOverlay.prototype.onMouseUp=function(o3){this.setState(__assign$1(__assign$1({},this.state),{mousedown:!1}))},ResizeBarOverlay.prototype.render=function(o3){(this.hover||this.dragging)&&(this.dragging?this.strokeOutline(o3,"red"):this.strokeOutline(o3,"cyan"))},ResizeBarOverlay}(wo),Co=function(o2){function ResizeBar(){return o2!==null&&o2.apply(this,arguments)||this}return __name(ResizeBar,"ResizeBar"),__extends(ResizeBar,o2),ResizeBar.prototype.windowDidMount=function(o3){this.setContext("signalId",o3.signalId)},Object.defineProperty(ResizeBar.prototype,"o",{get:__name(function(){var o3=this.context.p;o3.project;var i2=o3.signalStartHeights;o3.projectTools;var a2=o3.signalHeights,s2=this.prepareHandlerProps(),u2=s2.canvasToAbsoluteMeasure,O2=(0,s2.canvasToAbsoluteMeasure)([Mr,_r]);O2[0];var w2=O2[1],x2=i2[this.context.signalId]+a2[this.context.signalId];return u$1([0,x2+w2],u2([0,Ir]))},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(ResizeBar.prototype,"h",{get:__name(function(){var o3=this.prepareHandlerProps(),i2=Ir;return(0,o3.canvasToAbsoluteMeasure)([0,i2])[1]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(ResizeBar.prototype,"w",{get:__name(function(){var o3=this.context.p,i2=o3.project;return o3.signalStartHeights,o3.projectTools,o3.signalHeights,i2.timelineData.numberOfFrames*Lr+2*Mr},"get"),enumerable:!1,configurable:!0}),ResizeBar.prototype.getChildren=function(){var o3=[];return o3.push(ko.Node()),o3.push(xo.Node()),o3},ResizeBar}(wo),Po=function(o2){function ResizeBarMouseUpCatcher(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Vr,i2}return __name(ResizeBarMouseUpCatcher,"ResizeBarMouseUpCatcher"),__extends(ResizeBarMouseUpCatcher,o2),ResizeBarMouseUpCatcher.prototype.getBox=function(){var o3=this._cameraSnapshot;return new h(o3.o,o3.w,o3.h)},ResizeBarMouseUpCatcher.prototype.onMouseUp=function(){var o3=this.context,i2=o3.pointerModeMachineState,a2=o3.dispatchPointerModeMachineEvent;i2.type==="change_signal_height"&&a2({type:"mouseup_resizebar"})},ResizeBarMouseUpCatcher}(p$1),Eo=function(o2){function SelectionOverlayPointerStateDispatcher(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.selectedPinIds=[],i2.layer=Vr-1,i2}return __name(SelectionOverlayPointerStateDispatcher,"SelectionOverlayPointerStateDispatcher"),__extends(SelectionOverlayPointerStateDispatcher,o2),Object.defineProperty(SelectionOverlayPointerStateDispatcher.prototype,"startPoint",{get:__name(function(){return this.state.startPoint},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(SelectionOverlayPointerStateDispatcher.prototype,"endPoint",{get:__name(function(){return this.state.endPoint},"get"),enumerable:!1,configurable:!0}),SelectionOverlayPointerStateDispatcher.prototype.windowDidMount=function(o3){this.setState({startPoint:void 0,endPoint:void 0})},SelectionOverlayPointerStateDispatcher.prototype.getSelectedPins=function(o3){var i2=this,a2=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(o4){var a3,s3=i2.context.PinPositionMeasurementHelper.getExistingPinPosition(o4),u2=i2.context.p.project.orgData.activeSignalIds.flatMap(function(o5){return i2.context.p.project.signalData[o5].pinIds.map(function(i3){return[o5,i3]})});return{signalId:(a3=u2.find(function(i3){i3[0];var a4=i3[1];return o4===a4}))===null||a3===void 0?void 0:a3[0],pinId:o4,pos:s3}}),s2=a2.filter(function(i3){i3.signalId,i3.pinId;var a3=i3.pos;return o3.pointInside(a3)}).map(function(o4){var i3=o4.signalId,a3=o4.pinId;return o4.pos,[i3,a3]});return s2},SelectionOverlayPointerStateDispatcher.prototype.onMouseDown=function(o3){var i2=this.context,a2=[i2.pointerModeMachineState,i2.dispatchPointerModeMachineEvent],s2=a2[0],u2=a2[1],O2=o3.terminateEvent,w2=o3.pointInside,x2=o3.absolutePos,C2=Ar/2,T2=new h([x2[0]-C2,x2[1]-C2],2*C2,2*C2),_2=this.getSelectedPins(T2).map(function(o4){return o4[0],o4[1]});s2.type==="start_no_pins_selected"&&_2.length===1||s2.type==="start_some_pins_selected"&&_2.length===1?(this.selectedPinIds=_2,u2({type:"mousedown_single_pin",category:"translate",axes:"x-y",anchor:"start-point",pinId:_2[0]}),O2()):(s2.type==="start_no_pins_selected"||s2.type==="start_some_pins_selected")&&(this.selectedPinIds=_2,u2({type:"mousedown_begin_selectionoverlay",selectedPinIds:_2}),this.setState(__assign$1(__assign$1({},this.state),{startPoint:x2})),w2&&O2())},SelectionOverlayPointerStateDispatcher.prototype.onMouseMove=function(o3){var i2=this;if(this.startPoint){var a2=this.context,s2=[a2.pointerModeMachineState,a2.dispatchPointerModeMachineEvent],u2=s2[0],O2=s2[1];o3.relativePos;var w2=o3.absolutePos,x2=o3.pointInside,C2=o3.terminateEvent;this.setState(__assign$1(__assign$1({},this.state),{endPoint:w2}));var T2=this.startPoint,_2=T2[0],A2=T2[1],Q2=w2[0],N2=w2[1],L2=Math.min(_2,Q2),F2=Math.min(A2,N2),B2=Math.abs(_2-Q2),V2=Math.abs(A2-N2),z2=new h([L2,F2],B2,V2),j2=this.getSelectedPins(z2).map(function(o4){return o4[0],o4[1]}),U2=j2.some(function(o4){return!i2.selectedPinIds.includes(o4)})||this.selectedPinIds.some(function(o4){return!j2.includes(o4)});u2.type==="make_selection"&&U2&&(this.selectedPinIds=j2,O2({type:"mousemove_selectionoverlay",selectedPinIds:j2})),x2&&C2()}},SelectionOverlayPointerStateDispatcher.prototype.onMouseUp=function(o3){var i2=this.context,a2=[i2.pointerModeMachineState,i2.dispatchPointerModeMachineEvent],s2=a2[0],u2=a2[1];o3.relativePos;var O2=o3.terminateEvent,w2=o3.pointInside;this.setState({startPoint:void 0,endPoint:void 0}),s2.type==="make_selection"&&s2.selectedPinIds.length>0?u2({type:"mouseup_selectionoverlayCONDnon_empty_selection",selectedPinIds:s2.selectedPinIds}):s2.type==="make_selection"&&u2({type:"mouseup_selectionoverlayCONDempty_selection"}),w2&&O2()},SelectionOverlayPointerStateDispatcher.prototype.getBox=function(){var o3=this._cameraSnapshot;return new h(o3.o,o3.w,o3.h)},SelectionOverlayPointerStateDispatcher}(p$1),To=function(o2){function SelectionOverlayUI(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Wr,i2.inCameraView=!1,i2}return __name(SelectionOverlayUI,"SelectionOverlayUI"),__extends(SelectionOverlayUI,o2),Object.defineProperty(SelectionOverlayUI.prototype,"startPoint",{get:__name(function(){return this.state.startPoint},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(SelectionOverlayUI.prototype,"endPoint",{get:__name(function(){return this.state.endPoint},"get"),enumerable:!1,configurable:!0}),SelectionOverlayUI.prototype.windowDidMount=function(o3){this.setState({startPoint:void 0,endPoint:void 0})},SelectionOverlayUI.prototype.getBox=function(){var o3,i2=this.startPoint,a2=this.endPoint,s2=this._cameraSnapshot;if(i2&&a2){var u2=i2[0],O2=i2[1],w2=a2[0],x2=a2[1],C2=Math.min(u2,w2),T2=Math.min(O2,x2),_2=Math.abs(u2-w2),A2=Math.abs(O2-x2),Q2=(o3=new h([C2,T2],_2,A2)).getBoundingBox(),N2=s2.getBoundingBox();if(l$1(Q2,N2))return this.inCameraView=!0,o3}return this.inCameraView=!1,s2.clone()},SelectionOverlayUI.prototype.onMouseDown=function(o3){o3.relativePos;var i2=o3.absolutePos;o3.canvasPos,this.setState(__assign$1(__assign$1({},this.state),{startPoint:i2}))},SelectionOverlayUI.prototype.onMouseMove=function(o3){var i2=o3.absolutePos;this.startPoint&&this.setState(__assign$1(__assign$1({},this.state),{endPoint:i2}))},SelectionOverlayUI.prototype.onMouseUp=function(o3){this.setState({startPoint:void 0,endPoint:void 0})},Object.defineProperty(SelectionOverlayUI.prototype,"active",{get:__name(function(){return this.context.pointerModeMachineState.type==="make_selection"},"get"),enumerable:!1,configurable:!0}),SelectionOverlayUI.prototype.render=function(o3){var i2=o3.ctx,a2=o3.localToCanvas;o3.canvasToLocal,o3.absoluteToCanvasMeasure,o3.canvasToAbsoluteMeasure;var s2=o3.absoluteUnit,u2=a2,O2=s2[0],w2=s2[1];i2.save(),i2.setLineDash([3,3]),i2.strokeStyle="rgba(255, 255, 255, 0.5)",i2.lineWidth=2,this.startPoint&&this.endPoint&&this.active&&this.inCameraView&&i2.strokeRect.apply(i2,__spreadArray(__spreadArray([],u2([0,0]),!1),[this.w*O2,this.h*w2],!1)),i2.setLineDash([]),i2.closePath(),i2.restore()},SelectionOverlayUI}(p$1),Ro=function(o2){function SelectionOverlay(){return o2!==null&&o2.apply(this,arguments)||this}return __name(SelectionOverlay,"SelectionOverlay"),__extends(SelectionOverlay,o2),SelectionOverlay.prototype.getChildren=function(){var o3=[];return o3.push(To.Node()),o3.push(Eo.Node()),o3},SelectionOverlay}(p$1),Do=function(){function PinPositionMeasurementHelper(){this.pinMeasureHooks={},this.signalMeasureHooks={},this.signalContentBoxMeasureHooks={},this.absoluteCoordsToSignalCoordsMeasureHooks={}}return __name(PinPositionMeasurementHelper,"PinPositionMeasurementHelper"),PinPositionMeasurementHelper.prototype.getSignalCoordsFromAbsoluteCoords=function(o2,i2){return this.absoluteCoordsToSignalCoordsMeasureHooks[o2](i2)},PinPositionMeasurementHelper.prototype.getSignalContentBox=function(o2){return this.signalContentBoxMeasureHooks[o2]()},PinPositionMeasurementHelper.prototype.getExistingPinPosition=function(o2){return this.pinMeasureHooks[o2]()},PinPositionMeasurementHelper.prototype.getImaginaryPinPosition=function(o2,i2,a2){return this.signalMeasureHooks[o2](i2,a2)},PinPositionMeasurementHelper.prototype.attachAbsoluteCoordsToSignalCoordsMeasureHook=function(o2,i2){var a2=this;return this.absoluteCoordsToSignalCoordsMeasureHooks[o2]=i2,function(){delete a2.absoluteCoordsToSignalCoordsMeasureHooks[o2]}},PinPositionMeasurementHelper.prototype.attachSignalContentBoxMeasureHook=function(o2,i2){var a2=this;return this.signalContentBoxMeasureHooks[o2]=i2,function(){delete a2.signalContentBoxMeasureHooks[o2]}},PinPositionMeasurementHelper.prototype.attachPinMeasureHook=function(o2,i2){var a2=this;return this.pinMeasureHooks[o2]=i2,function(){delete a2.pinMeasureHooks[o2]}},PinPositionMeasurementHelper.prototype.attachSignalMeasureHook=function(o2,i2){var a2=this;return this.signalMeasureHooks[o2]=i2,function(){delete a2.signalMeasureHooks[o2]}},PinPositionMeasurementHelper}(),Io=function(o2){function PinPositionMap(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PinPositionMap,"PinPositionMap"),__extends(PinPositionMap,o2),PinPositionMap.prototype.getChildren=function(){for(var o3=[],i2=0,a2=this.context.p.project.orgData.activeSignalIds;i2<a2.length;i2++){var s2=a2[i2],u2=Mo.Node({signalId:s2,key:s2});o3.push(u2)}return o3},PinPositionMap}(p$1),Mo=function(o2){function SignalWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(SignalWindow,"SignalWindow"),__extends(SignalWindow,o2),SignalWindow.prototype.windowDidMount=function(o3){this.setContext("signalId",o3.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[o3.signalId])},SignalWindow.prototype.getChildren=function(){return[Ao.Node()]},SignalWindow}(qr),_o=function(o2){function PinWindow(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.unsubscribe=function(){},i2}return __name(PinWindow,"PinWindow"),__extends(PinWindow,o2),PinWindow.prototype.windowDidMount=function(o3){var i2=this;this.setContext("pinId",o3.pinId),this.unsubscribe=this.context.PinPositionMeasurementHelper.attachPinMeasureHook(o3.pinId,function(){return i2.globalO})},PinWindow.prototype.windowWillUnmount=function(){this.unsubscribe()},PinWindow.prototype.render=function(o3){},PinWindow}(Xr),Ao=function(o2){function SignalContentWindow(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.unsubscribe1=function(){},i2.unsubscribe2=function(){},i2.unsubscribe3=function(){},i2}return __name(SignalContentWindow,"SignalContentWindow"),__extends(SignalContentWindow,o2),SignalContentWindow.prototype.windowDidMount=function(o3){var i2=this;this.setContext("pinId",o3.pinId),this.unsubscribe1=this.context.PinPositionMeasurementHelper.attachSignalMeasureHook(this.context.signalId,function(o4,a2){var s2=i2.context.signalType==="continuous"?i2.context.p.project.signalData[i2.context.signalId].range:[0,1];a2=i2.context.signalType==="continuous"?a2:.5;var u2=o4/i2.context.p.project.timelineData.numberOfFrames,O2=(a2-s2[0])/(s2[1]-s2[0]),w2=u2*i2.w,x2=(1-O2)*i2.h;return o$1(i2.globalO,[w2,x2])}),this.unsubscribe2=this.context.PinPositionMeasurementHelper.attachSignalContentBoxMeasureHook(this.context.signalId,function(){return new h(i2.globalO,i2.w,i2.h)}),this.unsubscribe3=this.context.PinPositionMeasurementHelper.attachAbsoluteCoordsToSignalCoordsMeasureHook(this.context.signalId,function(o4){var a2=u$1(o4,i2.globalO),s2=a2[0],u2=a2[1],O2=i2.context.p.project.timelineData.numberOfFrames;s2=Math.max(0,Math.min(i2.w,s2)),s2=Math.round(s2/i2.w*O2);var w2=i2.context.signalType==="continuous"?i2.context.p.project.signalData[i2.context.signalId].range:[0,1];return u2=Math.max(0,Math.min(i2.h,u2)),[s2,u2=(u2=i2.h-u2)/i2.h*(w2[1]-w2[0])+w2[0]]})},SignalContentWindow.prototype.windowWillUnmount=function(){this.unsubscribe1(),this.unsubscribe2(),this.unsubscribe3()},SignalContentWindow.prototype.getChildren=function(){for(var o3,i2=[],a2=0,s2=(o3=this.context.p.project.signalData[this.context.signalId])===null||o3===void 0?void 0:o3.pinIds;a2<s2.length;a2++){var u2=s2[a2],O2=_o.Node({pinId:u2,key:u2});i2.push(O2)}return i2},SignalContentWindow}(Zr),Qo=function(o2){function PinTransformerPointerStateDispatcher(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Vr-1,i2}return __name(PinTransformerPointerStateDispatcher,"PinTransformerPointerStateDispatcher"),__extends(PinTransformerPointerStateDispatcher,o2),Object.defineProperty(PinTransformerPointerStateDispatcher.prototype,"o",{get:__name(function(){return[0,0]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(PinTransformerPointerStateDispatcher.prototype,"w",{get:__name(function(){return this.parentW},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(PinTransformerPointerStateDispatcher.prototype,"h",{get:__name(function(){return this.parentH},"get"),enumerable:!1,configurable:!0}),PinTransformerPointerStateDispatcher.prototype.onMouseDown=function(o3){var i2=this.context,a2=[i2.pointerModeMachineState,i2.dispatchPointerModeMachineEvent][0];o3.absolutePos,o3.terminateEvent,o3.pointInside,a2.selectedPinIds.length},PinTransformerPointerStateDispatcher}(p$1),No=function(o2){function PinTransformerBase(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PinTransformerBase,"PinTransformerBase"),__extends(PinTransformerBase,o2),PinTransformerBase.prototype.getBox=function(){var o3=this,i2=this.context.pointerModeMachineState.selectedPinIds;if(!i2)return new h([0,0],0,0);if(i2.length===0)return new h([0,0],0,0);var a2=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(i3){var a3,s3=o3.context.PinPositionMeasurementHelper.getExistingPinPosition(i3),u3=o3.context.p.project.orgData.activeSignalIds.flatMap(function(i4){return o3.context.p.project.signalData[i4].pinIds.map(function(o4){return[i4,o4]})});return{signalId:(a3=u3.find(function(o4){o4[0];var a4=o4[1];return i3===a4}))===null||a3===void 0?void 0:a3[0],pinId:i3,pos:s3}}),s2=a2.filter(function(o4){return i2.includes(o4.pinId)}).map(function(o4){return o4.pos}),u2=[Math.min.apply(Math,s2.map(function(o4){return o4[0]})),Math.min.apply(Math,s2.map(function(o4){return o4[1]}))],O2=u2[0],w2=u2[1],x2=[Math.max.apply(Math,s2.map(function(o4){return o4[0]})),Math.max.apply(Math,s2.map(function(o4){return o4[1]}))],C2=[O2,w2],T2=C2[0],_2=C2[1],A2=x2[0]-O2,Q2=x2[1]-w2,N2=this.canvasUnit;return N2[0],N2[1],new h([T2,_2],A2,Q2)},PinTransformerBase}(p$1),Lo=function(o2){function PinTransformerDragPointHandleBoxResponder(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Wr,i2.unsubscribe=function(){},i2}return __name(PinTransformerDragPointHandleBoxResponder,"PinTransformerDragPointHandleBoxResponder"),__extends(PinTransformerDragPointHandleBoxResponder,o2),Object.defineProperty(PinTransformerDragPointHandleBoxResponder.prototype,"o",{get:__name(function(){return[0,0]},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(PinTransformerDragPointHandleBoxResponder.prototype,"w",{get:__name(function(){return this.parentW},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(PinTransformerDragPointHandleBoxResponder.prototype,"h",{get:__name(function(){return this.parentH},"get"),enumerable:!1,configurable:!0}),PinTransformerDragPointHandleBoxResponder.prototype.windowDidMount=function(o3){this.unsubscribe=this.context.PinTransformerCorners.attachCornerHook(this.props.anchor,this.getCornerPosition.bind(this))},PinTransformerDragPointHandleBoxResponder.prototype.getCornerPosition=function(){return o$1(this.parentO,[Ar/2,Ar/2])},PinTransformerDragPointHandleBoxResponder.prototype.windowWillUnmount=function(){this.unsubscribe()},PinTransformerDragPointHandleBoxResponder.prototype.onMouseDown=function(o3,i2){var a2=this.context,s2=a2.pointerModeMachineState,u2=[s2,a2.dispatchPointerModeMachineEvent],O2=u2[0],w2=u2[1];s2.type==="start_some_pins_selected"&&o3.pointInside&&(w2({type:"mousedown_selection_overlay",selectedPinIds:O2.selectedPinIds,anchor:this.props.anchor,axes:this.props.axes,category:this.props.category}),o3.terminateEvent())},PinTransformerDragPointHandleBoxResponder}(p$1),$o=function(o2){function PinTransformerDragPointHandleBox(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=1e4,i2.anchorCursorDictionary={"top-left":"nw-resize","top-right":"ne-resize","bottom-left":"sw-resize","bottom-right":"se-resize",left:"w-resize",right:"e-resize",bottom:"s-resize",top:"n-resize","start-point":"move"},i2}return __name(PinTransformerDragPointHandleBox,"PinTransformerDragPointHandleBox"),__extends(PinTransformerDragPointHandleBox,o2),PinTransformerDragPointHandleBox.prototype.getChildren=function(){return[Qo.Node(),Lo.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},PinTransformerDragPointHandleBox.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0],a2=o3[1],s2=[-7.5*i2,-7.5*a2],u2=this.parentW+Ar*i2,O2=this.parentH+Ar*a2;return new h(s2,u2,O2)},PinTransformerDragPointHandleBox.prototype.onMouseMove=function(o3,i2){o3.pointInside&&(this.context.setCursor(this.anchorCursorDictionary[this.props.anchor]),this.context.terminateCursor())},PinTransformerDragPointHandleBox.prototype.render=function(o3){if(this.props.category!=="translate"){var i2=this.w,a2=this.h,s2=[[i2/4,a2/4],[3*i2/4,a2/4],[3*i2/4,3*a2/4],[i2/4,3*a2/4]],u2=o3.ctx,O2=o3.localToCanvas;u2.save(),u2.beginPath(),u2.moveTo.apply(u2,O2(s2[0]));for(var w2=1;w2<s2.length;w2++)u2.lineTo.apply(u2,O2(s2[w2]));u2.closePath(),u2.fillStyle="white",u2.fill(),u2.restore()}},PinTransformerDragPointHandleBox}(p$1),Fo=function(o2){function PinTransformerDragPointHandle(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PinTransformerDragPointHandle,"PinTransformerDragPointHandle"),__extends(PinTransformerDragPointHandle,o2),PinTransformerDragPointHandle.prototype.getChildren=function(){return[$o.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},PinTransformerDragPointHandle.prototype.getBox=function(){var o3,i2,a2,s2,u2,O2,w2,x2,C2,T2=this.props.anchor,_2={w:this.parentW,h:this.parentH},A2=_2.w,Q2=_2.h;switch(T2){case"top-left":C2=[0,0],A2=(o3=[0,0])[0],Q2=o3[1];break;case"top-right":C2=[A2,0],A2=(i2=[0,0])[0],Q2=i2[1];break;case"bottom-left":C2=[0,Q2],A2=(a2=[0,0])[0],Q2=a2[1];break;case"bottom-right":C2=[A2,Q2],A2=(s2=[0,0])[0],Q2=s2[1];break;case"left":C2=[0,Q2/2],A2=(u2=[0,0])[0],Q2=u2[1];break;case"right":C2=[A2,Q2/2],A2=(O2=[0,0])[0],Q2=O2[1];break;case"bottom":C2=[A2/2,Q2],A2=(w2=[0,0])[0],Q2=w2[1];break;case"top":C2=[A2/2,0],A2=(x2=[0,0])[0],Q2=x2[1];break;case"start-point":C2=[0,0];break;default:throw new Error("Invalid type")}return new h(C2,A2,Q2)},PinTransformerDragPointHandle}(p$1),Bo=function(o2){function PinTransformerOverlay(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Wr,i2}return __name(PinTransformerOverlay,"PinTransformerOverlay"),__extends(PinTransformerOverlay,o2),Object.defineProperty(PinTransformerOverlay.prototype,"spansMoreThanOneSignal",{get:__name(function(){var o3=this,i2=this.context.pointerModeMachineState.selectedPinIds.map(function(i3){return o3.context.p.project.orgData.activeSignalIds.find(function(a2){return o3.context.p.project.signalData[a2].pinIds.includes(i3)})});return Array.from(new Set(i2)).length>1},"get"),enumerable:!1,configurable:!0}),Object.defineProperty(PinTransformerOverlay.prototype,"includesDiscreteSignal",{get:__name(function(){var o3=this,i2=this.context.pointerModeMachineState.selectedPinIds.map(function(i3){return o3.context.p.project.orgData.activeSignalIds.find(function(a2){return o3.context.p.project.signalData[a2].pinIds.includes(i3)})});return Array.from(new Set(i2)).some(function(i3){return o3.context.p.project.orgData.signalTypes[i3]==="discrete"})},"get"),enumerable:!1,configurable:!0}),PinTransformerOverlay.prototype.getChildren=function(){var o3=[];return this.active&&(this.spansMoreThanOneSignal||this.includesDiscreteSignal?o3.push(Fo.Node({category:"translate",axes:"x",anchor:"start-point"})):o3.push(Fo.Node({category:"translate",axes:"x-y",anchor:"start-point"}))),this.active&&this.context.pointerModeMachineState.selectedPinIds.length>1&&(this.spansMoreThanOneSignal||(o3.push(Fo.Node({category:"scale",axes:"x-y",anchor:"bottom-left"})),o3.push(Fo.Node({category:"scale",axes:"x-y",anchor:"bottom-right"})),o3.push(Fo.Node({category:"scale",axes:"x-y",anchor:"top-left"})),o3.push(Fo.Node({category:"scale",axes:"x-y",anchor:"top-right"})),o3.push(Fo.Node({category:"scale",axes:"y",anchor:"bottom"})),o3.push(Fo.Node({category:"scale",axes:"y",anchor:"top"}))),o3.push(Fo.Node({category:"scale",axes:"x",anchor:"left"})),o3.push(Fo.Node({category:"scale",axes:"x",anchor:"right"}))),o3},Object.defineProperty(PinTransformerOverlay.prototype,"active",{get:__name(function(){var o3=this.context.pointerModeMachineState;return o3.type==="transform_pins"||o3.type==="start_some_pins_selected"},"get"),enumerable:!1,configurable:!0}),PinTransformerOverlay.prototype.render=function(o3){var i2=o3.ctx,a2=o3.localToCanvas;if(i2.save(),i2.beginPath(),i2.strokeStyle="rgba(255,255,255,0.5)",i2.lineWidth=1,this.active){var s2=[[0,0],[this.w,0],[this.w,this.h],[0,this.h],[0,0]].map(function(o4){return a2(o4)});i2.moveTo.apply(i2,s2[0]),i2.lineTo.apply(i2,s2[1]),i2.lineTo.apply(i2,s2[2]),i2.lineTo.apply(i2,s2[3]),i2.lineTo.apply(i2,s2[4]),i2.stroke()}i2.restore()},PinTransformerOverlay}(No);function intersectLineWithSegment(o2,i2,a2,s2){var u2=u$1(s2,a2);if(i2[0]!==0||i2[1]!==0){var O2=i2[0]*u2[1]-i2[1]*u2[0];if(O2!==0){var w2=((a2[0]-o2[0])*u2[1]-(a2[1]-o2[1])*u2[0])/O2,x2=((a2[0]-o2[0])*i2[1]-(a2[1]-o2[1])*i2[0])/O2;return x2>=0&&x2<=1?[o2[0]+w2*i2[0],o2[1]+w2*i2[1]]:void 0}}}__name(intersectLineWithSegment,"intersectLineWithSegment");var Vo={"scale-x-y":__name(function(o2){var i2=o2[0],a2=o2[1];return function(o3){var s2=o3[0],u2=o3[1];return function(o4){return[-i2*o4+i2+o4*s2,-a2*o4+a2+o4*u2]}}},"scale-x-y"),"scale-x":__name(function(o2){var i2=o2[0];return o2[1],function(o3){var a2=o3[0],s2=o3[1];return function(o4){return[-i2*o4+i2+o4*a2,s2]}}},"scale-x"),"scale-y":__name(function(o2){o2[0];var i2=o2[1];return function(o3){var a2=o3[0],s2=o3[1];return function(o4){return[a2,-i2*o4+i2+o4*s2]}}},"scale-y"),"translate-x-y":__name(function(o2){var i2=o2[0],a2=o2[1];return function(o3){var s2=o3[0],u2=o3[1];return function(o4){return[i2*o4+s2,a2*o4+u2]}}},"translate-x-y"),"translate-x":__name(function(o2){var i2=o2[0];return o2[1],function(o3){var a2=o3[0],s2=o3[1];return function(o4){return[i2*o4+a2,s2]}}},"translate-x"),"translate-y":__name(function(o2){o2[0];var i2=o2[1];return function(o3){var a2=o3[0],s2=o3[1];return function(o4){return[a2,i2*o4+s2]}}},"translate-y")},inverseScale=__name(function(o2,i2,a2,s2){var u2=u$1(a2,o2),O2=u$1(i2,o2);if(Number(c(O2))<1e-7){var w2=u$1(a2,i2);if(Number(c(w2))<1e-7)return 0;throw new Error("No parameter exists")}var x2=u2[0],C2=u2[1],T2=O2[0],_2=O2[1],A2=s2[0],Q2=s2[1];if(T2*A2!==0)return x2/(T2*A2);if(_2*Q2!==0)return C2/(_2*Q2);throw new Error("No parameter exists")},"inverseScale"),inverseTranslate=__name(function(o2,i2,a2){var s2=u$1(a2,i2);if(Number(c(o2))<1e-7){if(Number(c(s2))<1e-7)return 0;throw console.log("direction",o2,"point",i2,"targetPoint",a2),new Error("No parameter exists")}var u2=s2[0],O2=s2[1],w2=o2[0],x2=o2[1];if(w2!==0)return u2/w2;if(x2!==0)return O2/x2;throw new Error("No parameter exists")},"inverseTranslate"),zo={"scale-x-y":__name(function(o2){var i2=o2[0],a2=o2[1];return function(o3){var s2=o3[0],u2=o3[1];return function(o4){var O2=o4[0],w2=o4[1];return inverseScale([i2,a2],[s2,u2],[O2,w2],[1,1])}}},"scale-x-y"),"scale-x":__name(function(o2){var i2=o2[0],a2=o2[1];return function(o3){var s2=o3[0],u2=o3[1];return function(o4){var O2=o4[0],w2=o4[1];return inverseScale([i2,a2],[s2,u2],[O2,w2],[1,0])}}},"scale-x"),"scale-y":__name(function(o2){var i2=o2[0],a2=o2[1];return function(o3){var s2=o3[0],u2=o3[1];return function(o4){var O2=o4[0],w2=o4[1];return inverseScale([i2,a2],[s2,u2],[O2,w2],[0,1])}}},"scale-y"),"translate-x-y":__name(function(o2){var i2=o2[0],a2=o2[1];return function(o3){var s2=o3[0],u2=o3[1];return function(o4){var O2=o4[0],w2=o4[1];return inverseTranslate([i2,a2],[s2,u2],[O2,w2])}}},"translate-x-y"),"translate-x":__name(function(o2){var i2=o2[0];return o2[1],function(o3){var a2=o3[0],s2=o3[1];return function(o4){var u2=o4[0],O2=o4[1];return inverseTranslate([i2,0],[a2,s2],[u2,O2])}}},"translate-x"),"translate-y":__name(function(o2){o2[0];var i2=o2[1];return function(o3){var a2=o3[0],s2=o3[1];return function(o4){var u2=o4[0],O2=o4[1];return inverseTranslate([0,i2],[a2,s2],[u2,O2])}}},"translate-y")},jo=function(o2){function PinTransformerWorker(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Wr,i2.state={initialised:!1},i2.appropriateRounding=function(o3){var i3=o3[0],a2=o3[1];return[Math.round(i3/Lr)*Lr,a2]},i2.shiftKeyPressed=!1,i2.altKeyPressed=!1,i2}return __name(PinTransformerWorker,"PinTransformerWorker"),__extends(PinTransformerWorker,o2),PinTransformerWorker.prototype.getPinIdsGroupedBySignal=function(){var o3=this;return this.context.pointerModeMachineState.selectedPinIds.reduce(function(i2,a2){var s2=o3.context.p.project.orgData.activeSignalIds.find(function(i3){return o3.context.p.project.signalData[i3].pinIds.includes(a2)});return i2[s2]||(i2[s2]=[]),i2[s2].push(a2),i2},{})},PinTransformerWorker.prototype.getPinPositions=function(){var o3=this;return this.context.pointerModeMachineState.selectedPinIds.map(function(i2){return[i2,o3.context.PinPositionMeasurementHelper.getExistingPinPosition(i2)]})},PinTransformerWorker.prototype.getSignalBoundingBoxes=function(){for(var o3=[],i2=this.getPinIdsGroupedBySignal(),_loop_1=function(s3){var u3=a2.getPinPositions().filter(function(o4){var a3=o4[0];return o4[1],i2[s3].includes(a3)}).map(function(o4){return o4[0],o4[1]}),O2=Math.min.apply(Math,u3.map(function(o4){return o4[0]})),w2=Math.min.apply(Math,u3.map(function(o4){return o4[1]})),x2=Math.max.apply(Math,u3.map(function(o4){return o4[0]})),C2=Math.max.apply(Math,u3.map(function(o4){return o4[1]})),T2=new h([O2,w2],Math.abs(x2-O2),Math.abs(C2-w2)),_2=a2.context.PinPositionMeasurementHelper.getSignalContentBox(s3);o3.push([s3,T2,_2])},a2=this,s2=0,u2=Object.keys(i2);s2<u2.length;s2++)_loop_1(u2[s2]);return o3},PinTransformerWorker.prototype.computeTransformation=function(){if(!this.state.initialised)throw new Error("State not initialised");var o3,i2,a2,s2,u2,O2,w2=this.context,x2=[w2.pointerModeMachineState,w2.dispatchPointerModeMachineEvent][0],C2=x2.category,T2=x2.anchor,_2=x2.axes;if(this.shiftKeyPressed&&_2==="x-y"&&C2==="translate"&&(_2="x"),this.altKeyPressed&&_2==="x-y"&&C2==="translate"&&(_2="y"),T2==="start-point"){o3=this.state.startPos;var A2=u$1(this.state.currentPos,o3);A2=a$1(A2,[_2==="y"?0:1,_2==="x"?0:1]);var Q2=c(A2);i2=Q2!==0?s$1(A2,1/Q2):A2;var N2=f$1(i2,u$1(this.state.currentPos,o3));a2=o$1(o3,s$1(i2,N2)),s2=o3}else{var $2={"top-left":"bottom-right","top-right":"bottom-left","bottom-left":"top-right","bottom-right":"top-left",left:"right",right:"left",top:"bottom",bottom:"top"}[T2];o3=this.state.cornerPositions[$2],A2=u$1(this.state.cornerPositions[T2],o3);var B2=c(A2);i2=B2!==0?s$1(A2,1/B2):A2,N2=f$1(i2,u$1(this.state.currentPos,o3)),a2=o$1(o3,s$1(i2,N2)),s2=this.state.cornerPositions[T2]}C2==="translate"?(u2=Vo["translate-".concat(_2)](i2),O2=zo["translate-".concat(_2)](i2)):(u2=Vo["scale-".concat(_2)](o3),O2=zo["scale-".concat(_2)](o3));var V2=O2(s2)(a2);return{transformation:u2,inverseTransformation:O2,initialParameter:V2}},PinTransformerWorker.prototype.parameterIsLegal=function(o3){var i2=this.context,a2=[i2.pointerModeMachineState,i2.dispatchPointerModeMachineEvent][0],s2=a2.category;if(a2.anchor,a2.axes,s2==="translate"){if(o3===0)return!1}else if(o3===1)return!1;return!0},PinTransformerWorker.prototype.getTransformationQueue=function(o3){var i2;if(!this.state.initialised)throw new Error("State not initialised");var a2=this.computeTransformation(),s2=a2.transformation,u2=a2.inverseTransformation,O2=a2.initialParameter;if(!this.parameterIsLegal(O2))return[];for(var w2=this.getPinIdsGroupedBySignal(),x2=this.state.pinPositions,C2=this.state.signalBoundingBoxes.map(function(o4){return o4[0],__name(function(o5,i3,a3,s3){for(var u3=[__spreadArray([],o5.o,!0),[o5.o[0]+o5.w,o5.o[1]],[o5.o[0]+o5.w,o5.o[1]+o5.h],[o5.o[0],o5.o[1]+o5.h]],O3=u3.map(function(o6){return a3(o6)(2)}),w3=u3.map(function(o6,i4){return[o6,u$1(o6,O3[i4])]}),x3=[__spreadArray([],i3.o,!0),[i3.o[0]+i3.w,i3.o[1]],[i3.o[0]+i3.w,i3.o[1]+i3.h],[i3.o[0],i3.o[1]+i3.h]],C3=[],_loop_1=function(o6){var i4=w3[o6],a4=i4[0],u4=i4[1],O4=[intersectLineWithSegment(a4,u4,x3[0],x3[1]),intersectLineWithSegment(a4,u4,x3[1],x3[2]),intersectLineWithSegment(a4,u4,x3[2],x3[3]),intersectLineWithSegment(a4,u4,x3[3],x3[0])].filter(function(o7){return o7!==void 0}).map(function(o7){return s3(a4)(o7)});if(O4.length===0||O4.length===1)return C3.push([-1/0,1/0]),"continue";if(O4.length>=2){var T4=O4.sort(function(o7,i5){return o7-i5}),_3=[T4[0],T4[T4.length-1]];return C3.push(_3),"continue"}},T3=0;T3<4;T3++)_loop_1(T3);if(C3.length===0)throw new Error("None of the vertices could possibly intersect the parent box under transformation. This means a pathological transformation was supplied.");return C3.reduce(function(o6,i4){return[Math.max(o6[0],i4[0]),Math.min(o6[1],i4[1])]},C3[0])},"findParameterIntervalForTransformation")(o4[1],o4[2],s2,u2)}),T2=C2.reduce(function(o4,i3){return[Math.max(o4[0],i3[0]),Math.min(o4[1],i3[1])]},C2[0]),_2=Math.max(T2[0],Math.min(T2[1],O2)),A2=[],Q2=0,N2=Object.keys(w2);Q2<N2.length;Q2++)for(var L2=N2[Q2],$2=this.context.p.project.orgData.signalTypes[L2],_loop_2=function(o4){var a3=(i2=x2.find(function(i3){var a4=i3[0];return i3[1],a4===o4}))===null||i2===void 0?void 0:i2[1];if(!a3)throw new Error("Pin position not found");var u3=s2(a3)(_2),O3=B2.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords(L2,u3),w3=O3[0],C3=O3[1];$2==="continuous"?A2.push({pinId:o4,pinType:"continuous",pinTime:w3,pinValue:C3,functionString:void 0}):A2.push({pinId:o4,pinType:"discrete",pinTime:w3,pinValue:void 0})},B2=this,V2=0,z2=w2[L2];V2<z2.length;V2++)_loop_2(z2[V2]);return A2},PinTransformerWorker.prototype.getCornerPositions=function(){return{"top-left":this.context.PinTransformerCorners.getCornerPosition("top-left"),"top-right":this.context.PinTransformerCorners.getCornerPosition("top-right"),"bottom-left":this.context.PinTransformerCorners.getCornerPosition("bottom-left"),"bottom-right":this.context.PinTransformerCorners.getCornerPosition("bottom-right"),left:this.context.PinTransformerCorners.getCornerPosition("left"),right:this.context.PinTransformerCorners.getCornerPosition("right"),top:this.context.PinTransformerCorners.getCornerPosition("top"),bottom:this.context.PinTransformerCorners.getCornerPosition("bottom")}},PinTransformerWorker.prototype.initialiseState=function(o3){this.setState({startPos:this.appropriateRounding(o3.absolutePos),currentPos:this.appropriateRounding(o3.absolutePos),pinPositions:this.getPinPositions(),signalBoundingBoxes:this.getSignalBoundingBoxes(),cornerPositions:this.getCornerPositions(),initialised:!0})},PinTransformerWorker.prototype.updatePins=function(o3,i2){var a2=this.appropriateRounding;if(this.state.initialised){i2||this.setState(__assign$1(__assign$1({},this.state),{currentPos:a2(o3.absolutePos)}));var s2=this.getTransformationQueue(o3);(s2.findIndex(function(o4){return o4.pinTime!==void 0||o4.pinValue!==void 0})!==-1||i2)&&(this.context.p.projectTools.returnToLastCommit(),this.context.p.projectTools.updatePins(s2,i2))}else this.initialiseState(o3)},PinTransformerWorker.prototype.onMouseMove=function(o3,i2){if(this.context.pointerModeMachineState.type==="transform_pins"){var a2=i2.shiftKey,s2=i2.altKey;this.shiftKeyPressed=a2,this.altKeyPressed=s2,this.updatePins(o3,!1)}},PinTransformerWorker.prototype.onMouseUp=function(o3,i2){var a2=this.context,s2=a2.pointerModeMachineState,u2=a2.dispatchPointerModeMachineEvent;if(s2.type==="transform_pins"){var O2=i2.shiftKey,w2=i2.altKey;this.shiftKeyPressed=O2,this.altKeyPressed=w2,this.updatePins(o3,!0),this.setState({anchor:void 0,pinPositions:void 0,signalBoundingBoxes:void 0,currentPos:void 0,initialised:!1}),u2({type:"mouseup_transformer",selectedPinIds:s2.selectedPinIds})}},PinTransformerWorker}(No),Wo=function(){function PinTransformerCorners(){this.cornerHooks={}}return __name(PinTransformerCorners,"PinTransformerCorners"),PinTransformerCorners.prototype.getCornerPosition=function(o2){if(this.cornerHooks[o2])return this.cornerHooks[o2]()},PinTransformerCorners.prototype.attachCornerHook=function(o2,i2){var a2=this;return this.cornerHooks[o2]=i2,function(){delete a2.cornerHooks[o2]}},PinTransformerCorners}(),Ho=function(o2){function PinTransformer(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PinTransformer,"PinTransformer"),__extends(PinTransformer,o2),PinTransformer.prototype.setTransformationType=function(o3){var i2=o3.category,a2=o3.axes,s2=o3.anchor;this.setContext("TransformationType",{category:i2,axes:a2,anchor:s2})},PinTransformer.prototype.windowDidMount=function(o3){this.setContext("PinPositionMeasurementHelper",new Do),this.setContext("SetTransformationType",this.setTransformationType.bind(this)),this.setContext("PinTransformerCorners",new Wo)},PinTransformer.prototype.getChildren=function(){var o3=[];return o3.push(Io.Node()),o3.push(Bo.Node()),o3.push(jo.Node()),o3},PinTransformer}(p$1),Uo=function(o2){function BasePinPoint(){return o2!==null&&o2.apply(this,arguments)||this}return __name(BasePinPoint,"BasePinPoint"),__extends(BasePinPoint,o2),BasePinPoint.prototype.getBox=function(){var o3=this.props.pinCoords,i2=o3.frame,a2=o3.value,s2=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];a2=this.context.signalType==="continuous"?a2:.5;var u2=i2/this.context.p.project.timelineData.numberOfFrames,O2=(a2-s2[0])/(s2[1]-s2[0]),w2=u2*this.parentW,x2=(1-O2)*this.parentH;return new h([w2,x2],0,0)},BasePinPoint}(p$1),Zo=function(o2){function PinBox(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Wr,i2}return __name(PinBox,"PinBox"),__extends(PinBox,o2),PinBox.prototype.render=function(o3){var i2,a2,s2=this.w,u2=this.h,O2=[[s2/2,0],[s2,u2/2],[s2/2,u2],[0,u2/2]];o3.ctx.beginPath(),(i2=o3.ctx).moveTo.apply(i2,o3.localToCanvas(O2[0]));for(var w2=1;w2<O2.length;w2++)(a2=o3.ctx).lineTo.apply(a2,o3.localToCanvas(O2[w2]));o3.ctx.closePath(),o3.ctx.fillStyle="cyan",o3.ctx.fill()},PinBox}(Gr),qo=function(o2){function Pin(){return o2!==null&&o2.apply(this,arguments)||this}return __name(Pin,"Pin"),__extends(Pin,o2),Pin.prototype.getChildren=function(){return[Zo.Node()]},Pin}(Xr),Xo=function(o2){function BezierCircle(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Wr,i2}return __name(BezierCircle,"BezierCircle"),__extends(BezierCircle,o2),BezierCircle.prototype.render=function(o3){var i2=this.absoluteUnit,a2=i2[0],s2=i2[1],u2=o3.absoluteO,O2=u2[0],w2=u2[1],x2=this.w*a2,C2=this.h*s2;o3.ctx.beginPath(),o3.ctx.ellipse(O2+x2/2,w2+C2/2,x2/3,C2/3,0,0,2*Math.PI),o3.ctx.strokeStyle="cyan",o3.ctx.stroke()},BezierCircle}(Gr),Go=function(o2){function BezierCircleHandler(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Vr,i2}return __name(BezierCircleHandler,"BezierCircleHandler"),__extends(BezierCircleHandler,o2),BezierCircleHandler.prototype.windowDidMount=function(o3){this.setState({dragging:!1})},BezierCircleHandler.prototype.onMouseDown=function(o3,i2){o3.pointInside&&(o3.terminateEvent(),this.setState({dragging:!0}))},BezierCircleHandler.prototype.updateBezierControlPoints=function(o3,i2){var a2=o3.absolutePos,s2=this.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords(this.context.signalId,a2),u2=[this.context.p.project.signalData[this.context.signalId].pinTimes[this.props.pinId],this.context.p.project.signalData[this.context.signalId].pinValues[this.props.pinId]],O2=this.context.p.project.signalData[this.context.signalId].bezierControlPoints[this.props.pinId],w2=O2[0],x2=O2[1],C2=O2[2],T2=O2[3];this.props.handleId===0?(w2=s2[0]-u2[0],x2=s2[1]-u2[1]):(C2=s2[0]-u2[0],T2=s2[1]-u2[1]),this.context.p.projectTools.updatePinBezierControlPoints(this.props.pinId,[w2,x2,C2,T2],i2)},BezierCircleHandler.prototype.onMouseMove=function(o3,i2){this.state.dragging&&(o3.terminateEvent(),this.updateBezierControlPoints(o3,!1))},BezierCircleHandler.prototype.onMouseUp=function(o3,i2){o3.pointInside&&(o3.terminateEvent(),this.setState({dragging:!1}),this.updateBezierControlPoints(o3,!0))},BezierCircleHandler}(Gr),Yo=function(o2){function BezierHandle(){return o2!==null&&o2.apply(this,arguments)||this}return __name(BezierHandle,"BezierHandle"),__extends(BezierHandle,o2),BezierHandle.prototype.getChildren=function(){return[Xo.Node(),Go.Node({handleId:this.props.handleId,pinId:this.props.pinId})]},BezierHandle.prototype.render=function(o3){var i2,a2,s2=this.context.PinPositionMeasurementHelper.getExistingPinPosition(this.props.pinId),u2=s2[0],O2=s2[1],w2=this.globalO,x2=[u2-w2[0],O2-w2[1]],C2=x2[0],T2=x2[1];o3.ctx.beginPath(),(i2=o3.ctx).moveTo.apply(i2,o3.localToCanvas([0,0])),(a2=o3.ctx).lineTo.apply(a2,o3.localToCanvas([C2,T2])),o3.ctx.strokeStyle="cyan",o3.ctx.stroke()},BezierHandle}(Uo);(function(o2){function Segment(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=Br-2,i2}__name(Segment,"Segment"),__extends(Segment,o2),Segment.prototype.render=function(o3){var i2,a2=o3.localToCanvas,s2=this.absoluteUnit,u2=s2[0],O2=s2[1];o3.ctx.beginPath(),(i2=o3.ctx).roundRect.apply(i2,__spreadArray(__spreadArray([],a2([0,0]),!1),[this.w*u2,this.h*O2,[15,0,0,15]],!1)),o3.ctx.strokeStyle="rgba(255,255,255,0.25)",o3.ctx.lineWidth=1,o3.ctx.stroke(),o3.ctx.closePath()}})(Jr);var Ko=function(o2){function SignalContent(){return o2!==null&&o2.apply(this,arguments)||this}return __name(SignalContent,"SignalContent"),__extends(SignalContent,o2),SignalContent.prototype.getChildren=function(){var o3=[],i2=[],a2=this.context.pointerModeMachineState,s2=a2.type;s2!=="start_some_pins_selected"&&s2!=="make_selection"&&s2!=="transform_pins"||(i2=a2.selectedPinIds);for(var u2=this.context.p.project.signalData[this.context.signalId].pinIds.filter(function(o4){return i2.includes(o4)}),O2=this.context.p.project.signalData[this.context.signalId].bezier,w2=0,x2=u2;w2<x2.length;w2++){var C2=x2[w2];if(o3.push(qo.Node({pinId:C2,key:C2})),O2){var T2=this.context.p.project.signalData[this.context.signalId].bezierControlPoints[C2],_2=T2[0],A2=T2[1],Q2=T2[2],N2=T2[3],L2=this.context.p.project.signalData[this.context.signalId].pinTimes[C2],$2=this.context.p.project.signalData[this.context.signalId].pinValues[C2],F2={frame:_2+L2,value:A2+$2},B2={frame:Q2+L2,value:N2+$2};o3.push(Yo.Node({pinId:C2,key:"bh0"+C2,handleId:0,pinCoords:F2})),o3.push(Yo.Node({pinId:C2,key:"bh1"+C2,handleId:1,pinCoords:B2}))}}return o3},SignalContent}(Zr),Jo=function(o2){function Signal(){return o2!==null&&o2.apply(this,arguments)||this}return __name(Signal,"Signal"),__extends(Signal,o2),Signal.prototype.getChildren=function(){var o3=[];return o3.push(Ko.Node()),o3},Signal}(qr),Oi=function(o2){function SelectedPins(){return o2!==null&&o2.apply(this,arguments)||this}return __name(SelectedPins,"SelectedPins"),__extends(SelectedPins,o2),SelectedPins.prototype.getChildren=function(){for(var o3=[],i2=0,a2=this.context.p.project.orgData.activeSignalIds;i2<a2.length;i2++){var s2=a2[i2];o3.push(Jo.Node({signalId:s2,key:s2}))}return o3},SelectedPins}(p$1),Pi=function(o2){function PointerModeWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(PointerModeWindow,"PointerModeWindow"),__extends(PointerModeWindow,o2),PointerModeWindow.prototype.windowDidMount=function(o3){},PointerModeWindow.prototype.windowWillUnmount=function(){this.context.contextBridge.setContext({type:"default"})},PointerModeWindow.prototype.getChildren=function(){var o3=this.context.p,i2=[],a2=Ro.Node();i2.push(a2);var s2=Ho.Node();i2.push(s2);var u2=Oi.Node();return i2.push(u2),__name(function(o4,i3){for(var a3=0,s3=o4.project.orgData.activeSignalIds;a3<s3.length;a3++)i3(s3[a3])},"forEachSignal")(o3,function(o4){var a3=Co.Node({signalId:o4,key:o4});i2.push(a3)}),i2.push(Po.Node()),i2},PointerModeWindow}(p$1);function clamp(o2,i2,a2){return Math.min(Math.max(o2,i2),a2)}__name(clamp,"clamp");var Ei=function(o2){function CancelAddPinOverlay(){return o2!==null&&o2.apply(this,arguments)||this}return __name(CancelAddPinOverlay,"CancelAddPinOverlay"),__extends(CancelAddPinOverlay,o2),CancelAddPinOverlay.prototype.getBox=function(){return this._cameraSnapshot.clone()},CancelAddPinOverlay.prototype.onMouseMove=function(){this.context.p.projectTools.returnToLastCommit(),this.context.contextBridge.setContext({type:"default"})},CancelAddPinOverlay}(p$1),Ri=function(o2){function AddPinSignal(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=10,i2.lastPinId="",i2}return __name(AddPinSignal,"AddPinSignal"),__extends(AddPinSignal,o2),AddPinSignal.prototype.updatePinValue=function(o3,i2,a2){var s2=Object.entries(this.context.p.project.signalData[this.context.signalId].pinTimes).find(function(i3){return i3[0],i3[1]===o3});if(!s2)throw new Error("Pin not found");var u2=[{pinId:s2[0],pinType:"continuous",pinTime:void 0,pinValue:i2,functionString:void 0}];this.context.p.projectTools.updatePins(u2,a2)},AddPinSignal.prototype.addPin=function(o3,i2){if(o3.pointInside){o3.terminateEvent();var a2=__name(function(){return Math.random().toString(36).substring(7)},"generateId$3")(),s2=this.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords.bind(this.context.PinPositionMeasurementHelper),u2=this.context.signalId,O2=s2(u2,o3.absolutePos),w2=O2[0],x2=O2[1];w2=clamp(w2,0,this.context.p.project.timelineData.numberOfFrames);var C2=this.context.signalType;if(C2==="continuous"){var T2=this.context.p.project.signalData[u2].range;x2=clamp(x2,T2[0],T2[1])}var _2=Object.entries(this.context.p.project.signalData[u2].pinTimes).findIndex(function(o4){return o4[0],o4[1]===w2})!==-1;if(_2){var A2=Object.entries(this.context.p.project.signalData[u2].pinTimes).find(function(o4){return o4[0],o4[1]===w2});if(!A2)throw new Error("Pin not found");var Q2=A2[0];if(Q2!==this.lastPinId)return;var N2=this.context.p.project.signalData[u2].pinValues[Q2];C2==="discrete"&&(x2=N2),C2==="continuous"&&this.context.p.project.signalData[u2].curves[Q2]}if(this.context.p.projectTools.returnToLastCommit(),i2||(this.lastPinId=a2),C2==="discrete")this.context.p.projectTools.addPinDiscrete(u2,a2,w2,"NEW PIN",i2),this.context.p.projectTools.updatePlayheadPosition(w2,i2),this.context.p.projectTools.pushUpdate(),this.context.contextBridge.setContext({type:"default"});else{var L2=this.context.p.project.signalData[u2].defaultCurve;this.context.p.projectTools.addPinContinuous(u2,a2,w2,x2,L2,i2),this.context.p.projectTools.updatePlayheadPosition(w2,i2),this.context.p.projectTools.pushUpdate(),this.context.contextBridge.setContext({type:"add_pin",payload:{pinId:a2,frame:w2,value:x2}})}}},AddPinSignal.prototype.onMouseMove=function(o3){console.log("addPinMode Signal onMouseMove"),this.addPin(o3,!1)},AddPinSignal.prototype.onClick=function(o3){this.addPin(o3,!0)},AddPinSignal}(qr),Mi=function(o2){function AddPinModeWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(AddPinModeWindow,"AddPinModeWindow"),__extends(AddPinModeWindow,o2),AddPinModeWindow.prototype.getChildren=function(){for(var o3=[],i2=0,a2=this.context.p.project.orgData.activeSignalIds;i2<a2.length;i2++){var s2=a2[i2];o3.push(Ri.Node({signalId:s2,key:s2}))}return o3.push(Ei.Node()),o3},AddPinModeWindow}(p$1);(function(o2){function Button2(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=100,i2}__name(Button2,"Button2"),__extends(Button2,o2),Button2.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0],a2=o3[1],s2=this.props.o;return new h(s2,20*i2,20*a2)},Button2.prototype.windowDidMount=function(o3){this.setState({hover:!1})},Object.defineProperty(Button2.prototype,"hover",{get:__name(function(){return this.state.hover},"get"),enumerable:!1,configurable:!0}),Button2.prototype.onMouseMove=function(o3,i2){this.setState({hover:o3.pointInside})},Button2.prototype.onClick=function(o3){o3.pointInside&&(this.props.onClick(),o3.terminateEvent())},Button2.prototype.render=function(o3){var i2=o3.absoluteO,a2=i2[0],s2=i2[1],u2=this.absoluteUnit,O2=u2[0],w2=u2[1];o3.ctx.beginPath(),o3.ctx.fillStyle="#3D5498",o3.ctx.roundRect(a2,s2,this.w*O2,this.h*w2,[5,5,5,5]),o3.ctx.strokeStyle="#243157",o3.ctx.lineWidth=4,o3.ctx.stroke(),o3.ctx.fill(),o3.ctx.font="".concat(Math.floor(.8*this.h*w2),"px Material Symbols"),o3.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),o3.ctx.fillText(this.props.iconName,a2+.1*this.w*O2,s2+this.h*w2-this.h*w2*.1)}})(p$1),function(o2){function CopyToClipboardButton(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=100,i2}__name(CopyToClipboardButton,"CopyToClipboardButton"),__extends(CopyToClipboardButton,o2),CopyToClipboardButton.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0],a2=o3[1],s2=[this.parentW-25*i2,5*a2];return new h(s2,20*i2,20*a2)},CopyToClipboardButton.prototype.windowDidMount=function(o3){this.setState({hover:!1})},Object.defineProperty(CopyToClipboardButton.prototype,"hover",{get:__name(function(){return this.state.hover},"get"),enumerable:!1,configurable:!0}),CopyToClipboardButton.prototype.onMouseMove=function(o3,i2){this.setState({hover:o3.pointInside})},CopyToClipboardButton.prototype.onClick=function(o3){o3.pointInside&&(navigator.clipboard.writeText(this.context.functionString),o3.terminateEvent())},CopyToClipboardButton.prototype.render=function(o3){var i2=o3.absoluteO,a2=i2[0],s2=i2[1],u2=this.absoluteUnit,O2=u2[0],w2=u2[1];o3.ctx.beginPath(),o3.ctx.fillStyle="#3D5498",o3.ctx.roundRect(a2,s2,this.w*O2,this.h*w2,[5,5,5,5]),o3.ctx.strokeStyle="#243157",o3.ctx.lineWidth=4,o3.ctx.stroke(),o3.ctx.fill(),o3.ctx.font="".concat(Math.floor(.8*this.h*w2),"px Material Symbols"),o3.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),o3.ctx.fillText("content_copy",a2+.1*this.w*O2,s2+this.h*w2-this.h*w2*.1)}}(p$1);var _i=function(o2){function SegmentTextBox(){return o2!==null&&o2.apply(this,arguments)||this}return __name(SegmentTextBox,"SegmentTextBox"),__extends(SegmentTextBox,o2),SegmentTextBox.prototype.getBox=function(){var o3=this.canvasUnit,i2=o3[0],a2=o3[1],s2=[15*i2,15*a2],u2=this.parentW-50*i2,O2=this.parentH-30*a2;return new h(s2,u2,O2)},SegmentTextBox.prototype.windowDidMount=function(o3){this.setState({hover:!1})},Object.defineProperty(SegmentTextBox.prototype,"hover",{get:__name(function(){return this.state.hover},"get"),enumerable:!1,configurable:!0}),SegmentTextBox.prototype.onMouseMove=function(o3){this.setState({hover:o3.pointInside})},SegmentTextBox.prototype.onClick=function(o3,i2){o3.pointInside&&this.context.p.setActiveEditor({type:"pin",id:this.context.pinId})},SegmentTextBox.prototype.render=function(o3){var i2=o3.absoluteO,a2=i2[0],s2=i2[1];o3.ctx.fillStyle="white",o3.ctx.font="12px monospace";for(var u2=this.absoluteUnit,O2=u2[0],w2=u2[1],x2=this.context.functionString,C2=function(o4,i3,a3,s3,u3){for(var O3=o4.split(`
`).map(function(o5){return o5.split(" ")}),w3=[],splitWord=function(o5){for(var s4=[],u4="",O4=0,w4=o5;O4<w4.length;O4++){var x4=w4[O4],C4=u4+x4;i3.measureText(C4).width>a3&&u4.length?(s4.push(u4),u4=x4):u4=C4}return u4&&s4.push(u4),s4},processLine=function(o5){for(var s4="",u4=0,O4=o5;u4<O4.length;u4++)for(var x4=O4[u4],C4=0,T4=i3.measureText(x4).width>a3?splitWord(x4):[x4];C4<T4.length;C4++){var _3=T4[C4],A3=s4.length?s4+" "+_3:_3;i3.measureText(A3).width>a3&&s4.length?(w3.push(s4),s4=_3):s4=A3}s4&&w3.push(s4)},x3=0,C3=O3;x3<C3.length;x3++)processLine(C3[x3]);var T3=Math.floor(u3/s3);if(w3.length>T3){w3.splice(T3,w3.length-T3);for(var _2=w3[T3-1],A2=a3-i3.measureText("...").width,Q2="",N2=0,L2=_2;N2<L2.length;N2++){var $2=Q2+L2[N2];if(i3.measureText($2).width>A2)break;Q2=$2}w3[T3-1]=Q2+"..."}return w3}(x2.length>100?"return [...];":x2,o3.ctx,this.w*O2,12,this.h*w2),T2=0;T2<C2.length;T2++)o3.ctx.fillText(C2[T2],a2,s2+12*w2+15*T2*w2);o3.ctx.fillStyle="rgba(0,0,0,0.3)",o3.ctx.fillRect(a2,s2,this.w*O2,this.h*w2),this.hover&&(o3.ctx.beginPath(),o3.ctx.strokeStyle="rgba(255,255,255,0.5)",o3.ctx.lineWidth=1,o3.ctx.strokeRect(a2,s2,this.w*O2,this.h*w2))},SegmentTextBox}(p$1),Wi=function(o2){function Segment(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.updateWhenCameraChanges=!0,i2.layer=100,i2}return __name(Segment,"Segment"),__extends(Segment,o2),Segment.prototype.windowDidMount=function(i2){o2.prototype.windowDidMount.call(this,i2),this.setContext("functionString",this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId])},Segment.prototype.windowDidUpdate=function(o3){this.context.functionString=this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId]},Segment.prototype.getChildren=function(){var o3=[],i2=this.absoluteUnit,a2=i2[0];return i2[1],this.w*a2>100&&o3.push(_i.Node()),o3},Segment}(Jr),ea=function(o2){function SignalContentWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(SignalContentWindow,"SignalContentWindow"),__extends(SignalContentWindow,o2),SignalContentWindow.prototype.getChildren=function(){for(var o3=this.context.p.project.signalData[this.context.signalId].pinIds,i2=[],a2=1;a2<o3.length;a2++){var s2=o3[a2];i2.push(Wi.Node({pinId:s2,key:s2}))}return i2},SignalContentWindow}(Zr),na=function(o2){function Signal(){return o2!==null&&o2.apply(this,arguments)||this}return __name(Signal,"Signal"),__extends(Signal,o2),Signal.prototype.getChildren=function(){var o3=[];return o3.push(ea.Node()),o3},Signal}(qr),ra=function(o2){function CodeEditorModeWindow(){return o2!==null&&o2.apply(this,arguments)||this}return __name(CodeEditorModeWindow,"CodeEditorModeWindow"),__extends(CodeEditorModeWindow,o2),CodeEditorModeWindow.prototype.windowDidMount=function(o3){this.setContext("clipboard",{functionString:void 0,pinId:void 0})},CodeEditorModeWindow.prototype.getChildren=function(){for(var o3=[],i2=0,a2=this.context.p.project.orgData.activeSignalIds;i2<a2.length;i2++){var s2=a2[i2];this.context.p.project.orgData.signalTypes[s2]==="continuous"&&o3.push(na.Node({signalId:s2,key:s2}))}return o3},CodeEditorModeWindow}(p$1),ia=function(o2){function TestWindow(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.layer=1e3,i2}return __name(TestWindow,"TestWindow"),__extends(TestWindow,o2),TestWindow.prototype.getBox=function(){return new h([0,0],100,100)},TestWindow.prototype.windowDidMount=function(o3){console.log("mounted",o3)},TestWindow}(p$1),aa=function(o2){function RootWindow(){var i2=o2!==null&&o2.apply(this,arguments)||this;return i2.unsubscribe=function(){},i2._renderAlways=!0,i2.cursor="default",i2.cursorTerminated=!1,i2}return __name(RootWindow,"RootWindow"),__extends(RootWindow,o2),RootWindow.prototype.windowDidMount=function(o3){var i2=this,a2=o3.extendedProjectAPIBridge,s2=o3.contextBridge,u2=o3.setCursorPrimitive;this.setContext("externalState",a2.data),this.setContext("p",a2.data),this.unsubscribe=a2.subscribe(function(o4){i2.setContext("externalState",o4),i2.setContext("p",o4)}),this.setContext("PinPositionMeasurementHelper",new Do),this.setContext("contextBridge",s2),this.setContext("setCursorPrimitive",u2),this.setContext("setCursor",function(o4){i2.cursorTerminated||(i2.cursor=o4)}),this.setContext("terminateCursor",function(){i2.cursorTerminated=!0}),this.activeTool=this.context.p.activeTool,this.setContext("pointerModeMachineState",{type:"start_no_pins_selected"}),this.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:[],dispatchPointerModeMachineEvent:__name(function(o4){i2.context.dispatchPointerModeMachineEvent(o4)},"dispatchPointerModeMachineEvent")}}),this.setContext("dispatchPointerModeMachineEvent",function(o4){var a3=function(o5,i3){switch(o5.type){case"start_no_pins_selected":switch(i3.type){case"mousedown_resizebar":return{type:"change_signal_height"};case"mousedown_begin_selectionoverlay":return{type:"make_selection",selectedPinIds:i3.selectedPinIds};case"mousedown_single_pin":return{type:"transform_pins",selectedPinIds:[i3.pinId],category:i3.category,axes:i3.axes,anchor:i3.anchor}}break;case"make_selection":switch(i3.type){case"mousemove_selectionoverlay":return{type:"make_selection",selectedPinIds:i3.selectedPinIds};case"mouseup_selectionoverlayCONDnon_empty_selection":return{type:"start_some_pins_selected",selectedPinIds:i3.selectedPinIds};case"mouseup_selectionoverlayCONDempty_selection":return{type:"start_no_pins_selected"}}break;case"change_signal_height":if(i3.type==="mouseup_resizebar")return{type:"start_no_pins_selected"};break;case"start_some_pins_selected":switch(i3.type){case"mousedown_selection_overlay":return{type:"transform_pins",selectedPinIds:o5.selectedPinIds,category:i3.category,axes:i3.axes,anchor:i3.anchor};case"mousedown_single_pin":return o5.selectedPinIds.includes(i3.pinId)?{type:"transform_pins",selectedPinIds:o5.selectedPinIds,category:i3.category,axes:i3.axes,anchor:i3.anchor}:{type:"transform_pins",selectedPinIds:[i3.pinId],category:i3.category,axes:i3.axes,anchor:i3.anchor};case"mousedown_resizebar":return{type:"change_signal_height"};case"mousedown_begin_selectionoverlay":return{type:"make_selection",selectedPinIds:i3.selectedPinIds};case"delete_selected_pins":case"mousedown_outside_selection_box":return{type:"start_no_pins_selected"}}break;case"transform_pins":if(i3.type==="mouseup_transformer")return{type:"start_some_pins_selected",selectedPinIds:o5.selectedPinIds}}throw new Error("Unhandled event type: ".concat(i3.type," in state: ").concat(o5.type))}(i2.context.pointerModeMachineState,o4),s3="selectedPinIds"in a3?a3.selectedPinIds:[];i2.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:s3,dispatchPointerModeMachineEvent:__name(function(o5){i2.context.dispatchPointerModeMachineEvent(o5)},"dispatchPointerModeMachineEvent")}}),i2.setContext("pointerModeMachineState",a3)})},RootWindow.prototype.onMouseMove=function(){(0,this.context.setCursorPrimitive)(this.cursor),this.cursor="default",this.cursorTerminated=!1},RootWindow.prototype.windowDidUpdate=function(){var o3=this.context.p.activeTool;this.activeTool!==o3&&(this.activeTool=o3,this.context.p.projectTools.returnToLastCommit(),this.context.p.projectTools.pushUpdate())},RootWindow.prototype.getChildren=function(){var o3=this.context.p.activeTool,i2=[];switch(i2.push(Ur.Node()),i2.push(Io.Node()),i2.push(So.Node()),o3){case"pointer":i2.push(Pi.Node());break;case"code_editor":i2.push(ra.Node());break;case"add_pin":i2.push(Mi.Node());break;default:i2.push(ia.Node())}return i2},RootWindow}(p$1),la=reactExports.forwardRef(function(i2,a2){var s2=i2.animationFrameFunc,u2=reactExports.useRef(null),x2=reactExports.useRef(null),C2=reactExports.useState(null),_2=C2[0],Q2=C2[1];return reactExports.useImperativeHandle(a2,function(){return{getCanvas:__name(function(){return u2.current},"getCanvas")}}),reactExports.useLayoutEffect(function(){if(!_2&&x2.current){var o2=x2.current.getBoundingClientRect(),i3=o2.width,a3=o2.height;Q2({width:i3,height:a3})}var s3=new ResizeObserver(function(o3){if(o3[0]){var i4=o3[0].contentRect,a4=i4.width,s4=i4.height;Q2({width:a4,height:s4})}});return x2.current&&s3.observe(x2.current),function(){return s3.disconnect()}},[]),reactExports.useLayoutEffect(function(){var o2;if(_2){var i3={W:_2.width,H:_2.height},f2=__name(function(){if(u2){var a3=u2.current;if(!a3)throw new Error("Canvas not found");var O2=a3.getContext("2d");if(!O2)throw new Error("2d context not found");a3.width=i3.W,a3.height=i3.H,s2(a3,O2),o2=requestAnimationFrame(f2)}},"f");return o2=requestAnimationFrame(f2),function(){return cancelAnimationFrame(o2)}}},[_2,s2]),jsxRuntimeExports.jsx("div",{ref:x2,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx("canvas",{style:{width:"100%",height:"100%",display:"block"},width:300,height:100,ref:u2})})});function useMouseEvents(o2,i2){var a2=reactExports.useRef(null),dispatchMouseEvent=__name(function(o3,s2){if(a2.current&&i2){var u2=a2.current.getBoundingClientRect();s2([o3.clientX-u2.left,o3.clientY-u2.top],o3)}},"dispatchMouseEvent");return reactExports.useEffect(function(){if(o2&&i2){var onMouseDown=__name(function(i3){try{dispatchMouseEvent(i3,o2.mouseDownHandler.bind(o2))}catch(i4){console.log(i4)}},"onMouseDown"),onMouseUp=__name(function(i3){try{dispatchMouseEvent(i3,o2.mouseUpHandler.bind(o2))}catch(i4){console.log(i4)}},"onMouseUp"),onClick=__name(function(i3){try{dispatchMouseEvent(i3,o2.clickHandler.bind(o2))}catch(i4){console.log(i4)}},"onClick"),onWheel=__name(function(s3){s3.preventDefault();try{(function(o3,s4){a2.current&&i2&&s4(o3)})(s3,o2.mouseWheelHandler.bind(o2))}catch(s4){console.log(s4)}},"onWheel"),s2=no.throttle(function(i3){try{dispatchMouseEvent(i3,o2.mouseMoveHandler.bind(o2))}catch(i4){console.log(i4)}},1e3/60);return window.addEventListener("mousemove",s2),window.addEventListener("mousedown",onMouseDown),window.addEventListener("mouseup",onMouseUp),window.addEventListener("click",onClick),i2.addEventListener("wheel",onWheel),function(){window.removeEventListener("mousemove",s2),window.removeEventListener("mousedown",onMouseDown),window.removeEventListener("mouseup",onMouseUp),window.removeEventListener("click",onClick),i2.removeEventListener("wheel",onWheel)}}},[a2.current,o2,i2]),a2}__name(useMouseEvents,"useMouseEvents");function ResizableWindowCanvas(i2){var a2=i2.rootWindow,s2=__name(function(){var o2=reactExports.useRef(null),i3=reactExports.useState(null),a3=i3[0],s3=i3[1];return reactExports.useLayoutEffect(function(){o2&&o2.current&&s3(o2.current.getCanvas())},[o2]),[o2,a3]},"useCanvas")(),C2=s2[0],_2=s2[1],A2=React.useState(!1);A2[0];var Q2=A2[1],N2=reactExports.useRef(null);reactExports.useEffect(function(){_2!==null&&(N2.current=new A$1(a2,_2),window.canvasRoot=N2.current,Q2(!0))},[_2]);var L2=useMouseEvents(N2.current,_2);return jsxRuntimeExports.jsx("div",{ref:L2,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(la,{ref:C2,animationFrameFunc:__name(function(o2,i3){i3.clearRect(0,0,o2.width,o2.height);var a3=N2.current;a3==null||a3.onAnimationFrame()},"animationFrameFunc")})})}__name(ResizableWindowCanvas,"ResizableWindowCanvas");var ca=function(){function ContextBridge(o2){this.data=o2,this.subscribers=[]}return __name(ContextBridge,"ContextBridge"),ContextBridge.prototype.setContext=function(o2){this.data=o2,this.dispatch(o2)},ContextBridge.prototype.subscribe=function(o2){var i2=this;return this.subscribers.push(o2),function(){i2.subscribers=i2.subscribers.filter(function(i3){return i3!==o2})}},ContextBridge.prototype.dispatch=function(o2){this.subscribers.forEach(function(i2){return i2(o2)})},ContextBridge}();function generateId$2(){return Math.random().toString(36).substring(2,15)}__name(generateId$2,"generateId$2");function EasingButton(i2){var a2=i2.text,s2=i2.functionString,u2=i2.currentFunctionString,O2=i2.setFunctionString;return jsxRuntimeExports.jsx(Button$1,{text:a2,bgColor:s2===u2?"var(--gray2)":"var(--gray5)",onClick:__name(function(){return O2(s2)},"onClick")})}__name(EasingButton,"EasingButton");function EasingConsole(a2){var s2=a2.pinId,u2=a2.project,O2=a2.projectTools,w2=u2.orgData.signalIdByPinId[s2],x2=u2.signalData[w2].curves[s2],setFunctionString=__name(function(o2){O2.updateCurve(s2,o2)},"setFunctionString");return jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:"0px"},children:[jsxRuntimeExports.jsx(EasingButton,{text:"Linear",functionString:"return easyLinear();",currentFunctionString:x2,setFunctionString}),jsxRuntimeExports.jsx(EasingButton,{text:"Ease In",functionString:"return easyEaseIn();",currentFunctionString:x2,setFunctionString}),jsxRuntimeExports.jsx(EasingButton,{text:"Ease Out",functionString:"return easyEaseOut();",currentFunctionString:x2,setFunctionString}),jsxRuntimeExports.jsx(EasingButton,{text:"Easy Ease",functionString:"return easyEase();",currentFunctionString:x2,setFunctionString})]})}__name(EasingConsole,"EasingConsole");function EditSinglePin(a2){var s2,u2=a2.pinId,O2=a2.project,w2=a2.projectTools,x2=O2.orgData.signalIds.find(function(o2){return O2.signalData[o2].pinIds.includes(u2)});if(!x2)return null;var C2=O2.orgData.signalTypes[x2],T2=(s2=O2.signalData[x2].pinValues[u2])===null||s2===void 0?void 0:s2.toString(),_2=O2.signalData[x2].pinTimes[u2].toString();return jsxRuntimeExports.jsxs("div",{style:{padding:"10px",fontSize:"14px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:"100%"},children:[jsxRuntimeExports.jsx("div",{style:{marginRight:"10px"},children:"Time"}),jsxRuntimeExports.jsx(SimpleCommittedTextInput,{bgColor:"var(--gray5)",bgActive:"var(--gray4)",initialValue:_2,isValid:__name(function(o2){var i2=O2.timelineData.numberOfFrames;return!isNaN(Number(o2))&&!(Number(o2)<0||Number(o2)>=i2)},"isValid"),onCommit:__name(function(o2){var i2=parseInt(o2);w2.updatePins([{pinId:u2,pinType:C2,pinTime:i2}],!0)},"onCommit")},generateId$2()),jsxRuntimeExports.jsx("div",{style:{marginRight:"10px",marginLeft:"10px"},children:"Value"}),jsxRuntimeExports.jsx(SimpleCommittedTextInput,{bgColor:"var(--gray5)",bgActive:"var(--gray4)",initialValue:T2,isValid:__name(function(o2){if(C2==="continuous"){var i2=O2.signalData[x2].range;return!isNaN(Number(o2))&&!(Number(o2)<i2[0]||Number(o2)>i2[1])}return!0},"isValid"),onCommit:__name(function(o2){C2==="continuous"&&w2.updatePins([{pinId:u2,pinType:"continuous",pinTime:void 0,pinValue:Number(o2),functionString:void 0}],!0),C2==="discrete"&&w2.updatePins([{pinId:u2,pinType:"discrete",pinTime:void 0,pinValue:o2}],!0)},"onCommit")},generateId$2()),C2==="continuous"?jsxRuntimeExports.jsx("div",{style:{marginLeft:"20px"},children:jsxRuntimeExports.jsx(EasingConsole,{pinId:u2,project:O2,projectTools:w2})}):null]})}__name(EditSinglePin,"EditSinglePin");function SelectionBar(a2){var s2=a2.context,u2=a2.project,O2=a2.projectTools;if(s2.type!=="pointer")return null;var w2=s2.payload.selectedPinIds,x2=w2.length>1;return w2.length===0?null:jsxRuntimeExports.jsxs("div",{onMouseOver:__name(function(o2){o2.stopPropagation()},"onMouseOver"),onMouseDown:__name(function(o2){o2.stopPropagation()},"onMouseDown"),onMouseMove:__name(function(o2){o2.stopPropagation()},"onMouseMove"),style:{backgroundColor:"var(--gray6)",borderRadius:"var(--borderRadiusSmall)",position:"absolute",bottom:"0",left:"0",color:"var(--gray8)",marginBottom:"10px",marginLeft:"10px",fontFamily:"Roboto, sans-serif",userSelect:"none",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[x2?jsxRuntimeExports.jsx("div",{style:{padding:"10px",fontSize:"14px"},children:"".concat(w2.length," pins selected")}):jsxRuntimeExports.jsx(EditSinglePin,{pinId:w2[0],project:u2,projectTools:O2}),jsxRuntimeExports.jsx(Icon$1,{iconName:"delete",color:"var(--gray2)",hoverColor:"var(--gray1)",hoverBgColor:"var(--gray7)",onClick:__name(function(){O2.deletePins(__spreadArray([],w2,!0)),s2.payload.dispatchPointerModeMachineEvent({type:"delete_selected_pins",selectedPinIds:[]})},"onClick")})]})}__name(SelectionBar,"SelectionBar");function AddPinInfo(o2){var a2=o2.context;if(o2.project,o2.projectTools,a2.type!=="add_pin")return null;var s2=a2.payload.value.toFixed(2);return jsxRuntimeExports.jsxs("div",{onMouseOver:__name(function(o3){o3.stopPropagation()},"onMouseOver"),onMouseDown:__name(function(o3){o3.stopPropagation()},"onMouseDown"),onMouseMove:__name(function(o3){o3.stopPropagation()},"onMouseMove"),style:{backgroundColor:"var(--gray6)",borderRadius:"var(--borderRadiusSmall)",position:"absolute",bottom:"0",left:"0",color:"var(--gray8)",marginBottom:"10px",marginLeft:"10px",fontFamily:"Roboto, sans-serif",userSelect:"none",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",padding:"10px"},children:["Frame: ",a2.payload.frame,"  Value: ",s2]})}__name(AddPinInfo,"AddPinInfo");function ContextComponent(i2){var a2=i2.context,s2=i2.project,u2=i2.projectTools;switch(a2.type){case"pointer":return jsxRuntimeExports.jsx(SelectionBar,{context:a2,project:s2,projectTools:u2});case"add_pin":return jsxRuntimeExports.jsx(AddPinInfo,{context:a2,project:s2,projectTools:u2});default:return null}}__name(ContextComponent,"ContextComponent");function deriveSignalHeights(o2,i2){var a2=o2.orgData.activeSignalIds,s2=Object.keys(i2);if(a2.join("@")!==s2.join("@")){for(var u2={},O2=0,w2=a2;O2<w2.length;O2++){var x2=w2[O2];s2.includes(x2)?u2[x2]=i2[x2]:u2[x2]=100}return u2}return i2}__name(deriveSignalHeights,"deriveSignalHeights");function EditingAreaCanvas(i2){var a2=i2.activeTool,s2=i2.setActiveEditor,u2=i2.project,x2=i2.projectTools,C2=i2.interpolateSignalValue,_2=reactExports.useRef(null),A2=reactExports.useState(null),Q2=A2[0],N2=A2[1];return reactExports.useLayoutEffect(function(){if(_2.current){var o2=_2.current.getBoundingClientRect(),i3=o2.width,a3=o2.height;N2({width:i3,height:a3});var s3=new ResizeObserver(function(o3){if(o3[0]){var i4=o3[0].contentRect,a4=i4.width,s4=i4.height;N2({width:a4,height:s4})}});return s3.observe(_2.current),function(){return s3.disconnect()}}},[_2.current]),jsxRuntimeExports.jsx("div",Q2?{ref:_2,style:{width:"100%",height:"100%"},children:jsxRuntimeExports.jsx(EditingAreaCanvasContent,{activeTool:a2,setActiveEditor:s2,project:u2,projectTools:x2,interpolateSignalValue:C2,dimensions:Q2})}:{ref:_2,style:{width:"100%",height:"100%"}})}__name(EditingAreaCanvas,"EditingAreaCanvas");var ua=function(){function ExtendedProjectAPIBridge(o2){this.data=o2,this.subscribers=[]}return __name(ExtendedProjectAPIBridge,"ExtendedProjectAPIBridge"),ExtendedProjectAPIBridge.prototype.subscribe=function(o2){var i2=this;return this.subscribers.push(o2),function(){i2.subscribers=i2.subscribers.filter(function(i3){return i3!==o2})}},ExtendedProjectAPIBridge.prototype.dispatch=function(o2){this.subscribers.forEach(function(i2){return i2(o2)})},ExtendedProjectAPIBridge}();function EditingAreaCanvasContent(a2){var s2=a2.activeTool,u2=a2.setActiveEditor,x2=a2.project,C2=a2.projectTools,T2=a2.interpolateSignalValue,_2=a2.dimensions,A2=reactExports.useState(deriveSignalHeights(x2,{})),N2=A2[0],L2=A2[1],$2=deriveSignalHeights(x2,N2);$2!==N2&&L2($2);var F2=__name(function(o2,i2){var a3=__spreadArray([],o2.orgData.activeSignalIds,!0).sort(function(i3,a4){return o2.orgData.signalIds.indexOf(i3)-o2.orgData.signalIds.indexOf(a4)}).reduce(function(o3,a4){var s3=o3[0],u3=o3[1];return s3[a4]=u3,[s3,u3+i2[a4]]},[{},0]);return[a3[0],a3[1]]},"useSignalStartHeights")(x2,$2),B2={project:x2,projectTools:C2,activeTool:s2,signalStartHeights:F2[0],signalHeights:N2,setSignalHeight:__name(function(o2,i2){L2(function(a3){var s3;return __assign$1(__assign$1({},a3),((s3={})[o2]=i2,s3))})},"setSignalHeight"),interpolateSignalValue:T2,displayDimensions:_2,setActiveEditor:u2},V2=reactExports.useState("default"),z2=V2[0],j2=V2[1],U2=reactExports.useRef(new ua(B2)).current;U2.dispatch(B2);var Z2=reactExports.useRef(new ca({type:"default"})).current,X2=aa.Node({extendedProjectAPIBridge:U2,contextBridge:Z2,setCursorPrimitive:j2}),Y2=reactExports.useSyncExternalStore(Z2.subscribe.bind(Z2),function(){return Z2.data});return jsxRuntimeExports.jsxs("div",{style:{width:"100%",height:"100%",backgroundColor:"#1D2126",position:"relative",cursor:z2},className:"materialSymbols",children:[jsxRuntimeExports.jsx(ResizableWindowCanvas,{rootWindow:X2}),jsxRuntimeExports.jsx(ContextComponent,{context:Y2,project:x2,projectTools:C2})]})}__name(EditingAreaCanvasContent,"EditingAreaCanvasContent");let da=[],ga=[];function isExtendingChar(o2){if(o2<768)return!1;for(let i2=0,a2=da.length;;){let s2=i2+a2>>1;if(o2<da[s2])a2=s2;else{if(!(o2>=ga[s2]))return!0;i2=s2+1}if(i2==a2)return!1}}__name(isExtendingChar,"isExtendingChar");function isRegionalIndicator(o2){return o2>=127462&&o2<=127487}__name(isRegionalIndicator,"isRegionalIndicator");(()=>{let o2="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(o3=>o3?parseInt(o3,36):1);for(let i2=0,a2=0;i2<o2.length;i2++)(i2%2?ga:da).push(a2+=o2[i2])})();function findClusterBreak$1(o2,i2,a2=!0,s2=!0){return(a2?nextClusterBreak:prevClusterBreak)(o2,i2,s2)}__name(findClusterBreak$1,"findClusterBreak$1");function nextClusterBreak(o2,i2,a2){if(i2==o2.length)return i2;i2&&surrogateLow$1(o2.charCodeAt(i2))&&surrogateHigh$1(o2.charCodeAt(i2-1))&&i2--;let s2=codePointAt$1(o2,i2);for(i2+=codePointSize$1(s2);i2<o2.length;){let u2=codePointAt$1(o2,i2);if(s2==8205||u2==8205||a2&&isExtendingChar(u2))i2+=codePointSize$1(u2),s2=u2;else{if(!isRegionalIndicator(u2))break;{let a3=0,s3=i2-2;for(;s3>=0&&isRegionalIndicator(codePointAt$1(o2,s3));)a3++,s3-=2;if(a3%2==0)break;i2+=2}}}return i2}__name(nextClusterBreak,"nextClusterBreak");function prevClusterBreak(o2,i2,a2){for(;i2>0;){let s2=nextClusterBreak(o2,i2-2,a2);if(s2<i2)return s2;i2--}return 0}__name(prevClusterBreak,"prevClusterBreak");function codePointAt$1(o2,i2){let a2=o2.charCodeAt(i2);if(!surrogateHigh$1(a2)||i2+1==o2.length)return a2;let s2=o2.charCodeAt(i2+1);return surrogateLow$1(s2)?s2-56320+(a2-55296<<10)+65536:a2}__name(codePointAt$1,"codePointAt$1");function surrogateLow$1(o2){return o2>=56320&&o2<57344}__name(surrogateLow$1,"surrogateLow$1");function surrogateHigh$1(o2){return o2>=55296&&o2<56320}__name(surrogateHigh$1,"surrogateHigh$1");function codePointSize$1(o2){return o2<65536?1:2}__name(codePointSize$1,"codePointSize$1");const _Text=class _Text{lineAt(o2){if(o2<0||o2>this.length)throw new RangeError(`Invalid position ${o2} in document of length ${this.length}`);return this.lineInner(o2,!1,1,0)}line(o2){if(o2<1||o2>this.lines)throw new RangeError(`Invalid line number ${o2} in ${this.lines}-line document`);return this.lineInner(o2,!0,1,0)}replace(o2,i2,a2){[o2,i2]=clip(this,o2,i2);let s2=[];return this.decompose(0,o2,s2,2),a2.length&&a2.decompose(0,a2.length,s2,3),this.decompose(i2,this.length,s2,1),TextNode.from(s2,this.length-(i2-o2)+a2.length)}append(o2){return this.replace(this.length,this.length,o2)}slice(o2,i2=this.length){[o2,i2]=clip(this,o2,i2);let a2=[];return this.decompose(o2,i2,a2,0),TextNode.from(a2,i2-o2)}eq(o2){if(o2==this)return!0;if(o2.length!=this.length||o2.lines!=this.lines)return!1;let i2=this.scanIdentical(o2,1),a2=this.length-this.scanIdentical(o2,-1),s2=new RawTextCursor(this),u2=new RawTextCursor(o2);for(let o3=i2,O2=i2;;){if(s2.next(o3),u2.next(o3),o3=0,s2.lineBreak!=u2.lineBreak||s2.done!=u2.done||s2.value!=u2.value)return!1;if(O2+=s2.value.length,s2.done||O2>=a2)return!0}}iter(o2=1){return new RawTextCursor(this,o2)}iterRange(o2,i2=this.length){return new PartialTextCursor(this,o2,i2)}iterLines(o2,i2){let a2;if(o2==null)a2=this.iter();else{i2==null&&(i2=this.lines+1);let s2=this.line(o2).from;a2=this.iterRange(s2,Math.max(s2,i2==this.lines+1?this.length:i2<=1?0:this.line(i2-1).to))}return new LineCursor(a2)}toString(){return this.sliceString(0)}toJSON(){let o2=[];return this.flatten(o2),o2}constructor(){}static of(o2){if(o2.length==0)throw new RangeError("A document must have at least one line");return o2.length!=1||o2[0]?o2.length<=32?new TextLeaf(o2):TextNode.from(TextLeaf.split(o2,[])):_Text.empty}};__name(_Text,"Text");let Text=_Text;const _TextLeaf=class _TextLeaf extends Text{constructor(o2,i2=__name(function(o3){let i3=-1;for(let a2 of o3)i3+=a2.length+1;return i3},"textLength")(o2)){super(),this.text=o2,this.length=i2}get lines(){return this.text.length}get children(){return null}lineInner(o2,i2,a2,s2){for(let u2=0;;u2++){let O2=this.text[u2],w2=s2+O2.length;if((i2?a2:w2)>=o2)return new Line(s2,w2,a2,O2);s2=w2+1,a2++}}decompose(o2,i2,a2,s2){let u2=o2<=0&&i2>=this.length?this:new _TextLeaf(sliceText(this.text,o2,i2),Math.min(i2,this.length)-Math.max(0,o2));if(1&s2){let o3=a2.pop(),i3=appendText(u2.text,o3.text.slice(),0,u2.length);if(i3.length<=32)a2.push(new _TextLeaf(i3,o3.length+u2.length));else{let o4=i3.length>>1;a2.push(new _TextLeaf(i3.slice(0,o4)),new _TextLeaf(i3.slice(o4)))}}else a2.push(u2)}replace(o2,i2,a2){if(!(a2 instanceof _TextLeaf))return super.replace(o2,i2,a2);[o2,i2]=clip(this,o2,i2);let s2=appendText(this.text,appendText(a2.text,sliceText(this.text,0,o2)),i2),u2=this.length+a2.length-(i2-o2);return s2.length<=32?new _TextLeaf(s2,u2):TextNode.from(_TextLeaf.split(s2,[]),u2)}sliceString(o2,i2=this.length,a2=`
`){[o2,i2]=clip(this,o2,i2);let s2="";for(let u2=0,O2=0;u2<=i2&&O2<this.text.length;O2++){let w2=this.text[O2],x2=u2+w2.length;u2>o2&&O2&&(s2+=a2),o2<x2&&i2>u2&&(s2+=w2.slice(Math.max(0,o2-u2),i2-u2)),u2=x2+1}return s2}flatten(o2){for(let i2 of this.text)o2.push(i2)}scanIdentical(){return 0}static split(o2,i2){let a2=[],s2=-1;for(let u2 of o2)a2.push(u2),s2+=u2.length+1,a2.length==32&&(i2.push(new _TextLeaf(a2,s2)),a2=[],s2=-1);return s2>-1&&i2.push(new _TextLeaf(a2,s2)),i2}};__name(_TextLeaf,"TextLeaf");let TextLeaf=_TextLeaf;const _TextNode=class _TextNode extends Text{constructor(o2,i2){super(),this.children=o2,this.length=i2,this.lines=0;for(let i3 of o2)this.lines+=i3.lines}lineInner(o2,i2,a2,s2){for(let u2=0;;u2++){let O2=this.children[u2],w2=s2+O2.length,x2=a2+O2.lines-1;if((i2?x2:w2)>=o2)return O2.lineInner(o2,i2,a2,s2);s2=w2+1,a2=x2+1}}decompose(o2,i2,a2,s2){for(let u2=0,O2=0;O2<=i2&&u2<this.children.length;u2++){let w2=this.children[u2],x2=O2+w2.length;if(o2<=x2&&i2>=O2){let u3=s2&((O2<=o2?1:0)|(x2>=i2?2:0));O2>=o2&&x2<=i2&&!u3?a2.push(w2):w2.decompose(o2-O2,i2-O2,a2,u3)}O2=x2+1}}replace(o2,i2,a2){if([o2,i2]=clip(this,o2,i2),a2.lines<this.lines)for(let s2=0,u2=0;s2<this.children.length;s2++){let O2=this.children[s2],w2=u2+O2.length;if(o2>=u2&&i2<=w2){let x2=O2.replace(o2-u2,i2-u2,a2),C2=this.lines-O2.lines+x2.lines;if(x2.lines<C2>>4&&x2.lines>C2>>6){let u3=this.children.slice();return u3[s2]=x2,new _TextNode(u3,this.length-(i2-o2)+a2.length)}return super.replace(u2,w2,x2)}u2=w2+1}return super.replace(o2,i2,a2)}sliceString(o2,i2=this.length,a2=`
`){[o2,i2]=clip(this,o2,i2);let s2="";for(let u2=0,O2=0;u2<this.children.length&&O2<=i2;u2++){let w2=this.children[u2],x2=O2+w2.length;O2>o2&&u2&&(s2+=a2),o2<x2&&i2>O2&&(s2+=w2.sliceString(o2-O2,i2-O2,a2)),O2=x2+1}return s2}flatten(o2){for(let i2 of this.children)i2.flatten(o2)}scanIdentical(o2,i2){if(!(o2 instanceof _TextNode))return 0;let a2=0,[s2,u2,O2,w2]=i2>0?[0,0,this.children.length,o2.children.length]:[this.children.length-1,o2.children.length-1,-1,-1];for(;;s2+=i2,u2+=i2){if(s2==O2||u2==w2)return a2;let x2=this.children[s2],C2=o2.children[u2];if(x2!=C2)return a2+x2.scanIdentical(C2,i2);a2+=x2.length+1}}static from(o2,i2=o2.reduce((o3,i3)=>o3+i3.length+1,-1)){let a2=0;for(let i3 of o2)a2+=i3.lines;if(a2<32){let a3=[];for(let i3 of o2)i3.flatten(a3);return new TextLeaf(a3,i2)}let s2=Math.max(32,a2>>5),u2=s2<<1,O2=s2>>1,w2=[],x2=0,C2=-1,T2=[];function add2(o3){let i3;if(o3.lines>u2&&o3 instanceof _TextNode)for(let i4 of o3.children)add2(i4);else o3.lines>O2&&(x2>O2||!x2)?(flush(),w2.push(o3)):o3 instanceof TextLeaf&&x2&&(i3=T2[T2.length-1])instanceof TextLeaf&&o3.lines+i3.lines<=32?(x2+=o3.lines,C2+=o3.length+1,T2[T2.length-1]=new TextLeaf(i3.text.concat(o3.text),i3.length+1+o3.length)):(x2+o3.lines>s2&&flush(),x2+=o3.lines,C2+=o3.length+1,T2.push(o3))}__name(add2,"add2");function flush(){x2!=0&&(w2.push(T2.length==1?T2[0]:_TextNode.from(T2,C2)),C2=-1,x2=T2.length=0)}__name(flush,"flush");for(let i3 of o2)add2(i3);return flush(),w2.length==1?w2[0]:new _TextNode(w2,i2)}};__name(_TextNode,"TextNode");let TextNode=_TextNode;function appendText(o2,i2,a2=0,s2=1e9){for(let u2=0,O2=0,w2=!0;O2<o2.length&&u2<=s2;O2++){let x2=o2[O2],C2=u2+x2.length;C2>=a2&&(C2>s2&&(x2=x2.slice(0,s2-u2)),u2<a2&&(x2=x2.slice(a2-u2)),w2?(i2[i2.length-1]+=x2,w2=!1):i2.push(x2)),u2=C2+1}return i2}__name(appendText,"appendText");function sliceText(o2,i2,a2){return appendText(o2,[""],i2,a2)}__name(sliceText,"sliceText");Text.empty=new TextLeaf([""],0);const _RawTextCursor=class _RawTextCursor{constructor(o2,i2=1){this.dir=i2,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[o2],this.offsets=[i2>0?1:(o2 instanceof TextLeaf?o2.text.length:o2.children.length)<<1]}nextInner(o2,i2){for(this.done=this.lineBreak=!1;;){let a2=this.nodes.length-1,s2=this.nodes[a2],u2=this.offsets[a2],O2=u2>>1,w2=s2 instanceof TextLeaf?s2.text.length:s2.children.length;if(O2==(i2>0?w2:0)){if(a2==0)return this.done=!0,this.value="",this;i2>0&&this.offsets[a2-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&u2)==(i2>0?0:1)){if(this.offsets[a2]+=i2,o2==0)return this.lineBreak=!0,this.value=`
`,this;o2--}else if(s2 instanceof TextLeaf){let u3=s2.text[O2+(i2<0?-1:0)];if(this.offsets[a2]+=i2,u3.length>Math.max(0,o2))return this.value=o2==0?u3:i2>0?u3.slice(o2):u3.slice(0,u3.length-o2),this;o2-=u3.length}else{let u3=s2.children[O2+(i2<0?-1:0)];o2>u3.length?(o2-=u3.length,this.offsets[a2]+=i2):(i2<0&&this.offsets[a2]--,this.nodes.push(u3),this.offsets.push(i2>0?1:(u3 instanceof TextLeaf?u3.text.length:u3.children.length)<<1))}}}next(o2=0){return o2<0&&(this.nextInner(-o2,-this.dir),o2=this.value.length),this.nextInner(o2,this.dir)}};__name(_RawTextCursor,"RawTextCursor");let RawTextCursor=_RawTextCursor;const _PartialTextCursor=class _PartialTextCursor{constructor(o2,i2,a2){this.value="",this.done=!1,this.cursor=new RawTextCursor(o2,i2>a2?-1:1),this.pos=i2>a2?o2.length:0,this.from=Math.min(i2,a2),this.to=Math.max(i2,a2)}nextInner(o2,i2){if(i2<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;o2+=Math.max(0,i2<0?this.pos-this.to:this.from-this.pos);let a2=i2<0?this.pos-this.from:this.to-this.pos;o2>a2&&(o2=a2),a2-=o2;let{value:s2}=this.cursor.next(o2);return this.pos+=(s2.length+o2)*i2,this.value=s2.length<=a2?s2:i2<0?s2.slice(s2.length-a2):s2.slice(0,a2),this.done=!this.value,this}next(o2=0){return o2<0?o2=Math.max(o2,this.from-this.pos):o2>0&&(o2=Math.min(o2,this.to-this.pos)),this.nextInner(o2,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}};__name(_PartialTextCursor,"PartialTextCursor");let PartialTextCursor=_PartialTextCursor;const _LineCursor=class _LineCursor{constructor(o2){this.inner=o2,this.afterBreak=!0,this.value="",this.done=!1}next(o2=0){let{done:i2,lineBreak:a2,value:s2}=this.inner.next(o2);return i2&&this.afterBreak?(this.value="",this.afterBreak=!1):i2?(this.done=!0,this.value=""):a2?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=s2,this.afterBreak=!1),this}get lineBreak(){return!1}};__name(_LineCursor,"LineCursor");let LineCursor=_LineCursor;typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});const _Line=class _Line{constructor(o2,i2,a2,s2){this.from=o2,this.to=i2,this.number=a2,this.text=s2}get length(){return this.to-this.from}};__name(_Line,"Line");let Line=_Line;function clip(o2,i2,a2){return[i2=Math.max(0,Math.min(o2.length,i2)),Math.max(i2,Math.min(o2.length,a2))]}__name(clip,"clip");function findClusterBreak(o2,i2,a2=!0,s2=!0){return findClusterBreak$1(o2,i2,a2,s2)}__name(findClusterBreak,"findClusterBreak");function codePointAt(o2,i2){let a2=o2.charCodeAt(i2);if(!__name(function(o3){return o3>=55296&&o3<56320},"surrogateHigh")(a2)||i2+1==o2.length)return a2;let s2=o2.charCodeAt(i2+1);return __name(function(o3){return o3>=56320&&o3<57344},"surrogateLow")(s2)?s2-56320+(a2-55296<<10)+65536:a2}__name(codePointAt,"codePointAt");function fromCodePoint(o2){return o2<=65535?String.fromCharCode(o2):(o2-=65536,String.fromCharCode(55296+(o2>>10),56320+(1023&o2)))}__name(fromCodePoint,"fromCodePoint");function codePointSize(o2){return o2<65536?1:2}__name(codePointSize,"codePointSize");const ma=/\r\n?|\n/;var va=function(o2){return o2[o2.Simple=0]="Simple",o2[o2.TrackDel=1]="TrackDel",o2[o2.TrackBefore=2]="TrackBefore",o2[o2.TrackAfter=3]="TrackAfter",o2}(va||(va={}));const _ChangeDesc=class _ChangeDesc{constructor(o2){this.sections=o2}get length(){let o2=0;for(let i2=0;i2<this.sections.length;i2+=2)o2+=this.sections[i2];return o2}get newLength(){let o2=0;for(let i2=0;i2<this.sections.length;i2+=2){let a2=this.sections[i2+1];o2+=a2<0?this.sections[i2]:a2}return o2}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(o2){for(let i2=0,a2=0,s2=0;i2<this.sections.length;){let u2=this.sections[i2++],O2=this.sections[i2++];O2<0?(o2(a2,s2,u2),s2+=u2):s2+=O2,a2+=u2}}iterChangedRanges(o2,i2=!1){iterChanges(this,o2,i2)}get invertedDesc(){let o2=[];for(let i2=0;i2<this.sections.length;){let a2=this.sections[i2++],s2=this.sections[i2++];s2<0?o2.push(a2,s2):o2.push(s2,a2)}return new _ChangeDesc(o2)}composeDesc(o2){return this.empty?o2:o2.empty?this:composeSets(this,o2)}mapDesc(o2,i2=!1){return o2.empty?this:mapSet(this,o2,i2)}mapPos(o2,i2=-1,a2=va.Simple){let s2=0,u2=0;for(let O2=0;O2<this.sections.length;){let w2=this.sections[O2++],x2=this.sections[O2++],C2=s2+w2;if(x2<0){if(C2>o2)return u2+(o2-s2);u2+=w2}else{if(a2!=va.Simple&&C2>=o2&&(a2==va.TrackDel&&s2<o2&&C2>o2||a2==va.TrackBefore&&s2<o2||a2==va.TrackAfter&&C2>o2))return null;if(C2>o2||C2==o2&&i2<0&&!w2)return o2==s2||i2<0?u2:u2+x2;u2+=x2}s2=C2}if(o2>s2)throw new RangeError(`Position ${o2} is out of range for changeset of length ${s2}`);return u2}touchesRange(o2,i2=o2){for(let a2=0,s2=0;a2<this.sections.length&&s2<=i2;){let u2=s2+this.sections[a2++];if(this.sections[a2++]>=0&&s2<=i2&&u2>=o2)return!(s2<o2&&u2>i2)||"cover";s2=u2}return!1}toString(){let o2="";for(let i2=0;i2<this.sections.length;){let a2=this.sections[i2++],s2=this.sections[i2++];o2+=(o2?" ":"")+a2+(s2>=0?":"+s2:"")}return o2}toJSON(){return this.sections}static fromJSON(o2){if(!Array.isArray(o2)||o2.length%2||o2.some(o3=>typeof o3!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new _ChangeDesc(o2)}static create(o2){return new _ChangeDesc(o2)}};__name(_ChangeDesc,"ChangeDesc");let ChangeDesc=_ChangeDesc;const _ChangeSet=class _ChangeSet extends ChangeDesc{constructor(o2,i2){super(o2),this.inserted=i2}apply(o2){if(this.length!=o2.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(i2,a2,s2,u2,O2)=>o2=o2.replace(s2,s2+(a2-i2),O2),!1),o2}mapDesc(o2,i2=!1){return mapSet(this,o2,i2,!0)}invert(o2){let i2=this.sections.slice(),a2=[];for(let s2=0,u2=0;s2<i2.length;s2+=2){let O2=i2[s2],w2=i2[s2+1];if(w2>=0){i2[s2]=w2,i2[s2+1]=O2;let x2=s2>>1;for(;a2.length<x2;)a2.push(Text.empty);a2.push(O2?o2.slice(u2,u2+O2):Text.empty)}u2+=O2}return new _ChangeSet(i2,a2)}compose(o2){return this.empty?o2:o2.empty?this:composeSets(this,o2,!0)}map(o2,i2=!1){return o2.empty?this:mapSet(this,o2,i2,!0)}iterChanges(o2,i2=!1){iterChanges(this,o2,i2)}get desc(){return ChangeDesc.create(this.sections)}filter(o2){let i2=[],a2=[],s2=[],u2=new SectionIter(this);e:for(let O2=0,w2=0;;){let x2=O2==o2.length?1e9:o2[O2++];for(;w2<x2||w2==x2&&u2.len==0;){if(u2.done)break e;let o3=Math.min(u2.len,x2-w2);addSection(s2,o3,-1);let O3=u2.ins==-1?-1:u2.off==0?u2.ins:0;addSection(i2,o3,O3),O3>0&&addInsert(a2,i2,u2.text),u2.forward(o3),w2+=o3}let C2=o2[O2++];for(;w2<C2;){if(u2.done)break e;let o3=Math.min(u2.len,C2-w2);addSection(i2,o3,-1),addSection(s2,o3,u2.ins==-1?-1:u2.off==0?u2.ins:0),u2.forward(o3),w2+=o3}}return{changes:new _ChangeSet(i2,a2),filtered:ChangeDesc.create(s2)}}toJSON(){let o2=[];for(let i2=0;i2<this.sections.length;i2+=2){let a2=this.sections[i2],s2=this.sections[i2+1];s2<0?o2.push(a2):s2==0?o2.push([a2]):o2.push([a2].concat(this.inserted[i2>>1].toJSON()))}return o2}static of(o2,i2,a2){let s2=[],u2=[],O2=0,w2=null;function flush(o3=!1){if(!o3&&!s2.length)return;O2<i2&&addSection(s2,i2-O2,-1);let a3=new _ChangeSet(s2,u2);w2=w2?w2.compose(a3.map(w2)):a3,s2=[],u2=[],O2=0}return __name(flush,"flush"),__name(function process2(o3){if(Array.isArray(o3))for(let i3 of o3)process2(i3);else if(o3 instanceof _ChangeSet){if(o3.length!=i2)throw new RangeError(`Mismatched change set length (got ${o3.length}, expected ${i2})`);flush(),w2=w2?w2.compose(o3.map(w2)):o3}else{let{from:w3,to:x2=w3,insert:C2}=o3;if(w3>x2||w3<0||x2>i2)throw new RangeError(`Invalid change range ${w3} to ${x2} (in doc of length ${i2})`);let T2=C2?typeof C2=="string"?Text.of(C2.split(a2||ma)):C2:Text.empty,_2=T2.length;if(w3==x2&&_2==0)return;w3<O2&&flush(),w3>O2&&addSection(s2,w3-O2,-1),addSection(s2,x2-w3,_2),addInsert(u2,s2,T2),O2=x2}},"process2")(o2),flush(!w2),w2}static empty(o2){return new _ChangeSet(o2?[o2,-1]:[],[])}static fromJSON(o2){if(!Array.isArray(o2))throw new RangeError("Invalid JSON representation of ChangeSet");let i2=[],a2=[];for(let s2=0;s2<o2.length;s2++){let u2=o2[s2];if(typeof u2=="number")i2.push(u2,-1);else{if(!Array.isArray(u2)||typeof u2[0]!="number"||u2.some((o3,i3)=>i3&&typeof o3!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(u2.length==1)i2.push(u2[0],0);else{for(;a2.length<s2;)a2.push(Text.empty);a2[s2]=Text.of(u2.slice(1)),i2.push(u2[0],a2[s2].length)}}}return new _ChangeSet(i2,a2)}static createSet(o2,i2){return new _ChangeSet(o2,i2)}};__name(_ChangeSet,"ChangeSet");let ChangeSet=_ChangeSet;function addSection(o2,i2,a2,s2=!1){if(i2==0&&a2<=0)return;let u2=o2.length-2;u2>=0&&a2<=0&&a2==o2[u2+1]?o2[u2]+=i2:u2>=0&&i2==0&&o2[u2]==0?o2[u2+1]+=a2:s2?(o2[u2]+=i2,o2[u2+1]+=a2):o2.push(i2,a2)}__name(addSection,"addSection");function addInsert(o2,i2,a2){if(a2.length==0)return;let s2=i2.length-2>>1;if(s2<o2.length)o2[o2.length-1]=o2[o2.length-1].append(a2);else{for(;o2.length<s2;)o2.push(Text.empty);o2.push(a2)}}__name(addInsert,"addInsert");function iterChanges(o2,i2,a2){let s2=o2.inserted;for(let u2=0,O2=0,w2=0;w2<o2.sections.length;){let x2=o2.sections[w2++],C2=o2.sections[w2++];if(C2<0)u2+=x2,O2+=x2;else{let T2=u2,_2=O2,A2=Text.empty;for(;T2+=x2,_2+=C2,C2&&s2&&(A2=A2.append(s2[w2-2>>1])),!(a2||w2==o2.sections.length||o2.sections[w2+1]<0);)x2=o2.sections[w2++],C2=o2.sections[w2++];i2(u2,T2,O2,_2,A2),u2=T2,O2=_2}}}__name(iterChanges,"iterChanges");function mapSet(o2,i2,a2,s2=!1){let u2=[],O2=s2?[]:null,w2=new SectionIter(o2),x2=new SectionIter(i2);for(let o3=-1;;){if(w2.done&&x2.len||x2.done&&w2.len)throw new Error("Mismatched change set lengths");if(w2.ins==-1&&x2.ins==-1){let o4=Math.min(w2.len,x2.len);addSection(u2,o4,-1),w2.forward(o4),x2.forward(o4)}else if(x2.ins>=0&&(w2.ins<0||o3==w2.i||w2.off==0&&(x2.len<w2.len||x2.len==w2.len&&!a2))){let i3=x2.len;for(addSection(u2,x2.ins,-1);i3;){let a3=Math.min(w2.len,i3);w2.ins>=0&&o3<w2.i&&w2.len<=a3&&(addSection(u2,0,w2.ins),O2&&addInsert(O2,u2,w2.text),o3=w2.i),w2.forward(a3),i3-=a3}x2.next()}else{if(!(w2.ins>=0)){if(w2.done&&x2.done)return O2?ChangeSet.createSet(u2,O2):ChangeDesc.create(u2);throw new Error("Mismatched change set lengths")}{let i3=0,a3=w2.len;for(;a3;)if(x2.ins==-1){let o4=Math.min(a3,x2.len);i3+=o4,a3-=o4,x2.forward(o4)}else{if(!(x2.ins==0&&x2.len<a3))break;a3-=x2.len,x2.next()}addSection(u2,i3,o3<w2.i?w2.ins:0),O2&&o3<w2.i&&addInsert(O2,u2,w2.text),o3=w2.i,w2.forward(w2.len-a3)}}}}__name(mapSet,"mapSet");function composeSets(o2,i2,a2=!1){let s2=[],u2=a2?[]:null,O2=new SectionIter(o2),w2=new SectionIter(i2);for(let o3=!1;;){if(O2.done&&w2.done)return u2?ChangeSet.createSet(s2,u2):ChangeDesc.create(s2);if(O2.ins==0)addSection(s2,O2.len,0,o3),O2.next();else if(w2.len!=0||w2.done){if(O2.done||w2.done)throw new Error("Mismatched change set lengths");{let i3=Math.min(O2.len2,w2.len),a3=s2.length;if(O2.ins==-1){let a4=w2.ins==-1?-1:w2.off?0:w2.ins;addSection(s2,i3,a4,o3),u2&&a4&&addInsert(u2,s2,w2.text)}else w2.ins==-1?(addSection(s2,O2.off?0:O2.len,i3,o3),u2&&addInsert(u2,s2,O2.textBit(i3))):(addSection(s2,O2.off?0:O2.len,w2.off?0:w2.ins,o3),u2&&!w2.off&&addInsert(u2,s2,w2.text));o3=(O2.ins>i3||w2.ins>=0&&w2.len>i3)&&(o3||s2.length>a3),O2.forward2(i3),w2.forward(i3)}}else addSection(s2,0,w2.ins,o3),u2&&addInsert(u2,s2,w2.text),w2.next()}}__name(composeSets,"composeSets");const _SectionIter=class _SectionIter{constructor(o2){this.set=o2,this.i=0,this.next()}next(){let{sections:o2}=this.set;this.i<o2.length?(this.len=o2[this.i++],this.ins=o2[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:o2}=this.set,i2=this.i-2>>1;return i2>=o2.length?Text.empty:o2[i2]}textBit(o2){let{inserted:i2}=this.set,a2=this.i-2>>1;return a2>=i2.length&&!o2?Text.empty:i2[a2].slice(this.off,o2==null?void 0:this.off+o2)}forward(o2){o2==this.len?this.next():(this.len-=o2,this.off+=o2)}forward2(o2){this.ins==-1?this.forward(o2):o2==this.ins?this.next():(this.ins-=o2,this.off+=o2)}};__name(_SectionIter,"SectionIter");let SectionIter=_SectionIter;const _SelectionRange=class _SelectionRange{constructor(o2,i2,a2){this.from=o2,this.to=i2,this.flags=a2}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let o2=7&this.flags;return o2==7?null:o2}get goalColumn(){let o2=this.flags>>6;return o2==16777215?void 0:o2}map(o2,i2=-1){let a2,s2;return this.empty?a2=s2=o2.mapPos(this.from,i2):(a2=o2.mapPos(this.from,1),s2=o2.mapPos(this.to,-1)),a2==this.from&&s2==this.to?this:new _SelectionRange(a2,s2,this.flags)}extend(o2,i2=o2){if(o2<=this.anchor&&i2>=this.anchor)return EditorSelection.range(o2,i2);let a2=Math.abs(o2-this.anchor)>Math.abs(i2-this.anchor)?o2:i2;return EditorSelection.range(this.anchor,a2)}eq(o2,i2=!1){return!(this.anchor!=o2.anchor||this.head!=o2.head||i2&&this.empty&&this.assoc!=o2.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(o2){if(!o2||typeof o2.anchor!="number"||typeof o2.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(o2.anchor,o2.head)}static create(o2,i2,a2){return new _SelectionRange(o2,i2,a2)}};__name(_SelectionRange,"SelectionRange");let SelectionRange=_SelectionRange;const _EditorSelection=class _EditorSelection{constructor(o2,i2){this.ranges=o2,this.mainIndex=i2}map(o2,i2=-1){return o2.empty?this:_EditorSelection.create(this.ranges.map(a2=>a2.map(o2,i2)),this.mainIndex)}eq(o2,i2=!1){if(this.ranges.length!=o2.ranges.length||this.mainIndex!=o2.mainIndex)return!1;for(let a2=0;a2<this.ranges.length;a2++)if(!this.ranges[a2].eq(o2.ranges[a2],i2))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new _EditorSelection([this.main],0)}addRange(o2,i2=!0){return _EditorSelection.create([o2].concat(this.ranges),i2?0:this.mainIndex+1)}replaceRange(o2,i2=this.mainIndex){let a2=this.ranges.slice();return a2[i2]=o2,_EditorSelection.create(a2,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(o2=>o2.toJSON()),main:this.mainIndex}}static fromJSON(o2){if(!o2||!Array.isArray(o2.ranges)||typeof o2.main!="number"||o2.main>=o2.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new _EditorSelection(o2.ranges.map(o3=>SelectionRange.fromJSON(o3)),o2.main)}static single(o2,i2=o2){return new _EditorSelection([_EditorSelection.range(o2,i2)],0)}static create(o2,i2=0){if(o2.length==0)throw new RangeError("A selection needs at least one range");for(let a2=0,s2=0;s2<o2.length;s2++){let u2=o2[s2];if(u2.empty?u2.from<=a2:u2.from<a2)return _EditorSelection.normalized(o2.slice(),i2);a2=u2.to}return new _EditorSelection(o2,i2)}static cursor(o2,i2=0,a2,s2){return SelectionRange.create(o2,o2,(i2==0?0:i2<0?8:16)|(a2==null?7:Math.min(6,a2))|(s2??16777215)<<6)}static range(o2,i2,a2,s2){let u2=(a2??16777215)<<6|(s2==null?7:Math.min(6,s2));return i2<o2?SelectionRange.create(i2,o2,48|u2):SelectionRange.create(o2,i2,(i2>o2?8:0)|u2)}static normalized(o2,i2=0){let a2=o2[i2];o2.sort((o3,i3)=>o3.from-i3.from),i2=o2.indexOf(a2);for(let a3=1;a3<o2.length;a3++){let s2=o2[a3],u2=o2[a3-1];if(s2.empty?s2.from<=u2.to:s2.from<u2.to){let O2=u2.from,w2=Math.max(s2.to,u2.to);a3<=i2&&i2--,o2.splice(--a3,2,s2.anchor>s2.head?_EditorSelection.range(w2,O2):_EditorSelection.range(O2,w2))}}return new _EditorSelection(o2,i2)}};__name(_EditorSelection,"EditorSelection");let EditorSelection=_EditorSelection;function checkSelection(o2,i2){for(let a2 of o2.ranges)if(a2.to>i2)throw new RangeError("Selection points outside of document")}__name(checkSelection,"checkSelection");let ya=0;const _Facet=class _Facet{constructor(o2,i2,a2,s2,u2){this.combine=o2,this.compareInput=i2,this.compare=a2,this.isStatic=s2,this.id=ya++,this.default=o2([]),this.extensions=typeof u2=="function"?u2(this):u2}get reader(){return this}static define(o2={}){return new _Facet(o2.combine||(o3=>o3),o2.compareInput||((o3,i2)=>o3===i2),o2.compare||(o2.combine?(o3,i2)=>o3===i2:sameArray$1),!!o2.static,o2.enables)}of(o2){return new FacetProvider([],this,0,o2)}compute(o2,i2){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(o2,this,1,i2)}computeN(o2,i2){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(o2,this,2,i2)}from(o2,i2){return i2||(i2=__name(o3=>o3,"i2")),this.compute([o2],a2=>i2(a2.field(o2)))}};__name(_Facet,"Facet");let Facet=_Facet;function sameArray$1(o2,i2){return o2==i2||o2.length==i2.length&&o2.every((o3,a2)=>o3===i2[a2])}__name(sameArray$1,"sameArray$1");const _FacetProvider=class _FacetProvider{constructor(o2,i2,a2,s2){this.dependencies=o2,this.facet=i2,this.type=a2,this.value=s2,this.id=ya++}dynamicSlot(o2){var i2;let a2=this.value,s2=this.facet.compareInput,u2=this.id,O2=o2[u2]>>1,w2=this.type==2,x2=!1,C2=!1,T2=[];for(let a3 of this.dependencies)a3=="doc"?x2=!0:a3=="selection"?C2=!0:1&((i2=o2[a3.id])!==null&&i2!==void 0?i2:1)||T2.push(o2[a3.id]);return{create:__name(o3=>(o3.values[O2]=a2(o3),1),"create"),update(o3,i3){if(x2&&i3.docChanged||C2&&(i3.docChanged||i3.selection)||ensureAll(o3,T2)){let i4=a2(o3);if(w2?!compareArray(i4,o3.values[O2],s2):!s2(i4,o3.values[O2]))return o3.values[O2]=i4,1}return 0},reconfigure:__name((o3,i3)=>{let x3,C3=i3.config.address[u2];if(C3!=null){let u3=getAddr(i3,C3);if(this.dependencies.every(a3=>a3 instanceof Facet?i3.facet(a3)===o3.facet(a3):!(a3 instanceof StateField)||i3.field(a3,!1)==o3.field(a3,!1))||(w2?compareArray(x3=a2(o3),u3,s2):s2(x3=a2(o3),u3)))return o3.values[O2]=u3,0}else x3=a2(o3);return o3.values[O2]=x3,1},"reconfigure")}}};__name(_FacetProvider,"FacetProvider");let FacetProvider=_FacetProvider;function compareArray(o2,i2,a2){if(o2.length!=i2.length)return!1;for(let s2=0;s2<o2.length;s2++)if(!a2(o2[s2],i2[s2]))return!1;return!0}__name(compareArray,"compareArray");function ensureAll(o2,i2){let a2=!1;for(let s2 of i2)1&ensureAddr(o2,s2)&&(a2=!0);return a2}__name(ensureAll,"ensureAll");function dynamicFacetSlot(o2,i2,a2){let s2=a2.map(i3=>o2[i3.id]),u2=a2.map(o3=>o3.type),O2=s2.filter(o3=>!(1&o3)),w2=o2[i2.id]>>1;function get(o3){let a3=[];for(let i3=0;i3<s2.length;i3++){let O3=getAddr(o3,s2[i3]);if(u2[i3]==2)for(let o4 of O3)a3.push(o4);else a3.push(O3)}return i2.combine(a3)}return __name(get,"get"),{create(o3){for(let i3 of s2)ensureAddr(o3,i3);return o3.values[w2]=get(o3),1},update(o3,a3){if(!ensureAll(o3,O2))return 0;let s3=get(o3);return i2.compare(s3,o3.values[w2])?0:(o3.values[w2]=s3,1)},reconfigure(o3,u3){let O3=ensureAll(o3,s2),x2=u3.config.facets[i2.id],C2=u3.facet(i2);if(x2&&!O3&&sameArray$1(a2,x2))return o3.values[w2]=C2,0;let T2=get(o3);return i2.compare(T2,C2)?(o3.values[w2]=C2,0):(o3.values[w2]=T2,1)}}}__name(dynamicFacetSlot,"dynamicFacetSlot");const ba=Facet.define({static:!0}),_StateField=class _StateField{constructor(o2,i2,a2,s2,u2){this.id=o2,this.createF=i2,this.updateF=a2,this.compareF=s2,this.spec=u2,this.provides=void 0}static define(o2){let i2=new _StateField(ya++,o2.create,o2.update,o2.compare||((o3,i3)=>o3===i3),o2);return o2.provide&&(i2.provides=o2.provide(i2)),i2}create(o2){let i2=o2.facet(ba).find(o3=>o3.field==this);return((i2==null?void 0:i2.create)||this.createF)(o2)}slot(o2){let i2=o2[this.id]>>1;return{create:__name(o3=>(o3.values[i2]=this.create(o3),1),"create"),update:__name((o3,a2)=>{let s2=o3.values[i2],u2=this.updateF(s2,a2);return this.compareF(s2,u2)?0:(o3.values[i2]=u2,1)},"update"),reconfigure:__name((o3,a2)=>{let s2,u2=o3.facet(ba),O2=a2.facet(ba);return(s2=u2.find(o4=>o4.field==this))&&s2!=O2.find(o4=>o4.field==this)?(o3.values[i2]=s2.create(o3),1):a2.config.address[this.id]!=null?(o3.values[i2]=a2.field(this),0):(o3.values[i2]=this.create(o3),1)},"reconfigure")}}init(o2){return[this,ba.of({field:this,create:o2})]}get extension(){return this}};__name(_StateField,"StateField");let StateField=_StateField;const wa=4,xa=3,ka=2,Ca=1;function prec(o2){return i2=>new PrecExtension(i2,o2)}__name(prec,"prec");const Ea={highest:prec(0),high:prec(Ca),default:prec(ka),low:prec(xa),lowest:prec(wa)},_PrecExtension=class _PrecExtension{constructor(o2,i2){this.inner=o2,this.prec=i2}};__name(_PrecExtension,"PrecExtension");let PrecExtension=_PrecExtension;const _Compartment=class _Compartment{of(o2){return new CompartmentInstance(this,o2)}reconfigure(o2){return _Compartment.reconfigure.of({compartment:this,extension:o2})}get(o2){return o2.config.compartments.get(this)}};__name(_Compartment,"Compartment");let Compartment=_Compartment;const _CompartmentInstance=class _CompartmentInstance{constructor(o2,i2){this.compartment=o2,this.inner=i2}};__name(_CompartmentInstance,"CompartmentInstance");let CompartmentInstance=_CompartmentInstance;const _Configuration=class _Configuration{constructor(o2,i2,a2,s2,u2,O2){for(this.base=o2,this.compartments=i2,this.dynamicSlots=a2,this.address=s2,this.staticValues=u2,this.facets=O2,this.statusTemplate=[];this.statusTemplate.length<a2.length;)this.statusTemplate.push(0)}staticFacet(o2){let i2=this.address[o2.id];return i2==null?o2.default:this.staticValues[i2>>1]}static resolve(o2,i2,a2){let s2=[],u2=Object.create(null),O2=new Map;for(let a3 of __name(function(o3,i3,a4){let s3=[[],[],[],[],[]],u3=new Map;function inner(o4,O3){let w3=u3.get(o4);if(w3!=null){if(w3<=O3)return;let i4=s3[w3].indexOf(o4);i4>-1&&s3[w3].splice(i4,1),o4 instanceof CompartmentInstance&&a4.delete(o4.compartment)}if(u3.set(o4,O3),Array.isArray(o4))for(let i4 of o4)inner(i4,O3);else if(o4 instanceof CompartmentInstance){if(a4.has(o4.compartment))throw new RangeError("Duplicate use of compartment in extensions");let s4=i3.get(o4.compartment)||o4.inner;a4.set(o4.compartment,s4),inner(s4,O3)}else if(o4 instanceof PrecExtension)inner(o4.inner,o4.prec);else if(o4 instanceof StateField)s3[O3].push(o4),o4.provides&&inner(o4.provides,O3);else if(o4 instanceof FacetProvider)s3[O3].push(o4),o4.facet.extensions&&inner(o4.facet.extensions,ka);else{let i4=o4.extension;if(!i4)throw new Error(`Unrecognized extension value in extension set (${o4}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);inner(i4,O3)}}return __name(inner,"inner"),inner(o3,ka),s3.reduce((o4,i4)=>o4.concat(i4))},"flatten")(o2,i2,O2))a3 instanceof StateField?s2.push(a3):(u2[a3.facet.id]||(u2[a3.facet.id]=[])).push(a3);let w2=Object.create(null),x2=[],C2=[];for(let o3 of s2)w2[o3.id]=C2.length<<1,C2.push(i3=>o3.slot(i3));let T2=a2==null?void 0:a2.config.facets;for(let o3 in u2){let i3=u2[o3],s3=i3[0].facet,O3=T2&&T2[o3]||[];if(i3.every(o4=>o4.type==0))if(w2[s3.id]=x2.length<<1|1,sameArray$1(O3,i3))x2.push(a2.facet(s3));else{let o4=s3.combine(i3.map(o5=>o5.value));x2.push(a2&&s3.compare(o4,a2.facet(s3))?a2.facet(s3):o4)}else{for(let o4 of i3)o4.type==0?(w2[o4.id]=x2.length<<1|1,x2.push(o4.value)):(w2[o4.id]=C2.length<<1,C2.push(i4=>o4.dynamicSlot(i4)));w2[s3.id]=C2.length<<1,C2.push(o4=>dynamicFacetSlot(o4,s3,i3))}}let _2=C2.map(o3=>o3(w2));return new _Configuration(o2,O2,_2,w2,x2,u2)}};__name(_Configuration,"Configuration");let Configuration=_Configuration;function ensureAddr(o2,i2){if(1&i2)return 2;let a2=i2>>1,s2=o2.status[a2];if(s2==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&s2)return s2;o2.status[a2]=4;let u2=o2.computeSlot(o2,o2.config.dynamicSlots[a2]);return o2.status[a2]=2|u2}__name(ensureAddr,"ensureAddr");function getAddr(o2,i2){return 1&i2?o2.config.staticValues[i2>>1]:o2.values[i2>>1]}__name(getAddr,"getAddr");const Da=Facet.define(),Ia=Facet.define({combine:__name(o2=>o2.some(o3=>o3),"combine"),static:!0}),_a2=Facet.define({combine:__name(o2=>o2.length?o2[0]:void 0,"combine"),static:!0}),Aa=Facet.define(),Na=Facet.define(),La=Facet.define(),$a=Facet.define({combine:__name(o2=>!!o2.length&&o2[0],"combine")}),_Annotation=class _Annotation{constructor(o2,i2){this.type=o2,this.value=i2}static define(){return new AnnotationType}};__name(_Annotation,"Annotation");let Annotation=_Annotation;const _AnnotationType=class _AnnotationType{of(o2){return new Annotation(this,o2)}};__name(_AnnotationType,"AnnotationType");let AnnotationType=_AnnotationType;const _StateEffectType=class _StateEffectType{constructor(o2){this.map=o2}of(o2){return new StateEffect(this,o2)}};__name(_StateEffectType,"StateEffectType");let StateEffectType=_StateEffectType;const _StateEffect=class _StateEffect{constructor(o2,i2){this.type=o2,this.value=i2}map(o2){let i2=this.type.map(this.value,o2);return i2===void 0?void 0:i2==this.value?this:new _StateEffect(this.type,i2)}is(o2){return this.type==o2}static define(o2={}){return new StateEffectType(o2.map||(o3=>o3))}static mapEffects(o2,i2){if(!o2.length)return o2;let a2=[];for(let s2 of o2){let o3=s2.map(i2);o3&&a2.push(o3)}return a2}};__name(_StateEffect,"StateEffect");let StateEffect=_StateEffect;StateEffect.reconfigure=StateEffect.define(),StateEffect.appendConfig=StateEffect.define();const _Transaction=class _Transaction{constructor(o2,i2,a2,s2,u2,O2){this.startState=o2,this.changes=i2,this.selection=a2,this.effects=s2,this.annotations=u2,this.scrollIntoView=O2,this._doc=null,this._state=null,a2&&checkSelection(a2,i2.newLength),u2.some(o3=>o3.type==_Transaction.time)||(this.annotations=u2.concat(_Transaction.time.of(Date.now())))}static create(o2,i2,a2,s2,u2,O2){return new _Transaction(o2,i2,a2,s2,u2,O2)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(o2){for(let i2 of this.annotations)if(i2.type==o2)return i2.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(o2){let i2=this.annotation(_Transaction.userEvent);return!(!i2||!(i2==o2||i2.length>o2.length&&i2.slice(0,o2.length)==o2&&i2[o2.length]=="."))}};__name(_Transaction,"Transaction");let Transaction=_Transaction;function joinRanges(o2,i2){let a2=[];for(let s2=0,u2=0;;){let O2,w2;if(s2<o2.length&&(u2==i2.length||i2[u2]>=o2[s2]))O2=o2[s2++],w2=o2[s2++];else{if(!(u2<i2.length))return a2;O2=i2[u2++],w2=i2[u2++]}!a2.length||a2[a2.length-1]<O2?a2.push(O2,w2):a2[a2.length-1]<w2&&(a2[a2.length-1]=w2)}}__name(joinRanges,"joinRanges");function mergeTransaction(o2,i2,a2){var s2;let u2,O2,w2;return a2?(u2=i2.changes,O2=ChangeSet.empty(i2.changes.length),w2=o2.changes.compose(i2.changes)):(u2=i2.changes.map(o2.changes),O2=o2.changes.mapDesc(i2.changes,!0),w2=o2.changes.compose(u2)),{changes:w2,selection:i2.selection?i2.selection.map(O2):(s2=o2.selection)===null||s2===void 0?void 0:s2.map(u2),effects:StateEffect.mapEffects(o2.effects,u2).concat(StateEffect.mapEffects(i2.effects,O2)),annotations:o2.annotations.length?o2.annotations.concat(i2.annotations):i2.annotations,scrollIntoView:o2.scrollIntoView||i2.scrollIntoView}}__name(mergeTransaction,"mergeTransaction");function resolveTransactionInner(o2,i2,a2){let s2=i2.selection,u2=asArray$1(i2.annotations);return i2.userEvent&&(u2=u2.concat(Transaction.userEvent.of(i2.userEvent))),{changes:i2.changes instanceof ChangeSet?i2.changes:ChangeSet.of(i2.changes||[],a2,o2.facet(_a2)),selection:s2&&(s2 instanceof EditorSelection?s2:EditorSelection.single(s2.anchor,s2.head)),effects:asArray$1(i2.effects),annotations:u2,scrollIntoView:!!i2.scrollIntoView}}__name(resolveTransactionInner,"resolveTransactionInner");function resolveTransaction(o2,i2,a2){let s2=resolveTransactionInner(o2,i2.length?i2[0]:{},o2.doc.length);i2.length&&i2[0].filter===!1&&(a2=!1);for(let u3=1;u3<i2.length;u3++){i2[u3].filter===!1&&(a2=!1);let O2=!!i2[u3].sequential;s2=mergeTransaction(s2,resolveTransactionInner(o2,i2[u3],O2?s2.changes.newLength:o2.doc.length),O2)}let u2=Transaction.create(o2,s2.changes,s2.selection,s2.effects,s2.annotations,s2.scrollIntoView);return __name(function(o3){let i3=o3.startState,a3=i3.facet(La),s3=o3;for(let u3=a3.length-1;u3>=0;u3--){let O2=a3[u3](o3);O2&&Object.keys(O2).length&&(s3=mergeTransaction(s3,resolveTransactionInner(i3,O2,o3.changes.newLength),!0))}return s3==o3?o3:Transaction.create(i3,o3.changes,o3.selection,s3.effects,s3.annotations,s3.scrollIntoView)},"extendTransaction")(a2?__name(function(o3){let i3=o3.startState,a3=!0;for(let s4 of i3.facet(Aa)){let i4=s4(o3);if(i4===!1){a3=!1;break}Array.isArray(i4)&&(a3=a3===!0?i4:joinRanges(a3,i4))}if(a3!==!0){let s4,u3;if(a3===!1)u3=o3.changes.invertedDesc,s4=ChangeSet.empty(i3.doc.length);else{let i4=o3.changes.filter(a3);s4=i4.changes,u3=i4.filtered.mapDesc(i4.changes).invertedDesc}o3=Transaction.create(i3,s4,o3.selection&&o3.selection.map(u3),StateEffect.mapEffects(o3.effects,u3),o3.annotations,o3.scrollIntoView)}let s3=i3.facet(Na);for(let a4=s3.length-1;a4>=0;a4--){let u3=s3[a4](o3);o3=u3 instanceof Transaction?u3:Array.isArray(u3)&&u3.length==1&&u3[0]instanceof Transaction?u3[0]:resolveTransaction(i3,asArray$1(u3),!1)}return o3},"filterTransaction")(u2):u2)}__name(resolveTransaction,"resolveTransaction");Transaction.time=Annotation.define(),Transaction.userEvent=Annotation.define(),Transaction.addToHistory=Annotation.define(),Transaction.remote=Annotation.define();const Fa=[];function asArray$1(o2){return o2==null?Fa:Array.isArray(o2)?o2:[o2]}__name(asArray$1,"asArray$1");var Ba=function(o2){return o2[o2.Word=0]="Word",o2[o2.Space=1]="Space",o2[o2.Other=2]="Other",o2}(Ba||(Ba={}));const za=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let ja;try{ja=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function makeCategorizer(o2){return i2=>{if(!/\S/.test(i2))return Ba.Space;if(__name(function(o3){if(ja)return ja.test(o3);for(let i3=0;i3<o3.length;i3++){let a2=o3[i3];if(/\w/.test(a2)||a2>""&&(a2.toUpperCase()!=a2.toLowerCase()||za.test(a2)))return!0}return!1},"hasWordChar")(i2))return Ba.Word;for(let a2=0;a2<o2.length;a2++)if(i2.indexOf(o2[a2])>-1)return Ba.Word;return Ba.Other}}__name(makeCategorizer,"makeCategorizer");const _EditorState=class _EditorState{constructor(o2,i2,a2,s2,u2,O2){this.config=o2,this.doc=i2,this.selection=a2,this.values=s2,this.status=o2.statusTemplate.slice(),this.computeSlot=u2,O2&&(O2._state=this);for(let o3=0;o3<this.config.dynamicSlots.length;o3++)ensureAddr(this,o3<<1);this.computeSlot=null}field(o2,i2=!0){let a2=this.config.address[o2.id];if(a2!=null)return ensureAddr(this,a2),getAddr(this,a2);if(i2)throw new RangeError("Field is not present in this state")}update(...o2){return resolveTransaction(this,o2,!0)}applyTransaction(o2){let i2,a2=this.config,{base:s2,compartments:u2}=a2;for(let i3 of o2.effects)i3.is(Compartment.reconfigure)?(a2&&(u2=new Map,a2.compartments.forEach((o3,i4)=>u2.set(i4,o3)),a2=null),u2.set(i3.value.compartment,i3.value.extension)):i3.is(StateEffect.reconfigure)?(a2=null,s2=i3.value):i3.is(StateEffect.appendConfig)&&(a2=null,s2=asArray$1(s2).concat(i3.value));a2?i2=o2.startState.values.slice():(a2=Configuration.resolve(s2,u2,this),i2=new _EditorState(a2,this.doc,this.selection,a2.dynamicSlots.map(()=>null),(o3,i3)=>i3.reconfigure(o3,this),null).values);let O2=o2.startState.facet(Ia)?o2.newSelection:o2.newSelection.asSingle();new _EditorState(a2,o2.newDoc,O2,i2,(i3,a3)=>a3.update(i3,o2),o2)}replaceSelection(o2){return typeof o2=="string"&&(o2=this.toText(o2)),this.changeByRange(i2=>({changes:{from:i2.from,to:i2.to,insert:o2},range:EditorSelection.cursor(i2.from+o2.length)}))}changeByRange(o2){let i2=this.selection,a2=o2(i2.ranges[0]),s2=this.changes(a2.changes),u2=[a2.range],O2=asArray$1(a2.effects);for(let a3=1;a3<i2.ranges.length;a3++){let w2=o2(i2.ranges[a3]),x2=this.changes(w2.changes),C2=x2.map(s2);for(let o3=0;o3<a3;o3++)u2[o3]=u2[o3].map(C2);let T2=s2.mapDesc(x2,!0);u2.push(w2.range.map(T2)),s2=s2.compose(C2),O2=StateEffect.mapEffects(O2,C2).concat(StateEffect.mapEffects(asArray$1(w2.effects),T2))}return{changes:s2,selection:EditorSelection.create(u2,i2.mainIndex),effects:O2}}changes(o2=[]){return o2 instanceof ChangeSet?o2:ChangeSet.of(o2,this.doc.length,this.facet(_EditorState.lineSeparator))}toText(o2){return Text.of(o2.split(this.facet(_EditorState.lineSeparator)||ma))}sliceDoc(o2=0,i2=this.doc.length){return this.doc.sliceString(o2,i2,this.lineBreak)}facet(o2){let i2=this.config.address[o2.id];return i2==null?o2.default:(ensureAddr(this,i2),getAddr(this,i2))}toJSON(o2){let i2={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(o2)for(let a2 in o2){let s2=o2[a2];s2 instanceof StateField&&this.config.address[s2.id]!=null&&(i2[a2]=s2.spec.toJSON(this.field(o2[a2]),this))}return i2}static fromJSON(o2,i2={},a2){if(!o2||typeof o2.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let s2=[];if(a2){for(let i3 in a2)if(Object.prototype.hasOwnProperty.call(o2,i3)){let u2=a2[i3],O2=o2[i3];s2.push(u2.init(o3=>u2.spec.fromJSON(O2,o3)))}}return _EditorState.create({doc:o2.doc,selection:EditorSelection.fromJSON(o2.selection),extensions:i2.extensions?s2.concat([i2.extensions]):s2})}static create(o2={}){let i2=Configuration.resolve(o2.extensions||[],new Map),a2=o2.doc instanceof Text?o2.doc:Text.of((o2.doc||"").split(i2.staticFacet(_EditorState.lineSeparator)||ma)),s2=o2.selection?o2.selection instanceof EditorSelection?o2.selection:EditorSelection.single(o2.selection.anchor,o2.selection.head):EditorSelection.single(0);return checkSelection(s2,a2.length),i2.staticFacet(Ia)||(s2=s2.asSingle()),new _EditorState(i2,a2,s2,i2.dynamicSlots.map(()=>null),(o3,i3)=>i3.create(o3),null)}get tabSize(){return this.facet(_EditorState.tabSize)}get lineBreak(){return this.facet(_EditorState.lineSeparator)||`
`}get readOnly(){return this.facet($a)}phrase(o2,...i2){for(let i3 of this.facet(_EditorState.phrases))if(Object.prototype.hasOwnProperty.call(i3,o2)){o2=i3[o2];break}return i2.length&&(o2=o2.replace(/\$(\$|\d*)/g,(o3,a2)=>{if(a2=="$")return"$";let s2=+(a2||1);return!s2||s2>i2.length?o3:i2[s2-1]})),o2}languageDataAt(o2,i2,a2=-1){let s2=[];for(let u2 of this.facet(Da))for(let O2 of u2(this,i2,a2))Object.prototype.hasOwnProperty.call(O2,o2)&&s2.push(O2[o2]);return s2}charCategorizer(o2){return makeCategorizer(this.languageDataAt("wordChars",o2).join(""))}wordAt(o2){let{text:i2,from:a2,length:s2}=this.doc.lineAt(o2),u2=this.charCategorizer(o2),O2=o2-a2,w2=o2-a2;for(;O2>0;){let o3=findClusterBreak(i2,O2,!1);if(u2(i2.slice(o3,O2))!=Ba.Word)break;O2=o3}for(;w2<s2;){let o3=findClusterBreak(i2,w2);if(u2(i2.slice(w2,o3))!=Ba.Word)break;w2=o3}return O2==w2?null:EditorSelection.range(O2+a2,w2+a2)}};__name(_EditorState,"EditorState");let EditorState=_EditorState;function combineConfig(o2,i2,a2={}){let s2={};for(let i3 of o2)for(let o3 of Object.keys(i3)){let u2=i3[o3],O2=s2[o3];if(O2===void 0)s2[o3]=u2;else if(!(O2===u2||u2===void 0)){if(!Object.hasOwnProperty.call(a2,o3))throw new Error("Config merge conflict for field "+o3);s2[o3]=a2[o3](O2,u2)}}for(let o3 in i2)s2[o3]===void 0&&(s2[o3]=i2[o3]);return s2}__name(combineConfig,"combineConfig");EditorState.allowMultipleSelections=Ia,EditorState.tabSize=Facet.define({combine:__name(o2=>o2.length?o2[0]:4,"combine")}),EditorState.lineSeparator=_a2,EditorState.readOnly=$a,EditorState.phrases=Facet.define({compare(o2,i2){let a2=Object.keys(o2),s2=Object.keys(i2);return a2.length==s2.length&&a2.every(a3=>o2[a3]==i2[a3])}}),EditorState.languageData=Da,EditorState.changeFilter=Aa,EditorState.transactionFilter=Na,EditorState.transactionExtender=La,Compartment.reconfigure=StateEffect.define();const _RangeValue=class _RangeValue{eq(o2){return this==o2}range(o2,i2=o2){return Ha.create(o2,i2,this)}};__name(_RangeValue,"RangeValue");let RangeValue=_RangeValue;RangeValue.prototype.startSide=RangeValue.prototype.endSide=0,RangeValue.prototype.point=!1,RangeValue.prototype.mapMode=va.TrackDel;var _a3;let Ha=(_a3=class{constructor(o2,i2,a2){this.from=o2,this.to=i2,this.value=a2}static create(o2,i2,a2){return new _a3(o2,i2,a2)}},__name(_a3,"Range"),_a3);function cmpRange(o2,i2){return o2.from-i2.from||o2.value.startSide-i2.value.startSide}__name(cmpRange,"cmpRange");const _Chunk=class _Chunk{constructor(o2,i2,a2,s2){this.from=o2,this.to=i2,this.value=a2,this.maxPoint=s2}get length(){return this.to[this.to.length-1]}findIndex(o2,i2,a2,s2=0){let u2=a2?this.to:this.from;for(let O2=s2,w2=u2.length;;){if(O2==w2)return O2;let s3=O2+w2>>1,x2=u2[s3]-o2||(a2?this.value[s3].endSide:this.value[s3].startSide)-i2;if(s3==O2)return x2>=0?O2:w2;x2>=0?w2=s3:O2=s3+1}}between(o2,i2,a2,s2){for(let u2=this.findIndex(i2,-1e9,!0),O2=this.findIndex(a2,1e9,!1,u2);u2<O2;u2++)if(s2(this.from[u2]+o2,this.to[u2]+o2,this.value[u2])===!1)return!1}map(o2,i2){let a2=[],s2=[],u2=[],O2=-1,w2=-1;for(let x2=0;x2<this.value.length;x2++){let C2,T2,_2=this.value[x2],A2=this.from[x2]+o2,Q2=this.to[x2]+o2;if(A2==Q2){let o3=i2.mapPos(A2,_2.startSide,_2.mapMode);if(o3==null||(C2=T2=o3,_2.startSide!=_2.endSide&&(T2=i2.mapPos(A2,_2.endSide),T2<C2)))continue}else if(C2=i2.mapPos(A2,_2.startSide),T2=i2.mapPos(Q2,_2.endSide),C2>T2||C2==T2&&_2.startSide>0&&_2.endSide<=0)continue;(T2-C2||_2.endSide-_2.startSide)<0||(O2<0&&(O2=C2),_2.point&&(w2=Math.max(w2,T2-C2)),a2.push(_2),s2.push(C2-O2),u2.push(T2-O2))}return{mapped:a2.length?new _Chunk(s2,u2,a2,w2):null,pos:O2}}};__name(_Chunk,"Chunk");let Chunk=_Chunk;const _RangeSet=class _RangeSet{constructor(o2,i2,a2,s2){this.chunkPos=o2,this.chunk=i2,this.nextLayer=a2,this.maxPoint=s2}static create(o2,i2,a2,s2){return new _RangeSet(o2,i2,a2,s2)}get length(){let o2=this.chunk.length-1;return o2<0?0:Math.max(this.chunkEnd(o2),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let o2=this.nextLayer.size;for(let i2 of this.chunk)o2+=i2.value.length;return o2}chunkEnd(o2){return this.chunkPos[o2]+this.chunk[o2].length}update(o2){let{add:i2=[],sort:a2=!1,filterFrom:s2=0,filterTo:u2=this.length}=o2,O2=o2.filter;if(i2.length==0&&!O2)return this;if(a2&&(i2=i2.slice().sort(cmpRange)),this.isEmpty)return i2.length?_RangeSet.of(i2):this;let w2=new LayerCursor(this,null,-1).goto(0),x2=0,C2=[],T2=new RangeSetBuilder;for(;w2.value||x2<i2.length;)if(x2<i2.length&&(w2.from-i2[x2].from||w2.startSide-i2[x2].value.startSide)>=0){let o3=i2[x2++];T2.addInner(o3.from,o3.to,o3.value)||C2.push(o3)}else w2.rangeIndex==1&&w2.chunkIndex<this.chunk.length&&(x2==i2.length||this.chunkEnd(w2.chunkIndex)<i2[x2].from)&&(!O2||s2>this.chunkEnd(w2.chunkIndex)||u2<this.chunkPos[w2.chunkIndex])&&T2.addChunk(this.chunkPos[w2.chunkIndex],this.chunk[w2.chunkIndex])?w2.nextChunk():((!O2||s2>w2.to||u2<w2.from||O2(w2.from,w2.to,w2.value))&&(T2.addInner(w2.from,w2.to,w2.value)||C2.push(Ha.create(w2.from,w2.to,w2.value))),w2.next());return T2.finishInner(this.nextLayer.isEmpty&&!C2.length?_RangeSet.empty:this.nextLayer.update({add:C2,filter:O2,filterFrom:s2,filterTo:u2}))}map(o2){if(o2.empty||this.isEmpty)return this;let i2=[],a2=[],s2=-1;for(let u3=0;u3<this.chunk.length;u3++){let O2=this.chunkPos[u3],w2=this.chunk[u3],x2=o2.touchesRange(O2,O2+w2.length);if(x2===!1)s2=Math.max(s2,w2.maxPoint),i2.push(w2),a2.push(o2.mapPos(O2));else if(x2===!0){let{mapped:u4,pos:x3}=w2.map(O2,o2);u4&&(s2=Math.max(s2,u4.maxPoint),i2.push(u4),a2.push(x3))}}let u2=this.nextLayer.map(o2);return i2.length==0?u2:new _RangeSet(a2,i2,u2||_RangeSet.empty,s2)}between(o2,i2,a2){if(!this.isEmpty){for(let s2=0;s2<this.chunk.length;s2++){let u2=this.chunkPos[s2],O2=this.chunk[s2];if(i2>=u2&&o2<=u2+O2.length&&O2.between(u2,o2-u2,i2-u2,a2)===!1)return}this.nextLayer.between(o2,i2,a2)}}iter(o2=0){return HeapCursor.from([this]).goto(o2)}get isEmpty(){return this.nextLayer==this}static iter(o2,i2=0){return HeapCursor.from(o2).goto(i2)}static compare(o2,i2,a2,s2,u2=-1){let O2=o2.filter(o3=>o3.maxPoint>0||!o3.isEmpty&&o3.maxPoint>=u2),w2=i2.filter(o3=>o3.maxPoint>0||!o3.isEmpty&&o3.maxPoint>=u2),x2=findSharedChunks(O2,w2,a2),C2=new SpanCursor(O2,x2,u2),T2=new SpanCursor(w2,x2,u2);a2.iterGaps((o3,i3,a3)=>compare(C2,o3,T2,i3,a3,s2)),a2.empty&&a2.length==0&&compare(C2,0,T2,0,0,s2)}static eq(o2,i2,a2=0,s2){s2==null&&(s2=999999999);let u2=o2.filter(o3=>!o3.isEmpty&&i2.indexOf(o3)<0),O2=i2.filter(i3=>!i3.isEmpty&&o2.indexOf(i3)<0);if(u2.length!=O2.length)return!1;if(!u2.length)return!0;let w2=findSharedChunks(u2,O2),x2=new SpanCursor(u2,w2,0).goto(a2),C2=new SpanCursor(O2,w2,0).goto(a2);for(;;){if(x2.to!=C2.to||!sameValues(x2.active,C2.active)||x2.point&&(!C2.point||!x2.point.eq(C2.point)))return!1;if(x2.to>s2)return!0;x2.next(),C2.next()}}static spans(o2,i2,a2,s2,u2=-1){let O2=new SpanCursor(o2,null,u2).goto(i2),w2=i2,x2=O2.openStart;for(;;){let o3=Math.min(O2.to,a2);if(O2.point){let a3=O2.activeForPoint(O2.to),u3=O2.pointFrom<i2?a3.length+1:O2.point.startSide<0?a3.length:Math.min(a3.length,x2);s2.point(w2,o3,O2.point,a3,u3,O2.pointRank),x2=Math.min(O2.openEnd(o3),a3.length)}else o3>w2&&(s2.span(w2,o3,O2.active,x2),x2=O2.openEnd(o3));if(O2.to>a2)return x2+(O2.point&&O2.to>a2?1:0);w2=O2.to,O2.next()}}static of(o2,i2=!1){let a2=new RangeSetBuilder;for(let s2 of o2 instanceof Ha?[o2]:i2?__name(function(o3){if(o3.length>1)for(let i3=o3[0],a3=1;a3<o3.length;a3++){let s3=o3[a3];if(cmpRange(i3,s3)>0)return o3.slice().sort(cmpRange);i3=s3}return o3},"lazySort")(o2):o2)a2.add(s2.from,s2.to,s2.value);return a2.finish()}static join(o2){if(!o2.length)return _RangeSet.empty;let i2=o2[o2.length-1];for(let a2=o2.length-2;a2>=0;a2--)for(let s2=o2[a2];s2!=_RangeSet.empty;s2=s2.nextLayer)i2=new _RangeSet(s2.chunkPos,s2.chunk,i2,Math.max(s2.maxPoint,i2.maxPoint));return i2}};__name(_RangeSet,"RangeSet");let RangeSet=_RangeSet;RangeSet.empty=new RangeSet([],[],null,-1),RangeSet.empty.nextLayer=RangeSet.empty;const _RangeSetBuilder=class _RangeSetBuilder{finishChunk(o2){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,o2&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(o2,i2,a2){this.addInner(o2,i2,a2)||(this.nextLayer||(this.nextLayer=new _RangeSetBuilder)).add(o2,i2,a2)}addInner(o2,i2,a2){let s2=o2-this.lastTo||a2.startSide-this.last.endSide;if(s2<=0&&(o2-this.lastFrom||a2.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(s2<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=o2),this.from.push(o2-this.chunkStart),this.to.push(i2-this.chunkStart),this.last=a2,this.lastFrom=o2,this.lastTo=i2,this.value.push(a2),a2.point&&(this.maxPoint=Math.max(this.maxPoint,i2-o2)),!0)}addChunk(o2,i2){if((o2-this.lastTo||i2.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,i2.maxPoint),this.chunks.push(i2),this.chunkPos.push(o2);let a2=i2.value.length-1;return this.last=i2.value[a2],this.lastFrom=i2.from[a2]+o2,this.lastTo=i2.to[a2]+o2,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(o2){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return o2;let i2=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(o2):o2,this.setMaxPoint);return this.from=null,i2}};__name(_RangeSetBuilder,"RangeSetBuilder");let RangeSetBuilder=_RangeSetBuilder;function findSharedChunks(o2,i2,a2){let s2=new Map;for(let i3 of o2)for(let o3=0;o3<i3.chunk.length;o3++)i3.chunk[o3].maxPoint<=0&&s2.set(i3.chunk[o3],i3.chunkPos[o3]);let u2=new Set;for(let o3 of i2)for(let i3=0;i3<o3.chunk.length;i3++){let O2=s2.get(o3.chunk[i3]);O2==null||(a2?a2.mapPos(O2):O2)!=o3.chunkPos[i3]||a2!=null&&a2.touchesRange(O2,O2+o3.chunk[i3].length)||u2.add(o3.chunk[i3])}return u2}__name(findSharedChunks,"findSharedChunks");const _LayerCursor=class _LayerCursor{constructor(o2,i2,a2,s2=0){this.layer=o2,this.skip=i2,this.minPoint=a2,this.rank=s2}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(o2,i2=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(o2,i2,!1),this}gotoInner(o2,i2,a2){for(;this.chunkIndex<this.layer.chunk.length;){let i3=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i3)||this.layer.chunkEnd(this.chunkIndex)<o2||i3.maxPoint<this.minPoint))break;this.chunkIndex++,a2=!1}if(this.chunkIndex<this.layer.chunk.length){let s2=this.layer.chunk[this.chunkIndex].findIndex(o2-this.layer.chunkPos[this.chunkIndex],i2,!0);(!a2||this.rangeIndex<s2)&&this.setRangeIndex(s2)}this.next()}forward(o2,i2){(this.to-o2||this.endSide-i2)<0&&this.gotoInner(o2,i2,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let o2=this.layer.chunkPos[this.chunkIndex],i2=this.layer.chunk[this.chunkIndex],a2=o2+i2.from[this.rangeIndex];if(this.from=a2,this.to=o2+i2.to[this.rangeIndex],this.value=i2.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(o2){if(o2==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=o2}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(o2){return this.from-o2.from||this.startSide-o2.startSide||this.rank-o2.rank||this.to-o2.to||this.endSide-o2.endSide}};__name(_LayerCursor,"LayerCursor");let LayerCursor=_LayerCursor;const _HeapCursor=class _HeapCursor{constructor(o2){this.heap=o2}static from(o2,i2=null,a2=-1){let s2=[];for(let u2=0;u2<o2.length;u2++)for(let O2=o2[u2];!O2.isEmpty;O2=O2.nextLayer)O2.maxPoint>=a2&&s2.push(new LayerCursor(O2,i2,a2,u2));return s2.length==1?s2[0]:new _HeapCursor(s2)}get startSide(){return this.value?this.value.startSide:0}goto(o2,i2=-1e9){for(let a2 of this.heap)a2.goto(o2,i2);for(let o3=this.heap.length>>1;o3>=0;o3--)heapBubble(this.heap,o3);return this.next(),this}forward(o2,i2){for(let a2 of this.heap)a2.forward(o2,i2);for(let o3=this.heap.length>>1;o3>=0;o3--)heapBubble(this.heap,o3);(this.to-o2||this.value.endSide-i2)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let o2=this.heap[0];this.from=o2.from,this.to=o2.to,this.value=o2.value,this.rank=o2.rank,o2.value&&o2.next(),heapBubble(this.heap,0)}}};__name(_HeapCursor,"HeapCursor");let HeapCursor=_HeapCursor;function heapBubble(o2,i2){for(let a2=o2[i2];;){let s2=1+(i2<<1);if(s2>=o2.length)break;let u2=o2[s2];if(s2+1<o2.length&&u2.compare(o2[s2+1])>=0&&(u2=o2[s2+1],s2++),a2.compare(u2)<0)break;o2[s2]=a2,o2[i2]=u2,i2=s2}}__name(heapBubble,"heapBubble");const _SpanCursor=class _SpanCursor{constructor(o2,i2,a2){this.minPoint=a2,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(o2,i2,a2)}goto(o2,i2=-1e9){return this.cursor.goto(o2,i2),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=o2,this.endSide=i2,this.openStart=-1,this.next(),this}forward(o2,i2){for(;this.minActive>-1&&(this.activeTo[this.minActive]-o2||this.active[this.minActive].endSide-i2)<0;)this.removeActive(this.minActive);this.cursor.forward(o2,i2)}removeActive(o2){remove(this.active,o2),remove(this.activeTo,o2),remove(this.activeRank,o2),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(o2){let i2=0,{value:a2,to:s2,rank:u2}=this.cursor;for(;i2<this.activeRank.length&&(u2-this.activeRank[i2]||s2-this.activeTo[i2])>0;)i2++;insert(this.active,i2,a2),insert(this.activeTo,i2,s2),insert(this.activeRank,i2,u2),o2&&insert(o2,i2,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let o2=this.to,i2=this.point;this.point=null;let a2=this.openStart<0?[]:null;for(;;){let s2=this.minActive;if(s2>-1&&(this.activeTo[s2]-this.cursor.from||this.active[s2].endSide-this.cursor.startSide)<0){if(this.activeTo[s2]>o2){this.to=this.activeTo[s2],this.endSide=this.active[s2].endSide;break}this.removeActive(s2),a2&&remove(a2,s2)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>o2){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o3=this.cursor.value;if(o3.point){if(!(i2&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o3,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o3.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(a2),this.cursor.next()}}}if(a2){this.openStart=0;for(let i3=a2.length-1;i3>=0&&a2[i3]<o2;i3--)this.openStart++}}activeForPoint(o2){if(!this.active.length)return this.active;let i2=[];for(let a2=this.active.length-1;a2>=0&&!(this.activeRank[a2]<this.pointRank);a2--)(this.activeTo[a2]>o2||this.activeTo[a2]==o2&&this.active[a2].endSide>=this.point.endSide)&&i2.push(this.active[a2]);return i2.reverse()}openEnd(o2){let i2=0;for(let a2=this.activeTo.length-1;a2>=0&&this.activeTo[a2]>o2;a2--)i2++;return i2}};__name(_SpanCursor,"SpanCursor");let SpanCursor=_SpanCursor;function compare(o2,i2,a2,s2,u2,O2){o2.goto(i2),a2.goto(s2);let w2=s2+u2,x2=s2,C2=s2-i2;for(;;){let i3=o2.to+C2-a2.to,s3=i3||o2.endSide-a2.endSide,u3=s3<0?o2.to+C2:a2.to,T2=Math.min(u3,w2);if(o2.point||a2.point?o2.point&&a2.point&&(o2.point==a2.point||o2.point.eq(a2.point))&&sameValues(o2.activeForPoint(o2.to),a2.activeForPoint(a2.to))||O2.comparePoint(x2,T2,o2.point,a2.point):T2>x2&&!sameValues(o2.active,a2.active)&&O2.compareRange(x2,T2,o2.active,a2.active),u3>w2)break;(i3||o2.openEnd!=a2.openEnd)&&O2.boundChange&&O2.boundChange(u3),x2=u3,s3<=0&&o2.next(),s3>=0&&a2.next()}}__name(compare,"compare");function sameValues(o2,i2){if(o2.length!=i2.length)return!1;for(let a2=0;a2<o2.length;a2++)if(o2[a2]!=i2[a2]&&!o2[a2].eq(i2[a2]))return!1;return!0}__name(sameValues,"sameValues");function remove(o2,i2){for(let a2=i2,s2=o2.length-1;a2<s2;a2++)o2[a2]=o2[a2+1];o2.pop()}__name(remove,"remove");function insert(o2,i2,a2){for(let a3=o2.length-1;a3>=i2;a3--)o2[a3+1]=o2[a3];o2[i2]=a2}__name(insert,"insert");function findMinIndex(o2,i2){let a2=-1,s2=1e9;for(let u2=0;u2<i2.length;u2++)(i2[u2]-s2||o2[u2].endSide-o2[a2].endSide)<0&&(a2=u2,s2=i2[u2]);return a2}__name(findMinIndex,"findMinIndex");function countColumn(o2,i2,a2=o2.length){let s2=0;for(let u2=0;u2<a2&&u2<o2.length;)o2.charCodeAt(u2)==9?(s2+=i2-s2%i2,u2++):(s2++,u2=findClusterBreak(o2,u2));return s2}__name(countColumn,"countColumn");function findColumn(o2,i2,a2,s2){for(let s3=0,u2=0;;){if(u2>=i2)return s3;if(s3==o2.length)break;u2+=o2.charCodeAt(s3)==9?a2-u2%a2:1,s3=findClusterBreak(o2,s3)}return s2===!0?-1:o2.length}__name(findColumn,"findColumn");const Ga=typeof Symbol>"u"?"__ͼ":Symbol.for("ͼ"),Ja=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{},_StyleModule=class _StyleModule{constructor(o2,i2){this.rules=[];let{finish:a2}=i2||{};function splitSelector(o3){return/^@/.test(o3)?[o3]:o3.split(/,\s*/)}__name(splitSelector,"splitSelector");function render(o3,i3,s2,u2){let O2=[],w2=/^@(\w+)\b/.exec(o3[0]),x2=w2&&w2[1]=="keyframes";if(w2&&i3==null)return s2.push(o3[0]+";");for(let a3 in i3){let u3=i3[a3];if(/&/.test(a3))render(a3.split(/,\s*/).map(i4=>o3.map(o4=>i4.replace(/&/,o4))).reduce((o4,i4)=>o4.concat(i4)),u3,s2);else if(u3&&typeof u3=="object"){if(!w2)throw new RangeError("The value of a property ("+a3+") should be a primitive value.");render(splitSelector(a3),u3,O2,x2)}else u3!=null&&O2.push(a3.replace(/_.*/,"").replace(/[A-Z]/g,o4=>"-"+o4.toLowerCase())+": "+u3+";")}(O2.length||x2)&&s2.push((!a2||w2||u2?o3:o3.map(a2)).join(", ")+" {"+O2.join(" ")+"}")}__name(render,"render");for(let i3 in o2)render(splitSelector(i3),o2[i3],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let o2=es[Ga]||1;return es[Ga]=o2+1,"ͼ"+o2.toString(36)}static mount(o2,i2,a2){let s2=o2[Ja],u2=a2&&a2.nonce;s2?u2&&s2.setNonce(u2):s2=new StyleSet(o2,u2),s2.mount(Array.isArray(i2)?i2:[i2],o2)}};__name(_StyleModule,"StyleModule");let StyleModule=_StyleModule,ts=new Map;const _StyleSet=class _StyleSet{constructor(o2,i2){let a2=o2.ownerDocument||o2,s2=a2.defaultView;if(!o2.head&&o2.adoptedStyleSheets&&s2.CSSStyleSheet){let i3=ts.get(a2);if(i3)return o2[Ja]=i3;this.sheet=new s2.CSSStyleSheet,ts.set(a2,this)}else this.styleTag=a2.createElement("style"),i2&&this.styleTag.setAttribute("nonce",i2);this.modules=[],o2[Ja]=this}mount(o2,i2){let a2=this.sheet,s2=0,u2=0;for(let i3=0;i3<o2.length;i3++){let O2=o2[i3],w2=this.modules.indexOf(O2);if(w2<u2&&w2>-1&&(this.modules.splice(w2,1),u2--,w2=-1),w2==-1){if(this.modules.splice(u2++,0,O2),a2)for(let o3=0;o3<O2.rules.length;o3++)a2.insertRule(O2.rules[o3],s2++)}else{for(;u2<w2;)s2+=this.modules[u2++].rules.length;s2+=O2.rules.length,u2++}}if(a2)i2.adoptedStyleSheets.indexOf(this.sheet)<0&&(i2.adoptedStyleSheets=[this.sheet,...i2.adoptedStyleSheets]);else{let o3="";for(let i3=0;i3<this.modules.length;i3++)o3+=this.modules[i3].getRules()+`
`;this.styleTag.textContent=o3;let a3=i2.head||i2;this.styleTag.parentNode!=a3&&a3.insertBefore(this.styleTag,a3.firstChild)}}setNonce(o2){this.styleTag&&this.styleTag.getAttribute("nonce")!=o2&&this.styleTag.setAttribute("nonce",o2)}};__name(_StyleSet,"StyleSet");let StyleSet=_StyleSet;for(var ns={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},rs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},os=typeof navigator<"u"&&/Mac/.test(navigator.platform),as=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),ss=0;ss<10;ss++)ns[48+ss]=ns[96+ss]=String(ss);for(ss=1;ss<=24;ss++)ns[ss+111]="F"+ss;for(ss=65;ss<=90;ss++)ns[ss]=String.fromCharCode(ss+32),rs[ss]=String.fromCharCode(ss);for(var ls in ns)rs.hasOwnProperty(ls)||(rs[ls]=ns[ls]);function getSelection(o2){let i2;return i2=o2.nodeType==11?o2.getSelection?o2:o2.ownerDocument:o2,i2.getSelection()}__name(getSelection,"getSelection");function contains(o2,i2){return!!i2&&(o2==i2||o2.contains(i2.nodeType!=1?i2.parentNode:i2))}__name(contains,"contains");function hasSelection(o2,i2){if(!i2.anchorNode)return!1;try{return contains(o2,i2.anchorNode)}catch{return!1}}__name(hasSelection,"hasSelection");function clientRectsFor(o2){return o2.nodeType==3?textRange(o2,0,o2.nodeValue.length).getClientRects():o2.nodeType==1?o2.getClientRects():[]}__name(clientRectsFor,"clientRectsFor");function isEquivalentPosition(o2,i2,a2,s2){return!!a2&&(scanFor(o2,i2,a2,s2,-1)||scanFor(o2,i2,a2,s2,1))}__name(isEquivalentPosition,"isEquivalentPosition");function domIndex(o2){for(var i2=0;;i2++)if(!(o2=o2.previousSibling))return i2}__name(domIndex,"domIndex");function isBlockElement(o2){return o2.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(o2.nodeName)}__name(isBlockElement,"isBlockElement");function scanFor(o2,i2,a2,s2,u2){for(;;){if(o2==a2&&i2==s2)return!0;if(i2==(u2<0?0:maxOffset(o2))){if(o2.nodeName=="DIV")return!1;let a3=o2.parentNode;if(!a3||a3.nodeType!=1)return!1;i2=domIndex(o2)+(u2<0?0:1),o2=a3}else{if(o2.nodeType!=1||(o2=o2.childNodes[i2+(u2<0?-1:0)]).nodeType==1&&o2.contentEditable=="false")return!1;i2=u2<0?maxOffset(o2):0}}}__name(scanFor,"scanFor");function maxOffset(o2){return o2.nodeType==3?o2.nodeValue.length:o2.childNodes.length}__name(maxOffset,"maxOffset");function flattenRect(o2,i2){let a2=i2?o2.left:o2.right;return{left:a2,right:a2,top:o2.top,bottom:o2.bottom}}__name(flattenRect,"flattenRect");function windowRect(o2){let i2=o2.visualViewport;return i2?{left:0,right:i2.width,top:0,bottom:i2.height}:{left:0,right:o2.innerWidth,top:0,bottom:o2.innerHeight}}__name(windowRect,"windowRect");function getScale(o2,i2){let a2=i2.width/o2.offsetWidth,s2=i2.height/o2.offsetHeight;return(a2>.995&&a2<1.005||!isFinite(a2)||Math.abs(i2.width-o2.offsetWidth)<1)&&(a2=1),(s2>.995&&s2<1.005||!isFinite(s2)||Math.abs(i2.height-o2.offsetHeight)<1)&&(s2=1),{scaleX:a2,scaleY:s2}}__name(getScale,"getScale");const _DOMSelectionState=class _DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(o2){return this.anchorNode==o2.anchorNode&&this.anchorOffset==o2.anchorOffset&&this.focusNode==o2.focusNode&&this.focusOffset==o2.focusOffset}setRange(o2){let{anchorNode:i2,focusNode:a2}=o2;this.set(i2,Math.min(o2.anchorOffset,i2?maxOffset(i2):0),a2,Math.min(o2.focusOffset,a2?maxOffset(a2):0))}set(o2,i2,a2,s2){this.anchorNode=o2,this.anchorOffset=i2,this.focusNode=a2,this.focusOffset=s2}};__name(_DOMSelectionState,"DOMSelectionState");let DOMSelectionState=_DOMSelectionState,cs,us=null;function focusPreventScroll(o2){if(o2.setActive)return o2.setActive();if(us)return o2.focus(us);let i2=[];for(let a2=o2;a2&&(i2.push(a2,a2.scrollTop,a2.scrollLeft),a2!=a2.ownerDocument);a2=a2.parentNode);if(o2.focus(us==null?{get preventScroll(){return us={preventScroll:!0},!0}}:void 0),!us){us=!1;for(let o3=0;o3<i2.length;){let a2=i2[o3++],s2=i2[o3++],u2=i2[o3++];a2.scrollTop!=s2&&(a2.scrollTop=s2),a2.scrollLeft!=u2&&(a2.scrollLeft=u2)}}}__name(focusPreventScroll,"focusPreventScroll");function textRange(o2,i2,a2=i2){let s2=cs||(cs=document.createRange());return s2.setEnd(o2,a2),s2.setStart(o2,i2),s2}__name(textRange,"textRange");function dispatchKey(o2,i2,a2,s2){let u2={key:i2,code:i2,keyCode:a2,which:a2,cancelable:!0};s2&&({altKey:u2.altKey,ctrlKey:u2.ctrlKey,shiftKey:u2.shiftKey,metaKey:u2.metaKey}=s2);let O2=new KeyboardEvent("keydown",u2);O2.synthetic=!0,o2.dispatchEvent(O2);let w2=new KeyboardEvent("keyup",u2);return w2.synthetic=!0,o2.dispatchEvent(w2),O2.defaultPrevented||w2.defaultPrevented}__name(dispatchKey,"dispatchKey");function clearAttributes(o2){for(;o2.attributes.length;)o2.removeAttributeNode(o2.attributes[0])}__name(clearAttributes,"clearAttributes");function isScrolledToBottom(o2){return o2.scrollTop>Math.max(1,o2.scrollHeight-o2.clientHeight-4)}__name(isScrolledToBottom,"isScrolledToBottom");function textNodeBefore(o2,i2){for(let a2=o2,s2=i2;;){if(a2.nodeType==3&&s2>0)return{node:a2,offset:s2};if(a2.nodeType==1&&s2>0){if(a2.contentEditable=="false")return null;a2=a2.childNodes[s2-1],s2=maxOffset(a2)}else{if(!a2.parentNode||isBlockElement(a2))return null;s2=domIndex(a2),a2=a2.parentNode}}}__name(textNodeBefore,"textNodeBefore");function textNodeAfter(o2,i2){for(let a2=o2,s2=i2;;){if(a2.nodeType==3&&s2<a2.nodeValue.length)return{node:a2,offset:s2};if(a2.nodeType==1&&s2<a2.childNodes.length){if(a2.contentEditable=="false")return null;a2=a2.childNodes[s2],s2=0}else{if(!a2.parentNode||isBlockElement(a2))return null;s2=domIndex(a2)+1,a2=a2.parentNode}}}__name(textNodeAfter,"textNodeAfter");const _DOMPos=class _DOMPos{constructor(o2,i2,a2=!0){this.node=o2,this.offset=i2,this.precise=a2}static before(o2,i2){return new _DOMPos(o2.parentNode,domIndex(o2),i2)}static after(o2,i2){return new _DOMPos(o2.parentNode,domIndex(o2)+1,i2)}};__name(_DOMPos,"DOMPos");let DOMPos=_DOMPos;const ds=[],_ContentView=class _ContentView{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(o2){let i2=this.posAtStart;for(let a2 of this.children){if(a2==o2)return i2;i2+=a2.length+a2.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(o2){return this.posBefore(o2)+o2.length}sync(o2,i2){if(2&this.flags){let a2,s2=this.dom,u2=null;for(let O2 of this.children){if(7&O2.flags){if(!O2.dom&&(a2=u2?u2.nextSibling:s2.firstChild)){let o3=_ContentView.get(a2);(!o3||!o3.parent&&o3.canReuseDOM(O2))&&O2.reuseDOM(a2)}O2.sync(o2,i2),O2.flags&=-8}if(a2=u2?u2.nextSibling:s2.firstChild,i2&&!i2.written&&i2.node==s2&&a2!=O2.dom&&(i2.written=!0),O2.dom.parentNode==s2)for(;a2&&a2!=O2.dom;)a2=rm$1(a2);else s2.insertBefore(O2.dom,a2);u2=O2.dom}for(a2=u2?u2.nextSibling:s2.firstChild,a2&&i2&&i2.node==s2&&(i2.written=!0);a2;)a2=rm$1(a2)}else if(1&this.flags)for(let a2 of this.children)7&a2.flags&&(a2.sync(o2,i2),a2.flags&=-8)}reuseDOM(o2){}localPosFromDOM(o2,i2){let a2;if(o2==this.dom)a2=this.dom.childNodes[i2];else{let s2=maxOffset(o2)==0?0:i2==0?-1:1;for(;;){let i3=o2.parentNode;if(i3==this.dom)break;s2==0&&i3.firstChild!=i3.lastChild&&(s2=o2==i3.firstChild?-1:1),o2=i3}a2=s2<0?o2:o2.nextSibling}if(a2==this.dom.firstChild)return 0;for(;a2&&!_ContentView.get(a2);)a2=a2.nextSibling;if(!a2)return this.length;for(let o3=0,i3=0;;o3++){let s2=this.children[o3];if(s2.dom==a2)return i3;i3+=s2.length+s2.breakAfter}}domBoundsAround(o2,i2,a2=0){let s2=-1,u2=-1,O2=-1,w2=-1;for(let x2=0,C2=a2,T2=a2;x2<this.children.length;x2++){let a3=this.children[x2],_2=C2+a3.length;if(C2<o2&&_2>i2)return a3.domBoundsAround(o2,i2,C2);if(_2>=o2&&s2==-1&&(s2=x2,u2=C2),C2>i2&&a3.dom.parentNode==this.dom){O2=x2,w2=T2;break}T2=_2,C2=_2+a3.breakAfter}return{from:u2,to:w2<0?a2+this.length:w2,startDOM:(s2?this.children[s2-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:O2<this.children.length&&O2>=0?this.children[O2].dom:null}}markDirty(o2=!1){this.flags|=2,this.markParentsDirty(o2)}markParentsDirty(o2){for(let i2=this.parent;i2;i2=i2.parent){if(o2&&(i2.flags|=2),1&i2.flags)return;i2.flags|=1,o2=!1}}setParent(o2){this.parent!=o2&&(this.parent=o2,7&this.flags&&this.markParentsDirty(!0))}setDOM(o2){this.dom!=o2&&(this.dom&&(this.dom.cmView=null),this.dom=o2,o2.cmView=this)}get rootView(){for(let o2=this;;){let i2=o2.parent;if(!i2)return o2;o2=i2}}replaceChildren(o2,i2,a2=ds){this.markDirty();for(let s2=o2;s2<i2;s2++){let o3=this.children[s2];o3.parent==this&&a2.indexOf(o3)<0&&o3.destroy()}a2.length<250?this.children.splice(o2,i2-o2,...a2):this.children=[].concat(this.children.slice(0,o2),a2,this.children.slice(i2));for(let o3=0;o3<a2.length;o3++)a2[o3].setParent(this)}ignoreMutation(o2){return!1}ignoreEvent(o2){return!1}childCursor(o2=this.length){return new ChildCursor(this.children,o2,this.children.length)}childPos(o2,i2=1){return this.childCursor().findPos(o2,i2)}toString(){let o2=this.constructor.name.replace("View","");return o2+(this.children.length?"("+this.children.join()+")":this.length?"["+(o2=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(o2){return o2.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(o2,i2,a2,s2,u2,O2){return!1}become(o2){return!1}canReuseDOM(o2){return o2.constructor==this.constructor&&!(8&(this.flags|o2.flags))}getSide(){return 0}destroy(){for(let o2 of this.children)o2.parent==this&&o2.destroy();this.parent=null}};__name(_ContentView,"ContentView");let ContentView=_ContentView;function rm$1(o2){let i2=o2.nextSibling;return o2.parentNode.removeChild(o2),i2}__name(rm$1,"rm$1");ContentView.prototype.breakAfter=0;const _ChildCursor=class _ChildCursor{constructor(o2,i2,a2){this.children=o2,this.pos=i2,this.i=a2,this.off=0}findPos(o2,i2=1){for(;;){if(o2>this.pos||o2==this.pos&&(i2>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=o2-this.pos,this;let a2=this.children[--this.i];this.pos-=a2.length+a2.breakAfter}}};__name(_ChildCursor,"ChildCursor");let ChildCursor=_ChildCursor;function replaceRange(o2,i2,a2,s2,u2,O2,w2,x2,C2){let{children:T2}=o2,_2=T2.length?T2[i2]:null,A2=O2.length?O2[O2.length-1]:null,Q2=A2?A2.breakAfter:w2;if(!(i2==s2&&_2&&!w2&&!Q2&&O2.length<2&&_2.merge(a2,u2,O2.length?A2:null,a2==0,x2,C2))){if(s2<T2.length){let o3=T2[s2];o3&&(u2<o3.length||o3.breakAfter&&(A2!=null&&A2.breakAfter))?(i2==s2&&(o3=o3.split(u2),u2=0),!Q2&&A2&&o3.merge(0,u2,A2,!0,0,C2)?O2[O2.length-1]=o3:((u2||o3.children.length&&!o3.children[0].length)&&o3.merge(0,u2,null,!1,0,C2),O2.push(o3))):o3!=null&&o3.breakAfter&&(A2?A2.breakAfter=1:w2=1),s2++}for(_2&&(_2.breakAfter=w2,a2>0&&(!w2&&O2.length&&_2.merge(a2,_2.length,O2[0],!1,x2,0)?_2.breakAfter=O2.shift().breakAfter:(a2<_2.length||_2.children.length&&_2.children[_2.children.length-1].length==0)&&_2.merge(a2,_2.length,null,!1,x2,0),i2++));i2<s2&&O2.length;)if(T2[s2-1].become(O2[O2.length-1]))s2--,O2.pop(),C2=O2.length?0:x2;else{if(!T2[i2].become(O2[0]))break;i2++,O2.shift(),x2=O2.length?0:C2}!O2.length&&i2&&s2<T2.length&&!T2[i2-1].breakAfter&&T2[s2].merge(0,0,T2[i2-1],!1,x2,C2)&&i2--,(i2<s2||O2.length)&&o2.replaceChildren(i2,s2,O2)}}__name(replaceRange,"replaceRange");function mergeChildrenInto(o2,i2,a2,s2,u2,O2){let w2=o2.childCursor(),{i:x2,off:C2}=w2.findPos(a2,1),{i:T2,off:_2}=w2.findPos(i2,-1),A2=i2-a2;for(let o3 of s2)A2+=o3.length;o2.length+=A2,replaceRange(o2,T2,_2,x2,C2,s2,0,u2,O2)}__name(mergeChildrenInto,"mergeChildrenInto");let fs=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},ps=typeof document<"u"?document:{documentElement:{style:{}}};const hs=/Edge\/(\d+)/.exec(fs.userAgent),gs=/MSIE \d/.test(fs.userAgent),ms=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fs.userAgent),vs=!!(gs||ms||hs),ys=!vs&&/gecko\/(\d+)/i.test(fs.userAgent),Os=!vs&&/Chrome\/(\d+)/.exec(fs.userAgent),bs="webkitFontSmoothing"in ps.documentElement.style,Ss=!vs&&/Apple Computer/.test(fs.vendor),ws=Ss&&(/Mobile\/\w+/.test(fs.userAgent)||fs.maxTouchPoints>2);var xs={mac:ws||/Mac/.test(fs.platform),windows:/Win/.test(fs.platform),linux:/Linux|X11/.test(fs.platform),ie:vs,ie_version:gs?ps.documentMode||6:ms?+ms[1]:hs?+hs[1]:0,gecko:ys,gecko_version:ys?+(/Firefox\/(\d+)/.exec(fs.userAgent)||[0,0])[1]:0,chrome:!!Os,chrome_version:Os?+Os[1]:0,ios:ws,android:/Android\b/.test(fs.userAgent),safari:Ss,webkit_version:bs?+(/\bAppleWebKit\/(\d+)/.exec(fs.userAgent)||[0,0])[1]:0,tabSize:ps.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const _TextView=class _TextView extends ContentView{constructor(o2){super(),this.text=o2}get length(){return this.text.length}createDOM(o2){this.setDOM(o2||document.createTextNode(this.text))}sync(o2,i2){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(i2&&i2.node==this.dom&&(i2.written=!0),this.dom.nodeValue=this.text)}reuseDOM(o2){o2.nodeType==3&&this.createDOM(o2)}merge(o2,i2,a2){return!(8&this.flags||a2&&(!(a2 instanceof _TextView)||this.length-(i2-o2)+a2.length>256||8&a2.flags))&&(this.text=this.text.slice(0,o2)+(a2?a2.text:"")+this.text.slice(i2),this.markDirty(),!0)}split(o2){let i2=new _TextView(this.text.slice(o2));return this.text=this.text.slice(0,o2),this.markDirty(),i2.flags|=8&this.flags,i2}localPosFromDOM(o2,i2){return o2==this.dom?i2:i2?this.text.length:0}domAtPos(o2){return new DOMPos(this.dom,o2)}domBoundsAround(o2,i2,a2){return{from:a2,to:a2+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(o2,i2){return __name(function(o3,i3,a2){let s2=o3.nodeValue.length;i3>s2&&(i3=s2);let u2=i3,O2=i3,w2=0;i3==0&&a2<0||i3==s2&&a2>=0?xs.chrome||xs.gecko||(i3?(u2--,w2=1):O2<s2&&(O2++,w2=-1)):a2<0?u2--:O2<s2&&O2++;let x2=textRange(o3,u2,O2).getClientRects();if(!x2.length)return null;let C2=x2[(w2?w2<0:a2>=0)?0:x2.length-1];return xs.safari&&!w2&&C2.width==0&&(C2=Array.prototype.find.call(x2,o4=>o4.width)||C2),w2?flattenRect(C2,w2<0):C2||null},"textCoords")(this.dom,o2,i2)}};__name(_TextView,"TextView");let TextView=_TextView;const _MarkView=class _MarkView extends ContentView{constructor(o2,i2=[],a2=0){super(),this.mark=o2,this.children=i2,this.length=a2;for(let o3 of i2)o3.setParent(this)}setAttrs(o2){if(clearAttributes(o2),this.mark.class&&(o2.className=this.mark.class),this.mark.attrs)for(let i2 in this.mark.attrs)o2.setAttribute(i2,this.mark.attrs[i2]);return o2}canReuseDOM(o2){return super.canReuseDOM(o2)&&!(8&(this.flags|o2.flags))}reuseDOM(o2){o2.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(o2),this.flags|=6)}sync(o2,i2){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(o2,i2)}merge(o2,i2,a2,s2,u2,O2){return(!a2||!(!(a2 instanceof _MarkView&&a2.mark.eq(this.mark))||o2&&u2<=0||i2<this.length&&O2<=0))&&(mergeChildrenInto(this,o2,i2,a2?a2.children.slice():[],u2-1,O2-1),this.markDirty(),!0)}split(o2){let i2=[],a2=0,s2=-1,u2=0;for(let O3 of this.children){let w2=a2+O3.length;w2>o2&&i2.push(a2<o2?O3.split(o2-a2):O3),s2<0&&a2>=o2&&(s2=u2),a2=w2,u2++}let O2=this.length-o2;return this.length=o2,s2>-1&&(this.children.length=s2,this.markDirty()),new _MarkView(this.mark,i2,O2)}domAtPos(o2){return inlineDOMAtPos(this,o2)}coordsAt(o2,i2){return coordsInChildren(this,o2,i2)}};__name(_MarkView,"MarkView");let MarkView=_MarkView;const _WidgetView=class _WidgetView extends ContentView{static create(o2,i2,a2){return new _WidgetView(o2,i2,a2)}constructor(o2,i2,a2){super(),this.widget=o2,this.length=i2,this.side=a2,this.prevWidget=null}split(o2){let i2=_WidgetView.create(this.widget,this.length-o2,this.side);return this.length-=o2,i2}sync(o2){this.dom&&this.widget.updateDOM(this.dom,o2)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(o2)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(o2,i2,a2,s2,u2,O2){return!(a2&&(!(a2 instanceof _WidgetView&&this.widget.compare(a2.widget))||o2>0&&u2<=0||i2<this.length&&O2<=0))&&(this.length=o2+(a2?a2.length:0)+(this.length-i2),!0)}become(o2){return o2 instanceof _WidgetView&&o2.side==this.side&&this.widget.constructor==o2.widget.constructor&&(this.widget.compare(o2.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=o2.widget,this.length=o2.length,!0)}ignoreMutation(){return!0}ignoreEvent(o2){return this.widget.ignoreEvent(o2)}get overrideDOMText(){if(this.length==0)return Text.empty;let o2=this;for(;o2.parent;)o2=o2.parent;let{view:i2}=o2,a2=i2&&i2.state.doc,s2=this.posAtStart;return a2?a2.slice(s2,s2+this.length):Text.empty}domAtPos(o2){return(this.length?o2==0:this.side>0)?DOMPos.before(this.dom):DOMPos.after(this.dom,o2==this.length)}domBoundsAround(){return null}coordsAt(o2,i2){let a2=this.widget.coordsAt(this.dom,o2,i2);if(a2)return a2;let s2=this.dom.getClientRects(),u2=null;if(!s2.length)return null;let O2=this.side?this.side<0:o2>0;for(let i3=O2?s2.length-1:0;u2=s2[i3],!(o2>0?i3==0:i3==s2.length-1||u2.top<u2.bottom);i3+=O2?-1:1);return flattenRect(u2,!O2)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}};__name(_WidgetView,"WidgetView");let WidgetView=_WidgetView;const _WidgetBufferView=class _WidgetBufferView extends ContentView{constructor(o2){super(),this.side=o2}get length(){return 0}merge(){return!1}become(o2){return o2 instanceof _WidgetBufferView&&o2.side==this.side}split(){return new _WidgetBufferView(this.side)}sync(){if(!this.dom){let o2=document.createElement("img");o2.className="cm-widgetBuffer",o2.setAttribute("aria-hidden","true"),this.setDOM(o2)}}getSide(){return this.side}domAtPos(o2){return this.side>0?DOMPos.before(this.dom):DOMPos.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(o2){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Text.empty}get isHidden(){return!0}};__name(_WidgetBufferView,"WidgetBufferView");let WidgetBufferView=_WidgetBufferView;function inlineDOMAtPos(o2,i2){let a2=o2.dom,{children:s2}=o2,u2=0;for(let o3=0;u2<s2.length;u2++){let O2=s2[u2],w2=o3+O2.length;if(!(w2==o3&&O2.getSide()<=0)){if(i2>o3&&i2<w2&&O2.dom.parentNode==a2)return O2.domAtPos(i2-o3);if(i2<=o3)break;o3=w2}}for(let o3=u2;o3>0;o3--){let i3=s2[o3-1];if(i3.dom.parentNode==a2)return i3.domAtPos(i3.length)}for(let o3=u2;o3<s2.length;o3++){let i3=s2[o3];if(i3.dom.parentNode==a2)return i3.domAtPos(0)}return new DOMPos(a2,0)}__name(inlineDOMAtPos,"inlineDOMAtPos");function joinInlineInto(o2,i2,a2){let s2,{children:u2}=o2;a2>0&&i2 instanceof MarkView&&u2.length&&(s2=u2[u2.length-1])instanceof MarkView&&s2.mark.eq(i2.mark)?joinInlineInto(s2,i2.children[0],a2-1):(u2.push(i2),i2.setParent(o2)),o2.length+=i2.length}__name(joinInlineInto,"joinInlineInto");function coordsInChildren(o2,i2,a2){let s2=null,u2=-1,O2=null,w2=-1;__name(function scan(o3,i3){for(let x3=0,C2=0;x3<o3.children.length&&C2<=i3;x3++){let T2=o3.children[x3],_2=C2+T2.length;_2>=i3&&(T2.children.length?scan(T2,i3-C2):(!O2||O2.isHidden&&(a2>0||onSameLine(O2,T2)))&&(_2>i3||C2==_2&&T2.getSide()>0)?(O2=T2,w2=i3-C2):(C2<i3||C2==_2&&T2.getSide()<0&&!T2.isHidden)&&(s2=T2,u2=i3-C2)),C2=_2}},"scan")(o2,i2);let x2=(a2<0?s2:O2)||s2||O2;return x2?x2.coordsAt(Math.max(0,x2==s2?u2:w2),a2):__name(function(o3){let i3=o3.dom.lastChild;if(!i3)return o3.dom.getBoundingClientRect();let a3=clientRectsFor(i3);return a3[a3.length-1]||null},"fallbackRect")(o2)}__name(coordsInChildren,"coordsInChildren");function onSameLine(o2,i2){let a2=o2.coordsAt(0,1),s2=i2.coordsAt(0,1);return a2&&s2&&s2.top<a2.bottom}__name(onSameLine,"onSameLine");function combineAttrs(o2,i2){for(let a2 in o2)a2=="class"&&i2.class?i2.class+=" "+o2.class:a2=="style"&&i2.style?i2.style+=";"+o2.style:i2[a2]=o2[a2];return i2}__name(combineAttrs,"combineAttrs");TextView.prototype.children=WidgetView.prototype.children=WidgetBufferView.prototype.children=ds;const ks=Object.create(null);function attrsEq(o2,i2,a2){if(o2==i2)return!0;o2||(o2=ks),i2||(i2=ks);let s2=Object.keys(o2),u2=Object.keys(i2);if(s2.length-(a2&&s2.indexOf(a2)>-1?1:0)!=u2.length-(a2&&u2.indexOf(a2)>-1?1:0))return!1;for(let O2 of s2)if(O2!=a2&&(u2.indexOf(O2)==-1||o2[O2]!==i2[O2]))return!1;return!0}__name(attrsEq,"attrsEq");function updateAttrs(o2,i2,a2){let s2=!1;if(i2)for(let u2 in i2)a2&&u2 in a2||(s2=!0,u2=="style"?o2.style.cssText="":o2.removeAttribute(u2));if(a2)for(let u2 in a2)i2&&i2[u2]==a2[u2]||(s2=!0,u2=="style"?o2.style.cssText=a2[u2]:o2.setAttribute(u2,a2[u2]));return s2}__name(updateAttrs,"updateAttrs");function getAttrs(o2){let i2=Object.create(null);for(let a2=0;a2<o2.attributes.length;a2++){let s2=o2.attributes[a2];i2[s2.name]=s2.value}return i2}__name(getAttrs,"getAttrs");const _WidgetType=class _WidgetType{eq(o2){return!1}updateDOM(o2,i2){return!1}compare(o2){return this==o2||this.constructor==o2.constructor&&this.eq(o2)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(o2){return!0}coordsAt(o2,i2,a2){return null}get isHidden(){return!1}get editable(){return!1}destroy(o2){}};__name(_WidgetType,"WidgetType");let WidgetType=_WidgetType;var Cs=function(o2){return o2[o2.Text=0]="Text",o2[o2.WidgetBefore=1]="WidgetBefore",o2[o2.WidgetAfter=2]="WidgetAfter",o2[o2.WidgetRange=3]="WidgetRange",o2}(Cs||(Cs={}));const _Decoration=class _Decoration extends RangeValue{constructor(o2,i2,a2,s2){super(),this.startSide=o2,this.endSide=i2,this.widget=a2,this.spec=s2}get heightRelevant(){return!1}static mark(o2){return new MarkDecoration(o2)}static widget(o2){let i2=Math.max(-1e4,Math.min(1e4,o2.side||0)),a2=!!o2.block;return i2+=a2&&!o2.inlineOrder?i2>0?3e8:-4e8:i2>0?1e8:-1e8,new PointDecoration(o2,i2,i2,a2,o2.widget||null,!1)}static replace(o2){let i2,a2,s2=!!o2.block;if(o2.isBlockGap)i2=-5e8,a2=4e8;else{let{start:u2,end:O2}=getInclusive(o2,s2);i2=(u2?s2?-3e8:-1:5e8)-1,a2=1+(O2?s2?2e8:1:-6e8)}return new PointDecoration(o2,i2,a2,s2,o2.widget||null,!0)}static line(o2){return new LineDecoration(o2)}static set(o2,i2=!1){return RangeSet.of(o2,i2)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}};__name(_Decoration,"Decoration");let Decoration=_Decoration;Decoration.none=RangeSet.empty;const _MarkDecoration=class _MarkDecoration extends Decoration{constructor(o2){let{start:i2,end:a2}=getInclusive(o2);super(i2?-1:5e8,a2?1:-6e8,null,o2),this.tagName=o2.tagName||"span",this.class=o2.class||"",this.attrs=o2.attributes||null}eq(o2){var i2,a2;return this==o2||o2 instanceof _MarkDecoration&&this.tagName==o2.tagName&&(this.class||((i2=this.attrs)===null||i2===void 0?void 0:i2.class))==(o2.class||((a2=o2.attrs)===null||a2===void 0?void 0:a2.class))&&attrsEq(this.attrs,o2.attrs,"class")}range(o2,i2=o2){if(o2>=i2)throw new RangeError("Mark decorations may not be empty");return super.range(o2,i2)}};__name(_MarkDecoration,"MarkDecoration");let MarkDecoration=_MarkDecoration;MarkDecoration.prototype.point=!1;const _LineDecoration=class _LineDecoration extends Decoration{constructor(o2){super(-2e8,-2e8,null,o2)}eq(o2){return o2 instanceof _LineDecoration&&this.spec.class==o2.spec.class&&attrsEq(this.spec.attributes,o2.spec.attributes)}range(o2,i2=o2){if(i2!=o2)throw new RangeError("Line decoration ranges must be zero-length");return super.range(o2,i2)}};__name(_LineDecoration,"LineDecoration");let LineDecoration=_LineDecoration;LineDecoration.prototype.mapMode=va.TrackBefore,LineDecoration.prototype.point=!0;const _PointDecoration=class _PointDecoration extends Decoration{constructor(o2,i2,a2,s2,u2,O2){super(i2,a2,u2,o2),this.block=s2,this.isReplace=O2,this.mapMode=s2?i2<=0?va.TrackBefore:va.TrackAfter:va.TrackDel}get type(){return this.startSide!=this.endSide?Cs.WidgetRange:this.startSide<=0?Cs.WidgetBefore:Cs.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(o2){return o2 instanceof _PointDecoration&&__name(function(o3,i2){return o3==i2||!!(o3&&i2&&o3.compare(i2))},"widgetsEq")(this.widget,o2.widget)&&this.block==o2.block&&this.startSide==o2.startSide&&this.endSide==o2.endSide}range(o2,i2=o2){if(this.isReplace&&(o2>i2||o2==i2&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&i2!=o2)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(o2,i2)}};__name(_PointDecoration,"PointDecoration");let PointDecoration=_PointDecoration;function getInclusive(o2,i2=!1){let{inclusiveStart:a2,inclusiveEnd:s2}=o2;return a2==null&&(a2=o2.inclusive),s2==null&&(s2=o2.inclusive),{start:a2??i2,end:s2??i2}}__name(getInclusive,"getInclusive");function addRange(o2,i2,a2,s2=0){let u2=a2.length-1;u2>=0&&a2[u2]+s2>=o2?a2[u2]=Math.max(a2[u2],i2):a2.push(o2,i2)}__name(addRange,"addRange");PointDecoration.prototype.point=!0;const _LineView=class _LineView extends ContentView{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(o2,i2,a2,s2,u2,O2){if(a2){if(!(a2 instanceof _LineView))return!1;this.dom||a2.transferDOM(this)}return s2&&this.setDeco(a2?a2.attrs:null),mergeChildrenInto(this,o2,i2,a2?a2.children.slice():[],u2,O2),!0}split(o2){let i2=new _LineView;if(i2.breakAfter=this.breakAfter,this.length==0)return i2;let{i:a2,off:s2}=this.childPos(o2);s2&&(i2.append(this.children[a2].split(s2),0),this.children[a2].merge(s2,this.children[a2].length,null,!1,0,0),a2++);for(let o3=a2;o3<this.children.length;o3++)i2.append(this.children[o3],0);for(;a2>0&&this.children[a2-1].length==0;)this.children[--a2].destroy();return this.children.length=a2,this.markDirty(),this.length=o2,i2}transferDOM(o2){this.dom&&(this.markDirty(),o2.setDOM(this.dom),o2.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(o2){attrsEq(this.attrs,o2)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=o2)}append(o2,i2){joinInlineInto(this,o2,i2)}addLineDeco(o2){let i2=o2.spec.attributes,a2=o2.spec.class;i2&&(this.attrs=combineAttrs(i2,this.attrs||{})),a2&&(this.attrs=combineAttrs({class:a2},this.attrs||{}))}domAtPos(o2){return inlineDOMAtPos(this,o2)}reuseDOM(o2){o2.nodeName=="DIV"&&(this.setDOM(o2),this.flags|=6)}sync(o2,i2){var a2;this.dom?4&this.flags&&(clearAttributes(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(updateAttrs(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(o2,i2);let s2=this.dom.lastChild;for(;s2&&ContentView.get(s2)instanceof MarkView;)s2=s2.lastChild;if(!(s2&&this.length&&(s2.nodeName=="BR"||((a2=ContentView.get(s2))===null||a2===void 0?void 0:a2.isEditable)!=0||xs.ios&&this.children.some(o3=>o3 instanceof TextView)))){let o3=document.createElement("BR");o3.cmIgnore=!0,this.dom.appendChild(o3)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let o2,i2=0;for(let a2 of this.children){if(!(a2 instanceof TextView)||/[^ -~]/.test(a2.text))return null;let s2=clientRectsFor(a2.dom);if(s2.length!=1)return null;i2+=s2[0].width,o2=s2[0].height}return i2?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:i2/this.length,textHeight:o2}:null}coordsAt(o2,i2){let a2=coordsInChildren(this,o2,i2);if(!this.children.length&&a2&&this.parent){let{heightOracle:o3}=this.parent.view.viewState,i3=a2.bottom-a2.top;if(Math.abs(i3-o3.lineHeight)<2&&o3.textHeight<i3){let s2=(i3-o3.textHeight)/2;return{top:a2.top+s2,bottom:a2.bottom-s2,left:a2.left,right:a2.left}}}return a2}become(o2){return o2 instanceof _LineView&&this.children.length==0&&o2.children.length==0&&attrsEq(this.attrs,o2.attrs)&&this.breakAfter==o2.breakAfter}covers(){return!0}static find(o2,i2){for(let a2=0,s2=0;a2<o2.children.length;a2++){let u2=o2.children[a2],O2=s2+u2.length;if(O2>=i2){if(u2 instanceof _LineView)return u2;if(O2>i2)break}s2=O2+u2.breakAfter}return null}};__name(_LineView,"LineView");let LineView=_LineView;const _BlockWidgetView=class _BlockWidgetView extends ContentView{constructor(o2,i2,a2){super(),this.widget=o2,this.length=i2,this.deco=a2,this.breakAfter=0,this.prevWidget=null}merge(o2,i2,a2,s2,u2,O2){return!(a2&&(!(a2 instanceof _BlockWidgetView&&this.widget.compare(a2.widget))||o2>0&&u2<=0||i2<this.length&&O2<=0))&&(this.length=o2+(a2?a2.length:0)+(this.length-i2),!0)}domAtPos(o2){return o2==0?DOMPos.before(this.dom):DOMPos.after(this.dom,o2==this.length)}split(o2){let i2=this.length-o2;this.length=o2;let a2=new _BlockWidgetView(this.widget,i2,this.deco);return a2.breakAfter=this.breakAfter,a2}get children(){return ds}sync(o2){this.dom&&this.widget.updateDOM(this.dom,o2)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(o2)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Text.empty}domBoundsAround(){return null}become(o2){return o2 instanceof _BlockWidgetView&&o2.widget.constructor==this.widget.constructor&&(o2.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=o2.widget,this.length=o2.length,this.deco=o2.deco,this.breakAfter=o2.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(o2){return this.widget.ignoreEvent(o2)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(o2,i2){return this.widget.coordsAt(this.dom,o2,i2)||(this.widget instanceof BlockGapWidget?null:flattenRect(this.dom.getBoundingClientRect(),this.length?o2==0:i2<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(o2){let{startSide:i2,endSide:a2}=this.deco;return i2!=a2&&(o2<0?i2<0:a2>0)}};__name(_BlockWidgetView,"BlockWidgetView");let BlockWidgetView=_BlockWidgetView;const _BlockGapWidget=class _BlockGapWidget extends WidgetType{constructor(o2){super(),this.height=o2}toDOM(){let o2=document.createElement("div");return o2.className="cm-gap",this.updateDOM(o2),o2}eq(o2){return o2.height==this.height}updateDOM(o2){return o2.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}};__name(_BlockGapWidget,"BlockGapWidget");let BlockGapWidget=_BlockGapWidget;const _ContentBuilder=class _ContentBuilder{constructor(o2,i2,a2,s2){this.doc=o2,this.pos=i2,this.end=a2,this.disallowBlockEffectsFor=s2,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=o2.iter(),this.skip=i2}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let o2=this.content[this.content.length-1];return!(o2.breakAfter||o2 instanceof BlockWidgetView&&o2.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new LineView),this.atCursorPos=!0),this.curLine}flushBuffer(o2=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(wrapMarks(new WidgetBufferView(-1),o2),o2.length),this.pendingBuffer=0)}addBlockWidget(o2){this.flushBuffer(),this.curLine=null,this.content.push(o2)}finish(o2){this.pendingBuffer&&o2<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||o2&&this.content.length&&this.content[this.content.length-1]instanceof BlockWidgetView||this.getLine()}buildText(o2,i2,a2){for(;o2>0;){if(this.textOff==this.text.length){let{value:i3,lineBreak:a3,done:s3}=this.cursor.next(this.skip);if(this.skip=0,s3)throw new Error("Ran out of text content when drawing inline views");if(a3){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,o2--;continue}this.text=i3,this.textOff=0}let s2=Math.min(this.text.length-this.textOff,o2,512);this.flushBuffer(i2.slice(i2.length-a2)),this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff,this.textOff+s2)),i2),a2),this.atCursorPos=!0,this.textOff+=s2,o2-=s2,a2=0}}span(o2,i2,a2,s2){this.buildText(i2-o2,a2,s2),this.pos=i2,this.openStart<0&&(this.openStart=s2)}point(o2,i2,a2,s2,u2,O2){if(this.disallowBlockEffectsFor[O2]&&a2 instanceof PointDecoration){if(a2.block)throw new RangeError("Block decorations may not be specified via plugins");if(i2>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let w2=i2-o2;if(a2 instanceof PointDecoration)if(a2.block)a2.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new BlockWidgetView(a2.widget||NullWidget.block,w2,a2));else{let O3=WidgetView.create(a2.widget||NullWidget.inline,w2,w2?0:a2.startSide),x2=this.atCursorPos&&!O3.isEditable&&u2<=s2.length&&(o2<i2||a2.startSide>0),C2=!O3.isEditable&&(o2<i2||u2>s2.length||a2.startSide<=0),T2=this.getLine();this.pendingBuffer!=2||x2||O3.isEditable||(this.pendingBuffer=0),this.flushBuffer(s2),x2&&(T2.append(wrapMarks(new WidgetBufferView(1),s2),u2),u2=s2.length+Math.max(0,u2-s2.length)),T2.append(wrapMarks(O3,s2),u2),this.atCursorPos=C2,this.pendingBuffer=C2?o2<i2||u2>s2.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=s2.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(a2);w2&&(this.textOff+w2<=this.text.length?this.textOff+=w2:(this.skip+=w2-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=i2),this.openStart<0&&(this.openStart=u2)}static build(o2,i2,a2,s2,u2){let O2=new _ContentBuilder(o2,i2,a2,u2);return O2.openEnd=RangeSet.spans(s2,i2,a2,O2),O2.openStart<0&&(O2.openStart=O2.openEnd),O2.finish(O2.openEnd),O2}};__name(_ContentBuilder,"ContentBuilder");let ContentBuilder=_ContentBuilder;function wrapMarks(o2,i2){for(let a2 of i2)o2=new MarkView(a2,[o2],o2.length);return o2}__name(wrapMarks,"wrapMarks");const _NullWidget=class _NullWidget extends WidgetType{constructor(o2){super(),this.tag=o2}eq(o2){return o2.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(o2){return o2.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};__name(_NullWidget,"NullWidget");let NullWidget=_NullWidget;NullWidget.inline=new NullWidget("span"),NullWidget.block=new NullWidget("div");var Ps=function(o2){return o2[o2.LTR=0]="LTR",o2[o2.RTL=1]="RTL",o2}(Ps||(Ps={}));const Es=Ps.LTR,Ts=Ps.RTL;function dec(o2){let i2=[];for(let a2=0;a2<o2.length;a2++)i2.push(1<<+o2[a2]);return i2}__name(dec,"dec");const Rs=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ds=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Is=Object.create(null),Ms=[];for(let o2 of["()","[]","{}"]){let i2=o2.charCodeAt(0),a2=o2.charCodeAt(1);Is[i2]=a2,Is[a2]=-i2}function charType(o2){return o2<=247?Rs[o2]:1424<=o2&&o2<=1524?2:1536<=o2&&o2<=1785?Ds[o2-1536]:1774<=o2&&o2<=2220?4:8192<=o2&&o2<=8204?256:64336<=o2&&o2<=65023?4:1}__name(charType,"charType");const _s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,_BidiSpan=class _BidiSpan{get dir(){return this.level%2?Ts:Es}constructor(o2,i2,a2){this.from=o2,this.to=i2,this.level=a2}side(o2,i2){return this.dir==i2==o2?this.to:this.from}forward(o2,i2){return o2==(this.dir==i2)}static find(o2,i2,a2,s2){let u2=-1;for(let O2=0;O2<o2.length;O2++){let w2=o2[O2];if(w2.from<=i2&&w2.to>=i2){if(w2.level==a2)return O2;(u2<0||(s2!=0?s2<0?w2.from<i2:w2.to>i2:o2[u2].level>w2.level))&&(u2=O2)}}if(u2<0)throw new RangeError("Index out of range");return u2}};__name(_BidiSpan,"BidiSpan");let BidiSpan=_BidiSpan;function isolatesEq(o2,i2){if(o2.length!=i2.length)return!1;for(let a2=0;a2<o2.length;a2++){let s2=o2[a2],u2=i2[a2];if(s2.from!=u2.from||s2.to!=u2.to||s2.direction!=u2.direction||!isolatesEq(s2.inner,u2.inner))return!1}return!0}__name(isolatesEq,"isolatesEq");const As=[];function emitSpans(o2,i2,a2,s2,u2,O2,w2){let x2=s2%2?2:1;if(s2%2==u2%2)for(let C2=i2,T2=0;C2<a2;){let i3=!0,_2=!1;if(T2==O2.length||C2<O2[T2].from){let o3=As[C2];o3!=x2&&(i3=!1,_2=o3==16)}let A2=i3||x2!=1?null:[],Q2=i3?s2:s2+1,N2=C2;e:for(;;)if(T2<O2.length&&N2==O2[T2].from){if(_2)break e;let L2=O2[T2];if(!i3)for(let o3=L2.to,i4=T2+1;;){if(o3==a2)break e;if(!(i4<O2.length&&O2[i4].from==o3)){if(As[o3]==x2)break e;break}o3=O2[i4++].to}T2++,A2?A2.push(L2):(L2.from>C2&&w2.push(new BidiSpan(C2,L2.from,Q2)),computeSectionOrder(o2,L2.direction==Es!=!(Q2%2)?s2+1:s2,u2,L2.inner,L2.from,L2.to,w2),C2=L2.to),N2=L2.to}else{if(N2==a2||(i3?As[N2]!=x2:As[N2]==x2))break;N2++}A2?emitSpans(o2,C2,N2,s2+1,u2,A2,w2):C2<N2&&w2.push(new BidiSpan(C2,N2,Q2)),C2=N2}else for(let C2=a2,T2=O2.length;C2>i2;){let a3=!0,_2=!1;if(!T2||C2>O2[T2-1].to){let o3=As[C2-1];o3!=x2&&(a3=!1,_2=o3==16)}let A2=a3||x2!=1?null:[],Q2=a3?s2:s2+1,N2=C2;e:for(;;)if(T2&&N2==O2[T2-1].to){if(_2)break e;let L2=O2[--T2];if(!a3)for(let o3=L2.from,a4=T2;;){if(o3==i2)break e;if(!a4||O2[a4-1].to!=o3){if(As[o3-1]==x2)break e;break}o3=O2[--a4].from}A2?A2.push(L2):(L2.to<C2&&w2.push(new BidiSpan(L2.to,C2,Q2)),computeSectionOrder(o2,L2.direction==Es!=!(Q2%2)?s2+1:s2,u2,L2.inner,L2.from,L2.to,w2),C2=L2.from),N2=L2.from}else{if(N2==i2||(a3?As[N2-1]!=x2:As[N2-1]==x2))break;N2--}A2?emitSpans(o2,N2,C2,s2+1,u2,A2,w2):N2<C2&&w2.push(new BidiSpan(N2,C2,Q2)),C2=N2}}__name(emitSpans,"emitSpans");function computeSectionOrder(o2,i2,a2,s2,u2,O2,w2){let x2=i2%2?2:1;__name(function(o3,i3,a3,s3,u3){for(let O3=0;O3<=s3.length;O3++){let w3=O3?s3[O3-1].to:i3,x3=O3<s3.length?s3[O3].from:a3,C2=O3?256:u3;for(let i4=w3,a4=C2,s4=C2;i4<x3;i4++){let u4=charType(o3.charCodeAt(i4));u4==512?u4=a4:u4==8&&s4==4&&(u4=16),As[i4]=u4==4?2:u4,7&u4&&(s4=u4),a4=u4}for(let o4=w3,i4=C2,s4=C2;o4<x3;o4++){let u4=As[o4];if(u4==128)o4<x3-1&&i4==As[o4+1]&&24&i4?u4=As[o4]=i4:As[o4]=256;else if(u4==64){let u5=o4+1;for(;u5<x3&&As[u5]==64;)u5++;let O4=o4&&i4==8||u5<a3&&As[u5]==8?s4==1?1:8:256;for(let i5=o4;i5<u5;i5++)As[i5]=O4;o4=u5-1}else u4==8&&s4==1&&(As[o4]=1);i4=u4,7&u4&&(s4=u4)}}},"computeCharTypes")(o2,u2,O2,s2,x2),__name(function(o3,i3,a3,s3,u3){let O3=u3==1?2:1;for(let w3=0,x3=0,C2=0;w3<=s3.length;w3++){let T2=w3?s3[w3-1].to:i3,_2=w3<s3.length?s3[w3].from:a3;for(let i4,a4,s4,w4=T2;w4<_2;w4++)if(a4=Is[i4=o3.charCodeAt(w4)])if(a4<0){for(let o4=x3-3;o4>=0;o4-=3)if(Ms[o4+1]==-a4){let i5=Ms[o4+2],a5=2&i5?u3:4&i5?1&i5?O3:u3:0;a5&&(As[w4]=As[Ms[o4]]=a5),x3=o4;break}}else{if(Ms.length==189)break;Ms[x3++]=w4,Ms[x3++]=i4,Ms[x3++]=C2}else if((s4=As[w4])==2||s4==1){let o4=s4==u3;C2=o4?0:1;for(let i5=x3-3;i5>=0;i5-=3){let a5=Ms[i5+2];if(2&a5)break;if(o4)Ms[i5+2]|=2;else{if(4&a5)break;Ms[i5+2]|=4}}}}},"processBracketPairs")(o2,u2,O2,s2,x2),__name(function(o3,i3,a3,s3){for(let u3=0,O3=s3;u3<=a3.length;u3++){let w3=u3?a3[u3-1].to:o3,x3=u3<a3.length?a3[u3].from:i3;for(let C2=w3;C2<x3;){let w4=As[C2];if(w4==256){let w5=C2+1;for(;;)if(w5==x3){if(u3==a3.length)break;w5=a3[u3++].to,x3=u3<a3.length?a3[u3].from:i3}else{if(As[w5]!=256)break;w5++}let T2=O3==1,_2=T2==((w5<i3?As[w5]:s3)==1)?T2?1:2:s3;for(let i4=w5,s4=u3,O4=s4?a3[s4-1].to:o3;i4>C2;)i4==O4&&(i4=a3[--s4].from,O4=s4?a3[s4-1].to:o3),As[--i4]=_2;C2=w5}else O3=w4,C2++}}},"processNeutrals")(u2,O2,s2,x2),emitSpans(o2,u2,O2,i2,a2,s2,w2)}__name(computeSectionOrder,"computeSectionOrder");function trivialOrder(o2){return[new BidiSpan(0,o2,0)]}__name(trivialOrder,"trivialOrder");let Qs="";function moveVisually(o2,i2,a2,s2,u2){var O2;let w2=s2.head-o2.from,x2=BidiSpan.find(i2,w2,(O2=s2.bidiLevel)!==null&&O2!==void 0?O2:-1,s2.assoc),C2=i2[x2],T2=C2.side(u2,a2);if(w2==T2){let o3=x2+=u2?1:-1;if(o3<0||o3>=i2.length)return null;C2=i2[x2=o3],w2=C2.side(!u2,a2),T2=C2.side(u2,a2)}let _2=findClusterBreak(o2.text,w2,C2.forward(u2,a2));(_2<C2.from||_2>C2.to)&&(_2=T2),Qs=o2.text.slice(Math.min(w2,_2),Math.max(w2,_2));let A2=x2==(u2?i2.length-1:0)?null:i2[x2+(u2?1:-1)];return A2&&_2==T2&&A2.level+(u2?0:1)<C2.level?EditorSelection.cursor(A2.side(!u2,a2)+o2.from,A2.forward(u2,a2)?1:-1,A2.level):EditorSelection.cursor(_2+o2.from,C2.forward(u2,a2)?-1:1,C2.level)}__name(moveVisually,"moveVisually");function autoDirection(o2,i2,a2){for(let s2=i2;s2<a2;s2++){let i3=charType(o2.charCodeAt(s2));if(i3==1)return Es;if(i3==2||i3==4)return Ts}return Es}__name(autoDirection,"autoDirection");const Ns=Facet.define(),Ls=Facet.define(),$s=Facet.define(),Fs=Facet.define(),Bs=Facet.define(),Vs=Facet.define(),zs=Facet.define(),js=Facet.define(),Ws=Facet.define(),Hs=Facet.define({combine:__name(o2=>o2.some(o3=>o3),"combine")}),Us=Facet.define({combine:__name(o2=>o2.some(o3=>o3),"combine")}),Zs=Facet.define(),_ScrollTarget=class _ScrollTarget{constructor(o2,i2="nearest",a2="nearest",s2=5,u2=5,O2=!1){this.range=o2,this.y=i2,this.x=a2,this.yMargin=s2,this.xMargin=u2,this.isSnapshot=O2}map(o2){return o2.empty?this:new _ScrollTarget(this.range.map(o2),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(o2){return this.range.to<=o2.doc.length?this:new _ScrollTarget(EditorSelection.cursor(o2.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}};__name(_ScrollTarget,"ScrollTarget");let ScrollTarget=_ScrollTarget;const qs=StateEffect.define({map:__name((o2,i2)=>o2.map(i2),"map")}),Xs=StateEffect.define();function logException(o2,i2,a2){let s2=o2.facet(Fs);s2.length?s2[0](i2):window.onerror?window.onerror(String(i2),a2,void 0,void 0,i2):a2?console.error(a2+":",i2):console.error(i2)}__name(logException,"logException");const Gs=Facet.define({combine:__name(o2=>!o2.length||o2[0],"combine")});let Ys=0;const Ks=Facet.define(),_ViewPlugin=class _ViewPlugin{constructor(o2,i2,a2,s2,u2){this.id=o2,this.create=i2,this.domEventHandlers=a2,this.domEventObservers=s2,this.extension=u2(this)}static define(o2,i2){const{eventHandlers:a2,eventObservers:s2,provide:u2,decorations:O2}=i2||{};return new _ViewPlugin(Ys++,o2,a2,s2,o3=>{let i3=[Ks.of(o3)];return O2&&i3.push(sl.of(i4=>{let a3=i4.plugin(o3);return a3?O2(a3):Decoration.none})),u2&&i3.push(u2(o3)),i3})}static fromClass(o2,i2){return _ViewPlugin.define(i3=>new o2(i3),i2)}};__name(_ViewPlugin,"ViewPlugin");let ViewPlugin=_ViewPlugin;const _PluginInstance=class _PluginInstance{constructor(o2){this.spec=o2,this.mustUpdate=null,this.value=null}update(o2){if(this.value){if(this.mustUpdate){let o3=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(o3)}catch(i2){if(logException(o3.state,i2,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(o2)}catch(i2){logException(o2.state,i2,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(o2){var i2;if(!((i2=this.value)===null||i2===void 0)&&i2.destroy)try{this.value.destroy()}catch(i3){logException(o2.state,i3,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};__name(_PluginInstance,"PluginInstance");let PluginInstance=_PluginInstance;const Js=Facet.define(),tl=Facet.define(),sl=Facet.define(),ul=Facet.define(),vl=Facet.define(),yl=Facet.define();function getIsolatedRanges(o2,i2){let a2=o2.state.facet(yl);if(!a2.length)return a2;let s2=a2.map(i3=>i3 instanceof Function?i3(o2):i3),u2=[];return RangeSet.spans(s2,i2.from,i2.to,{point(){},span(o3,a3,s3,O2){let w2=o3-i2.from,x2=a3-i2.from,C2=u2;for(let o4=s3.length-1;o4>=0;o4--,O2--){let a4,u3=s3[o4].spec.bidiIsolate;if(u3==null&&(u3=autoDirection(i2.text,w2,x2)),O2>0&&C2.length&&(a4=C2[C2.length-1]).to==w2&&a4.direction==u3)a4.to=x2,C2=a4.inner;else{let o5={from:w2,to:x2,direction:u3,inner:[]};C2.push(o5),C2=o5.inner}}}}),u2}__name(getIsolatedRanges,"getIsolatedRanges");const Ol=Facet.define();function getScrollMargins(o2){let i2=0,a2=0,s2=0,u2=0;for(let O2 of o2.state.facet(Ol)){let w2=O2(o2);w2&&(w2.left!=null&&(i2=Math.max(i2,w2.left)),w2.right!=null&&(a2=Math.max(a2,w2.right)),w2.top!=null&&(s2=Math.max(s2,w2.top)),w2.bottom!=null&&(u2=Math.max(u2,w2.bottom)))}return{left:i2,right:a2,top:s2,bottom:u2}}__name(getScrollMargins,"getScrollMargins");const Sl=Facet.define(),_ChangedRange=class _ChangedRange{constructor(o2,i2,a2,s2){this.fromA=o2,this.toA=i2,this.fromB=a2,this.toB=s2}join(o2){return new _ChangedRange(Math.min(this.fromA,o2.fromA),Math.max(this.toA,o2.toA),Math.min(this.fromB,o2.fromB),Math.max(this.toB,o2.toB))}addToSet(o2){let i2=o2.length,a2=this;for(;i2>0;i2--){let s2=o2[i2-1];if(!(s2.fromA>a2.toA)){if(s2.toA<a2.fromA)break;a2=a2.join(s2),o2.splice(i2-1,1)}}return o2.splice(i2,0,a2),o2}static extendWithRanges(o2,i2){if(i2.length==0)return o2;let a2=[];for(let s2=0,u2=0,O2=0,w2=0;;s2++){let x2=s2==o2.length?null:o2[s2],C2=O2-w2,T2=x2?x2.fromB:1e9;for(;u2<i2.length&&i2[u2]<T2;){let o3=i2[u2],s3=i2[u2+1],O3=Math.max(w2,o3),x3=Math.min(T2,s3);if(O3<=x3&&new _ChangedRange(O3+C2,x3+C2,O3,x3).addToSet(a2),s3>T2)break;u2+=2}if(!x2)return a2;new _ChangedRange(x2.fromA,x2.toA,x2.fromB,x2.toB).addToSet(a2),O2=x2.toA,w2=x2.toB}}};__name(_ChangedRange,"ChangedRange");let ChangedRange=_ChangedRange;const _ViewUpdate=class _ViewUpdate{constructor(o2,i2,a2){this.view=o2,this.state=i2,this.transactions=a2,this.flags=0,this.startState=o2.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let o3 of a2)this.changes=this.changes.compose(o3.changes);let s2=[];this.changes.iterChangedRanges((o3,i3,a3,u2)=>s2.push(new ChangedRange(o3,i3,a3,u2))),this.changedRanges=s2}static create(o2,i2,a2){return new _ViewUpdate(o2,i2,a2)}get viewportChanged(){return(4&this.flags)>0}get viewportMoved(){return(8&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(18&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(o2=>o2.selection)}get empty(){return this.flags==0&&this.transactions.length==0}};__name(_ViewUpdate,"ViewUpdate");let ViewUpdate=_ViewUpdate;const _DocView=class _DocView extends ContentView{get length(){return this.view.state.doc.length}constructor(o2){super(),this.view=o2,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(o2.contentDOM),this.children=[new LineView],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new ChangedRange(0,0,0,o2.state.doc.length)],0,null)}update(o2){var i2;let a2=o2.changedRanges;this.minWidth>0&&a2.length&&(a2.every(({fromA:o3,toA:i3})=>i3<this.minWidthFrom||o3>this.minWidthTo)?(this.minWidthFrom=o2.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=o2.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(o2);let s2=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((i2=this.domChanged)===null||i2===void 0)&&i2.newSel?s2=this.domChanged.newSel.head:__name(function(o3,i3){let a3=!1;return i3&&o3.iterChangedRanges((o4,s3)=>{o4<i3.to&&s3>i3.from&&(a3=!0)}),a3},"touchesComposition")(o2.changes,this.hasComposition)||o2.selectionSet||(s2=o2.state.selection.main.head));let u2=s2>-1?__name(function(o3,i3,a3){let s3=findCompositionNode(o3,a3);if(!s3)return null;let{node:u3,from:O3,to:w2}=s3,x2=u3.nodeValue;if(/[\n\r]/.test(x2)||o3.state.doc.sliceString(s3.from,s3.to)!=x2)return null;let C2=i3.invertedDesc,T2=new ChangedRange(C2.mapPos(O3),C2.mapPos(w2),O3,w2),_2=[];for(let i4=u3.parentNode;;i4=i4.parentNode){let a4=ContentView.get(i4);if(a4 instanceof MarkView)_2.push({node:i4,deco:a4.mark});else{if(a4 instanceof LineView||i4.nodeName=="DIV"&&i4.parentNode==o3.contentDOM)return{range:T2,text:u3,marks:_2,line:i4};if(i4==o3.contentDOM)return null;_2.push({node:i4,deco:new MarkDecoration({inclusive:!0,attributes:getAttrs(i4),tagName:i4.tagName.toLowerCase()})})}}},"findCompositionRange")(this.view,o2.changes,s2):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:i3,to:s3}=this.hasComposition;a2=new ChangedRange(i3,s3,o2.changes.mapPos(i3,-1),o2.changes.mapPos(s3,1)).addToSet(a2.slice())}this.hasComposition=u2?{from:u2.range.fromB,to:u2.range.toB}:null,(xs.ie||xs.chrome)&&!u2&&o2&&o2.state.doc.lines!=o2.startState.doc.lines&&(this.forceSelection=!0);let O2=__name(function(o3,i3,a3){let s3=new wl;return RangeSet.compare(o3,i3,a3,s3),s3.changes},"findChangedDeco")(this.decorations,this.updateDeco(),o2.changes);return a2=ChangedRange.extendWithRanges(a2,O2),!!(7&this.flags||a2.length!=0)&&(this.updateInner(a2,o2.startState.doc.length,u2),o2.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(o2,i2,a2){this.view.viewState.mustMeasureContent=!0,this.updateChildren(o2,i2,a2);let{observer:s2}=this.view;s2.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o3=xs.chrome||xs.ios?{node:s2.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o3),this.flags&=-8,o3&&(o3.written||s2.selectionRange.focusNode!=o3.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o3=>o3.flags&=-9);let u2=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o3 of this.children)o3 instanceof BlockWidgetView&&o3.widget instanceof BlockGapWidget&&u2.push(o3.dom);s2.updateGaps(u2)}updateChildren(o2,i2,a2){let s2=a2?a2.range.addToSet(o2.slice()):o2,u2=this.childCursor(i2);for(let o3=s2.length-1;;o3--){let i3=o3>=0?s2[o3]:null;if(!i3)break;let O2,w2,x2,C2,{fromA:T2,toA:_2,fromB:A2,toB:Q2}=i3;if(a2&&a2.range.fromB<Q2&&a2.range.toB>A2){let o4=ContentBuilder.build(this.view.state.doc,A2,a2.range.fromB,this.decorations,this.dynamicDecorationMap),i4=ContentBuilder.build(this.view.state.doc,a2.range.toB,Q2,this.decorations,this.dynamicDecorationMap);w2=o4.breakAtStart,x2=o4.openStart,C2=i4.openEnd;let s3=this.compositionView(a2);i4.breakAtStart?s3.breakAfter=1:i4.content.length&&s3.merge(s3.length,s3.length,i4.content[0],!1,i4.openStart,0)&&(s3.breakAfter=i4.content[0].breakAfter,i4.content.shift()),o4.content.length&&s3.merge(0,0,o4.content[o4.content.length-1],!0,0,o4.openEnd)&&o4.content.pop(),O2=o4.content.concat(s3).concat(i4.content)}else({content:O2,breakAtStart:w2,openStart:x2,openEnd:C2}=ContentBuilder.build(this.view.state.doc,A2,Q2,this.decorations,this.dynamicDecorationMap));let{i:N2,off:L2}=u2.findPos(_2,1),{i:$2,off:F2}=u2.findPos(T2,-1);replaceRange(this,$2,F2,N2,L2,O2,w2,x2,C2)}a2&&this.fixCompositionDOM(a2)}updateEditContextFormatting(o2){this.editContextFormatting=this.editContextFormatting.map(o2.changes);for(let i2 of o2.transactions)for(let o3 of i2.effects)o3.is(Xs)&&(this.editContextFormatting=o3.value)}compositionView(o2){let i2=new TextView(o2.text.nodeValue);i2.flags|=8;for(let{deco:a3}of o2.marks)i2=new MarkView(a3,[i2],i2.length);let a2=new LineView;return a2.append(i2,0),a2}fixCompositionDOM(o2){let fix=__name((o3,i3)=>{i3.flags|=8|(i3.children.some(o4=>7&o4.flags)?1:0),this.markedForComposition.add(i3);let a3=ContentView.get(o3);a3&&a3!=i3&&(a3.dom=null),i3.setDOM(o3)},"fix"),i2=this.childPos(o2.range.fromB,1),a2=this.children[i2.i];fix(o2.line,a2);for(let s2=o2.marks.length-1;s2>=-1;s2--)i2=a2.childPos(i2.off,1),a2=a2.children[i2.i],fix(s2>=0?o2.marks[s2].node:o2.text,a2)}updateSelection(o2=!1,i2=!1){!o2&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let a2=this.view.root.activeElement,s2=a2==this.dom,u2=!s2&&!(this.view.state.facet(Gs)||this.dom.tabIndex>-1)&&hasSelection(this.dom,this.view.observer.selectionRange)&&!(a2&&this.dom.contains(a2));if(!(s2||i2||u2))return;let O2=this.forceSelection;this.forceSelection=!1;let w2=this.view.state.selection.main,x2=this.moveToLine(this.domAtPos(w2.anchor)),C2=w2.empty?x2:this.moveToLine(this.domAtPos(w2.head));if(xs.gecko&&w2.empty&&!this.hasComposition&&__name(function(o3){return o3.node.nodeType==1&&o3.node.firstChild&&(o3.offset==0||o3.node.childNodes[o3.offset-1].contentEditable=="false")&&(o3.offset==o3.node.childNodes.length||o3.node.childNodes[o3.offset].contentEditable=="false")},"betweenUneditable")(x2)){let o3=document.createTextNode("");this.view.observer.ignore(()=>x2.node.insertBefore(o3,x2.node.childNodes[x2.offset]||null)),x2=C2=new DOMPos(o3,0),O2=!0}let T2=this.view.observer.selectionRange;!O2&&T2.focusNode&&(isEquivalentPosition(x2.node,x2.offset,T2.anchorNode,T2.anchorOffset)&&isEquivalentPosition(C2.node,C2.offset,T2.focusNode,T2.focusOffset)||this.suppressWidgetCursorChange(T2,w2))||(this.view.observer.ignore(()=>{xs.android&&xs.chrome&&this.dom.contains(T2.focusNode)&&__name(function(o4,i3){for(let a3=o4;a3&&a3!=i3;a3=a3.assignedSlot||a3.parentNode)if(a3.nodeType==1&&a3.contentEditable=="false")return!0;return!1},"inUneditable")(T2.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let o3=getSelection(this.view.root);if(o3)if(w2.empty){if(xs.gecko){let o4=__name(function(o5,i3){return o5.nodeType!=1?0:(i3&&o5.childNodes[i3-1].contentEditable=="false"?1:0)|(i3<o5.childNodes.length&&o5.childNodes[i3].contentEditable=="false"?2:0)},"nextToUneditable")(x2.node,x2.offset);if(o4&&o4!=3){let i3=(o4==1?textNodeBefore:textNodeAfter)(x2.node,x2.offset);i3&&(x2=new DOMPos(i3.node,i3.offset))}}o3.collapse(x2.node,x2.offset),w2.bidiLevel!=null&&o3.caretBidiLevel!==void 0&&(o3.caretBidiLevel=w2.bidiLevel)}else if(o3.extend){o3.collapse(x2.node,x2.offset);try{o3.extend(C2.node,C2.offset)}catch{}}else{let i3=document.createRange();w2.anchor>w2.head&&([x2,C2]=[C2,x2]),i3.setEnd(C2.node,C2.offset),i3.setStart(x2.node,x2.offset),o3.removeAllRanges(),o3.addRange(i3)}u2&&this.view.root.activeElement==this.dom&&(this.dom.blur(),a2&&a2.focus())}),this.view.observer.setSelectionRange(x2,C2)),this.impreciseAnchor=x2.precise?null:new DOMPos(T2.anchorNode,T2.anchorOffset),this.impreciseHead=C2.precise?null:new DOMPos(T2.focusNode,T2.focusOffset)}suppressWidgetCursorChange(o2,i2){return this.hasComposition&&i2.empty&&isEquivalentPosition(o2.focusNode,o2.focusOffset,o2.anchorNode,o2.anchorOffset)&&this.posFromDOM(o2.focusNode,o2.focusOffset)==i2.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:o2}=this,i2=o2.state.selection.main,a2=getSelection(o2.root),{anchorNode:s2,anchorOffset:u2}=o2.observer.selectionRange;if(!(a2&&i2.empty&&i2.assoc&&a2.modify))return;let O2=LineView.find(this,i2.head);if(!O2)return;let w2=O2.posAtStart;if(i2.head==w2||i2.head==w2+O2.length)return;let x2=this.coordsAt(i2.head,-1),C2=this.coordsAt(i2.head,1);if(!x2||!C2||x2.bottom>C2.top)return;let T2=this.domAtPos(i2.head+i2.assoc);a2.collapse(T2.node,T2.offset),a2.modify("move",i2.assoc<0?"forward":"backward","lineboundary"),o2.observer.readSelectionRange();let _2=o2.observer.selectionRange;o2.docView.posFromDOM(_2.anchorNode,_2.anchorOffset)!=i2.from&&a2.collapse(s2,u2)}moveToLine(o2){let i2,a2=this.dom;if(o2.node!=a2)return o2;for(let s2=o2.offset;!i2&&s2<a2.childNodes.length;s2++){let o3=ContentView.get(a2.childNodes[s2]);o3 instanceof LineView&&(i2=o3.domAtPos(0))}for(let s2=o2.offset-1;!i2&&s2>=0;s2--){let o3=ContentView.get(a2.childNodes[s2]);o3 instanceof LineView&&(i2=o3.domAtPos(o3.length))}return i2?new DOMPos(i2.node,i2.offset,!0):o2}nearest(o2){for(let i2=o2;i2;){let o3=ContentView.get(i2);if(o3&&o3.rootView==this)return o3;i2=i2.parentNode}return null}posFromDOM(o2,i2){let a2=this.nearest(o2);if(!a2)throw new RangeError("Trying to find position for a DOM position outside of the document");return a2.localPosFromDOM(o2,i2)+a2.posAtStart}domAtPos(o2){let{i:i2,off:a2}=this.childCursor().findPos(o2,-1);for(;i2<this.children.length-1;){let o3=this.children[i2];if(a2<o3.length||o3 instanceof LineView)break;i2++,a2=0}return this.children[i2].domAtPos(a2)}coordsAt(o2,i2){let a2=null,s2=0;for(let u2=this.length,O2=this.children.length-1;O2>=0;O2--){let w2=this.children[O2],x2=u2-w2.breakAfter,C2=x2-w2.length;if(x2<o2)break;if(C2<=o2&&(C2<o2||w2.covers(-1))&&(x2>o2||w2.covers(1))&&(!a2||w2 instanceof LineView&&!(a2 instanceof LineView&&i2>=0)))a2=w2,s2=C2;else if(a2&&C2==o2&&x2==o2&&w2 instanceof BlockWidgetView&&Math.abs(i2)<2){if(w2.deco.startSide<0)break;O2&&(a2=null)}u2=C2}return a2?a2.coordsAt(o2-s2,i2):null}coordsForChar(o2){let{i:i2,off:a2}=this.childPos(o2,1),s2=this.children[i2];if(!(s2 instanceof LineView))return null;for(;s2.children.length;){let{i:o3,off:i3}=s2.childPos(a2,1);for(;;o3++){if(o3==s2.children.length)return null;if((s2=s2.children[o3]).length)break}a2=i3}if(!(s2 instanceof TextView))return null;let u2=findClusterBreak(s2.text,a2);if(u2==a2)return null;let O2=textRange(s2.dom,a2,u2).getClientRects();for(let o3=0;o3<O2.length;o3++){let i3=O2[o3];if(o3==O2.length-1||i3.top<i3.bottom&&i3.left<i3.right)return i3}return null}measureVisibleLineHeights(o2){let i2=[],{from:a2,to:s2}=o2,u2=this.view.contentDOM.clientWidth,O2=u2>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,w2=-1,x2=this.view.textDirection==Ps.LTR;for(let o3=0,C2=0;C2<this.children.length;C2++){let T2=this.children[C2],_2=o3+T2.length;if(_2>s2)break;if(o3>=a2){let a3=T2.dom.getBoundingClientRect();if(i2.push(a3.height),O2){let i3=T2.dom.lastChild,s3=i3?clientRectsFor(i3):[];if(s3.length){let i4=s3[s3.length-1],O3=x2?i4.right-a3.left:a3.right-i4.left;O3>w2&&(w2=O3,this.minWidth=u2,this.minWidthFrom=o3,this.minWidthTo=_2)}}}o3=_2+T2.breakAfter}return i2}textDirectionAt(o2){let{i:i2}=this.childPos(o2,1);return getComputedStyle(this.children[i2].dom).direction=="rtl"?Ps.RTL:Ps.LTR}measureTextSize(){for(let o3 of this.children)if(o3 instanceof LineView){let i3=o3.measureTextSize();if(i3)return i3}let o2,i2,a2,s2=document.createElement("div");return s2.className="cm-line",s2.style.width="99999px",s2.style.position="absolute",s2.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(s2);let u2=clientRectsFor(s2.firstChild)[0];o2=s2.getBoundingClientRect().height,i2=u2?u2.width/27:7,a2=u2?u2.height:o2,s2.remove()}),{lineHeight:o2,charWidth:i2,textHeight:a2}}childCursor(o2=this.length){let i2=this.children.length;return i2&&(o2-=this.children[--i2].length),new ChildCursor(this.children,o2,i2)}computeBlockGapDeco(){let o2=[],i2=this.view.viewState;for(let a2=0,s2=0;;s2++){let u2=s2==i2.viewports.length?null:i2.viewports[s2],O2=u2?u2.from-1:this.length;if(O2>a2){let s3=(i2.lineBlockAt(O2).bottom-i2.lineBlockAt(a2).top)/this.view.scaleY;o2.push(Decoration.replace({widget:new BlockGapWidget(s3),block:!0,inclusive:!0,isBlockGap:!0}).range(a2,O2))}if(!u2)break;a2=u2.to+1}return Decoration.set(o2)}updateDeco(){let o2=1,i2=this.view.state.facet(sl).map(i3=>(this.dynamicDecorationMap[o2++]=typeof i3=="function")?i3(this.view):i3),a2=!1,s2=this.view.state.facet(ul).map((o3,i3)=>{let s3=typeof o3=="function";return s3&&(a2=!0),s3?o3(this.view):o3});for(s2.length&&(this.dynamicDecorationMap[o2++]=a2,i2.push(RangeSet.join(s2))),this.decorations=[this.editContextFormatting,...i2,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];o2<this.decorations.length;)this.dynamicDecorationMap[o2++]=!1;return this.decorations}scrollIntoView(o2){if(o2.isSnapshot){let i3=this.view.viewState.lineBlockAt(o2.range.head);return this.view.scrollDOM.scrollTop=i3.top-o2.yMargin,void(this.view.scrollDOM.scrollLeft=o2.xMargin)}for(let i3 of this.view.state.facet(Zs))try{if(i3(this.view,o2.range,o2))return!0}catch(o3){logException(this.view.state,o3,"scroll handler")}let i2,{range:a2}=o2,s2=this.coordsAt(a2.head,a2.empty?a2.assoc:a2.head>a2.anchor?-1:1);if(!s2)return;!a2.empty&&(i2=this.coordsAt(a2.anchor,a2.anchor>a2.head?-1:1))&&(s2={left:Math.min(s2.left,i2.left),top:Math.min(s2.top,i2.top),right:Math.max(s2.right,i2.right),bottom:Math.max(s2.bottom,i2.bottom)});let u2=getScrollMargins(this.view),O2={left:s2.left-u2.left,top:s2.top-u2.top,right:s2.right+u2.right,bottom:s2.bottom+u2.bottom},{offsetWidth:w2,offsetHeight:x2}=this.view.scrollDOM;__name(function(o3,i3,a3,s3,u3,O3,w3,x3){let C2=o3.ownerDocument,T2=C2.defaultView||window;for(let _2=o3,A2=!1;_2&&!A2;)if(_2.nodeType==1){let o4,Q2=_2==C2.body,N2=1,L2=1;if(Q2)o4=windowRect(T2);else{if(/^(fixed|sticky)$/.test(getComputedStyle(_2).position)&&(A2=!0),_2.scrollHeight<=_2.clientHeight&&_2.scrollWidth<=_2.clientWidth){_2=_2.assignedSlot||_2.parentNode;continue}let i4=_2.getBoundingClientRect();({scaleX:N2,scaleY:L2}=getScale(_2,i4)),o4={left:i4.left,right:i4.left+_2.clientWidth*N2,top:i4.top,bottom:i4.top+_2.clientHeight*L2}}let $2=0,F2=0;if(u3=="nearest")i3.top<o4.top?(F2=i3.top-(o4.top+w3),a3>0&&i3.bottom>o4.bottom+F2&&(F2=i3.bottom-o4.bottom+w3)):i3.bottom>o4.bottom&&(F2=i3.bottom-o4.bottom+w3,a3<0&&i3.top-F2<o4.top&&(F2=i3.top-(o4.top+w3)));else{let s4=i3.bottom-i3.top,O4=o4.bottom-o4.top;F2=(u3=="center"&&s4<=O4?i3.top+s4/2-O4/2:u3=="start"||u3=="center"&&a3<0?i3.top-w3:i3.bottom-O4+w3)-o4.top}if(s3=="nearest"?i3.left<o4.left?($2=i3.left-(o4.left+O3),a3>0&&i3.right>o4.right+$2&&($2=i3.right-o4.right+O3)):i3.right>o4.right&&($2=i3.right-o4.right+O3,a3<0&&i3.left<o4.left+$2&&($2=i3.left-(o4.left+O3))):$2=(s3=="center"?i3.left+(i3.right-i3.left)/2-(o4.right-o4.left)/2:s3=="start"==x3?i3.left-O3:i3.right-(o4.right-o4.left)+O3)-o4.left,$2||F2)if(Q2)T2.scrollBy($2,F2);else{let o5=0,a4=0;if(F2){let o6=_2.scrollTop;_2.scrollTop+=F2/L2,a4=(_2.scrollTop-o6)*L2}if($2){let i4=_2.scrollLeft;_2.scrollLeft+=$2/N2,o5=(_2.scrollLeft-i4)*N2}i3={left:i3.left-o5,top:i3.top-a4,right:i3.right-o5,bottom:i3.bottom-a4},o5&&Math.abs(o5-$2)<1&&(s3="nearest"),a4&&Math.abs(a4-F2)<1&&(u3="nearest")}if(Q2)break;(i3.top<o4.top||i3.bottom>o4.bottom||i3.left<o4.left||i3.right>o4.right)&&(i3={left:Math.max(i3.left,o4.left),right:Math.min(i3.right,o4.right),top:Math.max(i3.top,o4.top),bottom:Math.min(i3.bottom,o4.bottom)}),_2=_2.assignedSlot||_2.parentNode}else{if(_2.nodeType!=11)break;_2=_2.host}},"scrollRectIntoView")(this.view.scrollDOM,O2,a2.head<a2.anchor?-1:1,o2.x,o2.y,Math.max(Math.min(o2.xMargin,w2),-w2),Math.max(Math.min(o2.yMargin,x2),-x2),this.view.textDirection==Ps.LTR)}};__name(_DocView,"DocView");let DocView=_DocView;function findCompositionNode(o2,i2){let a2=o2.observer.selectionRange;if(!a2.focusNode)return null;let s2=textNodeBefore(a2.focusNode,a2.focusOffset),u2=textNodeAfter(a2.focusNode,a2.focusOffset),O2=s2||u2;if(u2&&s2&&u2.node!=s2.node){let i3=ContentView.get(u2.node);if(!i3||i3 instanceof TextView&&i3.text!=u2.node.nodeValue)O2=u2;else if(o2.docView.lastCompositionAfterCursor){let o3=ContentView.get(s2.node);!o3||o3 instanceof TextView&&o3.text!=s2.node.nodeValue||(O2=u2)}}if(o2.docView.lastCompositionAfterCursor=O2!=s2,!O2)return null;let w2=i2-O2.offset;return{from:w2,to:w2+O2.node.nodeValue.length,node:O2.node}}__name(findCompositionNode,"findCompositionNode");var _a4;let wl=(_a4=class{constructor(){this.changes=[]}compareRange(o2,i2){addRange(o2,i2,this.changes)}comparePoint(o2,i2){addRange(o2,i2,this.changes)}boundChange(o2){addRange(o2,o2,this.changes)}},__name(_a4,"DecorationComparator"),_a4);function getdx(o2,i2){return i2.left>o2?i2.left-o2:Math.max(0,o2-i2.right)}__name(getdx,"getdx");function getdy(o2,i2){return i2.top>o2?i2.top-o2:Math.max(0,o2-i2.bottom)}__name(getdy,"getdy");function yOverlap(o2,i2){return o2.top<i2.bottom-1&&o2.bottom>i2.top+1}__name(yOverlap,"yOverlap");function upTop(o2,i2){return i2<o2.top?{top:i2,left:o2.left,right:o2.right,bottom:o2.bottom}:o2}__name(upTop,"upTop");function upBot(o2,i2){return i2>o2.bottom?{top:o2.top,left:o2.left,right:o2.right,bottom:i2}:o2}__name(upBot,"upBot");function domPosAtCoords(o2,i2,a2){let s2,u2,O2,w2,x2,C2,T2,_2,A2=!1;for(let Q3=o2.firstChild;Q3;Q3=Q3.nextSibling){let o3=clientRectsFor(Q3);for(let N2=0;N2<o3.length;N2++){let L2=o3[N2];u2&&yOverlap(u2,L2)&&(L2=upTop(upBot(L2,u2.bottom),u2.top));let $2=getdx(i2,L2),F2=getdy(a2,L2);if($2==0&&F2==0)return Q3.nodeType==3?domPosInText(Q3,i2,a2):domPosAtCoords(Q3,i2,a2);if(!s2||w2>F2||w2==F2&&O2>$2){s2=Q3,u2=L2,O2=$2,w2=F2;let x3=F2?a2<L2.top?-1:1:$2?i2<L2.left?-1:1:0;A2=!x3||(x3>0?N2<o3.length-1:N2>0)}$2==0?a2>L2.bottom&&(!T2||T2.bottom<L2.bottom)?(x2=Q3,T2=L2):a2<L2.top&&(!_2||_2.top>L2.top)&&(C2=Q3,_2=L2):T2&&yOverlap(T2,L2)?T2=upBot(T2,L2.bottom):_2&&yOverlap(_2,L2)&&(_2=upTop(_2,L2.top))}}if(T2&&T2.bottom>=a2?(s2=x2,u2=T2):_2&&_2.top<=a2&&(s2=C2,u2=_2),!s2)return{node:o2,offset:0};let Q2=Math.max(u2.left,Math.min(u2.right,i2));return s2.nodeType==3?domPosInText(s2,Q2,a2):A2&&s2.contentEditable!="false"?domPosAtCoords(s2,Q2,a2):{node:o2,offset:Array.prototype.indexOf.call(o2.childNodes,s2)+(i2>=(u2.left+u2.right)/2?1:0)}}__name(domPosAtCoords,"domPosAtCoords");function domPosInText(o2,i2,a2){let s2=o2.nodeValue.length,u2=-1,O2=1e9,w2=0;for(let x2=0;x2<s2;x2++){let s3=textRange(o2,x2,x2+1).getClientRects();for(let C2=0;C2<s3.length;C2++){let T2=s3[C2];if(T2.top==T2.bottom)continue;w2||(w2=i2-T2.left);let _2=(T2.top>a2?T2.top-a2:a2-T2.bottom)-1;if(T2.left-1<=i2&&T2.right+1>=i2&&_2<O2){let a3=i2>=(T2.left+T2.right)/2,s4=a3;if((xs.chrome||xs.gecko)&&textRange(o2,x2).getBoundingClientRect().left==T2.right&&(s4=!a3),_2<=0)return{node:o2,offset:x2+(s4?1:0)};u2=x2+(s4?1:0),O2=_2}}}return{node:o2,offset:u2>-1?u2:w2>0?o2.nodeValue.length:0}}__name(domPosInText,"domPosInText");function posAtCoords(o2,i2,a2,s2=-1){var u2,O2;let w2,x2=o2.contentDOM.getBoundingClientRect(),C2=x2.top+o2.viewState.paddingTop,{docHeight:T2}=o2.viewState,{x:_2,y:A2}=i2,Q2=A2-C2;if(Q2<0)return 0;if(Q2>T2)return o2.state.doc.length;for(let i3=o2.viewState.heightOracle.textHeight/2,u3=!1;w2=o2.elementAtHeight(Q2),w2.type!=Cs.Text;)for(;Q2=s2>0?w2.bottom+i3:w2.top-i3,!(Q2>=0&&Q2<=T2);){if(u3)return a2?null:0;u3=!0,s2=-s2}A2=C2+Q2;let N2=w2.from;if(N2<o2.viewport.from)return o2.viewport.from==0?0:a2?null:posAtCoordsImprecise(o2,x2,w2,_2,A2);if(N2>o2.viewport.to)return o2.viewport.to==o2.state.doc.length?o2.state.doc.length:a2?null:posAtCoordsImprecise(o2,x2,w2,_2,A2);let L2=o2.dom.ownerDocument,$2=o2.root.elementFromPoint?o2.root:L2,F2=$2.elementFromPoint(_2,A2);F2&&!o2.contentDOM.contains(F2)&&(F2=null),F2||(_2=Math.max(x2.left+1,Math.min(x2.right-1,_2)),F2=$2.elementFromPoint(_2,A2),F2&&!o2.contentDOM.contains(F2)&&(F2=null));let B2,V2=-1;if(F2&&((u2=o2.docView.nearest(F2))===null||u2===void 0?void 0:u2.isEditable)!=0){if(L2.caretPositionFromPoint){let o3=L2.caretPositionFromPoint(_2,A2);o3&&({offsetNode:B2,offset:V2}=o3)}else if(L2.caretRangeFromPoint){let i3=L2.caretRangeFromPoint(_2,A2);i3&&({startContainer:B2,startOffset:V2}=i3,(!o2.contentDOM.contains(B2)||xs.safari&&__name(function(o3,i4,a3){let s3;if(o3.nodeType!=3||i4!=(s3=o3.nodeValue.length))return!1;for(let i5=o3.nextSibling;i5;i5=i5.nextSibling)if(i5.nodeType!=1||i5.nodeName!="BR")return!1;return textRange(o3,s3-1,s3).getBoundingClientRect().left>a3},"isSuspiciousSafariCaretResult")(B2,V2,_2)||xs.chrome&&__name(function(o3,i4,a3){if(i4!=0)return!1;for(let i5=o3;;){let o4=i5.parentNode;if(!o4||o4.nodeType!=1||o4.firstChild!=i5)return!1;if(o4.classList.contains("cm-line"))break;i5=o4}let s3=o3.nodeType==1?o3.getBoundingClientRect():textRange(o3,0,Math.max(o3.nodeValue.length,1)).getBoundingClientRect();return a3-s3.left>5},"isSuspiciousChromeCaretResult")(B2,V2,_2))&&(B2=void 0))}B2&&(V2=Math.min(maxOffset(B2),V2))}if(!B2||!o2.docView.dom.contains(B2)){let i3=LineView.find(o2.docView,N2);if(!i3)return Q2>w2.top+w2.height/2?w2.to:w2.from;({node:B2,offset:V2}=domPosAtCoords(i3.dom,_2,A2))}let z2=o2.docView.nearest(B2);if(!z2)return null;if(z2.isWidget&&((O2=z2.dom)===null||O2===void 0?void 0:O2.nodeType)==1){let o3=z2.dom.getBoundingClientRect();return i2.y<o3.top||i2.y<=o3.bottom&&i2.x<=(o3.left+o3.right)/2?z2.posAtStart:z2.posAtEnd}return z2.localPosFromDOM(B2,V2)+z2.posAtStart}__name(posAtCoords,"posAtCoords");function posAtCoordsImprecise(o2,i2,a2,s2,u2){let O2=Math.round((s2-i2.left)*o2.defaultCharacterWidth);if(o2.lineWrapping&&a2.height>1.5*o2.defaultLineHeight){let i3=o2.viewState.heightOracle.textHeight;O2+=Math.floor((u2-a2.top-.5*(o2.defaultLineHeight-i3))/i3)*o2.viewState.heightOracle.lineLength}let w2=o2.state.sliceDoc(a2.from,a2.to);return a2.from+findColumn(w2,O2,o2.state.tabSize)}__name(posAtCoordsImprecise,"posAtCoordsImprecise");function blockAt(o2,i2,a2){let s2=o2.lineBlockAt(i2);if(Array.isArray(s2.type)){let o3;for(let u2 of s2.type){if(u2.from>i2)break;if(!(u2.to<i2)){if(u2.from<i2&&u2.to>i2)return u2;o3&&(u2.type!=Cs.Text||o3.type==u2.type&&!(a2<0?u2.from<i2:u2.to>i2))||(o3=u2)}}return o3||s2}return s2}__name(blockAt,"blockAt");function moveByChar(o2,i2,a2,s2){let u2=o2.state.doc.lineAt(i2.head),O2=o2.bidiSpans(u2),w2=o2.textDirectionAt(u2.from);for(let x2=i2,C2=null;;){let i3=moveVisually(u2,O2,w2,x2,a2),T2=Qs;if(!i3){if(u2.number==(a2?o2.state.doc.lines:1))return x2;T2=`
`,u2=o2.state.doc.line(u2.number+(a2?1:-1)),O2=o2.bidiSpans(u2),i3=o2.visualLineSide(u2,!a2)}if(C2){if(!C2(T2))return x2}else{if(!s2)return i3;C2=s2(T2)}x2=i3}}__name(moveByChar,"moveByChar");function skipAtomicRanges(o2,i2,a2){for(;;){let s2=0;for(let u2 of o2)u2.between(i2-1,i2+1,(o3,u3,O2)=>{if(i2>o3&&i2<u3){let O3=s2||a2||(i2-o3<u3-i2?-1:1);i2=O3<0?o3:u3,s2=O3}});if(!s2)return i2}}__name(skipAtomicRanges,"skipAtomicRanges");function skipAtoms(o2,i2,a2){let s2=skipAtomicRanges(o2.state.facet(vl).map(i3=>i3(o2)),a2.from,i2.head>a2.from?-1:1);return s2==a2.from?a2:EditorSelection.cursor(s2,s2<a2.from?1:-1)}__name(skipAtoms,"skipAtoms");const xl="￿",_DOMReader=class _DOMReader{constructor(o2,i2){this.points=o2,this.text="",this.lineSeparator=i2.facet(EditorState.lineSeparator)}append(o2){this.text+=o2}lineBreak(){this.text+=xl}readRange(o2,i2){if(!o2)return this;let a2=o2.parentNode;for(let s2=o2;;){this.findPointBefore(a2,s2);let o3=this.text.length;this.readNode(s2);let u2=s2.nextSibling;if(u2==i2)break;let O2=ContentView.get(s2),w2=ContentView.get(u2);(O2&&w2?O2.breakAfter:(O2?O2.breakAfter:isBlockElement(s2))||isBlockElement(u2)&&(s2.nodeName!="BR"||s2.cmIgnore)&&this.text.length>o3)&&this.lineBreak(),s2=u2}return this.findPointBefore(a2,i2),this}readTextNode(o2){let i2=o2.nodeValue;for(let a2 of this.points)a2.node==o2&&(a2.pos=this.text.length+Math.min(a2.offset,i2.length));for(let a2=0,s2=this.lineSeparator?null:/\r\n?|\n/g;;){let u2,O2=-1,w2=1;if(this.lineSeparator?(O2=i2.indexOf(this.lineSeparator,a2),w2=this.lineSeparator.length):(u2=s2.exec(i2))&&(O2=u2.index,w2=u2[0].length),this.append(i2.slice(a2,O2<0?i2.length:O2)),O2<0)break;if(this.lineBreak(),w2>1)for(let i3 of this.points)i3.node==o2&&i3.pos>this.text.length&&(i3.pos-=w2-1);a2=O2+w2}}readNode(o2){if(o2.cmIgnore)return;let i2=ContentView.get(o2),a2=i2&&i2.overrideDOMText;if(a2!=null){this.findPointInside(o2,a2.length);for(let o3=a2.iter();!o3.next().done;)o3.lineBreak?this.lineBreak():this.append(o3.value)}else o2.nodeType==3?this.readTextNode(o2):o2.nodeName=="BR"?o2.nextSibling&&this.lineBreak():o2.nodeType==1&&this.readRange(o2.firstChild,null)}findPointBefore(o2,i2){for(let a2 of this.points)a2.node==o2&&o2.childNodes[a2.offset]==i2&&(a2.pos=this.text.length)}findPointInside(o2,i2){for(let a2 of this.points)(o2.nodeType==3?a2.node==o2:o2.contains(a2.node))&&(a2.pos=this.text.length+(isAtEnd(o2,a2.node,a2.offset)?i2:0))}};__name(_DOMReader,"DOMReader");let DOMReader=_DOMReader;function isAtEnd(o2,i2,a2){for(;;){if(!i2||a2<maxOffset(i2))return!1;if(i2==o2)return!0;a2=domIndex(i2)+1,i2=i2.parentNode}}__name(isAtEnd,"isAtEnd");const _DOMPoint=class _DOMPoint{constructor(o2,i2){this.node=o2,this.offset=i2,this.pos=-1}};__name(_DOMPoint,"DOMPoint");let DOMPoint=_DOMPoint;const _DOMChange=class _DOMChange{constructor(o2,i2,a2,s2){this.typeOver=s2,this.bounds=null,this.text="",this.domChanged=i2>-1;let{impreciseHead:u2,impreciseAnchor:O2}=o2.docView;if(o2.state.readOnly&&i2>-1)this.newSel=null;else if(i2>-1&&(this.bounds=o2.docView.domBoundsAround(i2,a2,0))){let i3=u2||O2?[]:__name(function(o3){let i4=[];if(o3.root.activeElement!=o3.contentDOM)return i4;let{anchorNode:a4,anchorOffset:s3,focusNode:u3,focusOffset:O3}=o3.observer.selectionRange;return a4&&(i4.push(new DOMPoint(a4,s3)),u3==a4&&O3==s3||i4.push(new DOMPoint(u3,O3))),i4},"selectionPoints")(o2),a3=new DOMReader(i3,o2.state);a3.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a3.text,this.newSel=__name(function(o3,i4){if(o3.length==0)return null;let a4=o3[0].pos,s3=o3.length==2?o3[1].pos:a4;return a4>-1&&s3>-1?EditorSelection.single(a4+i4,s3+i4):null},"selectionFromPoints")(i3,this.bounds.from)}else{let i3=o2.observer.selectionRange,a3=u2&&u2.node==i3.focusNode&&u2.offset==i3.focusOffset||!contains(o2.contentDOM,i3.focusNode)?o2.state.selection.main.head:o2.docView.posFromDOM(i3.focusNode,i3.focusOffset),s3=O2&&O2.node==i3.anchorNode&&O2.offset==i3.anchorOffset||!contains(o2.contentDOM,i3.anchorNode)?o2.state.selection.main.anchor:o2.docView.posFromDOM(i3.anchorNode,i3.anchorOffset),w2=o2.viewport;if((xs.ios||xs.chrome)&&o2.state.selection.main.empty&&a3!=s3&&(w2.from>0||w2.to<o2.state.doc.length)){let i4=Math.min(a3,s3),u3=Math.max(a3,s3),O3=w2.from-i4,x2=w2.to-u3;O3!=0&&O3!=1&&i4!=0||x2!=0&&x2!=-1&&u3!=o2.state.doc.length||(a3=0,s3=o2.state.doc.length)}this.newSel=EditorSelection.single(s3,a3)}}};__name(_DOMChange,"DOMChange");let DOMChange=_DOMChange;function applyDOMChange(o2,i2){let a2,{newSel:s2}=i2,u2=o2.state.selection.main,O2=o2.inputState.lastKeyTime>Date.now()-100?o2.inputState.lastKeyCode:-1;if(i2.bounds){let{from:s3,to:w2}=i2.bounds,x2=u2.from,C2=null;(O2===8||xs.android&&i2.text.length<w2-s3)&&(x2=u2.to,C2="end");let T2=__name(function(o3,i3,a3,s4){let u3=Math.min(o3.length,i3.length),O3=0;for(;O3<u3&&o3.charCodeAt(O3)==i3.charCodeAt(O3);)O3++;if(O3==u3&&o3.length==i3.length)return null;let w3=o3.length,x3=i3.length;for(;w3>0&&x3>0&&o3.charCodeAt(w3-1)==i3.charCodeAt(x3-1);)w3--,x3--;return s4=="end"&&(a3-=w3+Math.max(0,O3-Math.min(w3,x3))-O3),w3<O3&&o3.length<i3.length?(O3-=a3<=O3&&a3>=w3?O3-a3:0,x3=O3+(x3-w3),w3=O3):x3<O3&&(O3-=a3<=O3&&a3>=x3?O3-a3:0,w3=O3+(w3-x3),x3=O3),{from:O3,toA:w3,toB:x3}},"findDiff")(o2.state.doc.sliceString(s3,w2,xl),i2.text,x2-s3,C2);T2&&(xs.chrome&&O2==13&&T2.toB==T2.from+2&&i2.text.slice(T2.from,T2.toB)==xl+xl&&T2.toB--,a2={from:s3+T2.from,to:s3+T2.toA,insert:Text.of(i2.text.slice(T2.from,T2.toB).split(xl))})}else s2&&(!o2.hasFocus&&o2.state.facet(Gs)||s2.main.eq(u2))&&(s2=null);if(!a2&&!s2)return!1;if(!a2&&i2.typeOver&&!u2.empty&&s2&&s2.main.empty?a2={from:u2.from,to:u2.to,insert:o2.state.doc.slice(u2.from,u2.to)}:(xs.mac||xs.android)&&a2&&a2.from==a2.to&&a2.from==u2.head-1&&/^\. ?$/.test(a2.insert.toString())&&o2.contentDOM.getAttribute("autocorrect")=="off"?(s2&&a2.insert.length==2&&(s2=EditorSelection.single(s2.main.anchor-1,s2.main.head-1)),a2={from:a2.from,to:a2.to,insert:Text.of([a2.insert.toString().replace("."," ")])}):a2&&a2.from>=u2.from&&a2.to<=u2.to&&(a2.from!=u2.from||a2.to!=u2.to)&&u2.to-u2.from-(a2.to-a2.from)<=4?a2={from:u2.from,to:u2.to,insert:o2.state.doc.slice(u2.from,a2.from).append(a2.insert).append(o2.state.doc.slice(a2.to,u2.to))}:xs.chrome&&a2&&a2.from==a2.to&&a2.from==u2.head&&a2.insert.toString()==`
 `&&o2.lineWrapping&&(s2&&(s2=EditorSelection.single(s2.main.anchor-1,s2.main.head-1)),a2={from:u2.from,to:u2.to,insert:Text.of([" "])}),a2)return applyDOMChangeInner(o2,a2,s2,O2);if(s2&&!s2.main.eq(u2)){let i3=!1,a3="select";return o2.inputState.lastSelectionTime>Date.now()-50&&(o2.inputState.lastSelectionOrigin=="select"&&(i3=!0),a3=o2.inputState.lastSelectionOrigin),o2.dispatch({selection:s2,scrollIntoView:i3,userEvent:a3}),!0}return!1}__name(applyDOMChange,"applyDOMChange");function applyDOMChangeInner(o2,i2,a2,s2=-1){if(xs.ios&&o2.inputState.flushIOSKey(i2))return!0;let u2=o2.state.selection.main;if(xs.android&&(i2.to==u2.to&&(i2.from==u2.from||i2.from==u2.from-1&&o2.state.sliceDoc(i2.from,u2.from)==" ")&&i2.insert.length==1&&i2.insert.lines==2&&dispatchKey(o2.contentDOM,"Enter",13)||(i2.from==u2.from-1&&i2.to==u2.to&&i2.insert.length==0||s2==8&&i2.insert.length<i2.to-i2.from&&i2.to>u2.head)&&dispatchKey(o2.contentDOM,"Backspace",8)||i2.from==u2.from&&i2.to==u2.to+1&&i2.insert.length==0&&dispatchKey(o2.contentDOM,"Delete",46)))return!0;let O2,w2=i2.insert.toString();o2.inputState.composing>=0&&o2.inputState.composing++;let defaultInsert=__name(()=>O2||(O2=__name(function(o3,i3,a3){let s3,u3=o3.state,O3=u3.selection.main;if(i3.from>=O3.from&&i3.to<=O3.to&&i3.to-i3.from>=(O3.to-O3.from)/3&&(!a3||a3.main.empty&&a3.main.from==i3.from+i3.insert.length)&&o3.inputState.composing<0){let a4=O3.from<i3.from?u3.sliceDoc(O3.from,i3.from):"",w4=O3.to>i3.to?u3.sliceDoc(i3.to,O3.to):"";s3=u3.replaceSelection(o3.state.toText(a4+i3.insert.sliceString(0,void 0,o3.state.lineBreak)+w4))}else{let w4=u3.changes(i3),x2=a3&&a3.main.to<=w4.newLength?a3.main:void 0;if(u3.selection.ranges.length>1&&o3.inputState.composing>=0&&i3.to<=O3.to&&i3.to>=O3.to-10){let C2,T2=o3.state.sliceDoc(i3.from,i3.to),_2=a3&&findCompositionNode(o3,a3.main.head);if(_2){let o4=i3.insert.length-(i3.to-i3.from);C2={from:_2.from,to:_2.to-o4}}else C2=o3.state.doc.lineAt(O3.head);let A2=O3.to-i3.to,Q2=O3.to-O3.from;s3=u3.changeByRange(a4=>{if(a4.from==O3.from&&a4.to==O3.to)return{changes:w4,range:x2||a4.map(w4)};let s4=a4.to-A2,_3=s4-T2.length;if(a4.to-a4.from!=Q2||o3.state.sliceDoc(_3,s4)!=T2||a4.to>=C2.from&&a4.from<=C2.to)return{range:a4};let N2=u3.changes({from:_3,to:s4,insert:i3.insert}),L2=a4.to-O3.to;return{changes:N2,range:x2?EditorSelection.range(Math.max(0,x2.anchor+L2),Math.max(0,x2.head+L2)):a4.map(N2)}})}else s3={changes:w4,selection:x2&&u3.selection.replaceRange(x2)}}let w3="input.type";return(o3.composing||o3.inputState.compositionPendingChange&&o3.inputState.compositionEndedAt>Date.now()-50)&&(o3.inputState.compositionPendingChange=!1,w3+=".compose",o3.inputState.compositionFirstChange&&(w3+=".start",o3.inputState.compositionFirstChange=!1)),u3.update(s3,{userEvent:w3,scrollIntoView:!0})},"applyDefaultInsert")(o2,i2,a2)),"defaultInsert");return o2.state.facet(Vs).some(a3=>a3(o2,i2.from,i2.to,w2,defaultInsert))||o2.dispatch(defaultInsert()),!0}__name(applyDOMChangeInner,"applyDOMChangeInner");const _InputState=class _InputState{setSelectionOrigin(o2){this.lastSelectionOrigin=o2,this.lastSelectionTime=Date.now()}constructor(o2){this.view=o2,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=o2.hasFocus,xs.safari&&o2.contentDOM.addEventListener("input",()=>null),xs.gecko&&__name(function(o3){Nl.has(o3)||(Nl.add(o3),o3.addEventListener("copy",()=>{}),o3.addEventListener("cut",()=>{}))},"firefoxCopyCutHack")(o2.contentDOM.ownerDocument)}handleEvent(o2){__name(function(o3,i2){if(!i2.bubbles)return!0;if(i2.defaultPrevented)return!1;for(let a2,s2=i2.target;s2!=o3.contentDOM;s2=s2.parentNode)if(!s2||s2.nodeType==11||(a2=ContentView.get(s2))&&a2.ignoreEvent(i2))return!1;return!0},"eventBelongsToEditor")(this.view,o2)&&!this.ignoreDuringComposition(o2)&&(o2.type=="keydown"&&this.keydown(o2)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(o2.type,o2)):this.runHandlers(o2.type,o2)))}runHandlers(o2,i2){let a2=this.handlers[o2];if(a2){for(let o3 of a2.observers)o3(this.view,i2);for(let o3 of a2.handlers){if(i2.defaultPrevented)break;if(o3(this.view,i2)){i2.preventDefault();break}}}}ensureHandlers(o2){let i2=computeHandlers(o2),a2=this.handlers,s2=this.view.contentDOM;for(let o3 in i2)if(o3!="scroll"){let u2=!i2[o3].handlers.length,O2=a2[o3];O2&&u2!=!O2.handlers.length&&(s2.removeEventListener(o3,this.handleEvent),O2=null),O2||s2.addEventListener(o3,this.handleEvent,{passive:u2})}for(let o3 in a2)o3=="scroll"||i2[o3]||s2.removeEventListener(o3,this.handleEvent);this.handlers=i2}keydown(o2){if(this.lastKeyCode=o2.keyCode,this.lastKeyTime=Date.now(),o2.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&o2.keyCode!=27&&Pl.indexOf(o2.keyCode)<0&&(this.tabFocusMode=-1),xs.android&&xs.chrome&&!o2.synthetic&&(o2.keyCode==13||o2.keyCode==8))return this.view.observer.delayAndroidKey(o2.key,o2.keyCode),!0;let i2;return!xs.ios||o2.synthetic||o2.altKey||o2.metaKey||!((i2=kl.find(i3=>i3.keyCode==o2.keyCode))&&!o2.ctrlKey||Cl.indexOf(o2.key)>-1&&o2.ctrlKey&&!o2.shiftKey)?(o2.keyCode!=229&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=i2||o2,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(o2){let i2=this.pendingIOSKey;return!!i2&&!(i2.key=="Enter"&&o2&&o2.from<o2.to&&/^\S+$/.test(o2.insert.toString()))&&(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,i2.key,i2.keyCode,i2 instanceof KeyboardEvent?i2:void 0))}ignoreDuringComposition(o2){return!!/^key/.test(o2.type)&&(this.composing>0||!!(xs.safari&&!xs.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(o2){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=o2}update(o2){this.view.observer.update(o2),this.mouseSelection&&this.mouseSelection.update(o2),this.draggedContent&&o2.docChanged&&(this.draggedContent=this.draggedContent.map(o2.changes)),o2.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};__name(_InputState,"InputState");let InputState=_InputState;function bindHandler(o2,i2){return(a2,s2)=>{try{return i2.call(o2,s2,a2)}catch(o3){logException(a2.state,o3)}}}__name(bindHandler,"bindHandler");function computeHandlers(o2){let i2=Object.create(null);function record(o3){return i2[o3]||(i2[o3]={observers:[],handlers:[]})}__name(record,"record");for(let i3 of o2){let o3=i3.spec;if(o3&&o3.domEventHandlers)for(let a2 in o3.domEventHandlers){let s2=o3.domEventHandlers[a2];s2&&record(a2).handlers.push(bindHandler(i3.value,s2))}if(o3&&o3.domEventObservers)for(let a2 in o3.domEventObservers){let s2=o3.domEventObservers[a2];s2&&record(a2).observers.push(bindHandler(i3.value,s2))}}for(let o3 in El)record(o3).handlers.push(El[o3]);for(let o3 in Tl)record(o3).observers.push(Tl[o3]);return i2}__name(computeHandlers,"computeHandlers");const kl=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Cl="dthko",Pl=[16,17,18,20,91,92,224,225];function dragScrollSpeed(o2){return .7*Math.max(0,o2)+8}__name(dragScrollSpeed,"dragScrollSpeed");const _MouseSelection=class _MouseSelection{constructor(o2,i2,a2,s2){this.view=o2,this.startEvent=i2,this.style=a2,this.mustSelect=s2,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=i2,this.scrollParents=__name(function(o3){let i3,a3,s3=o3.ownerDocument;for(let u3=o3.parentNode;u3&&!(u3==s3.body||i3&&a3);)if(u3.nodeType==1)!a3&&u3.scrollHeight>u3.clientHeight&&(a3=u3),!i3&&u3.scrollWidth>u3.clientWidth&&(i3=u3),u3=u3.assignedSlot||u3.parentNode;else{if(u3.nodeType!=11)break;u3=u3.host}return{x:i3,y:a3}},"scrollableParents")(o2.contentDOM),this.atoms=o2.state.facet(vl).map(i3=>i3(o2));let u2=o2.contentDOM.ownerDocument;u2.addEventListener("mousemove",this.move=this.move.bind(this)),u2.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=i2.shiftKey,this.multiple=o2.state.facet(EditorState.allowMultipleSelections)&&__name(function(o3,i3){let a3=o3.state.facet(Ns);return a3.length?a3[0](i3):xs.mac?i3.metaKey:i3.ctrlKey},"addsSelectionRange")(o2,i2),this.dragging=!(!__name(function(o3,i3){let{main:a3}=o3.state.selection;if(a3.empty)return!1;let s3=getSelection(o3.root);if(!s3||s3.rangeCount==0)return!0;let u3=s3.getRangeAt(0).getClientRects();for(let o4=0;o4<u3.length;o4++){let a4=u3[o4];if(a4.left<=i3.clientX&&a4.right>=i3.clientX&&a4.top<=i3.clientY&&a4.bottom>=i3.clientY)return!0}return!1},"isInPrimarySelection")(o2,i2)||getClickType(i2)!=1)&&null}start(o2){this.dragging===!1&&this.select(o2)}move(o2){if(o2.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&__name(function(o3,i3){return Math.max(Math.abs(o3.clientX-i3.clientX),Math.abs(o3.clientY-i3.clientY))},"dist")(this.startEvent,o2)<10)return;this.select(this.lastEvent=o2);let i2=0,a2=0,s2=0,u2=0,O2=this.view.win.innerWidth,w2=this.view.win.innerHeight;this.scrollParents.x&&({left:s2,right:O2}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:u2,bottom:w2}=this.scrollParents.y.getBoundingClientRect());let x2=getScrollMargins(this.view);o2.clientX-x2.left<=s2+6?i2=-dragScrollSpeed(s2-o2.clientX):o2.clientX+x2.right>=O2-6&&(i2=dragScrollSpeed(o2.clientX-O2)),o2.clientY-x2.top<=u2+6?a2=-dragScrollSpeed(u2-o2.clientY):o2.clientY+x2.bottom>=w2-6&&(a2=dragScrollSpeed(o2.clientY-w2)),this.setScrollSpeed(i2,a2)}up(o2){this.dragging==null&&this.select(this.lastEvent),this.dragging||o2.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let o2=this.view.contentDOM.ownerDocument;o2.removeEventListener("mousemove",this.move),o2.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(o2,i2){this.scrollSpeed={x:o2,y:i2},o2||i2?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:o2,y:i2}=this.scrollSpeed;o2&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=o2,o2=0),i2&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=i2,i2=0),(o2||i2)&&this.view.win.scrollBy(o2,i2),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(o2){let i2=null;for(let a2=0;a2<o2.ranges.length;a2++){let s2=o2.ranges[a2],u2=null;if(s2.empty){let o3=skipAtomicRanges(this.atoms,s2.from,0);o3!=s2.from&&(u2=EditorSelection.cursor(o3,-1))}else{let o3=skipAtomicRanges(this.atoms,s2.from,-1),i3=skipAtomicRanges(this.atoms,s2.to,1);o3==s2.from&&i3==s2.to||(u2=EditorSelection.range(s2.from==s2.anchor?o3:i3,s2.from==s2.head?o3:i3))}u2&&(i2||(i2=o2.ranges.slice()),i2[a2]=u2)}return i2?EditorSelection.create(i2,o2.mainIndex):o2}select(o2){let{view:i2}=this,a2=this.skipAtoms(this.style.get(o2,this.extend,this.multiple));!this.mustSelect&&a2.eq(i2.state.selection,this.dragging===!1)||this.view.dispatch({selection:a2,userEvent:"select.pointer"}),this.mustSelect=!1}update(o2){o2.transactions.some(o3=>o3.isUserEvent("input.type"))?this.destroy():this.style.update(o2)&&setTimeout(()=>this.select(this.lastEvent),20)}};__name(_MouseSelection,"MouseSelection");let MouseSelection=_MouseSelection;const El=Object.create(null),Tl=Object.create(null),Rl=xs.ie&&xs.ie_version<15||xs.ios&&xs.webkit_version<604;function textFilter(o2,i2,a2){for(let s2 of o2.facet(i2))a2=s2(a2,o2);return a2}__name(textFilter,"textFilter");function doPaste(o2,i2){i2=textFilter(o2.state,js,i2);let a2,{state:s2}=o2,u2=1,O2=s2.toText(i2),w2=O2.lines==s2.selection.ranges.length;if(Al!=null&&s2.selection.ranges.every(o3=>o3.empty)&&Al==O2.toString()){let o3=-1;a2=s2.changeByRange(a3=>{let x2=s2.doc.lineAt(a3.from);if(x2.from==o3)return{range:a3};o3=x2.from;let C2=s2.toText((w2?O2.line(u2++).text:i2)+s2.lineBreak);return{changes:{from:x2.from,insert:C2},range:EditorSelection.cursor(a3.from+C2.length)}})}else a2=w2?s2.changeByRange(o3=>{let i3=O2.line(u2++);return{changes:{from:o3.from,to:o3.to,insert:i3.text},range:EditorSelection.cursor(o3.from+i3.length)}}):s2.replaceSelection(O2);o2.dispatch(a2,{userEvent:"input.paste",scrollIntoView:!0})}__name(doPaste,"doPaste");function rangeForClick(o2,i2,a2,s2){if(s2==1)return EditorSelection.cursor(i2,a2);if(s2==2)return __name(function(o3,i3,a3=1){let s3=o3.charCategorizer(i3),u2=o3.doc.lineAt(i3),O2=i3-u2.from;if(u2.length==0)return EditorSelection.cursor(i3);O2==0?a3=1:O2==u2.length&&(a3=-1);let w2=O2,x2=O2;a3<0?w2=findClusterBreak(u2.text,O2,!1):x2=findClusterBreak(u2.text,O2);let C2=s3(u2.text.slice(w2,x2));for(;w2>0;){let o4=findClusterBreak(u2.text,w2,!1);if(s3(u2.text.slice(o4,w2))!=C2)break;w2=o4}for(;x2<u2.length;){let o4=findClusterBreak(u2.text,x2);if(s3(u2.text.slice(x2,o4))!=C2)break;x2=o4}return EditorSelection.range(w2+u2.from,x2+u2.from)},"groupAt")(o2.state,i2,a2);{let a3=LineView.find(o2.docView,i2),s3=o2.state.doc.lineAt(a3?a3.posAtEnd:i2),u2=a3?a3.posAtStart:s3.from,O2=a3?a3.posAtEnd:s3.to;return O2<o2.state.doc.length&&O2==s3.to&&O2++,EditorSelection.range(u2,O2)}}__name(rangeForClick,"rangeForClick");Tl.scroll=o2=>{o2.inputState.lastScrollTop=o2.scrollDOM.scrollTop,o2.inputState.lastScrollLeft=o2.scrollDOM.scrollLeft},El.keydown=(o2,i2)=>(o2.inputState.setSelectionOrigin("select"),i2.keyCode==27&&o2.inputState.tabFocusMode!=0&&(o2.inputState.tabFocusMode=Date.now()+2e3),!1),Tl.touchstart=(o2,i2)=>{o2.inputState.lastTouchTime=Date.now(),o2.inputState.setSelectionOrigin("select.pointer")},Tl.touchmove=o2=>{o2.inputState.setSelectionOrigin("select.pointer")},El.mousedown=(o2,i2)=>{if(o2.observer.flush(),o2.inputState.lastTouchTime>Date.now()-2e3)return!1;let a2=null;for(let s2 of o2.state.facet($s))if(a2=s2(o2,i2),a2)break;if(a2||i2.button!=0||(a2=__name(function(o3,i3){let a3=queryPos(o3,i3),s2=getClickType(i3),u2=o3.state.selection;return{update(o4){o4.docChanged&&(a3.pos=o4.changes.mapPos(a3.pos),u2=u2.map(o4.changes))},get(i4,O2,w2){let x2,C2=queryPos(o3,i4),T2=rangeForClick(o3,C2.pos,C2.bias,s2);if(a3.pos!=C2.pos&&!O2){let i5=rangeForClick(o3,a3.pos,a3.bias,s2),u3=Math.min(i5.from,T2.from),O3=Math.max(i5.to,T2.to);T2=u3<T2.from?EditorSelection.range(u3,O3):EditorSelection.range(O3,u3)}return O2?u2.replaceRange(u2.main.extend(T2.from,T2.to)):w2&&s2==1&&u2.ranges.length>1&&(x2=__name(function(o4,i5){for(let a4=0;a4<o4.ranges.length;a4++){let{from:s3,to:u3}=o4.ranges[a4];if(s3<=i5&&u3>=i5)return EditorSelection.create(o4.ranges.slice(0,a4).concat(o4.ranges.slice(a4+1)),o4.mainIndex==a4?0:o4.mainIndex-(o4.mainIndex>a4?1:0))}return null},"removeRangeAround")(u2,C2.pos))?x2:w2?u2.addRange(T2):EditorSelection.create([T2])}}},"basicMouseSelection")(o2,i2)),a2){let s2=!o2.hasFocus;o2.inputState.startMouseSelection(new MouseSelection(o2,i2,a2,s2)),s2&&o2.observer.ignore(()=>{focusPreventScroll(o2.contentDOM);let i3=o2.root.activeElement;i3&&!i3.contains(o2.contentDOM)&&i3.blur()});let u2=o2.inputState.mouseSelection;if(u2)return u2.start(i2),u2.dragging===!1}return!1};let inside=__name((o2,i2,a2)=>i2>=a2.top&&i2<=a2.bottom&&o2>=a2.left&&o2<=a2.right,"inside");function findPositionSide(o2,i2,a2,s2){let u2=LineView.find(o2.docView,i2);if(!u2)return 1;let O2=i2-u2.posAtStart;if(O2==0)return 1;if(O2==u2.length)return-1;let w2=u2.coordsAt(O2,-1);if(w2&&inside(a2,s2,w2))return-1;let x2=u2.coordsAt(O2,1);return x2&&inside(a2,s2,x2)?1:w2&&w2.bottom>=s2?-1:1}__name(findPositionSide,"findPositionSide");function queryPos(o2,i2){let a2=o2.posAtCoords({x:i2.clientX,y:i2.clientY},!1);return{pos:a2,bias:findPositionSide(o2,a2,i2.clientX,i2.clientY)}}__name(queryPos,"queryPos");const Dl=xs.ie&&xs.ie_version<=11;let Il=null,Ml=0,_l=0;function getClickType(o2){if(!Dl)return o2.detail;let i2=Il,a2=_l;return Il=o2,_l=Date.now(),Ml=!i2||a2>Date.now()-400&&Math.abs(i2.clientX-o2.clientX)<2&&Math.abs(i2.clientY-o2.clientY)<2?(Ml+1)%3:1}__name(getClickType,"getClickType");function dropText(o2,i2,a2,s2){if(!(a2=textFilter(o2.state,js,a2)))return;let u2=o2.posAtCoords({x:i2.clientX,y:i2.clientY},!1),{draggedContent:O2}=o2.inputState,w2=s2&&O2&&__name(function(o3,i3){let a3=o3.state.facet(Ls);return a3.length?a3[0](i3):xs.mac?!i3.altKey:!i3.ctrlKey},"dragMovesSelection")(o2,i2)?{from:O2.from,to:O2.to}:null,x2={from:u2,insert:a2},C2=o2.state.changes(w2?[w2,x2]:x2);o2.focus(),o2.dispatch({changes:C2,selection:{anchor:C2.mapPos(u2,-1),head:C2.mapPos(u2,1)},userEvent:w2?"move.drop":"input.drop"}),o2.inputState.draggedContent=null}__name(dropText,"dropText");El.dragstart=(o2,i2)=>{let{selection:{main:a2}}=o2.state;if(i2.target.draggable){let s3=o2.docView.nearest(i2.target);if(s3&&s3.isWidget){let o3=s3.posAtStart,i3=o3+s3.length;(o3>=a2.to||i3<=a2.from)&&(a2=EditorSelection.range(o3,i3))}}let{inputState:s2}=o2;return s2.mouseSelection&&(s2.mouseSelection.dragging=!0),s2.draggedContent=a2,i2.dataTransfer&&(i2.dataTransfer.setData("Text",textFilter(o2.state,Ws,o2.state.sliceDoc(a2.from,a2.to))),i2.dataTransfer.effectAllowed="copyMove"),!1},El.dragend=o2=>(o2.inputState.draggedContent=null,!1),El.drop=(o2,i2)=>{if(!i2.dataTransfer)return!1;if(o2.state.readOnly)return!0;let a2=i2.dataTransfer.files;if(a2&&a2.length){let s2=Array(a2.length),u2=0,finishFile=__name(()=>{++u2==a2.length&&dropText(o2,i2,s2.filter(o3=>o3!=null).join(o2.state.lineBreak),!1)},"finishFile");for(let o3=0;o3<a2.length;o3++){let i3=new FileReader;i3.onerror=finishFile,i3.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(i3.result)||(s2[o3]=i3.result),finishFile()},i3.readAsText(a2[o3])}return!0}{let a3=i2.dataTransfer.getData("Text");if(a3)return dropText(o2,i2,a3,!0),!0}return!1},El.paste=(o2,i2)=>{if(o2.state.readOnly)return!0;o2.observer.flush();let a2=Rl?null:i2.clipboardData;return a2?(doPaste(o2,a2.getData("text/plain")||a2.getData("text/uri-list")),!0):(__name(function(o3){let i3=o3.dom.parentNode;if(!i3)return;let a3=i3.appendChild(document.createElement("textarea"));a3.style.cssText="position: fixed; left: -10000px; top: 10px",a3.focus(),setTimeout(()=>{o3.focus(),a3.remove(),doPaste(o3,a3.value)},50)},"capturePaste")(o2),!1)};let Al=null;El.copy=El.cut=(o2,i2)=>{let{text:a2,ranges:s2,linewise:u2}=__name(function(o3){let i3=[],a3=[],s3=!1;for(let s4 of o3.selection.ranges)s4.empty||(i3.push(o3.sliceDoc(s4.from,s4.to)),a3.push(s4));if(!i3.length){let u3=-1;for(let{from:s4}of o3.selection.ranges){let O3=o3.doc.lineAt(s4);O3.number>u3&&(i3.push(O3.text),a3.push({from:O3.from,to:Math.min(o3.doc.length,O3.to+1)})),u3=O3.number}s3=!0}return{text:textFilter(o3,Ws,i3.join(o3.lineBreak)),ranges:a3,linewise:s3}},"copiedRange")(o2.state);if(!a2&&!u2)return!1;Al=u2?a2:null,i2.type!="cut"||o2.state.readOnly||o2.dispatch({changes:s2,scrollIntoView:!0,userEvent:"delete.cut"});let O2=Rl?null:i2.clipboardData;return O2?(O2.clearData(),O2.setData("text/plain",a2),!0):(__name(function(o3,i3){let a3=o3.dom.parentNode;if(!a3)return;let s3=a3.appendChild(document.createElement("textarea"));s3.style.cssText="position: fixed; left: -10000px; top: 10px",s3.value=i3,s3.focus(),s3.selectionEnd=i3.length,s3.selectionStart=0,setTimeout(()=>{s3.remove(),o3.focus()},50)},"captureCopy")(o2,a2),!1)};const Ql=Annotation.define();function focusChangeTransaction(o2,i2){let a2=[];for(let s2 of o2.facet(zs)){let u2=s2(o2,i2);u2&&a2.push(u2)}return a2.length?o2.update({effects:a2,annotations:Ql.of(!0)}):null}__name(focusChangeTransaction,"focusChangeTransaction");function updateForFocusChange(o2){setTimeout(()=>{let i2=o2.hasFocus;if(i2!=o2.inputState.notifiedFocused){let a2=focusChangeTransaction(o2.state,i2);a2?o2.dispatch(a2):o2.update([])}},10)}__name(updateForFocusChange,"updateForFocusChange");Tl.focus=o2=>{o2.inputState.lastFocusTime=Date.now(),o2.scrollDOM.scrollTop||!o2.inputState.lastScrollTop&&!o2.inputState.lastScrollLeft||(o2.scrollDOM.scrollTop=o2.inputState.lastScrollTop,o2.scrollDOM.scrollLeft=o2.inputState.lastScrollLeft),updateForFocusChange(o2)},Tl.blur=o2=>{o2.observer.clearSelectionRange(),updateForFocusChange(o2)},Tl.compositionstart=Tl.compositionupdate=o2=>{o2.observer.editContext||(o2.inputState.compositionFirstChange==null&&(o2.inputState.compositionFirstChange=!0),o2.inputState.composing<0&&(o2.inputState.composing=0))},Tl.compositionend=o2=>{o2.observer.editContext||(o2.inputState.composing=-1,o2.inputState.compositionEndedAt=Date.now(),o2.inputState.compositionPendingKey=!0,o2.inputState.compositionPendingChange=o2.observer.pendingRecords().length>0,o2.inputState.compositionFirstChange=null,xs.chrome&&xs.android?o2.observer.flushSoon():o2.inputState.compositionPendingChange?Promise.resolve().then(()=>o2.observer.flush()):setTimeout(()=>{o2.inputState.composing<0&&o2.docView.hasComposition&&o2.update([])},50))},Tl.contextmenu=o2=>{o2.inputState.lastContextMenu=Date.now()},El.beforeinput=(o2,i2)=>{var a2,s2;if(i2.inputType=="insertReplacementText"&&o2.observer.editContext){let s3=(a2=i2.dataTransfer)===null||a2===void 0?void 0:a2.getData("text/plain"),u3=i2.getTargetRanges();if(s3&&u3.length){let i3=u3[0],a3=o2.posAtDOM(i3.startContainer,i3.startOffset),O2=o2.posAtDOM(i3.endContainer,i3.endOffset);return applyDOMChangeInner(o2,{from:a3,to:O2,insert:o2.state.toText(s3)},null),!0}}let u2;if(xs.chrome&&xs.android&&(u2=kl.find(o3=>o3.inputType==i2.inputType))&&(o2.observer.delayAndroidKey(u2.key,u2.keyCode),u2.key=="Backspace"||u2.key=="Delete")){let i3=((s2=window.visualViewport)===null||s2===void 0?void 0:s2.height)||0;setTimeout(()=>{var a3;(((a3=window.visualViewport)===null||a3===void 0?void 0:a3.height)||0)>i3+10&&o2.hasFocus&&(o2.contentDOM.blur(),o2.focus())},100)}return xs.ios&&i2.inputType=="deleteContentForward"&&o2.observer.flushSoon(),xs.safari&&i2.inputType=="insertText"&&o2.inputState.composing>=0&&setTimeout(()=>Tl.compositionend(o2,i2),20),!1};const Nl=new Set,Ll=["pre-wrap","normal","pre-line","break-spaces"];let $l=!1;function clearHeightChangeFlag(){$l=!1}__name(clearHeightChangeFlag,"clearHeightChangeFlag");const _HeightOracle=class _HeightOracle{constructor(o2){this.lineWrapping=o2,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(o2,i2){let a2=this.doc.lineAt(i2).number-this.doc.lineAt(o2).number+1;return this.lineWrapping&&(a2+=Math.max(0,Math.ceil((i2-o2-a2*this.lineLength*.5)/this.lineLength))),this.lineHeight*a2}heightForLine(o2){return this.lineWrapping?(1+Math.max(0,Math.ceil((o2-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(o2){return this.doc=o2,this}mustRefreshForWrapping(o2){return Ll.indexOf(o2)>-1!=this.lineWrapping}mustRefreshForHeights(o2){let i2=!1;for(let a2=0;a2<o2.length;a2++){let s2=o2[a2];s2<0?a2++:this.heightSamples[Math.floor(10*s2)]||(i2=!0,this.heightSamples[Math.floor(10*s2)]=!0)}return i2}refresh(o2,i2,a2,s2,u2,O2){let w2=Ll.indexOf(o2)>-1,x2=Math.round(i2)!=Math.round(this.lineHeight)||this.lineWrapping!=w2;if(this.lineWrapping=w2,this.lineHeight=i2,this.charWidth=a2,this.textHeight=s2,this.lineLength=u2,x2){this.heightSamples={};for(let o3=0;o3<O2.length;o3++){let i3=O2[o3];i3<0?o3++:this.heightSamples[Math.floor(10*i3)]=!0}}return x2}};__name(_HeightOracle,"HeightOracle");let HeightOracle=_HeightOracle;const _MeasuredHeights=class _MeasuredHeights{constructor(o2,i2){this.from=o2,this.heights=i2,this.index=0}get more(){return this.index<this.heights.length}};__name(_MeasuredHeights,"MeasuredHeights");let MeasuredHeights=_MeasuredHeights;const _BlockInfo=class _BlockInfo{constructor(o2,i2,a2,s2,u2){this.from=o2,this.length=i2,this.top=a2,this.height=s2,this._content=u2}get type(){return typeof this._content=="number"?Cs.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(o2){let i2=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(o2._content)?o2._content:[o2]);return new _BlockInfo(this.from,this.length+o2.length,this.top,this.height+o2.height,i2)}};__name(_BlockInfo,"BlockInfo");let BlockInfo=_BlockInfo;var Fl=function(o2){return o2[o2.ByPos=0]="ByPos",o2[o2.ByHeight=1]="ByHeight",o2[o2.ByPosNoHeight=2]="ByPosNoHeight",o2}(Fl||(Fl={}));const Bl=.001,_HeightMap=class _HeightMap{constructor(o2,i2,a2=2){this.length=o2,this.height=i2,this.flags=a2}get outdated(){return(2&this.flags)>0}set outdated(o2){this.flags=(o2?2:0)|-3&this.flags}setHeight(o2){this.height!=o2&&(Math.abs(this.height-o2)>Bl&&($l=!0),this.height=o2)}replace(o2,i2,a2){return _HeightMap.of(a2)}decomposeLeft(o2,i2){i2.push(this)}decomposeRight(o2,i2){i2.push(this)}applyChanges(o2,i2,a2,s2){let u2=this,O2=a2.doc;for(let w2=s2.length-1;w2>=0;w2--){let{fromA:x2,toA:C2,fromB:T2,toB:_2}=s2[w2],A2=u2.lineAt(x2,Fl.ByPosNoHeight,a2.setDoc(i2),0,0),Q2=A2.to>=C2?A2:u2.lineAt(C2,Fl.ByPosNoHeight,a2,0,0);for(_2+=Q2.to-C2,C2=Q2.to;w2>0&&A2.from<=s2[w2-1].toA;)x2=s2[w2-1].fromA,T2=s2[w2-1].fromB,w2--,x2<A2.from&&(A2=u2.lineAt(x2,Fl.ByPosNoHeight,a2,0,0));T2+=A2.from-x2,x2=A2.from;let N2=NodeBuilder.build(a2.setDoc(O2),o2,T2,_2);u2=replace(u2,u2.replace(x2,C2,N2))}return u2.updateHeight(a2,0)}static empty(){return new HeightMapText(0,0)}static of(o2){if(o2.length==1)return o2[0];let i2=0,a2=o2.length,s2=0,u2=0;for(;;)if(i2==a2)if(s2>2*u2){let u3=o2[i2-1];u3.break?o2.splice(--i2,1,u3.left,null,u3.right):o2.splice(--i2,1,u3.left,u3.right),a2+=1+u3.break,s2-=u3.size}else{if(!(u2>2*s2))break;{let i3=o2[a2];i3.break?o2.splice(a2,1,i3.left,null,i3.right):o2.splice(a2,1,i3.left,i3.right),a2+=2+i3.break,u2-=i3.size}}else if(s2<u2){let a3=o2[i2++];a3&&(s2+=a3.size)}else{let i3=o2[--a2];i3&&(u2+=i3.size)}let O2=0;return o2[i2-1]==null?(O2=1,i2--):o2[i2]==null&&(O2=1,a2++),new HeightMapBranch(_HeightMap.of(o2.slice(0,i2)),O2,_HeightMap.of(o2.slice(a2)))}};__name(_HeightMap,"HeightMap");let HeightMap=_HeightMap;function replace(o2,i2){return o2==i2?o2:(o2.constructor!=i2.constructor&&($l=!0),i2)}__name(replace,"replace");HeightMap.prototype.size=1;const _HeightMapBlock=class _HeightMapBlock extends HeightMap{constructor(o2,i2,a2){super(o2,i2),this.deco=a2}blockAt(o2,i2,a2,s2){return new BlockInfo(s2,this.length,a2,this.height,this.deco||0)}lineAt(o2,i2,a2,s2,u2){return this.blockAt(0,a2,s2,u2)}forEachLine(o2,i2,a2,s2,u2,O2){o2<=u2+this.length&&i2>=u2&&O2(this.blockAt(0,a2,s2,u2))}updateHeight(o2,i2=0,a2=!1,s2){return s2&&s2.from<=i2&&s2.more&&this.setHeight(s2.heights[s2.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}};__name(_HeightMapBlock,"HeightMapBlock");let HeightMapBlock=_HeightMapBlock;const _HeightMapText=class _HeightMapText extends HeightMapBlock{constructor(o2,i2){super(o2,i2,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(o2,i2,a2,s2){return new BlockInfo(s2,this.length,a2,this.height,this.breaks)}replace(o2,i2,a2){let s2=a2[0];return a2.length==1&&(s2 instanceof _HeightMapText||s2 instanceof HeightMapGap&&4&s2.flags)&&Math.abs(this.length-s2.length)<10?(s2 instanceof HeightMapGap?s2=new _HeightMapText(s2.length,this.height):s2.height=this.height,this.outdated||(s2.outdated=!1),s2):HeightMap.of(a2)}updateHeight(o2,i2=0,a2=!1,s2){return s2&&s2.from<=i2&&s2.more?this.setHeight(s2.heights[s2.index++]):(a2||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,o2.heightForLine(this.length-this.collapsed))+this.breaks*o2.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}};__name(_HeightMapText,"HeightMapText");let HeightMapText=_HeightMapText;const _HeightMapGap=class _HeightMapGap extends HeightMap{constructor(o2){super(o2,0)}heightMetrics(o2,i2){let a2,s2=o2.doc.lineAt(i2).number,u2=o2.doc.lineAt(i2+this.length).number,O2=u2-s2+1,w2=0;if(o2.lineWrapping){let i3=Math.min(this.height,o2.lineHeight*O2);a2=i3/O2,this.length>O2+1&&(w2=(this.height-i3)/(this.length-O2-1))}else a2=this.height/O2;return{firstLine:s2,lastLine:u2,perLine:a2,perChar:w2}}blockAt(o2,i2,a2,s2){let{firstLine:u2,lastLine:O2,perLine:w2,perChar:x2}=this.heightMetrics(i2,s2);if(i2.lineWrapping){let u3=s2+(o2<i2.lineHeight?0:Math.round(Math.max(0,Math.min(1,(o2-a2)/this.height))*this.length)),O3=i2.doc.lineAt(u3),C2=w2+O3.length*x2,T2=Math.max(a2,o2-C2/2);return new BlockInfo(O3.from,O3.length,T2,C2,0)}{let s3=Math.max(0,Math.min(O2-u2,Math.floor((o2-a2)/w2))),{from:x3,length:C2}=i2.doc.line(u2+s3);return new BlockInfo(x3,C2,a2+w2*s3,w2,0)}}lineAt(o2,i2,a2,s2,u2){if(i2==Fl.ByHeight)return this.blockAt(o2,a2,s2,u2);if(i2==Fl.ByPosNoHeight){let{from:i3,to:s3}=a2.doc.lineAt(o2);return new BlockInfo(i3,s3-i3,0,0,0)}let{firstLine:O2,perLine:w2,perChar:x2}=this.heightMetrics(a2,u2),C2=a2.doc.lineAt(o2),T2=w2+C2.length*x2,_2=C2.number-O2,A2=s2+w2*_2+x2*(C2.from-u2-_2);return new BlockInfo(C2.from,C2.length,Math.max(s2,Math.min(A2,s2+this.height-T2)),T2,0)}forEachLine(o2,i2,a2,s2,u2,O2){o2=Math.max(o2,u2),i2=Math.min(i2,u2+this.length);let{firstLine:w2,perLine:x2,perChar:C2}=this.heightMetrics(a2,u2);for(let T2=o2,_2=s2;T2<=i2;){let i3=a2.doc.lineAt(T2);if(T2==o2){let a3=i3.number-w2;_2+=x2*a3+C2*(o2-u2-a3)}let s3=x2+C2*i3.length;O2(new BlockInfo(i3.from,i3.length,_2,s3,0)),_2+=s3,T2=i3.to+1}}replace(o2,i2,a2){let s2=this.length-i2;if(s2>0){let o3=a2[a2.length-1];o3 instanceof _HeightMapGap?a2[a2.length-1]=new _HeightMapGap(o3.length+s2):a2.push(null,new _HeightMapGap(s2-1))}if(o2>0){let i3=a2[0];i3 instanceof _HeightMapGap?a2[0]=new _HeightMapGap(o2+i3.length):a2.unshift(new _HeightMapGap(o2-1),null)}return HeightMap.of(a2)}decomposeLeft(o2,i2){i2.push(new _HeightMapGap(o2-1),null)}decomposeRight(o2,i2){i2.push(null,new _HeightMapGap(this.length-o2-1))}updateHeight(o2,i2=0,a2=!1,s2){let u2=i2+this.length;if(s2&&s2.from<=i2+this.length&&s2.more){let a3=[],O2=Math.max(i2,s2.from),w2=-1;for(s2.from>i2&&a3.push(new _HeightMapGap(s2.from-i2-1).updateHeight(o2,i2));O2<=u2&&s2.more;){let i3=o2.doc.lineAt(O2).length;a3.length&&a3.push(null);let u3=s2.heights[s2.index++];w2==-1?w2=u3:Math.abs(u3-w2)>=Bl&&(w2=-2);let x3=new HeightMapText(i3,u3);x3.outdated=!1,a3.push(x3),O2+=i3+1}O2<=u2&&a3.push(null,new _HeightMapGap(u2-O2).updateHeight(o2,O2));let x2=HeightMap.of(a3);return(w2<0||Math.abs(x2.height-this.height)>=Bl||Math.abs(w2-this.heightMetrics(o2,i2).perLine)>=Bl)&&($l=!0),replace(this,x2)}return(a2||this.outdated)&&(this.setHeight(o2.heightForGap(i2,i2+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}};__name(_HeightMapGap,"HeightMapGap");let HeightMapGap=_HeightMapGap;const _HeightMapBranch=class _HeightMapBranch extends HeightMap{constructor(o2,i2,a2){super(o2.length+i2+a2.length,o2.height+a2.height,i2|(o2.outdated||a2.outdated?2:0)),this.left=o2,this.right=a2,this.size=o2.size+a2.size}get break(){return 1&this.flags}blockAt(o2,i2,a2,s2){let u2=a2+this.left.height;return o2<u2?this.left.blockAt(o2,i2,a2,s2):this.right.blockAt(o2,i2,u2,s2+this.left.length+this.break)}lineAt(o2,i2,a2,s2,u2){let O2=s2+this.left.height,w2=u2+this.left.length+this.break,x2=i2==Fl.ByHeight?o2<O2:o2<w2,C2=x2?this.left.lineAt(o2,i2,a2,s2,u2):this.right.lineAt(o2,i2,a2,O2,w2);if(this.break||(x2?C2.to<w2:C2.from>w2))return C2;let T2=i2==Fl.ByPosNoHeight?Fl.ByPosNoHeight:Fl.ByPos;return x2?C2.join(this.right.lineAt(w2,T2,a2,O2,w2)):this.left.lineAt(w2,T2,a2,s2,u2).join(C2)}forEachLine(o2,i2,a2,s2,u2,O2){let w2=s2+this.left.height,x2=u2+this.left.length+this.break;if(this.break)o2<x2&&this.left.forEachLine(o2,i2,a2,s2,u2,O2),i2>=x2&&this.right.forEachLine(o2,i2,a2,w2,x2,O2);else{let C2=this.lineAt(x2,Fl.ByPos,a2,s2,u2);o2<C2.from&&this.left.forEachLine(o2,C2.from-1,a2,s2,u2,O2),C2.to>=o2&&C2.from<=i2&&O2(C2),i2>C2.to&&this.right.forEachLine(C2.to+1,i2,a2,w2,x2,O2)}}replace(o2,i2,a2){let s2=this.left.length+this.break;if(i2<s2)return this.balanced(this.left.replace(o2,i2,a2),this.right);if(o2>this.left.length)return this.balanced(this.left,this.right.replace(o2-s2,i2-s2,a2));let u2=[];o2>0&&this.decomposeLeft(o2,u2);let O2=u2.length;for(let o3 of a2)u2.push(o3);if(o2>0&&mergeGaps(u2,O2-1),i2<this.length){let o3=u2.length;this.decomposeRight(i2,u2),mergeGaps(u2,o3)}return HeightMap.of(u2)}decomposeLeft(o2,i2){let a2=this.left.length;if(o2<=a2)return this.left.decomposeLeft(o2,i2);i2.push(this.left),this.break&&(a2++,o2>=a2&&i2.push(null)),o2>a2&&this.right.decomposeLeft(o2-a2,i2)}decomposeRight(o2,i2){let a2=this.left.length,s2=a2+this.break;if(o2>=s2)return this.right.decomposeRight(o2-s2,i2);o2<a2&&this.left.decomposeRight(o2,i2),this.break&&o2<s2&&i2.push(null),i2.push(this.right)}balanced(o2,i2){return o2.size>2*i2.size||i2.size>2*o2.size?HeightMap.of(this.break?[o2,null,i2]:[o2,i2]):(this.left=replace(this.left,o2),this.right=replace(this.right,i2),this.setHeight(o2.height+i2.height),this.outdated=o2.outdated||i2.outdated,this.size=o2.size+i2.size,this.length=o2.length+this.break+i2.length,this)}updateHeight(o2,i2=0,a2=!1,s2){let{left:u2,right:O2}=this,w2=i2+u2.length+this.break,x2=null;return s2&&s2.from<=i2+u2.length&&s2.more?x2=u2=u2.updateHeight(o2,i2,a2,s2):u2.updateHeight(o2,i2,a2),s2&&s2.from<=w2+O2.length&&s2.more?x2=O2=O2.updateHeight(o2,w2,a2,s2):O2.updateHeight(o2,w2,a2),x2?this.balanced(u2,O2):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};__name(_HeightMapBranch,"HeightMapBranch");let HeightMapBranch=_HeightMapBranch;function mergeGaps(o2,i2){let a2,s2;o2[i2]==null&&(a2=o2[i2-1])instanceof HeightMapGap&&(s2=o2[i2+1])instanceof HeightMapGap&&o2.splice(i2-1,3,new HeightMapGap(a2.length+1+s2.length))}__name(mergeGaps,"mergeGaps");const _NodeBuilder=class _NodeBuilder{constructor(o2,i2){this.pos=o2,this.oracle=i2,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=o2}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(o2,i2){if(this.lineStart>-1){let o3=Math.min(i2,this.lineEnd),a2=this.nodes[this.nodes.length-1];a2 instanceof HeightMapText?a2.length+=o3-this.pos:(o3>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(o3-this.pos,-1)),this.writtenTo=o3,i2>o3&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=i2}point(o2,i2,a2){if(o2<i2||a2.heightRelevant){let s2=a2.widget?a2.widget.estimatedHeight:0,u2=a2.widget?a2.widget.lineBreaks:0;s2<0&&(s2=this.oracle.lineHeight);let O2=i2-o2;a2.block?this.addBlock(new HeightMapBlock(O2,s2,a2)):(O2||u2||s2>=5)&&this.addLineDeco(s2,u2,O2)}else i2>o2&&this.span(o2,i2);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:o2,to:i2}=this.oracle.doc.lineAt(this.pos);this.lineStart=o2,this.lineEnd=i2,this.writtenTo<o2&&((this.writtenTo<o2-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,o2-1)),this.nodes.push(null)),this.pos>o2&&this.nodes.push(new HeightMapText(this.pos-o2,-1)),this.writtenTo=this.pos}blankContent(o2,i2){let a2=new HeightMapGap(i2-o2);return this.oracle.doc.lineAt(o2).to==i2&&(a2.flags|=4),a2}ensureLine(){this.enterLine();let o2=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(o2 instanceof HeightMapText)return o2;let i2=new HeightMapText(0,-1);return this.nodes.push(i2),i2}addBlock(o2){this.enterLine();let i2=o2.deco;i2&&i2.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(o2),this.writtenTo=this.pos=this.pos+o2.length,i2&&i2.endSide>0&&(this.covering=o2)}addLineDeco(o2,i2,a2){let s2=this.ensureLine();s2.length+=a2,s2.collapsed+=a2,s2.widgetHeight=Math.max(s2.widgetHeight,o2),s2.breaks+=i2,this.writtenTo=this.pos=this.pos+a2}finish(o2){let i2=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||i2 instanceof HeightMapText||this.isCovered?(this.writtenTo<this.pos||i2==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new HeightMapText(0,-1));let a2=o2;for(let o3 of this.nodes)o3 instanceof HeightMapText&&o3.updateHeight(this.oracle,a2),a2+=o3?o3.length:1;return this.nodes}static build(o2,i2,a2,s2){let u2=new _NodeBuilder(a2,o2);return RangeSet.spans(i2,a2,s2,u2,0),u2.finish(a2)}};__name(_NodeBuilder,"NodeBuilder");let NodeBuilder=_NodeBuilder;const _DecorationComparator2=class _DecorationComparator2{constructor(){this.changes=[]}compareRange(){}comparePoint(o2,i2,a2,s2){(o2<i2||a2&&a2.heightRelevant||s2&&s2.heightRelevant)&&addRange(o2,i2,this.changes,5)}};__name(_DecorationComparator2,"DecorationComparator2");let DecorationComparator2=_DecorationComparator2;function visiblePixelRange(o2,i2){let a2=o2.getBoundingClientRect(),s2=o2.ownerDocument,u2=s2.defaultView||window,O2=Math.max(0,a2.left),w2=Math.min(u2.innerWidth,a2.right),x2=Math.max(0,a2.top),C2=Math.min(u2.innerHeight,a2.bottom);for(let i3=o2.parentNode;i3&&i3!=s2.body;)if(i3.nodeType==1){let a3=i3,s3=window.getComputedStyle(a3);if((a3.scrollHeight>a3.clientHeight||a3.scrollWidth>a3.clientWidth)&&s3.overflow!="visible"){let s4=a3.getBoundingClientRect();O2=Math.max(O2,s4.left),w2=Math.min(w2,s4.right),x2=Math.max(x2,s4.top),C2=Math.min(i3==o2.parentNode?u2.innerHeight:C2,s4.bottom)}i3=s3.position=="absolute"||s3.position=="fixed"?a3.offsetParent:a3.parentNode}else{if(i3.nodeType!=11)break;i3=i3.host}return{left:O2-a2.left,right:Math.max(O2,w2)-a2.left,top:x2-(a2.top+i2),bottom:Math.max(x2,C2)-(a2.top+i2)}}__name(visiblePixelRange,"visiblePixelRange");function fullPixelRange(o2,i2){let a2=o2.getBoundingClientRect();return{left:0,right:a2.right-a2.left,top:i2,bottom:a2.bottom-(a2.top+i2)}}__name(fullPixelRange,"fullPixelRange");const _LineGap=class _LineGap{constructor(o2,i2,a2,s2){this.from=o2,this.to=i2,this.size=a2,this.displaySize=s2}static same(o2,i2){if(o2.length!=i2.length)return!1;for(let a2=0;a2<o2.length;a2++){let s2=o2[a2],u2=i2[a2];if(s2.from!=u2.from||s2.to!=u2.to||s2.size!=u2.size)return!1}return!0}draw(o2,i2){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(i2?o2.scaleY:o2.scaleX),i2)}).range(this.from,this.to)}};__name(_LineGap,"LineGap");let LineGap=_LineGap;const _LineGapWidget=class _LineGapWidget extends WidgetType{constructor(o2,i2){super(),this.size=o2,this.vertical=i2}eq(o2){return o2.size==this.size&&o2.vertical==this.vertical}toDOM(){let o2=document.createElement("div");return this.vertical?o2.style.height=this.size+"px":(o2.style.width=this.size+"px",o2.style.height="2px",o2.style.display="inline-block"),o2}get estimatedHeight(){return this.vertical?this.size:-1}};__name(_LineGapWidget,"LineGapWidget");let LineGapWidget=_LineGapWidget;const _ViewState=class _ViewState{constructor(o2){this.state=o2,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Vl,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Ps.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let i2=o2.facet(tl).some(o3=>typeof o3!="function"&&o3.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(i2),this.stateDeco=o2.facet(sl).filter(o3=>typeof o3!="function"),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(o2.doc),[new ChangedRange(0,0,0,o2.doc.length)]);for(let o3=0;o3<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());o3++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(o3=>o3.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let o2=[this.viewport],{main:i2}=this.state.selection;for(let a2=0;a2<=1;a2++){let s2=a2?i2.head:i2.anchor;if(!o2.some(({from:o3,to:i3})=>s2>=o3&&s2<=i3)){let{from:i3,to:a3}=this.lineBlockAt(s2);o2.push(new Viewport(i3,a3))}}return this.viewports=o2.sort((o3,i3)=>o3.from-i3.from),this.updateScaler()}updateScaler(){let o2=this.scaler;return this.scaler=this.heightMap.height<=7e6?Vl:new BigScaler(this.heightOracle,this.heightMap,this.viewports),o2.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,o2=>{this.viewportLines.push(scaleBlock(o2,this.scaler))})}update(o2,i2=null){this.state=o2.state;let a2=this.stateDeco;this.stateDeco=this.state.facet(sl).filter(o3=>typeof o3!="function");let s2=o2.changedRanges,u2=ChangedRange.extendWithRanges(s2,__name(function(o3,i3,a3){let s3=new DecorationComparator2;return RangeSet.compare(o3,i3,a3,s3,0),s3.changes},"heightRelevantDecoChanges")(a2,this.stateDeco,o2?o2.changes:ChangeSet.empty(this.state.doc.length))),O2=this.heightMap.height,w2=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,o2.startState.doc,this.heightOracle.setDoc(this.state.doc),u2),(this.heightMap.height!=O2||$l)&&(o2.flags|=2),w2?(this.scrollAnchorPos=o2.changes.mapPos(w2.from,-1),this.scrollAnchorHeight=w2.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=O2);let x2=u2.length?this.mapViewport(this.viewport,o2.changes):this.viewport;(i2&&(i2.range.head<x2.from||i2.range.head>x2.to)||!this.viewportIsAppropriate(x2))&&(x2=this.getViewport(0,i2));let C2=x2.from!=this.viewport.from||x2.to!=this.viewport.to;this.viewport=x2,o2.flags|=this.updateForViewport(),(C2||!o2.changes.empty||2&o2.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,o2.changes))),o2.flags|=this.computeVisibleRanges(o2.changes),i2&&(this.scrollTarget=i2),!this.mustEnforceCursorAssoc&&o2.selectionSet&&o2.view.lineWrapping&&o2.state.selection.main.empty&&o2.state.selection.main.assoc&&!o2.state.facet(Us)&&(this.mustEnforceCursorAssoc=!0)}measure(o2){let i2=o2.contentDOM,a2=window.getComputedStyle(i2),s2=this.heightOracle,u2=a2.whiteSpace;this.defaultTextDirection=a2.direction=="rtl"?Ps.RTL:Ps.LTR;let O2=this.heightOracle.mustRefreshForWrapping(u2),w2=i2.getBoundingClientRect(),x2=O2||this.mustMeasureContent||this.contentDOMHeight!=w2.height;this.contentDOMHeight=w2.height,this.mustMeasureContent=!1;let C2=0,T2=0;if(w2.width&&w2.height){let{scaleX:o3,scaleY:a3}=getScale(i2,w2);(o3>.005&&Math.abs(this.scaleX-o3)>.005||a3>.005&&Math.abs(this.scaleY-a3)>.005)&&(this.scaleX=o3,this.scaleY=a3,C2|=16,O2=x2=!0)}let _2=(parseInt(a2.paddingTop)||0)*this.scaleY,A2=(parseInt(a2.paddingBottom)||0)*this.scaleY;this.paddingTop==_2&&this.paddingBottom==A2||(this.paddingTop=_2,this.paddingBottom=A2,C2|=18),this.editorWidth!=o2.scrollDOM.clientWidth&&(s2.lineWrapping&&(x2=!0),this.editorWidth=o2.scrollDOM.clientWidth,C2|=16);let Q2=o2.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=Q2&&(this.scrollAnchorHeight=-1,this.scrollTop=Q2),this.scrolledToBottom=isScrolledToBottom(o2.scrollDOM);let N2=(this.printing?fullPixelRange:visiblePixelRange)(i2,this.paddingTop),L2=N2.top-this.pixelViewport.top,$2=N2.bottom-this.pixelViewport.bottom;this.pixelViewport=N2;let F2=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(F2!=this.inView&&(this.inView=F2,F2&&(x2=!0)),!this.inView&&!this.scrollTarget&&!__name(function(o3){let i3=o3.getBoundingClientRect(),a3=o3.ownerDocument.defaultView||window;return i3.left<a3.innerWidth&&i3.right>0&&i3.top<a3.innerHeight&&i3.bottom>0},"inWindow")(o2.dom))return 0;let B2=w2.width;if(this.contentDOMWidth==B2&&this.editorHeight==o2.scrollDOM.clientHeight||(this.contentDOMWidth=w2.width,this.editorHeight=o2.scrollDOM.clientHeight,C2|=16),x2){let i3=o2.docView.measureVisibleLineHeights(this.viewport);if(s2.mustRefreshForHeights(i3)&&(O2=!0),O2||s2.lineWrapping&&Math.abs(B2-this.contentDOMWidth)>s2.charWidth){let{lineHeight:a3,charWidth:w3,textHeight:x3}=o2.docView.measureTextSize();O2=a3>0&&s2.refresh(u2,a3,w3,x3,B2/w3,i3),O2&&(o2.docView.minWidth=0,C2|=16)}L2>0&&$2>0?T2=Math.max(L2,$2):L2<0&&$2<0&&(T2=Math.min(L2,$2)),clearHeightChangeFlag();for(let a3 of this.viewports){let u3=a3.from==this.viewport.from?i3:o2.docView.measureVisibleLineHeights(a3);this.heightMap=(O2?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,o2.state.doc.length)]):this.heightMap).updateHeight(s2,0,O2,new MeasuredHeights(a3.from,u3))}$l&&(C2|=2)}let V2=!this.viewportIsAppropriate(this.viewport,T2)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return V2&&(2&C2&&(C2|=this.updateScaler()),this.viewport=this.getViewport(T2,this.scrollTarget),C2|=this.updateForViewport()),(2&C2||V2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(O2?[]:this.lineGaps,o2)),C2|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,o2.docView.enforceCursorAssoc()),C2}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(o2,i2){let a2=.5-Math.max(-.5,Math.min(.5,o2/1e3/2)),s2=this.heightMap,u2=this.heightOracle,{visibleTop:O2,visibleBottom:w2}=this,x2=new Viewport(s2.lineAt(O2-1e3*a2,Fl.ByHeight,u2,0,0).from,s2.lineAt(w2+1e3*(1-a2),Fl.ByHeight,u2,0,0).to);if(i2){let{head:o3}=i2.range;if(o3<x2.from||o3>x2.to){let a3,O3=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),w3=s2.lineAt(o3,Fl.ByPos,u2,0,0);a3=i2.y=="center"?(w3.top+w3.bottom)/2-O3/2:i2.y=="start"||i2.y=="nearest"&&o3<x2.from?w3.top:w3.bottom-O3,x2=new Viewport(s2.lineAt(a3-500,Fl.ByHeight,u2,0,0).from,s2.lineAt(a3+O3+500,Fl.ByHeight,u2,0,0).to)}}return x2}mapViewport(o2,i2){let a2=i2.mapPos(o2.from,-1),s2=i2.mapPos(o2.to,1);return new Viewport(this.heightMap.lineAt(a2,Fl.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(s2,Fl.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:o2,to:i2},a2=0){if(!this.inView)return!0;let{top:s2}=this.heightMap.lineAt(o2,Fl.ByPos,this.heightOracle,0,0),{bottom:u2}=this.heightMap.lineAt(i2,Fl.ByPos,this.heightOracle,0,0),{visibleTop:O2,visibleBottom:w2}=this;return(o2==0||s2<=O2-Math.max(10,Math.min(-a2,250)))&&(i2==this.state.doc.length||u2>=w2+Math.max(10,Math.min(a2,250)))&&s2>O2-2e3&&u2<w2+2e3}mapLineGaps(o2,i2){if(!o2.length||i2.empty)return o2;let a2=[];for(let s2 of o2)i2.touchesRange(s2.from,s2.to)||a2.push(new LineGap(i2.mapPos(s2.from),i2.mapPos(s2.to),s2.size,s2.displaySize));return a2}ensureLineGaps(o2,i2){let a2=this.heightOracle.lineWrapping,s2=a2?1e4:2e3,u2=s2>>1,O2=s2<<1;if(this.defaultTextDirection!=Ps.LTR&&!a2)return[];let w2=[],addGap=__name((s3,O3,x2,C2)=>{if(O3-s3<u2)return;let T2=this.state.selection.main,_2=[T2.from];T2.empty||_2.push(T2.to);for(let o3 of _2)if(o3>s3&&o3<O3)return addGap(s3,o3-10,x2,C2),void addGap(o3+10,O3,x2,C2);let A2=__name(function(o3,i3){for(let a3 of o3)if(i3(a3))return a3},"find")(o2,o3=>o3.from>=x2.from&&o3.to<=x2.to&&Math.abs(o3.from-s3)<u2&&Math.abs(o3.to-O3)<u2&&!_2.some(i3=>o3.from<i3&&o3.to>i3));if(!A2){if(O3<x2.to&&i2&&a2&&i2.visibleRanges.some(o4=>o4.from<=O3&&o4.to>=O3)){let o4=i2.moveToLineBoundary(EditorSelection.cursor(O3),!1,!0).head;o4>s3&&(O3=o4)}let o3=this.gapSize(x2,s3,O3,C2);A2=new LineGap(s3,O3,o3,a2||o3<2e6?o3:2e6)}w2.push(A2)},"addGap"),checkLine=__name(i3=>{if(i3.length<O2||i3.type!=Cs.Text)return;let u3=__name(function(o3,i4,a3){let s3=[],u4=o3,O3=0;return RangeSet.spans(a3,o3,i4,{span(){},point(o4,i5){o4>u4&&(s3.push({from:u4,to:o4}),O3+=o4-u4),u4=i5}},20),u4<i4&&(s3.push({from:u4,to:i4}),O3+=i4-u4),{total:O3,ranges:s3}},"lineStructure")(i3.from,i3.to,this.stateDeco);if(u3.total<O2)return;let w3,x2,C2=this.scrollTarget?this.scrollTarget.range.head:null;if(a2){let o3,a3,O3=s2/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(C2!=null){let s3=findFraction(u3,C2),w4=((this.visibleBottom-this.visibleTop)/2+O3)/i3.height;o3=s3-w4,a3=s3+w4}else o3=(this.visibleTop-i3.top-O3)/i3.height,a3=(this.visibleBottom-i3.top+O3)/i3.height;w3=findPosition(u3,o3),x2=findPosition(u3,a3)}else{let a3=u3.total*this.heightOracle.charWidth,O3=s2*this.heightOracle.charWidth,T2=0;if(a3>2e6)for(let a4 of o2)a4.from>=i3.from&&a4.from<i3.to&&a4.size!=a4.displaySize&&a4.from*this.heightOracle.charWidth+T2<this.pixelViewport.left&&(T2=a4.size-a4.displaySize);let _2,A2,Q2=this.pixelViewport.left+T2,N2=this.pixelViewport.right+T2;if(C2!=null){let o3=findFraction(u3,C2),i4=((N2-Q2)/2+O3)/a3;_2=o3-i4,A2=o3+i4}else _2=(Q2-O3)/a3,A2=(N2+O3)/a3;w3=findPosition(u3,_2),x2=findPosition(u3,A2)}w3>i3.from&&addGap(i3.from,w3,i3,u3),x2<i3.to&&addGap(x2,i3.to,i3,u3)},"checkLine");for(let o3 of this.viewportLines)Array.isArray(o3.type)?o3.type.forEach(checkLine):checkLine(o3);return w2}gapSize(o2,i2,a2,s2){let u2=findFraction(s2,a2)-findFraction(s2,i2);return this.heightOracle.lineWrapping?o2.height*u2:s2.total*this.heightOracle.charWidth*u2}updateLineGaps(o2){LineGap.same(o2,this.lineGaps)||(this.lineGaps=o2,this.lineGapDeco=Decoration.set(o2.map(o3=>o3.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(o2){let i2=this.stateDeco;this.lineGaps.length&&(i2=i2.concat(this.lineGapDeco));let a2=[];RangeSet.spans(i2,this.viewport.from,this.viewport.to,{span(o3,i3){a2.push({from:o3,to:i3})},point(){}},20);let s2=0;if(a2.length!=this.visibleRanges.length)s2=12;else for(let i3=0;i3<a2.length&&!(8&s2);i3++){let u2=this.visibleRanges[i3],O2=a2[i3];u2.from==O2.from&&u2.to==O2.to||(s2|=4,o2&&o2.mapPos(u2.from,-1)==O2.from&&o2.mapPos(u2.to,1)==O2.to||(s2|=8))}return this.visibleRanges=a2,s2}lineBlockAt(o2){return o2>=this.viewport.from&&o2<=this.viewport.to&&this.viewportLines.find(i2=>i2.from<=o2&&i2.to>=o2)||scaleBlock(this.heightMap.lineAt(o2,Fl.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(o2){return o2>=this.viewportLines[0].top&&o2<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(i2=>i2.top<=o2&&i2.bottom>=o2)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(o2),Fl.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(o2){let i2=this.lineBlockAtHeight(o2+8);return i2.from>=this.viewport.from||this.viewportLines[0].top-o2>200?i2:this.viewportLines[0]}elementAtHeight(o2){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(o2),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}};__name(_ViewState,"ViewState");let ViewState=_ViewState;const _Viewport=class _Viewport{constructor(o2,i2){this.from=o2,this.to=i2}};__name(_Viewport,"Viewport");let Viewport=_Viewport;function findPosition({total:o2,ranges:i2},a2){if(a2<=0)return i2[0].from;if(a2>=1)return i2[i2.length-1].to;let s2=Math.floor(o2*a2);for(let o3=0;;o3++){let{from:a3,to:u2}=i2[o3],O2=u2-a3;if(s2<=O2)return a3+s2;s2-=O2}}__name(findPosition,"findPosition");function findFraction(o2,i2){let a2=0;for(let{from:s2,to:u2}of o2.ranges){if(i2<=u2){a2+=i2-s2;break}a2+=u2-s2}return a2/o2.total}__name(findFraction,"findFraction");const Vl={toDOM:__name(o2=>o2,"toDOM"),fromDOM:__name(o2=>o2,"fromDOM"),scale:1,eq(o2){return o2==this}},_BigScaler=class _BigScaler{constructor(o2,i2,a2){let s2=0,u2=0,O2=0;this.viewports=a2.map(({from:a3,to:u3})=>{let O3=i2.lineAt(a3,Fl.ByPos,o2,0,0).top,w2=i2.lineAt(u3,Fl.ByPos,o2,0,0).bottom;return s2+=w2-O3,{from:a3,to:u3,top:O3,bottom:w2,domTop:0,domBottom:0}}),this.scale=(7e6-s2)/(i2.height-s2);for(let o3 of this.viewports)o3.domTop=O2+(o3.top-u2)*this.scale,O2=o3.domBottom=o3.domTop+(o3.bottom-o3.top),u2=o3.bottom}toDOM(o2){for(let i2=0,a2=0,s2=0;;i2++){let u2=i2<this.viewports.length?this.viewports[i2]:null;if(!u2||o2<u2.top)return s2+(o2-a2)*this.scale;if(o2<=u2.bottom)return u2.domTop+(o2-u2.top);a2=u2.bottom,s2=u2.domBottom}}fromDOM(o2){for(let i2=0,a2=0,s2=0;;i2++){let u2=i2<this.viewports.length?this.viewports[i2]:null;if(!u2||o2<u2.domTop)return a2+(o2-s2)/this.scale;if(o2<=u2.domBottom)return u2.top+(o2-u2.domTop);a2=u2.bottom,s2=u2.domBottom}}eq(o2){return o2 instanceof _BigScaler&&this.scale==o2.scale&&this.viewports.length==o2.viewports.length&&this.viewports.every((i2,a2)=>i2.from==o2.viewports[a2].from&&i2.to==o2.viewports[a2].to)}};__name(_BigScaler,"BigScaler");let BigScaler=_BigScaler;function scaleBlock(o2,i2){if(i2.scale==1)return o2;let a2=i2.toDOM(o2.top),s2=i2.toDOM(o2.bottom);return new BlockInfo(o2.from,o2.length,a2,s2-a2,Array.isArray(o2._content)?o2._content.map(o3=>scaleBlock(o3,i2)):o2._content)}__name(scaleBlock,"scaleBlock");const zl=Facet.define({combine:__name(o2=>o2.join(" "),"combine")}),Wl=Facet.define({combine:__name(o2=>o2.indexOf(!0)>-1,"combine")}),Hl=StyleModule.newName(),Ul=StyleModule.newName(),Zl=StyleModule.newName(),Xl={"&light":"."+Ul,"&dark":"."+Zl};function buildTheme(o2,i2,a2){return new StyleModule(i2,{finish:__name(i3=>/&/.test(i3)?i3.replace(/&\w*/,i4=>{if(i4=="&")return o2;if(!a2||!a2[i4])throw new RangeError(`Unsupported selector: ${i4}`);return a2[i4]}):o2+" "+i3,"finish")})}__name(buildTheme,"buildTheme");const Gl=buildTheme("."+Hl,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Xl),Yl={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Kl=xs.ie&&xs.ie_version<=11,_DOMObserver=class _DOMObserver{constructor(o2){this.view=o2,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=o2.contentDOM,this.observer=new MutationObserver(i2=>{for(let o3 of i2)this.queue.push(o3);(xs.ie&&xs.ie_version<=11||xs.ios&&o2.composing)&&i2.some(o3=>o3.type=="childList"&&o3.removedNodes.length||o3.type=="characterData"&&o3.oldValue.length>o3.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||o2.constructor.EDIT_CONTEXT===!1||xs.chrome&&xs.chrome_version<126||(this.editContext=new EditContextManager(o2),o2.state.facet(Gs)&&(o2.contentDOM.editContext=this.editContext.editContext)),Kl&&(this.onCharData=o3=>{this.queue.push({target:o3.target,type:"characterData",oldValue:o3.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var o3;((o3=this.view.docView)===null||o3===void 0?void 0:o3.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(o2.scrollDOM)),this.addWindowListeners(this.win=o2.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(o3=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),o3.length>0&&o3[o3.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(o3=>{o3.length>0&&o3[o3.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(o2){this.view.inputState.runHandlers("scroll",o2),this.intersecting&&this.view.measure()}onScroll(o2){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(o2)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(o2){(o2.type!="change"&&o2.type||o2.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(o2){if(this.gapIntersection&&(o2.length!=this.gaps.length||this.gaps.some((i2,a2)=>i2!=o2[a2]))){this.gapIntersection.disconnect();for(let i2 of o2)this.gapIntersection.observe(i2);this.gaps=o2}}onSelectionChange(o2){let i2=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:a2}=this,s2=this.selectionRange;if(a2.state.facet(Gs)?a2.root.activeElement!=this.dom:!hasSelection(this.dom,s2))return;let u2=s2.anchorNode&&a2.docView.nearest(s2.anchorNode);u2&&u2.ignoreEvent(o2)?i2||(this.selectionChanged=!1):(xs.ie&&xs.ie_version<=11||xs.android&&xs.chrome)&&!a2.state.selection.main.empty&&s2.focusNode&&isEquivalentPosition(s2.focusNode,s2.focusOffset,s2.anchorNode,s2.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:o2}=this,i2=getSelection(o2.root);if(!i2)return!1;let a2=xs.safari&&o2.root.nodeType==11&&o2.root.activeElement==this.dom&&__name(function(o3,i3){if(i3.getComposedRanges){let a4=i3.getComposedRanges(o3.root)[0];if(a4)return buildSelectionRangeFromRange(o3,a4)}let a3=null;function read(o4){o4.preventDefault(),o4.stopImmediatePropagation(),a3=o4.getTargetRanges()[0]}return __name(read,"read"),o3.contentDOM.addEventListener("beforeinput",read,!0),o3.dom.ownerDocument.execCommand("indent"),o3.contentDOM.removeEventListener("beforeinput",read,!0),a3?buildSelectionRangeFromRange(o3,a3):null},"safariSelectionRangeHack")(this.view,i2)||i2;if(!a2||this.selectionRange.eq(a2))return!1;let s2=hasSelection(this.dom,a2);return s2&&!this.selectionChanged&&o2.inputState.lastFocusTime>Date.now()-200&&o2.inputState.lastTouchTime<Date.now()-300&&__name(function(o3,i3){let a3=i3.focusNode,s3=i3.focusOffset;if(!a3||i3.anchorNode!=a3||i3.anchorOffset!=s3)return!1;for(s3=Math.min(s3,maxOffset(a3));;)if(s3){if(a3.nodeType!=1)return!1;let o4=a3.childNodes[s3-1];o4.contentEditable=="false"?s3--:(a3=o4,s3=maxOffset(a3))}else{if(a3==o3)return!0;s3=domIndex(a3),a3=a3.parentNode}},"atElementStart")(this.dom,a2)?(this.view.inputState.lastFocusTime=0,o2.docView.updateSelection(),!1):(this.selectionRange.setRange(a2),s2&&(this.selectionChanged=!0),!0)}setSelectionRange(o2,i2){this.selectionRange.set(o2.node,o2.offset,i2.node,i2.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let o2=0,i2=null;for(let a2=this.dom;a2;)if(a2.nodeType==1)!i2&&o2<this.scrollTargets.length&&this.scrollTargets[o2]==a2?o2++:i2||(i2=this.scrollTargets.slice(0,o2)),i2&&i2.push(a2),a2=a2.assignedSlot||a2.parentNode;else{if(a2.nodeType!=11)break;a2=a2.host}if(o2<this.scrollTargets.length&&!i2&&(i2=this.scrollTargets.slice(0,o2)),i2){for(let o3 of this.scrollTargets)o3.removeEventListener("scroll",this.onScroll);for(let o3 of this.scrollTargets=i2)o3.addEventListener("scroll",this.onScroll)}}ignore(o2){if(!this.active)return o2();try{return this.stop(),o2()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Yl),Kl&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Kl&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(o2,i2){var a2;if(!this.delayedAndroidKey){let flush=__name(()=>{let o3=this.delayedAndroidKey;o3&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o3.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o3.force&&dispatchKey(this.dom,o3.key,o3.keyCode))},"flush");this.flushingAndroidKey=this.view.win.requestAnimationFrame(flush)}this.delayedAndroidKey&&o2!="Enter"||(this.delayedAndroidKey={key:o2,keyCode:i2,force:this.lastChange<Date.now()-50||!!(!((a2=this.delayedAndroidKey)===null||a2===void 0)&&a2.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let o2 of this.observer.takeRecords())this.queue.push(o2);return this.queue}processRecords(){let o2=this.pendingRecords();o2.length&&(this.queue=[]);let i2=-1,a2=-1,s2=!1;for(let u2 of o2){let o3=this.readMutation(u2);o3&&(o3.typeOver&&(s2=!0),i2==-1?{from:i2,to:a2}=o3:(i2=Math.min(o3.from,i2),a2=Math.max(o3.to,a2)))}return{from:i2,to:a2,typeOver:s2}}readChange(){let{from:o2,to:i2,typeOver:a2}=this.processRecords(),s2=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(o2<0&&!s2)return null;o2>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let u2=new DOMChange(this.view,o2,i2,a2);return this.view.docView.domChanged={newSel:u2.newSel?u2.newSel.main:null},u2}flush(o2=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;o2&&this.readSelectionRange();let i2=this.readChange();if(!i2)return this.view.requestMeasure(),!1;let a2=this.view.state,s2=applyDOMChange(this.view,i2);return this.view.state==a2&&(i2.domChanged||i2.newSel&&!i2.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),s2}readMutation(o2){let i2=this.view.docView.nearest(o2.target);if(!i2||i2.ignoreMutation(o2))return null;if(i2.markDirty(o2.type=="attributes"),o2.type=="attributes"&&(i2.flags|=4),o2.type=="childList"){let a2=findChild(i2,o2.previousSibling||o2.target.previousSibling,-1),s2=findChild(i2,o2.nextSibling||o2.target.nextSibling,1);return{from:a2?i2.posAfter(a2):i2.posAtStart,to:s2?i2.posBefore(s2):i2.posAtEnd,typeOver:!1}}return o2.type=="characterData"?{from:i2.posAtStart,to:i2.posAtEnd,typeOver:o2.target.nodeValue==o2.oldValue}:null}setWindow(o2){o2!=this.win&&(this.removeWindowListeners(this.win),this.win=o2,this.addWindowListeners(this.win))}addWindowListeners(o2){o2.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):o2.addEventListener("beforeprint",this.onPrint),o2.addEventListener("scroll",this.onScroll),o2.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(o2){o2.removeEventListener("scroll",this.onScroll),o2.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):o2.removeEventListener("beforeprint",this.onPrint),o2.document.removeEventListener("selectionchange",this.onSelectionChange)}update(o2){this.editContext&&(this.editContext.update(o2),o2.startState.facet(Gs)!=o2.state.facet(Gs)&&(o2.view.contentDOM.editContext=o2.state.facet(Gs)?this.editContext.editContext:null))}destroy(){var o2,i2,a2;this.stop(),(o2=this.intersection)===null||o2===void 0||o2.disconnect(),(i2=this.gapIntersection)===null||i2===void 0||i2.disconnect(),(a2=this.resizeScroll)===null||a2===void 0||a2.disconnect();for(let o3 of this.scrollTargets)o3.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};__name(_DOMObserver,"DOMObserver");let DOMObserver=_DOMObserver;function findChild(o2,i2,a2){for(;i2;){let s2=ContentView.get(i2);if(s2&&s2.parent==o2)return s2;let u2=i2.parentNode;i2=u2!=o2.dom?u2:a2>0?i2.nextSibling:i2.previousSibling}return null}__name(findChild,"findChild");function buildSelectionRangeFromRange(o2,i2){let a2=i2.startContainer,s2=i2.startOffset,u2=i2.endContainer,O2=i2.endOffset,w2=o2.docView.domAtPos(o2.state.selection.main.anchor);return isEquivalentPosition(w2.node,w2.offset,u2,O2)&&([a2,s2,u2,O2]=[u2,O2,a2,s2]),{anchorNode:a2,anchorOffset:s2,focusNode:u2,focusOffset:O2}}__name(buildSelectionRangeFromRange,"buildSelectionRangeFromRange");const _EditContextManager=class _EditContextManager{constructor(o2){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(o2.state);let i2=this.editContext=new window.EditContext({text:o2.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,o2.state.selection.main.anchor))),selectionEnd:this.toContextPos(o2.state.selection.main.head)});this.handlers.textupdate=i3=>{let a2=o2.state.selection.main,{anchor:s2,head:u2}=a2,O2=this.toEditorPos(i3.updateRangeStart),w2=this.toEditorPos(i3.updateRangeEnd);o2.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:i3.updateRangeStart,editorBase:O2,drifted:!1});let x2={from:O2,to:w2,insert:Text.of(i3.text.split(`
`))};if(x2.from==this.from&&s2<this.from?x2.from=s2:x2.to==this.to&&s2>this.to&&(x2.to=s2),x2.from!=x2.to||x2.insert.length){if((xs.mac||xs.android)&&x2.from==u2-1&&/^\. ?$/.test(i3.text)&&o2.contentDOM.getAttribute("autocorrect")=="off"&&(x2={from:O2,to:w2,insert:Text.of([i3.text.replace("."," ")])}),this.pendingContextChange=x2,!o2.state.readOnly){let a3=this.to-this.from+(x2.to-x2.from+x2.insert.length);applyDOMChangeInner(o2,x2,EditorSelection.single(this.toEditorPos(i3.selectionStart,a3),this.toEditorPos(i3.selectionEnd,a3)))}this.pendingContextChange&&(this.revertPending(o2.state),this.setSelection(o2.state))}else{let s3=EditorSelection.single(this.toEditorPos(i3.selectionStart),this.toEditorPos(i3.selectionEnd));s3.main.eq(a2)||o2.dispatch({selection:s3,userEvent:"select"})}},this.handlers.characterboundsupdate=a2=>{let s2=[],u2=null;for(let i3=this.toEditorPos(a2.rangeStart),O2=this.toEditorPos(a2.rangeEnd);i3<O2;i3++){let a3=o2.coordsForChar(i3);u2=a3&&new DOMRect(a3.left,a3.top,a3.right-a3.left,a3.bottom-a3.top)||u2||new DOMRect,s2.push(u2)}i2.updateCharacterBounds(a2.rangeStart,s2)},this.handlers.textformatupdate=i3=>{let a2=[];for(let o3 of i3.getTextFormats()){let i4=o3.underlineStyle,s2=o3.underlineThickness;if(i4!="None"&&s2!="None"){let u2=this.toEditorPos(o3.rangeStart),O2=this.toEditorPos(o3.rangeEnd);if(u2<O2){let o4=`text-decoration: underline ${i4=="Dashed"?"dashed ":i4=="Squiggle"?"wavy ":""}${s2=="Thin"?1:2}px`;a2.push(Decoration.mark({attributes:{style:o4}}).range(u2,O2))}}}o2.dispatch({effects:Xs.of(Decoration.set(a2))})},this.handlers.compositionstart=()=>{o2.inputState.composing<0&&(o2.inputState.composing=0,o2.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(o2.inputState.composing=-1,o2.inputState.compositionFirstChange=null,this.composing){let{drifted:i3}=this.composing;this.composing=null,i3&&this.reset(o2.state)}};for(let o3 in this.handlers)i2.addEventListener(o3,this.handlers[o3]);this.measureReq={read:__name(o3=>{this.editContext.updateControlBounds(o3.contentDOM.getBoundingClientRect());let i3=getSelection(o3.root);i3&&i3.rangeCount&&this.editContext.updateSelectionBounds(i3.getRangeAt(0).getBoundingClientRect())},"read")}}applyEdits(o2){let i2=0,a2=!1,s2=this.pendingContextChange;return o2.changes.iterChanges((u2,O2,w2,x2,C2)=>{if(a2)return;let T2=C2.length-(O2-u2);if(s2&&O2>=s2.to){if(s2.from==u2&&s2.to==O2&&s2.insert.eq(C2))return s2=this.pendingContextChange=null,i2+=T2,void(this.to+=T2);s2=null,this.revertPending(o2.state)}if(u2+=i2,(O2+=i2)<=this.from)this.from+=T2,this.to+=T2;else if(u2<this.to){if(u2<this.from||O2>this.to||this.to-this.from+C2.length>3e4)return void(a2=!0);this.editContext.updateText(this.toContextPos(u2),this.toContextPos(O2),C2.toString()),this.to+=T2}i2+=T2}),s2&&!a2&&this.revertPending(o2.state),!a2}update(o2){let i2=this.pendingContextChange,a2=o2.startState.selection.main;this.composing&&(this.composing.drifted||!o2.changes.touchesRange(a2.from,a2.to)&&o2.transactions.some(o3=>!o3.isUserEvent("input.type")&&o3.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=o2.changes.mapPos(this.composing.editorBase)):this.applyEdits(o2)&&this.rangeIsValid(o2.state)?(o2.docChanged||o2.selectionSet||i2)&&this.setSelection(o2.state):(this.pendingContextChange=null,this.reset(o2.state)),(o2.geometryChanged||o2.docChanged||o2.selectionSet)&&o2.view.requestMeasure(this.measureReq)}resetRange(o2){let{head:i2}=o2.selection.main;this.from=Math.max(0,i2-1e4),this.to=Math.min(o2.doc.length,i2+1e4)}reset(o2){this.resetRange(o2),this.editContext.updateText(0,this.editContext.text.length,o2.doc.sliceString(this.from,this.to)),this.setSelection(o2)}revertPending(o2){let i2=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(i2.from),this.toContextPos(i2.from+i2.insert.length),o2.doc.sliceString(i2.from,i2.to))}setSelection(o2){let{main:i2}=o2.selection,a2=this.toContextPos(Math.max(this.from,Math.min(this.to,i2.anchor))),s2=this.toContextPos(i2.head);this.editContext.selectionStart==a2&&this.editContext.selectionEnd==s2||this.editContext.updateSelection(a2,s2)}rangeIsValid(o2){let{head:i2}=o2.selection.main;return!(this.from>0&&i2-this.from<500||this.to<o2.doc.length&&this.to-i2<500||this.to-this.from>3e4)}toEditorPos(o2,i2=this.to-this.from){o2=Math.min(o2,i2);let a2=this.composing;return a2&&a2.drifted?a2.editorBase+(o2-a2.contextBase):o2+this.from}toContextPos(o2){let i2=this.composing;return i2&&i2.drifted?i2.contextBase+(o2-i2.editorBase):o2-this.from}destroy(){for(let o2 in this.handlers)this.editContext.removeEventListener(o2,this.handlers[o2])}};__name(_EditContextManager,"EditContextManager");let EditContextManager=_EditContextManager;const _EditorView=class _EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(o2={}){var i2;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),o2.parent&&o2.parent.appendChild(this.dom);let{dispatch:a2}=o2;this.dispatchTransactions=o2.dispatchTransactions||a2&&(o3=>o3.forEach(o4=>a2(o4,this)))||(o3=>this.update(o3)),this.dispatch=this.dispatch.bind(this),this._root=o2.root||__name(function(o3){for(;o3;){if(o3&&(o3.nodeType==9||o3.nodeType==11&&o3.host))return o3;o3=o3.assignedSlot||o3.parentNode}return null},"getRoot")(o2.parent)||document,this.viewState=new ViewState(o2.state||EditorState.create(o2)),o2.scrollTo&&o2.scrollTo.is(qs)&&(this.viewState.scrollTarget=o2.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ks).map(o3=>new PluginInstance(o3));for(let o3 of this.plugins)o3.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((i2=document.fonts)===null||i2===void 0)&&i2.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...o2){let i2=o2.length==1&&o2[0]instanceof Transaction?o2:o2.length==1&&Array.isArray(o2[0])?o2[0]:[this.state.update(...o2)];this.dispatchTransactions(i2,this)}update(o2){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let i2,a2=!1,s2=!1,u2=this.state;for(let i3 of o2){if(i3.startState!=u2)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");u2=i3.state}if(this.destroyed)return void(this.viewState.state=u2);let O2=this.hasFocus,w2=0,x2=null;o2.some(o3=>o3.annotation(Ql))?(this.inputState.notifiedFocused=O2,w2=1):O2!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=O2,x2=focusChangeTransaction(u2,O2),x2||(w2=1));let C2=this.observer.delayedAndroidKey,T2=null;if(C2?(this.observer.clearDelayedAndroidKey(),T2=this.observer.readChange(),(T2&&!this.state.doc.eq(u2.doc)||!this.state.selection.eq(u2.selection))&&(T2=null)):this.observer.clear(),u2.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(u2);i2=ViewUpdate.create(this,u2,o2),i2.flags|=w2;let _2=this.viewState.scrollTarget;try{this.updateState=2;for(let i3 of o2){if(_2&&(_2=_2.map(i3.changes)),i3.scrollIntoView){let{main:o3}=i3.state.selection;_2=new ScrollTarget(o3.empty?o3:EditorSelection.cursor(o3.head,o3.head>o3.anchor?-1:1))}for(let o3 of i3.effects)o3.is(qs)&&(_2=o3.value.clip(this.state))}this.viewState.update(i2,_2),this.bidiCache=CachedOrder.update(this.bidiCache,i2.changes),i2.empty||(this.updatePlugins(i2),this.inputState.update(i2)),a2=this.docView.update(i2),this.state.facet(Sl)!=this.styleModules&&this.mountStyles(),s2=this.updateAttrs(),this.showAnnouncements(o2),this.docView.updateSelection(a2,o2.some(o3=>o3.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i2.startState.facet(zl)!=i2.state.facet(zl)&&(this.viewState.mustMeasureContent=!0),(a2||s2||_2||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),a2&&this.docViewUpdate(),!i2.empty)for(let o3 of this.state.facet(Bs))try{o3(i2)}catch(o4){logException(this.state,o4,"update listener")}(x2||T2)&&Promise.resolve().then(()=>{x2&&this.state==x2.startState&&this.dispatch(x2),T2&&!applyDOMChange(this,T2)&&C2.force&&dispatchKey(this.contentDOM,C2.key,C2.keyCode)})}setState(o2){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=o2);this.updateState=2;let i2=this.hasFocus;try{for(let o3 of this.plugins)o3.destroy(this);this.viewState=new ViewState(o2),this.plugins=o2.facet(Ks).map(o3=>new PluginInstance(o3)),this.pluginMap.clear();for(let o3 of this.plugins)o3.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}i2&&this.focus(),this.requestMeasure()}updatePlugins(o2){let i2=o2.startState.facet(Ks),a2=o2.state.facet(Ks);if(i2!=a2){let s2=[];for(let u2 of a2){let a3=i2.indexOf(u2);if(a3<0)s2.push(new PluginInstance(u2));else{let i3=this.plugins[a3];i3.mustUpdate=o2,s2.push(i3)}}for(let i3 of this.plugins)i3.mustUpdate!=o2&&i3.destroy(this);this.plugins=s2,this.pluginMap.clear()}else for(let i3 of this.plugins)i3.mustUpdate=o2;for(let o3=0;o3<this.plugins.length;o3++)this.plugins[o3].update(this);i2!=a2&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let o2 of this.plugins){let i2=o2.value;if(i2&&i2.docViewUpdate)try{i2.docViewUpdate(this)}catch(o3){logException(this.state,o3,"doc view update listener")}}}measure(o2=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,o2&&this.observer.forceFlush();let i2=null,a2=this.scrollDOM,s2=a2.scrollTop*this.scaleY,{scrollAnchorPos:u2,scrollAnchorHeight:O2}=this.viewState;Math.abs(s2-this.viewState.scrollTop)>1&&(O2=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o3=0;;o3++){if(O2<0)if(isScrolledToBottom(a2))u2=-1,O2=this.viewState.heightMap.height;else{let o4=this.viewState.scrollAnchorAt(s2);u2=o4.from,O2=o4.top}this.updateState=1;let w2=this.viewState.measure(this);if(!w2&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o3>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let x2=[];4&w2||([this.measureRequests,x2]=[x2,this.measureRequests]);let C2=x2.map(o4=>{try{return o4.read(this)}catch(o5){return logException(this.state,o5),ec}}),T2=ViewUpdate.create(this,this.state,[]),_2=!1;T2.flags|=w2,i2?i2.flags|=w2:i2=T2,this.updateState=2,T2.empty||(this.updatePlugins(T2),this.inputState.update(T2),this.updateAttrs(),_2=this.docView.update(T2),_2&&this.docViewUpdate());for(let o4=0;o4<x2.length;o4++)if(C2[o4]!=ec)try{let i3=x2[o4];i3.write&&i3.write(C2[o4],this)}catch(o5){logException(this.state,o5)}if(_2&&this.docView.updateSelection(!0),!T2.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,O2=-1;continue}{let o4=(u2<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(u2).top)-O2;if(o4>1||o4<-1){s2+=o4,a2.scrollTop=s2/this.scaleY,O2=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(i2&&!i2.empty)for(let o3 of this.state.facet(Bs))o3(i2)}get themeClasses(){return Hl+" "+(this.state.facet(Wl)?Zl:Ul)+" "+this.state.facet(zl)}updateAttrs(){let o2=attrsFromFacet(this,Js,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),i2={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(Gs)?"true":"false",class:"cm-content",style:`${xs.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(i2["aria-readonly"]="true"),attrsFromFacet(this,tl,i2);let a2=this.observer.ignore(()=>{let a3=updateAttrs(this.contentDOM,this.contentAttrs,i2),s2=updateAttrs(this.dom,this.editorAttrs,o2);return a3||s2});return this.editorAttrs=o2,this.contentAttrs=i2,a2}showAnnouncements(o2){let i2=!0;for(let a2 of o2)for(let o3 of a2.effects)o3.is(_EditorView.announce)&&(i2&&(this.announceDOM.textContent=""),i2=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=o3.value)}mountStyles(){this.styleModules=this.state.facet(Sl);let o2=this.state.facet(_EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(Gl).reverse(),o2?{nonce:o2}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(o2){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),o2){if(this.measureRequests.indexOf(o2)>-1)return;if(o2.key!=null){for(let i2=0;i2<this.measureRequests.length;i2++)if(this.measureRequests[i2].key===o2.key)return void(this.measureRequests[i2]=o2)}this.measureRequests.push(o2)}}plugin(o2){let i2=this.pluginMap.get(o2);return(i2===void 0||i2&&i2.spec!=o2)&&this.pluginMap.set(o2,i2=this.plugins.find(i3=>i3.spec==o2)||null),i2&&i2.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(o2){return this.readMeasured(),this.viewState.elementAtHeight(o2)}lineBlockAtHeight(o2){return this.readMeasured(),this.viewState.lineBlockAtHeight(o2)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(o2){return this.viewState.lineBlockAt(o2)}get contentHeight(){return this.viewState.contentHeight}moveByChar(o2,i2,a2){return skipAtoms(this,o2,moveByChar(this,o2,i2,a2))}moveByGroup(o2,i2){return skipAtoms(this,o2,moveByChar(this,o2,i2,i3=>__name(function(o3,i4,a2){let s2=o3.state.charCategorizer(i4),u2=s2(a2);return o4=>{let i5=s2(o4);return u2==Ba.Space&&(u2=i5),u2==i5}},"byGroup")(this,o2.head,i3)))}visualLineSide(o2,i2){let a2=this.bidiSpans(o2),s2=this.textDirectionAt(o2.from),u2=a2[i2?a2.length-1:0];return EditorSelection.cursor(u2.side(i2,s2)+o2.from,u2.forward(!i2,s2)?1:-1)}moveToLineBoundary(o2,i2,a2=!0){return __name(function(o3,i3,a3,s2){let u2=blockAt(o3,i3.head,i3.assoc||-1),O2=s2&&u2.type==Cs.Text&&(o3.lineWrapping||u2.widgetLineBreaks)?o3.coordsAtPos(i3.assoc<0&&i3.head>u2.from?i3.head-1:i3.head):null;if(O2){let i4=o3.dom.getBoundingClientRect(),s3=o3.textDirectionAt(u2.from),w2=o3.posAtCoords({x:a3==(s3==Ps.LTR)?i4.right-1:i4.left+1,y:(O2.top+O2.bottom)/2});if(w2!=null)return EditorSelection.cursor(w2,a3?-1:1)}return EditorSelection.cursor(a3?u2.to:u2.from,a3?-1:1)},"moveToLineBoundary")(this,o2,i2,a2)}moveVertically(o2,i2,a2){return skipAtoms(this,o2,__name(function(o3,i3,a3,s2){let u2=i3.head,O2=a3?1:-1;if(u2==(a3?o3.state.doc.length:0))return EditorSelection.cursor(u2,i3.assoc);let w2,x2=i3.goalColumn,C2=o3.contentDOM.getBoundingClientRect(),T2=o3.coordsAtPos(u2,i3.assoc||-1),_2=o3.documentTop;if(T2)x2==null&&(x2=T2.left-C2.left),w2=O2<0?T2.top:T2.bottom;else{let i4=o3.viewState.lineBlockAt(u2);x2==null&&(x2=Math.min(C2.right-C2.left,o3.defaultCharacterWidth*(u2-i4.from))),w2=(O2<0?i4.top:i4.bottom)+_2}let A2=C2.left+x2,Q2=s2??o3.viewState.heightOracle.textHeight>>1;for(let i4=0;;i4+=10){let a4=w2+(Q2+i4)*O2,s3=posAtCoords(o3,{x:A2,y:a4},!1,O2);if(a4<C2.top||a4>C2.bottom||(O2<0?s3<u2:s3>u2)){let i5=o3.docView.coordsForChar(s3),u3=!i5||a4<i5.top?-1:1;return EditorSelection.cursor(s3,u3,void 0,x2)}}},"moveVertically")(this,o2,i2,a2))}domAtPos(o2){return this.docView.domAtPos(o2)}posAtDOM(o2,i2=0){return this.docView.posFromDOM(o2,i2)}posAtCoords(o2,i2=!0){return this.readMeasured(),posAtCoords(this,o2,i2)}coordsAtPos(o2,i2=1){this.readMeasured();let a2=this.docView.coordsAt(o2,i2);if(!a2||a2.left==a2.right)return a2;let s2=this.state.doc.lineAt(o2),u2=this.bidiSpans(s2);return flattenRect(a2,u2[BidiSpan.find(u2,o2-s2.from,-1,i2)].dir==Ps.LTR==i2>0)}coordsForChar(o2){return this.readMeasured(),this.docView.coordsForChar(o2)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(o2){return!this.state.facet(Hs)||o2<this.viewport.from||o2>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(o2))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(o2){if(o2.length>Jl)return trivialOrder(o2.length);let i2,a2=this.textDirectionAt(o2.from);for(let s3 of this.bidiCache)if(s3.from==o2.from&&s3.dir==a2&&(s3.fresh||isolatesEq(s3.isolates,i2=getIsolatedRanges(this,o2))))return s3.order;i2||(i2=getIsolatedRanges(this,o2));let s2=__name(function(o3,i3,a3){if(!o3)return[new BidiSpan(0,0,i3==Ts?1:0)];if(i3==Es&&!a3.length&&!_s.test(o3))return trivialOrder(o3.length);if(a3.length)for(;o3.length>As.length;)As[As.length]=256;let s3=[],u2=i3==Es?0:1;return computeSectionOrder(o3,u2,u2,a3,0,o3.length,s3),s3},"computeOrder")(o2.text,a2,i2);return this.bidiCache.push(new CachedOrder(o2.from,o2.to,a2,i2,!0,s2)),s2}get hasFocus(){var o2;return(this.dom.ownerDocument.hasFocus()||xs.safari&&((o2=this.inputState)===null||o2===void 0?void 0:o2.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(o2){this._root!=o2&&(this._root=o2,this.observer.setWindow((o2.nodeType==9?o2:o2.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let o2 of this.plugins)o2.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(o2,i2={}){return qs.of(new ScrollTarget(typeof o2=="number"?EditorSelection.cursor(o2):o2,i2.y,i2.x,i2.yMargin,i2.xMargin))}scrollSnapshot(){let{scrollTop:o2,scrollLeft:i2}=this.scrollDOM,a2=this.viewState.scrollAnchorAt(o2);return qs.of(new ScrollTarget(EditorSelection.cursor(a2.from),"start","start",a2.top-o2,i2,!0))}setTabFocusMode(o2){o2==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof o2=="boolean"?this.inputState.tabFocusMode=o2?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+o2)}static domEventHandlers(o2){return ViewPlugin.define(()=>({}),{eventHandlers:o2})}static domEventObservers(o2){return ViewPlugin.define(()=>({}),{eventObservers:o2})}static theme(o2,i2){let a2=StyleModule.newName(),s2=[zl.of(a2),Sl.of(buildTheme(`.${a2}`,o2))];return i2&&i2.dark&&s2.push(Wl.of(!0)),s2}static baseTheme(o2){return Ea.lowest(Sl.of(buildTheme("."+Hl,o2,Xl)))}static findFromDOM(o2){var i2;let a2=o2.querySelector(".cm-content"),s2=a2&&ContentView.get(a2)||ContentView.get(o2);return((i2=s2==null?void 0:s2.rootView)===null||i2===void 0?void 0:i2.view)||null}};__name(_EditorView,"EditorView");let EditorView=_EditorView;EditorView.styleModule=Sl,EditorView.inputHandler=Vs,EditorView.clipboardInputFilter=js,EditorView.clipboardOutputFilter=Ws,EditorView.scrollHandler=Zs,EditorView.focusChangeEffect=zs,EditorView.perLineTextDirection=Hs,EditorView.exceptionSink=Fs,EditorView.updateListener=Bs,EditorView.editable=Gs,EditorView.mouseSelectionStyle=$s,EditorView.dragMovesSelection=Ls,EditorView.clickAddsSelectionRange=Ns,EditorView.decorations=sl,EditorView.outerDecorations=ul,EditorView.atomicRanges=vl,EditorView.bidiIsolatedRanges=yl,EditorView.scrollMargins=Ol,EditorView.darkTheme=Wl,EditorView.cspNonce=Facet.define({combine:__name(o2=>o2.length?o2[0]:"","combine")}),EditorView.contentAttributes=tl,EditorView.editorAttributes=Js,EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"}),EditorView.announce=StateEffect.define();const Jl=4096,ec={},_CachedOrder=class _CachedOrder{constructor(o2,i2,a2,s2,u2,O2){this.from=o2,this.to=i2,this.dir=a2,this.isolates=s2,this.fresh=u2,this.order=O2}static update(o2,i2){if(i2.empty&&!o2.some(o3=>o3.fresh))return o2;let a2=[],s2=o2.length?o2[o2.length-1].dir:Ps.LTR;for(let u2=Math.max(0,o2.length-10);u2<o2.length;u2++){let O2=o2[u2];O2.dir!=s2||i2.touchesRange(O2.from,O2.to)||a2.push(new _CachedOrder(i2.mapPos(O2.from,1),i2.mapPos(O2.to,-1),O2.dir,O2.isolates,!1,O2.order))}return a2}};__name(_CachedOrder,"CachedOrder");let CachedOrder=_CachedOrder;function attrsFromFacet(o2,i2,a2){for(let s2=o2.state.facet(i2),u2=s2.length-1;u2>=0;u2--){let i3=s2[u2],O2=typeof i3=="function"?i3(o2):i3;O2&&combineAttrs(O2,a2)}return a2}__name(attrsFromFacet,"attrsFromFacet");const rc=xs.mac?"mac":xs.windows?"win":xs.linux?"linux":"key";function modifiers(o2,i2,a2){return i2.altKey&&(o2="Alt-"+o2),i2.ctrlKey&&(o2="Ctrl-"+o2),i2.metaKey&&(o2="Meta-"+o2),a2!==!1&&i2.shiftKey&&(o2="Shift-"+o2),o2}__name(modifiers,"modifiers");const oc=Ea.default(EditorView.domEventHandlers({keydown:__name((o2,i2)=>runHandlers(getKeymap(i2.state),o2,i2,"editor"),"keydown")})),ic=Facet.define({enables:oc}),ac=new WeakMap;function getKeymap(o2){let i2=o2.facet(ic),a2=ac.get(i2);return a2||ac.set(i2,a2=__name(function(o3,i3=rc){let a3=Object.create(null),s2=Object.create(null),checkPrefix=__name((o4,i4)=>{let a4=s2[o4];if(a4==null)s2[o4]=i4;else if(a4!=i4)throw new Error("Key binding "+o4+" is used both as a regular binding and as a multi-stroke prefix")},"checkPrefix"),add2=__name((o4,s3,u2,O2,w2)=>{var x2,C2;let T2=a3[o4]||(a3[o4]=Object.create(null)),_2=s3.split(/ (?!$)/).map(o5=>__name(function(o6,i4){const a4=o6.split(/-(?!$)/);let s4,u3,O3,w3,x3=a4[a4.length-1];x3=="Space"&&(x3=" ");for(let o7=0;o7<a4.length-1;++o7){const x4=a4[o7];if(/^(cmd|meta|m)$/i.test(x4))w3=!0;else if(/^a(lt)?$/i.test(x4))s4=!0;else if(/^(c|ctrl|control)$/i.test(x4))u3=!0;else if(/^s(hift)?$/i.test(x4))O3=!0;else{if(!/^mod$/i.test(x4))throw new Error("Unrecognized modifier name: "+x4);i4=="mac"?w3=!0:u3=!0}}return s4&&(x3="Alt-"+x3),u3&&(x3="Ctrl-"+x3),w3&&(x3="Meta-"+x3),O3&&(x3="Shift-"+x3),x3},"normalizeKeyName")(o5,i3));for(let i4=1;i4<_2.length;i4++){let a4=_2.slice(0,i4).join(" ");checkPrefix(a4,!0),T2[a4]||(T2[a4]={preventDefault:!0,stopPropagation:!1,run:[i5=>{let s4=sc={view:i5,prefix:a4,scope:o4};return setTimeout(()=>{sc==s4&&(sc=null)},lc),!0}]})}let A2=_2.join(" ");checkPrefix(A2,!1);let Q2=T2[A2]||(T2[A2]={preventDefault:!1,stopPropagation:!1,run:((C2=(x2=T2._any)===null||x2===void 0?void 0:x2.run)===null||C2===void 0?void 0:C2.slice())||[]});u2&&Q2.run.push(u2),O2&&(Q2.preventDefault=!0),w2&&(Q2.stopPropagation=!0)},"add2");for(let s3 of o3){let o4=s3.scope?s3.scope.split(" "):["editor"];if(s3.any)for(let i4 of o4){let o5=a3[i4]||(a3[i4]=Object.create(null));o5._any||(o5._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:u3}=s3;for(let i5 in o5)o5[i5].run.push(o6=>u3(o6,cc))}let u2=s3[i3]||s3.key;if(u2)for(let i4 of o4)add2(i4,u2,s3.run,s3.preventDefault,s3.stopPropagation),s3.shift&&add2(i4,"Shift-"+u2,s3.shift,s3.preventDefault,s3.stopPropagation)}return a3},"buildKeymap")(i2.reduce((o3,i3)=>o3.concat(i3),[]))),a2}__name(getKeymap,"getKeymap");let sc=null;const lc=4e3;let cc=null;function runHandlers(o2,i2,a2,s2){cc=i2;let u2=__name(function(o3){var i3=!(os&&o3.metaKey&&o3.shiftKey&&!o3.ctrlKey&&!o3.altKey||as&&o3.shiftKey&&o3.key&&o3.key.length==1||o3.key=="Unidentified")&&o3.key||(o3.shiftKey?rs:ns)[o3.keyCode]||o3.key||"Unidentified";return i3=="Esc"&&(i3="Escape"),i3=="Del"&&(i3="Delete"),i3=="Left"&&(i3="ArrowLeft"),i3=="Up"&&(i3="ArrowUp"),i3=="Right"&&(i3="ArrowRight"),i3=="Down"&&(i3="ArrowDown"),i3},"keyName")(i2),O2=codePointSize(codePointAt(u2,0))==u2.length&&u2!=" ",w2="",x2=!1,C2=!1,T2=!1;sc&&sc.view==a2&&sc.scope==s2&&(w2=sc.prefix+" ",Pl.indexOf(i2.keyCode)<0&&(C2=!0,sc=null));let _2,A2,Q2=new Set,runFor=__name(o3=>{if(o3){for(let i3 of o3.run)if(!Q2.has(i3)&&(Q2.add(i3),i3(a2)))return o3.stopPropagation&&(T2=!0),!0;o3.preventDefault&&(o3.stopPropagation&&(T2=!0),C2=!0)}return!1},"runFor"),N2=o2[s2];return N2&&(runFor(N2[w2+modifiers(u2,i2,!O2)])?x2=!0:O2&&(i2.altKey||i2.metaKey||i2.ctrlKey)&&!(xs.windows&&i2.ctrlKey&&i2.altKey)&&(_2=ns[i2.keyCode])&&_2!=u2?(runFor(N2[w2+modifiers(_2,i2,!0)])||i2.shiftKey&&(A2=rs[i2.keyCode])!=u2&&A2!=_2&&runFor(N2[w2+modifiers(A2,i2,!1)]))&&(x2=!0):O2&&i2.shiftKey&&runFor(N2[w2+modifiers(u2,i2,!0)])&&(x2=!0),!x2&&runFor(N2._any)&&(x2=!0)),C2&&(x2=!0),x2&&T2&&i2.stopPropagation(),cc=null,x2}__name(runHandlers,"runHandlers");const _RectangleMarker=class _RectangleMarker{constructor(o2,i2,a2,s2,u2){this.className=o2,this.left=i2,this.top=a2,this.width=s2,this.height=u2}draw(){let o2=document.createElement("div");return o2.className=this.className,this.adjust(o2),o2}update(o2,i2){return i2.className==this.className&&(this.adjust(o2),!0)}adjust(o2){o2.style.left=this.left+"px",o2.style.top=this.top+"px",this.width!=null&&(o2.style.width=this.width+"px"),o2.style.height=this.height+"px"}eq(o2){return this.left==o2.left&&this.top==o2.top&&this.width==o2.width&&this.height==o2.height&&this.className==o2.className}static forRange(o2,i2,a2){if(a2.empty){let s2=o2.coordsAtPos(a2.head,a2.assoc||1);if(!s2)return[];let u2=getBase(o2);return[new _RectangleMarker(i2,s2.left-u2.left,s2.top-u2.top,null,s2.bottom-s2.top)]}return __name(function(o3,i3,a3){if(a3.to<=o3.viewport.from||a3.from>=o3.viewport.to)return[];let s2=Math.max(a3.from,o3.viewport.from),u2=Math.min(a3.to,o3.viewport.to),O2=o3.textDirection==Ps.LTR,w2=o3.contentDOM,x2=w2.getBoundingClientRect(),C2=getBase(o3),T2=w2.querySelector(".cm-line"),_2=T2&&window.getComputedStyle(T2),A2=x2.left+(_2?parseInt(_2.paddingLeft)+Math.min(0,parseInt(_2.textIndent)):0),Q2=x2.right-(_2?parseInt(_2.paddingRight):0),N2=blockAt(o3,s2,1),L2=blockAt(o3,u2,-1),$2=N2.type==Cs.Text?N2:null,F2=L2.type==Cs.Text?L2:null;if($2&&(o3.lineWrapping||N2.widgetLineBreaks)&&($2=wrappedLine(o3,s2,1,$2)),F2&&(o3.lineWrapping||L2.widgetLineBreaks)&&(F2=wrappedLine(o3,u2,-1,F2)),$2&&F2&&$2.from==F2.from&&$2.to==F2.to)return pieces(drawForLine(a3.from,a3.to,$2));{let i4=$2?drawForLine(a3.from,null,$2):drawForWidget(N2,!1),s3=F2?drawForLine(null,a3.to,F2):drawForWidget(L2,!0),u3=[];return($2||N2).to<(F2||L2).from-($2&&F2?1:0)||N2.widgetLineBreaks>1&&i4.bottom+o3.defaultLineHeight/2<s3.top?u3.push(piece(A2,i4.bottom,Q2,s3.top)):i4.bottom<s3.top&&o3.elementAtHeight((i4.bottom+s3.top)/2).type==Cs.Text&&(i4.bottom=s3.top=(i4.bottom+s3.top)/2),pieces(i4).concat(u3).concat(pieces(s3))}function piece(o4,a4,s3,u3){return new _RectangleMarker(i3,o4-C2.left,a4-C2.top,s3-o4,u3-a4)}__name(piece,"piece");function pieces({top:o4,bottom:i4,horizontal:a4}){let s3=[];for(let u3=0;u3<a4.length;u3+=2)s3.push(piece(a4[u3],o4,a4[u3+1],i4));return s3}__name(pieces,"pieces");function drawForLine(i4,a4,s3){let u3=1e9,w3=-1e9,x3=[];function addSpan(i5,a5,C4,T4,_3){let N3=o3.coordsAtPos(i5,i5==s3.to?-2:2),L3=o3.coordsAtPos(C4,C4==s3.from?2:-2);N3&&L3&&(u3=Math.min(N3.top,L3.top,u3),w3=Math.max(N3.bottom,L3.bottom,w3),_3==Ps.LTR?x3.push(O2&&a5?A2:N3.left,O2&&T4?Q2:L3.right):x3.push(!O2&&T4?A2:L3.left,!O2&&a5?Q2:N3.right))}__name(addSpan,"addSpan");let C3=i4??s3.from,T3=a4??s3.to;for(let s4 of o3.visibleRanges)if(s4.to>C3&&s4.from<T3)for(let u4=Math.max(s4.from,C3),O3=Math.min(s4.to,T3);;){let s5=o3.state.doc.lineAt(u4);for(let w4 of o3.bidiSpans(s5)){let o4=w4.from+s5.from,x4=w4.to+s5.from;if(o4>=O3)break;x4>u4&&addSpan(Math.max(o4,u4),i4==null&&o4<=C3,Math.min(x4,O3),a4==null&&x4>=T3,w4.dir)}if(u4=s5.to+1,u4>=O3)break}return x3.length==0&&addSpan(C3,i4==null,T3,a4==null,o3.textDirection),{top:u3,bottom:w3,horizontal:x3}}__name(drawForLine,"drawForLine");function drawForWidget(o4,i4){let a4=x2.top+(i4?o4.top:o4.bottom);return{top:a4,bottom:a4,horizontal:[]}}__name(drawForWidget,"drawForWidget")},"rectanglesForRange")(o2,i2,a2)}};__name(_RectangleMarker,"RectangleMarker");let RectangleMarker=_RectangleMarker;function getBase(o2){let i2=o2.scrollDOM.getBoundingClientRect();return{left:(o2.textDirection==Ps.LTR?i2.left:i2.right-o2.scrollDOM.clientWidth*o2.scaleX)-o2.scrollDOM.scrollLeft*o2.scaleX,top:i2.top-o2.scrollDOM.scrollTop*o2.scaleY}}__name(getBase,"getBase");function wrappedLine(o2,i2,a2,s2){let u2=o2.coordsAtPos(i2,2*a2);if(!u2)return s2;let O2=o2.dom.getBoundingClientRect(),w2=(u2.top+u2.bottom)/2,x2=o2.posAtCoords({x:O2.left+1,y:w2}),C2=o2.posAtCoords({x:O2.right-1,y:w2});return x2==null||C2==null?s2:{from:Math.max(s2.from,Math.min(x2,C2)),to:Math.min(s2.to,Math.max(x2,C2))}}__name(wrappedLine,"wrappedLine");const _LayerView=class _LayerView{constructor(o2,i2){this.view=o2,this.layer=i2,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=o2.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),i2.above&&this.dom.classList.add("cm-layer-above"),i2.class&&this.dom.classList.add(i2.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(o2.state),o2.requestMeasure(this.measureReq),i2.mount&&i2.mount(this.dom,o2)}update(o2){o2.startState.facet(dc)!=o2.state.facet(dc)&&this.setOrder(o2.state),(this.layer.update(o2,this.dom)||o2.geometryChanged)&&(this.scale(),o2.view.requestMeasure(this.measureReq))}docViewUpdate(o2){this.layer.updateOnDocViewUpdate!==!1&&o2.requestMeasure(this.measureReq)}setOrder(o2){let i2=0,a2=o2.facet(dc);for(;i2<a2.length&&a2[i2]!=this.layer;)i2++;this.dom.style.zIndex=String((this.layer.above?150:-1)-i2)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:o2,scaleY:i2}=this.view;o2==this.scaleX&&i2==this.scaleY||(this.scaleX=o2,this.scaleY=i2,this.dom.style.transform=`scale(${1/o2}, ${1/i2})`)}draw(o2){if(o2.length!=this.drawn.length||o2.some((o3,i2)=>!__name(function(o4,i3){return o4.constructor==i3.constructor&&o4.eq(i3)},"sameMarker")(o3,this.drawn[i2]))){let i2=this.dom.firstChild,a2=0;for(let s2 of o2)s2.update&&i2&&s2.constructor&&this.drawn[a2].constructor&&s2.update(i2,this.drawn[a2])?(i2=i2.nextSibling,a2++):this.dom.insertBefore(s2.draw(),i2);for(;i2;){let o3=i2.nextSibling;i2.remove(),i2=o3}this.drawn=o2}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}};__name(_LayerView,"LayerView");let LayerView=_LayerView;const dc=Facet.define();function layer(o2){return[ViewPlugin.define(i2=>new LayerView(i2,o2)),dc.of(o2)]}__name(layer,"layer");const fc=Facet.define({combine:__name(o2=>combineConfig(o2,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:__name((o3,i2)=>Math.min(o3,i2),"cursorBlinkRate"),drawRangeCursor:__name((o3,i2)=>o3||i2,"drawRangeCursor")}),"combine")});function drawSelection(o2={}){return[fc.of(o2),pc,hc,gc,Us.of(!0)]}__name(drawSelection,"drawSelection");function configChanged(o2){return o2.startState.facet(fc)!=o2.state.facet(fc)}__name(configChanged,"configChanged");const pc=layer({above:!0,markers(o2){let{state:i2}=o2,a2=i2.facet(fc),s2=[];for(let u2 of i2.selection.ranges){let O2=u2==i2.selection.main;if(u2.empty||a2.drawRangeCursor){let i3=O2?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a3=u2.empty?u2:EditorSelection.cursor(u2.head,u2.head>u2.anchor?-1:1);for(let u3 of RectangleMarker.forRange(o2,i3,a3))s2.push(u3)}}return s2},update(o2,i2){o2.transactions.some(o3=>o3.selection)&&(i2.style.animationName=i2.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let a2=configChanged(o2);return a2&&setBlinkRate(o2.state,i2),o2.docChanged||o2.selectionSet||a2},mount(o2,i2){setBlinkRate(i2.state,o2)},class:"cm-cursorLayer"});function setBlinkRate(o2,i2){i2.style.animationDuration=o2.facet(fc).cursorBlinkRate+"ms"}__name(setBlinkRate,"setBlinkRate");const hc=layer({above:!1,markers:__name(o2=>o2.state.selection.ranges.map(i2=>i2.empty?[]:RectangleMarker.forRange(o2,"cm-selectionBackground",i2)).reduce((o3,i2)=>o3.concat(i2)),"markers"),update:__name((o2,i2)=>o2.docChanged||o2.selectionSet||o2.viewportChanged||configChanged(o2),"update"),class:"cm-selectionLayer"}),gc=Ea.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),Oc=StateEffect.define({map:__name((o2,i2)=>o2==null?null:i2.mapPos(o2),"map")}),bc=StateField.define({create:__name(()=>null,"create"),update:__name((o2,i2)=>(o2!=null&&(o2=i2.changes.mapPos(o2)),i2.effects.reduce((o3,i3)=>i3.is(Oc)?i3.value:o3,o2)),"update")}),kc=ViewPlugin.fromClass(class{constructor(o2){this.view=o2,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(o2){var i2;let a2=o2.state.field(bc);a2==null?this.cursor!=null&&((i2=this.cursor)===null||i2===void 0||i2.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(o2.startState.field(bc)!=a2||o2.docChanged||o2.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:o2}=this,i2=o2.state.field(bc),a2=i2!=null&&o2.coordsAtPos(i2);if(!a2)return null;let s2=o2.scrollDOM.getBoundingClientRect();return{left:a2.left-s2.left+o2.scrollDOM.scrollLeft*o2.scaleX,top:a2.top-s2.top+o2.scrollDOM.scrollTop*o2.scaleY,height:a2.bottom-a2.top}}drawCursor(o2){if(this.cursor){let{scaleX:i2,scaleY:a2}=this.view;o2?(this.cursor.style.left=o2.left/i2+"px",this.cursor.style.top=o2.top/a2+"px",this.cursor.style.height=o2.height/a2+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(o2){this.view.state.field(bc)!=o2&&this.view.dispatch({effects:Oc.of(o2)})}},{eventObservers:{dragover(o2){this.setDropPos(this.view.posAtCoords({x:o2.clientX,y:o2.clientY}))},dragleave(o2){o2.target!=this.view.contentDOM&&this.view.contentDOM.contains(o2.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function iterMatches(o2,i2,a2,s2,u2){i2.lastIndex=0;for(let O2,w2=o2.iterRange(a2,s2),x2=a2;!w2.next().done;x2+=w2.value.length)if(!w2.lineBreak)for(;O2=i2.exec(w2.value);)u2(x2+O2.index,O2)}__name(iterMatches,"iterMatches");const _MatchDecorator=class _MatchDecorator{constructor(o2){const{regexp:i2,decoration:a2,decorate:s2,boundary:u2,maxLength:O2=1e3}=o2;if(!i2.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=i2,s2)this.addMatch=(o3,i3,a3,u3)=>s2(u3,a3,a3+o3[0].length,o3,i3);else if(typeof a2=="function")this.addMatch=(o3,i3,s3,u3)=>{let O3=a2(o3,i3,s3);O3&&u3(s3,s3+o3[0].length,O3)};else{if(!a2)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(o3,i3,s3,u3)=>u3(s3,s3+o3[0].length,a2)}this.boundary=u2,this.maxLength=O2}createDeco(o2){let i2=new RangeSetBuilder,a2=i2.add.bind(i2);for(let{from:i3,to:s2}of __name(function(o3,i4){let a3=o3.visibleRanges;if(a3.length==1&&a3[0].from==o3.viewport.from&&a3[0].to==o3.viewport.to)return a3;let s3=[];for(let{from:u2,to:O2}of a3)u2=Math.max(o3.state.doc.lineAt(u2).from,u2-i4),O2=Math.min(o3.state.doc.lineAt(O2).to,O2+i4),s3.length&&s3[s3.length-1].to>=u2?s3[s3.length-1].to=O2:s3.push({from:u2,to:O2});return s3},"matchRanges")(o2,this.maxLength))iterMatches(o2.state.doc,this.regexp,i3,s2,(i4,s3)=>this.addMatch(s3,o2,i4,a2));return i2.finish()}updateDeco(o2,i2){let a2=1e9,s2=-1;return o2.docChanged&&o2.changes.iterChanges((i3,u2,O2,w2)=>{w2>=o2.view.viewport.from&&O2<=o2.view.viewport.to&&(a2=Math.min(O2,a2),s2=Math.max(w2,s2))}),o2.viewportMoved||s2-a2>1e3?this.createDeco(o2.view):s2>-1?this.updateRange(o2.view,i2.map(o2.changes),a2,s2):i2}updateRange(o2,i2,a2,s2){for(let u2 of o2.visibleRanges){let O2=Math.max(u2.from,a2),w2=Math.min(u2.to,s2);if(w2>O2){let a3=o2.state.doc.lineAt(O2),s3=a3.to<w2?o2.state.doc.lineAt(w2):a3,x2=Math.max(u2.from,a3.from),C2=Math.min(u2.to,s3.to);if(this.boundary){for(;O2>a3.from;O2--)if(this.boundary.test(a3.text[O2-1-a3.from])){x2=O2;break}for(;w2<s3.to;w2++)if(this.boundary.test(s3.text[w2-s3.from])){C2=w2;break}}let T2,_2=[],add2=__name((o3,i3,a4)=>_2.push(a4.range(o3,i3)),"add2");if(a3==s3)for(this.regexp.lastIndex=x2-a3.from;(T2=this.regexp.exec(a3.text))&&T2.index<C2-a3.from;)this.addMatch(T2,o2,T2.index+a3.from,add2);else iterMatches(o2.state.doc,this.regexp,x2,C2,(i3,a4)=>this.addMatch(a4,o2,i3,add2));i2=i2.update({filterFrom:x2,filterTo:C2,filter:__name((o3,i3)=>o3<x2||i3>C2,"filter"),add:_2})}}return i2}};__name(_MatchDecorator,"MatchDecorator");let MatchDecorator=_MatchDecorator;const Pc=/x/.unicode!=null?"gu":"g",Ec=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,Pc),Rc={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ic=null;const Mc=Facet.define({combine(o2){let i2=combineConfig(o2,{render:null,specialChars:Ec,addSpecialChars:null});return(i2.replaceTabs=!__name(function(){var o3;if(Ic==null&&typeof document<"u"&&document.body){let i3=document.body.style;Ic=((o3=i3.tabSize)!==null&&o3!==void 0?o3:i3.MozTabSize)!=null}return Ic||!1},"supportsTabSize")())&&(i2.specialChars=new RegExp("	|"+i2.specialChars.source,Pc)),i2.addSpecialChars&&(i2.specialChars=new RegExp(i2.specialChars.source+"|"+i2.addSpecialChars.source,Pc)),i2}});function highlightSpecialChars(o2={}){return[Mc.of(o2),_c||(_c=ViewPlugin.fromClass(class{constructor(o3){this.view=o3,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(o3.state.facet(Mc)),this.decorations=this.decorator.createDeco(o3)}makeDecorator(o3){return new MatchDecorator({regexp:o3.specialChars,decoration:__name((i2,a2,s2)=>{let{doc:u2}=a2.state,O2=codePointAt(i2[0],0);if(O2==9){let o4=u2.lineAt(s2),i3=a2.state.tabSize,O3=countColumn(o4.text,i3,s2-o4.from);return Decoration.replace({widget:new TabWidget((i3-O3%i3)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[O2]||(this.decorationCache[O2]=Decoration.replace({widget:new SpecialCharWidget(o3,O2)}))},"decoration"),boundary:o3.replaceTabs?void 0:/[^]/})}update(o3){let i2=o3.state.facet(Mc);o3.startState.facet(Mc)!=i2?(this.decorator=this.makeDecorator(i2),this.decorations=this.decorator.createDeco(o3.view)):this.decorations=this.decorator.updateDeco(o3,this.decorations)}},{decorations:__name(o3=>o3.decorations,"decorations")}))]}__name(highlightSpecialChars,"highlightSpecialChars");let _c=null;const _SpecialCharWidget=class _SpecialCharWidget extends WidgetType{constructor(o2,i2){super(),this.options=o2,this.code=i2}eq(o2){return o2.code==this.code}toDOM(o2){let i2=__name(function(o3){return o3>=32?"•":o3==10?"␤":String.fromCharCode(9216+o3)},"placeholder$1")(this.code),a2=o2.state.phrase("Control character")+" "+(Rc[this.code]||"0x"+this.code.toString(16)),s2=this.options.render&&this.options.render(this.code,a2,i2);if(s2)return s2;let u2=document.createElement("span");return u2.textContent=i2,u2.title=a2,u2.setAttribute("aria-label",a2),u2.className="cm-specialChar",u2}ignoreEvent(){return!1}};__name(_SpecialCharWidget,"SpecialCharWidget");let SpecialCharWidget=_SpecialCharWidget;const _TabWidget=class _TabWidget extends WidgetType{constructor(o2){super(),this.width=o2}eq(o2){return o2.width==this.width}toDOM(){let o2=document.createElement("span");return o2.textContent="	",o2.className="cm-tab",o2.style.width=this.width+"px",o2}ignoreEvent(){return!1}};__name(_TabWidget,"TabWidget");let TabWidget=_TabWidget;function highlightActiveLine(){return Nc}__name(highlightActiveLine,"highlightActiveLine");const Qc=Decoration.line({class:"cm-activeLine"}),Nc=ViewPlugin.fromClass(class{constructor(o2){this.decorations=this.getDeco(o2)}update(o2){(o2.docChanged||o2.selectionSet)&&(this.decorations=this.getDeco(o2.view))}getDeco(o2){let i2=-1,a2=[];for(let s2 of o2.state.selection.ranges){let u2=o2.lineBlockAt(s2.head);u2.from>i2&&(a2.push(Qc.range(u2.from)),i2=u2.from)}return Decoration.set(a2)}},{decorations:__name(o2=>o2.decorations,"decorations")}),Lc=2e3;function getPos(o2,i2){let a2=o2.posAtCoords({x:i2.clientX,y:i2.clientY},!1),s2=o2.state.doc.lineAt(a2),u2=a2-s2.from,O2=u2>Lc?-1:u2==s2.length?__name(function(o3,i3){let a3=o3.coordsAtPos(o3.viewport.from);return a3?Math.round(Math.abs((a3.left-i3)/o3.defaultCharacterWidth)):-1},"absoluteColumn")(o2,i2.clientX):countColumn(s2.text,o2.state.tabSize,a2-s2.from);return{line:s2.number,col:O2,off:u2}}__name(getPos,"getPos");function rectangleSelectionStyle(o2,i2){let a2=getPos(o2,i2),s2=o2.state.selection;return a2?{update(o3){if(o3.docChanged){let i3=o3.changes.mapPos(o3.startState.doc.line(a2.line).from),u2=o3.state.doc.lineAt(i3);a2={line:u2.number,col:a2.col,off:Math.min(a2.off,u2.length)},s2=s2.map(o3.changes)}},get(i3,u2,O2){let w2=getPos(o2,i3);if(!w2)return s2;let x2=__name(function(o3,i4,a3){let s3=Math.min(i4.line,a3.line),u3=Math.max(i4.line,a3.line),O3=[];if(i4.off>Lc||a3.off>Lc||i4.col<0||a3.col<0){let w3=Math.min(i4.off,a3.off),x3=Math.max(i4.off,a3.off);for(let i5=s3;i5<=u3;i5++){let a4=o3.doc.line(i5);a4.length<=x3&&O3.push(EditorSelection.range(a4.from+w3,a4.to+x3))}}else{let w3=Math.min(i4.col,a3.col),x3=Math.max(i4.col,a3.col);for(let i5=s3;i5<=u3;i5++){let a4=o3.doc.line(i5),s4=findColumn(a4.text,w3,o3.tabSize,!0);if(s4<0)O3.push(EditorSelection.cursor(a4.to));else{let i6=findColumn(a4.text,x3,o3.tabSize);O3.push(EditorSelection.range(a4.from+s4,a4.from+i6))}}}return O3},"rectangleFor")(o2.state,a2,w2);return x2.length?O2?EditorSelection.create(x2.concat(s2.ranges)):EditorSelection.create(x2):s2}}:null}__name(rectangleSelectionStyle,"rectangleSelectionStyle");function rectangularSelection(o2){return EditorView.mouseSelectionStyle.of((o3,i2)=>{return(a2=i2).altKey&&a2.button==0?rectangleSelectionStyle(o3,i2):null;var a2})}__name(rectangularSelection,"rectangularSelection");const Fc={Alt:[18,o2=>!!o2.altKey],Control:[17,o2=>!!o2.ctrlKey],Shift:[16,o2=>!!o2.shiftKey],Meta:[91,o2=>!!o2.metaKey]},jc={style:"cursor: crosshair"};function crosshairCursor(o2={}){let[i2,a2]=Fc[o2.key||"Alt"],s2=ViewPlugin.fromClass(class{constructor(o3){this.view=o3,this.isDown=!1}set(o3){this.isDown!=o3&&(this.isDown=o3,this.view.update([]))}},{eventObservers:{keydown(o3){this.set(o3.keyCode==i2||a2(o3))},keyup(o3){o3.keyCode!=i2&&a2(o3)||this.set(!1)},mousemove(o3){this.set(a2(o3))}}});return[s2,EditorView.contentAttributes.of(o3=>{var i3;return!((i3=o3.plugin(s2))===null||i3===void 0)&&i3.isDown?jc:null})]}__name(crosshairCursor,"crosshairCursor");const Hc="-10000px",_TooltipViewManager=class _TooltipViewManager{constructor(o2,i2,a2,s2){this.facet=i2,this.createTooltipView=a2,this.removeTooltipView=s2,this.input=o2.state.facet(i2),this.tooltips=this.input.filter(o3=>o3);let u2=null;this.tooltipViews=this.tooltips.map(o3=>u2=a2(o3,u2))}update(o2,i2){var a2;let s2=o2.state.facet(this.facet),u2=s2.filter(o3=>o3);if(s2===this.input){for(let i3 of this.tooltipViews)i3.update&&i3.update(o2);return!1}let O2=[],w2=i2?[]:null;for(let a3=0;a3<u2.length;a3++){let s3=u2[a3],x2=-1;if(s3){for(let o3=0;o3<this.tooltips.length;o3++){let i3=this.tooltips[o3];i3&&i3.create==s3.create&&(x2=o3)}if(x2<0)O2[a3]=this.createTooltipView(s3,a3?O2[a3-1]:null),w2&&(w2[a3]=!!s3.above);else{let s4=O2[a3]=this.tooltipViews[x2];w2&&(w2[a3]=i2[x2]),s4.update&&s4.update(o2)}}}for(let o3 of this.tooltipViews)O2.indexOf(o3)<0&&(this.removeTooltipView(o3),(a2=o3.destroy)===null||a2===void 0||a2.call(o3));return i2&&(w2.forEach((o3,a3)=>i2[a3]=o3),i2.length=w2.length),this.input=s2,this.tooltips=u2,this.tooltipViews=O2,!0}};__name(_TooltipViewManager,"TooltipViewManager");let TooltipViewManager=_TooltipViewManager;function windowSpace(o2){let i2=o2.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:i2.clientHeight,right:i2.clientWidth}}__name(windowSpace,"windowSpace");const qc=Facet.define({combine:__name(o2=>{var i2,a2,s2;return{position:xs.ios?"absolute":((i2=o2.find(o3=>o3.position))===null||i2===void 0?void 0:i2.position)||"fixed",parent:((a2=o2.find(o3=>o3.parent))===null||a2===void 0?void 0:a2.parent)||null,tooltipSpace:((s2=o2.find(o3=>o3.tooltipSpace))===null||s2===void 0?void 0:s2.tooltipSpace)||windowSpace}},"combine")}),Gc=new WeakMap,Kc=ViewPlugin.fromClass(class{constructor(o2){this.view=o2,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let i2=o2.state.facet(qc);this.position=i2.position,this.parent=i2.parent,this.classes=o2.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(o2,tu,(o3,i3)=>this.createTooltip(o3,i3),o3=>{this.resizeObserver&&this.resizeObserver.unobserve(o3.dom),o3.dom.remove()}),this.above=this.manager.tooltips.map(o3=>!!o3.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(o3=>{Date.now()>this.lastTransaction-50&&o3.length>0&&o3[o3.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),o2.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let o2 of this.manager.tooltipViews)this.intersectionObserver.observe(o2.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(o2){o2.transactions.length&&(this.lastTransaction=Date.now());let i2=this.manager.update(o2,this.above);i2&&this.observeIntersection();let a2=i2||o2.geometryChanged,s2=o2.state.facet(qc);if(s2.position!=this.position&&!this.madeAbsolute){this.position=s2.position;for(let o3 of this.manager.tooltipViews)o3.dom.style.position=this.position;a2=!0}if(s2.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s2.parent,this.createContainer();for(let o3 of this.manager.tooltipViews)this.container.appendChild(o3.dom);a2=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);a2&&this.maybeMeasure()}createTooltip(o2,i2){let a2=o2.create(this.view),s2=i2?i2.dom:null;if(a2.dom.classList.add("cm-tooltip"),o2.arrow&&!a2.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o3=document.createElement("div");o3.className="cm-tooltip-arrow",a2.dom.appendChild(o3)}return a2.dom.style.position=this.position,a2.dom.style.top=Hc,a2.dom.style.left="0px",this.container.insertBefore(a2.dom,s2),a2.mount&&a2.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(a2.dom),a2}destroy(){var o2,i2,a2;this.view.win.removeEventListener("resize",this.measureSoon);for(let i3 of this.manager.tooltipViews)i3.dom.remove(),(o2=i3.destroy)===null||o2===void 0||o2.call(i3);this.parent&&this.container.remove(),(i2=this.resizeObserver)===null||i2===void 0||i2.disconnect(),(a2=this.intersectionObserver)===null||a2===void 0||a2.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let o2=1,i2=1,a2=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:o3}=this.manager.tooltipViews[0];if(xs.gecko)a2=o3.offsetParent!=this.container.ownerDocument.body;else if(o3.style.top==Hc&&o3.style.left=="0px"){let i3=o3.getBoundingClientRect();a2=Math.abs(i3.top+1e4)>1||Math.abs(i3.left)>1}}if(a2||this.position=="absolute")if(this.parent){let a3=this.parent.getBoundingClientRect();a3.width&&a3.height&&(o2=a3.width/this.parent.offsetWidth,i2=a3.height/this.parent.offsetHeight)}else({scaleX:o2,scaleY:i2}=this.view.viewState);let s2=this.view.scrollDOM.getBoundingClientRect(),u2=getScrollMargins(this.view);return{visible:{left:s2.left+u2.left,top:s2.top+u2.top,right:s2.right-u2.right,bottom:s2.bottom-u2.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((o3,i3)=>{let a3=this.manager.tooltipViews[i3];return a3.getCoords?a3.getCoords(o3.pos):this.view.coordsAtPos(o3.pos)}),size:this.manager.tooltipViews.map(({dom:o3})=>o3.getBoundingClientRect()),space:this.view.state.facet(qc).tooltipSpace(this.view),scaleX:o2,scaleY:i2,makeAbsolute:a2}}writeMeasure(o2){var i2;if(o2.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o3 of this.manager.tooltipViews)o3.dom.style.position="absolute"}let{visible:a2,space:s2,scaleX:u2,scaleY:O2}=o2,w2=[];for(let x2=0;x2<this.manager.tooltips.length;x2++){let C2=this.manager.tooltips[x2],T2=this.manager.tooltipViews[x2],{dom:_2}=T2,A2=o2.pos[x2],Q2=o2.size[x2];if(!A2||C2.clip!==!1&&(A2.bottom<=Math.max(a2.top,s2.top)||A2.top>=Math.min(a2.bottom,s2.bottom)||A2.right<Math.max(a2.left,s2.left)-.1||A2.left>Math.min(a2.right,s2.right)+.1)){_2.style.top=Hc;continue}let N2=C2.arrow?T2.dom.querySelector(".cm-tooltip-arrow"):null,L2=N2?7:0,$2=Q2.right-Q2.left,F2=(i2=Gc.get(T2))!==null&&i2!==void 0?i2:Q2.bottom-Q2.top,B2=T2.offset||eu,V2=this.view.textDirection==Ps.LTR,z2=Q2.width>s2.right-s2.left?V2?s2.left:s2.right-Q2.width:V2?Math.max(s2.left,Math.min(A2.left-(N2?14:0)+B2.x,s2.right-$2)):Math.min(Math.max(s2.left,A2.left-$2+(N2?14:0)-B2.x),s2.right-$2),j2=this.above[x2];!C2.strictSide&&(j2?A2.top-F2-L2-B2.y<s2.top:A2.bottom+F2+L2+B2.y>s2.bottom)&&j2==s2.bottom-A2.bottom>A2.top-s2.top&&(j2=this.above[x2]=!j2);let U2=(j2?A2.top-s2.top:s2.bottom-A2.bottom)-L2;if(U2<F2&&T2.resize!==!1){if(U2<this.view.defaultLineHeight){_2.style.top=Hc;continue}Gc.set(T2,F2),_2.style.height=(F2=U2)/O2+"px"}else _2.style.height&&(_2.style.height="");let Z2=j2?A2.top-F2-L2-B2.y:A2.bottom+L2+B2.y,X2=z2+$2;if(T2.overlap!==!0)for(let o3 of w2)o3.left<X2&&o3.right>z2&&o3.top<Z2+F2&&o3.bottom>Z2&&(Z2=j2?o3.top-F2-2-L2:o3.bottom+L2+2);if(this.position=="absolute"?(_2.style.top=(Z2-o2.parent.top)/O2+"px",setLeftStyle(_2,(z2-o2.parent.left)/u2)):(_2.style.top=Z2/O2+"px",setLeftStyle(_2,z2/u2)),N2){let o3=A2.left+(V2?B2.x:-B2.x)-(z2+14-7);N2.style.left=o3/u2+"px"}T2.overlap!==!0&&w2.push({left:z2,top:Z2,right:X2,bottom:Z2+F2}),_2.classList.toggle("cm-tooltip-above",j2),_2.classList.toggle("cm-tooltip-below",!j2),T2.positioned&&T2.positioned(o2.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let o2 of this.manager.tooltipViews)o2.dom.style.top=Hc}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(o2,i2){let a2=parseInt(o2.style.left,10);(isNaN(a2)||Math.abs(i2-a2)>1)&&(o2.style.left=i2+"px")}__name(setLeftStyle,"setLeftStyle");const Jc=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),eu={x:0,y:0},tu=Facet.define({enables:[Kc,Jc]}),nu=Facet.define({combine:__name(o2=>o2.reduce((o3,i2)=>o3.concat(i2),[]),"combine")}),_HoverTooltipHost=class _HoverTooltipHost{static create(o2){return new _HoverTooltipHost(o2)}constructor(o2){this.view=o2,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(o2,nu,(o3,i2)=>this.createHostedView(o3,i2),o3=>o3.dom.remove())}createHostedView(o2,i2){let a2=o2.create(this.view);return a2.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(a2.dom,i2?i2.dom.nextSibling:this.dom.firstChild),this.mounted&&a2.mount&&a2.mount(this.view),a2}mount(o2){for(let i2 of this.manager.tooltipViews)i2.mount&&i2.mount(o2);this.mounted=!0}positioned(o2){for(let i2 of this.manager.tooltipViews)i2.positioned&&i2.positioned(o2)}update(o2){this.manager.update(o2)}destroy(){var o2;for(let i2 of this.manager.tooltipViews)(o2=i2.destroy)===null||o2===void 0||o2.call(i2)}passProp(o2){let i2;for(let a2 of this.manager.tooltipViews){let s2=a2[o2];if(s2!==void 0){if(i2===void 0)i2=s2;else if(i2!==s2)return}}return i2}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}};__name(_HoverTooltipHost,"HoverTooltipHost");let HoverTooltipHost=_HoverTooltipHost;const ru=tu.compute([nu],o2=>{let i2=o2.facet(nu);return i2.length===0?null:{pos:Math.min(...i2.map(o3=>o3.pos)),end:Math.max(...i2.map(o3=>{var i3;return(i3=o3.end)!==null&&i3!==void 0?i3:o3.pos})),create:HoverTooltipHost.create,above:i2[0].above,arrow:i2.some(o3=>o3.arrow)}}),_HoverPlugin=class _HoverPlugin{constructor(o2,i2,a2,s2,u2){this.view=o2,this.source=i2,this.field=a2,this.setHover=s2,this.hoverTime=u2,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:o2.dom,time:0},this.checkHover=this.checkHover.bind(this),o2.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),o2.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let o2=Date.now()-this.lastMove.time;o2<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-o2):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:o2,lastMove:i2}=this,a2=o2.docView.nearest(i2.target);if(!a2)return;let s2,u2=1;if(a2 instanceof WidgetView)s2=a2.posAtStart;else{if(s2=o2.posAtCoords(i2),s2==null)return;let a3=o2.coordsAtPos(s2);if(!a3||i2.y<a3.top||i2.y>a3.bottom||i2.x<a3.left-o2.defaultCharacterWidth||i2.x>a3.right+o2.defaultCharacterWidth)return;let O3=o2.bidiSpans(o2.state.doc.lineAt(s2)).find(o3=>o3.from<=s2&&o3.to>=s2),w2=O3&&O3.dir==Ps.RTL?-1:1;u2=i2.x<a3.left?-w2:w2}let O2=this.source(o2,s2,u2);if(O2!=null&&O2.then){let i3=this.pending={pos:s2};O2.then(a3=>{this.pending==i3&&(this.pending=null,!a3||Array.isArray(a3)&&!a3.length||o2.dispatch({effects:this.setHover.of(Array.isArray(a3)?a3:[a3])}))},i4=>logException(o2.state,i4,"hover tooltip"))}else!O2||Array.isArray(O2)&&!O2.length||o2.dispatch({effects:this.setHover.of(Array.isArray(O2)?O2:[O2])})}get tooltip(){let o2=this.view.plugin(Kc),i2=o2?o2.manager.tooltips.findIndex(o3=>o3.create==HoverTooltipHost.create):-1;return i2>-1?o2.manager.tooltipViews[i2]:null}mousemove(o2){var i2,a2;this.lastMove={x:o2.clientX,y:o2.clientY,target:o2.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:s2,tooltip:u2}=this;if(s2.length&&u2&&!__name(function(o3,i3){let a3,{left:s3,right:u3,top:O2,bottom:w2}=o3.getBoundingClientRect();if(a3=o3.querySelector(".cm-tooltip-arrow")){let o4=a3.getBoundingClientRect();O2=Math.min(o4.top,O2),w2=Math.max(o4.bottom,w2)}return i3.clientX>=s3-ou&&i3.clientX<=u3+ou&&i3.clientY>=O2-ou&&i3.clientY<=w2+ou},"isInTooltip")(u2.dom,o2)||this.pending){let{pos:u3}=s2[0]||this.pending,O2=(a2=(i2=s2[0])===null||i2===void 0?void 0:i2.end)!==null&&a2!==void 0?a2:u3;(u3==O2?this.view.posAtCoords(this.lastMove)==u3:__name(function(o3,i3,a3,s3,u4,O3){let w2=o3.scrollDOM.getBoundingClientRect(),x2=o3.documentTop+o3.documentPadding.top+o3.contentHeight;if(w2.left>s3||w2.right<s3||w2.top>u4||Math.min(w2.bottom,x2)<u4)return!1;let C2=o3.posAtCoords({x:s3,y:u4},!1);return C2>=i3&&C2<=a3},"isOverRange")(this.view,u3,O2,o2.clientX,o2.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(o2){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:i2}=this;if(i2.length){let{tooltip:i3}=this;i3&&i3.dom.contains(o2.relatedTarget)?this.watchTooltipLeave(i3.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(o2){let watch=__name(i2=>{o2.removeEventListener("mouseleave",watch),this.active.length&&!this.view.dom.contains(i2.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})},"watch");o2.addEventListener("mouseleave",watch)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}};__name(_HoverPlugin,"HoverPlugin");let HoverPlugin=_HoverPlugin;const ou=4;function hoverTooltip(o2,i2={}){let a2=StateEffect.define(),s2=StateField.define({create:__name(()=>[],"create"),update(o3,s3){if(o3.length&&(i2.hideOnChange&&(s3.docChanged||s3.selection)?o3=[]:i2.hideOn&&(o3=o3.filter(o4=>!i2.hideOn(s3,o4))),s3.docChanged)){let i3=[];for(let a3 of o3){let o4=s3.changes.mapPos(a3.pos,-1,va.TrackDel);if(o4!=null){let u2=Object.assign(Object.create(null),a3);u2.pos=o4,u2.end!=null&&(u2.end=s3.changes.mapPos(u2.end)),i3.push(u2)}}o3=i3}for(let i3 of s3.effects)i3.is(a2)&&(o3=i3.value),i3.is(iu)&&(o3=[]);return o3},provide:__name(o3=>nu.from(o3),"provide")});return{active:s2,extension:[s2,ViewPlugin.define(u2=>new HoverPlugin(u2,o2,s2,a2,i2.hoverTime||300)),ru]}}__name(hoverTooltip,"hoverTooltip");function getTooltip(o2,i2){let a2=o2.plugin(Kc);if(!a2)return null;let s2=a2.manager.tooltips.indexOf(i2);return s2<0?null:a2.manager.tooltipViews[s2]}__name(getTooltip,"getTooltip");const iu=StateEffect.define(),au=Facet.define({combine(o2){let i2,a2;for(let s2 of o2)i2=i2||s2.topContainer,a2=a2||s2.bottomContainer;return{topContainer:i2,bottomContainer:a2}}});function getPanel(o2,i2){let a2=o2.plugin(su),s2=a2?a2.specs.indexOf(i2):-1;return s2>-1?a2.panels[s2]:null}__name(getPanel,"getPanel");const su=ViewPlugin.fromClass(class{constructor(o2){this.input=o2.state.facet(lu),this.specs=this.input.filter(o3=>o3),this.panels=this.specs.map(i3=>i3(o2));let i2=o2.state.facet(au);this.top=new PanelGroup(o2,!0,i2.topContainer),this.bottom=new PanelGroup(o2,!1,i2.bottomContainer),this.top.sync(this.panels.filter(o3=>o3.top)),this.bottom.sync(this.panels.filter(o3=>!o3.top));for(let o3 of this.panels)o3.dom.classList.add("cm-panel"),o3.mount&&o3.mount()}update(o2){let i2=o2.state.facet(au);this.top.container!=i2.topContainer&&(this.top.sync([]),this.top=new PanelGroup(o2.view,!0,i2.topContainer)),this.bottom.container!=i2.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(o2.view,!1,i2.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let a2=o2.state.facet(lu);if(a2!=this.input){let i3=a2.filter(o3=>o3),s2=[],u2=[],O2=[],w2=[];for(let a3 of i3){let i4,x2=this.specs.indexOf(a3);x2<0?(i4=a3(o2.view),w2.push(i4)):(i4=this.panels[x2],i4.update&&i4.update(o2)),s2.push(i4),(i4.top?u2:O2).push(i4)}this.specs=i3,this.panels=s2,this.top.sync(u2),this.bottom.sync(O2);for(let o3 of w2)o3.dom.classList.add("cm-panel"),o3.mount&&o3.mount()}else for(let i3 of this.panels)i3.update&&i3.update(o2)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:__name(o2=>EditorView.scrollMargins.of(i2=>{let a2=i2.plugin(o2);return a2&&{top:a2.top.scrollMargin(),bottom:a2.bottom.scrollMargin()}}),"provide")}),_PanelGroup=class _PanelGroup{constructor(o2,i2,a2){this.view=o2,this.top=i2,this.container=a2,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(o2){for(let i2 of this.panels)i2.destroy&&o2.indexOf(i2)<0&&i2.destroy();this.panels=o2,this.syncDOM()}syncDOM(){if(this.panels.length==0)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let o3=this.container||this.view.dom;o3.insertBefore(this.dom,this.top?o3.firstChild:null)}let o2=this.dom.firstChild;for(let i2 of this.panels)if(i2.dom.parentNode==this.dom){for(;o2!=i2.dom;)o2=rm(o2);o2=o2.nextSibling}else this.dom.insertBefore(i2.dom,o2);for(;o2;)o2=rm(o2)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let o2 of this.classes.split(" "))o2&&this.container.classList.remove(o2);for(let o2 of(this.classes=this.view.themeClasses).split(" "))o2&&this.container.classList.add(o2)}}};__name(_PanelGroup,"PanelGroup");let PanelGroup=_PanelGroup;function rm(o2){let i2=o2.nextSibling;return o2.remove(),i2}__name(rm,"rm");const lu=Facet.define({enables:su}),_GutterMarker=class _GutterMarker extends RangeValue{compare(o2){return this==o2||this.constructor==o2.constructor&&this.eq(o2)}eq(o2){return!1}destroy(o2){}};__name(_GutterMarker,"GutterMarker");let GutterMarker=_GutterMarker;GutterMarker.prototype.elementClass="",GutterMarker.prototype.toDOM=void 0,GutterMarker.prototype.mapMode=va.TrackBefore,GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1,GutterMarker.prototype.point=!0;const cu=Facet.define(),uu=Facet.define(),du={class:"",renderEmptyElements:!1,elementStyle:"",markers:__name(()=>RangeSet.empty,"markers"),lineMarker:__name(()=>null,"lineMarker"),widgetMarker:__name(()=>null,"widgetMarker"),lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},fu=Facet.define();function gutter(o2){return[gutters(),fu.of(Object.assign(Object.assign({},du),o2))]}__name(gutter,"gutter");const pu=Facet.define({combine:__name(o2=>o2.some(o3=>o3),"combine")});function gutters(o2){return[hu]}__name(gutters,"gutters");const hu=ViewPlugin.fromClass(class{constructor(o2){this.view=o2,this.prevViewport=o2.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=o2.state.facet(fu).map(i2=>new SingleGutterView(o2,i2));for(let o3 of this.gutters)this.dom.appendChild(o3.dom);this.fixed=!o2.state.facet(pu),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),o2.scrollDOM.insertBefore(this.dom,o2.contentDOM)}update(o2){if(this.updateGutters(o2)){let i2=this.prevViewport,a2=o2.view.viewport,s2=Math.min(i2.to,a2.to)-Math.max(i2.from,a2.from);this.syncGutters(s2<.8*(a2.to-a2.from))}o2.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(pu)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=o2.view.viewport}syncGutters(o2){let i2=this.dom.nextSibling;o2&&this.dom.remove();let a2=RangeSet.iter(this.view.state.facet(cu),this.view.viewport.from),s2=[],u2=this.gutters.map(o3=>new UpdateContext(o3,this.view.viewport,-this.view.documentPadding.top));for(let o3 of this.view.viewportLineBlocks)if(s2.length&&(s2=[]),Array.isArray(o3.type)){let i3=!0;for(let O2 of o3.type)if(O2.type==Cs.Text&&i3){advanceCursor(a2,s2,O2.from);for(let o4 of u2)o4.line(this.view,O2,s2);i3=!1}else if(O2.widget)for(let o4 of u2)o4.widget(this.view,O2)}else if(o3.type==Cs.Text){advanceCursor(a2,s2,o3.from);for(let i3 of u2)i3.line(this.view,o3,s2)}else if(o3.widget)for(let i3 of u2)i3.widget(this.view,o3);for(let o3 of u2)o3.finish();o2&&this.view.scrollDOM.insertBefore(this.dom,i2)}updateGutters(o2){let i2=o2.startState.facet(fu),a2=o2.state.facet(fu),s2=o2.docChanged||o2.heightChanged||o2.viewportChanged||!RangeSet.eq(o2.startState.facet(cu),o2.state.facet(cu),o2.view.viewport.from,o2.view.viewport.to);if(i2==a2)for(let i3 of this.gutters)i3.update(o2)&&(s2=!0);else{s2=!0;let u2=[];for(let s3 of a2){let a3=i2.indexOf(s3);a3<0?u2.push(new SingleGutterView(this.view,s3)):(this.gutters[a3].update(o2),u2.push(this.gutters[a3]))}for(let o3 of this.gutters)o3.dom.remove(),u2.indexOf(o3)<0&&o3.destroy();for(let o3 of u2)this.dom.appendChild(o3.dom);this.gutters=u2}return s2}destroy(){for(let o2 of this.gutters)o2.destroy();this.dom.remove()}},{provide:__name(o2=>EditorView.scrollMargins.of(i2=>{let a2=i2.plugin(o2);return a2&&a2.gutters.length!=0&&a2.fixed?i2.textDirection==Ps.LTR?{left:a2.dom.offsetWidth*i2.scaleX}:{right:a2.dom.offsetWidth*i2.scaleX}:null}),"provide")});function asArray(o2){return Array.isArray(o2)?o2:[o2]}__name(asArray,"asArray");function advanceCursor(o2,i2,a2){for(;o2.value&&o2.from<=a2;)o2.from==a2&&i2.push(o2.value),o2.next()}__name(advanceCursor,"advanceCursor");const _UpdateContext=class _UpdateContext{constructor(o2,i2,a2){this.gutter=o2,this.height=a2,this.i=0,this.cursor=RangeSet.iter(o2.markers,i2.from)}addElement(o2,i2,a2){let{gutter:s2}=this,u2=(i2.top-this.height)/o2.scaleY,O2=i2.height/o2.scaleY;if(this.i==s2.elements.length){let i3=new GutterElement(o2,O2,u2,a2);s2.elements.push(i3),s2.dom.appendChild(i3.dom)}else s2.elements[this.i].update(o2,O2,u2,a2);this.height=i2.bottom,this.i++}line(o2,i2,a2){let s2=[];advanceCursor(this.cursor,s2,i2.from),a2.length&&(s2=s2.concat(a2));let u2=this.gutter.config.lineMarker(o2,i2,s2);u2&&s2.unshift(u2);let O2=this.gutter;(s2.length!=0||O2.config.renderEmptyElements)&&this.addElement(o2,i2,s2)}widget(o2,i2){let a2=this.gutter.config.widgetMarker(o2,i2.widget,i2),s2=a2?[a2]:null;for(let a3 of o2.state.facet(uu)){let u2=a3(o2,i2.widget,i2);u2&&(s2||(s2=[])).push(u2)}s2&&this.addElement(o2,i2,s2)}finish(){let o2=this.gutter;for(;o2.elements.length>this.i;){let i2=o2.elements.pop();o2.dom.removeChild(i2.dom),i2.destroy()}}};__name(_UpdateContext,"UpdateContext");let UpdateContext=_UpdateContext;const _SingleGutterView=class _SingleGutterView{constructor(o2,i2){this.view=o2,this.config=i2,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let a2 in i2.domEventHandlers)this.dom.addEventListener(a2,s2=>{let u2,O2=s2.target;if(O2!=this.dom&&this.dom.contains(O2)){for(;O2.parentNode!=this.dom;)O2=O2.parentNode;let o3=O2.getBoundingClientRect();u2=(o3.top+o3.bottom)/2}else u2=s2.clientY;let w2=o2.lineBlockAtHeight(u2-o2.documentTop);i2.domEventHandlers[a2](o2,w2,s2)&&s2.preventDefault()});this.markers=asArray(i2.markers(o2)),i2.initialSpacer&&(this.spacer=new GutterElement(o2,0,0,[i2.initialSpacer(o2)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(o2){let i2=this.markers;if(this.markers=asArray(this.config.markers(o2.view)),this.spacer&&this.config.updateSpacer){let i3=this.config.updateSpacer(this.spacer.markers[0],o2);i3!=this.spacer.markers[0]&&this.spacer.update(o2.view,0,0,[i3])}let a2=o2.view.viewport;return!RangeSet.eq(this.markers,i2,a2.from,a2.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(o2)}destroy(){for(let o2 of this.elements)o2.destroy()}};__name(_SingleGutterView,"SingleGutterView");let SingleGutterView=_SingleGutterView;const _GutterElement=class _GutterElement{constructor(o2,i2,a2,s2){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(o2,i2,a2,s2)}update(o2,i2,a2,s2){this.height!=i2&&(this.height=i2,this.dom.style.height=i2+"px"),this.above!=a2&&(this.dom.style.marginTop=(this.above=a2)?a2+"px":""),__name(function(o3,i3){if(o3.length!=i3.length)return!1;for(let a3=0;a3<o3.length;a3++)if(!o3[a3].compare(i3[a3]))return!1;return!0},"sameMarkers")(this.markers,s2)||this.setMarkers(o2,s2)}setMarkers(o2,i2){let a2="cm-gutterElement",s2=this.dom.firstChild;for(let u2=0,O2=0;;){let w2=O2,x2=u2<i2.length?i2[u2++]:null,C2=!1;if(x2){let o3=x2.elementClass;o3&&(a2+=" "+o3);for(let o4=O2;o4<this.markers.length;o4++)if(this.markers[o4].compare(x2)){w2=o4,C2=!0;break}}else w2=this.markers.length;for(;O2<w2;){let o3=this.markers[O2++];if(o3.toDOM){o3.destroy(s2);let i3=s2.nextSibling;s2.remove(),s2=i3}}if(!x2)break;x2.toDOM&&(C2?s2=s2.nextSibling:this.dom.insertBefore(x2.toDOM(o2),s2)),C2&&O2++}this.dom.className=a2,this.markers=i2}destroy(){this.setMarkers(null,[])}};__name(_GutterElement,"GutterElement");let GutterElement=_GutterElement;const gu=Facet.define(),mu=Facet.define(),vu=Facet.define({combine:__name(o2=>combineConfig(o2,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(o3,i2){let a2=Object.assign({},o3);for(let o4 in i2){let s2=a2[o4],u2=i2[o4];a2[o4]=s2?(o5,i3,a3)=>s2(o5,i3,a3)||u2(o5,i3,a3):u2}return a2}}),"combine")}),_NumberMarker=class _NumberMarker extends GutterMarker{constructor(o2){super(),this.number=o2}eq(o2){return this.number==o2.number}toDOM(){return document.createTextNode(this.number)}};__name(_NumberMarker,"NumberMarker");let NumberMarker=_NumberMarker;function formatNumber(o2,i2){return o2.state.facet(vu).formatNumber(i2,o2.state)}__name(formatNumber,"formatNumber");const yu=fu.compute([vu],o2=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:__name(o3=>o3.state.facet(gu),"markers"),lineMarker:__name((o3,i2,a2)=>a2.some(o4=>o4.toDOM)?null:new NumberMarker(formatNumber(o3,o3.state.doc.lineAt(i2.from).number)),"lineMarker"),widgetMarker:__name((o3,i2,a2)=>{for(let s2 of o3.state.facet(mu)){let u2=s2(o3,i2,a2);if(u2)return u2}return null},"widgetMarker"),lineMarkerChange:__name(o3=>o3.startState.facet(vu)!=o3.state.facet(vu),"lineMarkerChange"),initialSpacer:__name(o3=>new NumberMarker(formatNumber(o3,maxLineNumber(o3.state.doc.lines))),"initialSpacer"),updateSpacer(o3,i2){let a2=formatNumber(i2.view,maxLineNumber(i2.view.state.doc.lines));return a2==o3.number?o3:new NumberMarker(a2)},domEventHandlers:o2.facet(vu).domEventHandlers}));function lineNumbers(o2={}){return[vu.of(o2),gutters(),yu]}__name(lineNumbers,"lineNumbers");function maxLineNumber(o2){let i2=9;for(;i2<o2;)i2=10*i2+9;return i2}__name(maxLineNumber,"maxLineNumber");const Ou=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},bu=cu.compute(["selection"],o2=>{let i2=[],a2=-1;for(let s2 of o2.selection.ranges){let u2=o2.doc.lineAt(s2.head).from;u2>a2&&(a2=u2,i2.push(Ou.range(u2)))}return RangeSet.of(i2)});function highlightActiveLineGutter(){return bu}__name(highlightActiveLineGutter,"highlightActiveLineGutter");const Su=1024;let wu=0;const _Range2=class _Range2{constructor(o2,i2){this.from=o2,this.to=i2}};__name(_Range2,"Range2");let Range2=_Range2;const _NodeProp=class _NodeProp{constructor(o2={}){this.id=wu++,this.perNode=!!o2.perNode,this.deserialize=o2.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(o2){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof o2!="function"&&(o2=NodeType.match(o2)),i2=>{let a2=o2(i2);return a2===void 0?null:[this,a2]}}};__name(_NodeProp,"NodeProp");let NodeProp=_NodeProp;NodeProp.closedBy=new NodeProp({deserialize:__name(o2=>o2.split(" "),"deserialize")}),NodeProp.openedBy=new NodeProp({deserialize:__name(o2=>o2.split(" "),"deserialize")}),NodeProp.group=new NodeProp({deserialize:__name(o2=>o2.split(" "),"deserialize")}),NodeProp.isolate=new NodeProp({deserialize:__name(o2=>{if(o2&&o2!="rtl"&&o2!="ltr"&&o2!="auto")throw new RangeError("Invalid value for isolate: "+o2);return o2||"auto"},"deserialize")}),NodeProp.contextHash=new NodeProp({perNode:!0}),NodeProp.lookAhead=new NodeProp({perNode:!0}),NodeProp.mounted=new NodeProp({perNode:!0});const _MountedTree=class _MountedTree{constructor(o2,i2,a2){this.tree=o2,this.overlay=i2,this.parser=a2}static get(o2){return o2&&o2.props&&o2.props[NodeProp.mounted.id]}};__name(_MountedTree,"MountedTree");let MountedTree=_MountedTree;const xu=Object.create(null),_NodeType=class _NodeType{constructor(o2,i2,a2,s2=0){this.name=o2,this.props=i2,this.id=a2,this.flags=s2}static define(o2){let i2=o2.props&&o2.props.length?Object.create(null):xu,a2=(o2.top?1:0)|(o2.skipped?2:0)|(o2.error?4:0)|(o2.name==null?8:0),s2=new _NodeType(o2.name||"",i2,o2.id,a2);if(o2.props){for(let a3 of o2.props)if(Array.isArray(a3)||(a3=a3(s2)),a3){if(a3[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");i2[a3[0].id]=a3[1]}}return s2}prop(o2){return this.props[o2.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(o2){if(typeof o2=="string"){if(this.name==o2)return!0;let i2=this.prop(NodeProp.group);return!!i2&&i2.indexOf(o2)>-1}return this.id==o2}static match(o2){let i2=Object.create(null);for(let a2 in o2)for(let s2 of a2.split(" "))i2[s2]=o2[a2];return o3=>{for(let a2=o3.prop(NodeProp.group),s2=-1;s2<(a2?a2.length:0);s2++){let u2=i2[s2<0?o3.name:a2[s2]];if(u2)return u2}}}};__name(_NodeType,"NodeType");let NodeType=_NodeType;NodeType.none=new NodeType("",Object.create(null),0,8);const _NodeSet=class _NodeSet{constructor(o2){this.types=o2;for(let i2=0;i2<o2.length;i2++)if(o2[i2].id!=i2)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...o2){let i2=[];for(let a2 of this.types){let s2=null;for(let i3 of o2){let o3=i3(a2);o3&&(s2||(s2=Object.assign({},a2.props)),s2[o3[0].id]=o3[1])}i2.push(s2?new NodeType(a2.name,s2,a2.id,a2.flags):a2)}return new _NodeSet(i2)}};__name(_NodeSet,"NodeSet");let NodeSet=_NodeSet;const ku=new WeakMap,Cu=new WeakMap;var Pu;(function(o2){o2[o2.ExcludeBuffers=1]="ExcludeBuffers",o2[o2.IncludeAnonymous=2]="IncludeAnonymous",o2[o2.IgnoreMounts=4]="IgnoreMounts",o2[o2.IgnoreOverlays=8]="IgnoreOverlays"})(Pu||(Pu={}));const _Tree=class _Tree{constructor(o2,i2,a2,s2,u2){if(this.type=o2,this.children=i2,this.positions=a2,this.length=s2,this.props=null,u2&&u2.length){this.props=Object.create(null);for(let[o3,i3]of u2)this.props[typeof o3=="number"?o3:o3.id]=i3}}toString(){let o2=MountedTree.get(this);if(o2&&!o2.overlay)return o2.tree.toString();let i2="";for(let o3 of this.children){let a2=o3.toString();a2&&(i2&&(i2+=","),i2+=a2)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(i2.length?"("+i2+")":""):i2}cursor(o2=0){return new TreeCursor(this.topNode,o2)}cursorAt(o2,i2=0,a2=0){let s2=ku.get(this)||this.topNode,u2=new TreeCursor(s2);return u2.moveTo(o2,i2),ku.set(this,u2._tree),u2}get topNode(){return new TreeNode(this,0,0,null)}resolve(o2,i2=0){let a2=resolveNode(ku.get(this)||this.topNode,o2,i2,!1);return ku.set(this,a2),a2}resolveInner(o2,i2=0){let a2=resolveNode(Cu.get(this)||this.topNode,o2,i2,!0);return Cu.set(this,a2),a2}resolveStack(o2,i2=0){return __name(function(o3,i3,a2){let s2=o3.resolveInner(i3,a2),u2=null;for(let o4=s2 instanceof TreeNode?s2:s2.context.parent;o4;o4=o4.parent)if(o4.index<0){let O2=o4.parent;(u2||(u2=[s2])).push(O2.resolve(i3,a2)),o4=O2}else{let O2=MountedTree.get(o4.tree);if(O2&&O2.overlay&&O2.overlay[0].from<=i3&&O2.overlay[O2.overlay.length-1].to>=i3){let w2=new TreeNode(O2.tree,O2.overlay[0].from+o4.from,-1,o4);(u2||(u2=[s2])).push(resolveNode(w2,i3,a2,!1))}}return u2?iterStack(u2):s2},"stackIterator")(this,o2,i2)}iterate(o2){let{enter:i2,leave:a2,from:s2=0,to:u2=this.length}=o2,O2=o2.mode||0,w2=(O2&Pu.IncludeAnonymous)>0;for(let o3=this.cursor(O2|Pu.IncludeAnonymous);;){let O3=!1;if(o3.from<=u2&&o3.to>=s2&&(!w2&&o3.type.isAnonymous||i2(o3)!==!1)){if(o3.firstChild())continue;O3=!0}for(;O3&&a2&&(w2||!o3.type.isAnonymous)&&a2(o3),!o3.nextSibling();){if(!o3.parent())return;O3=!0}}}prop(o2){return o2.perNode?this.props?this.props[o2.id]:void 0:this.type.prop(o2)}get propValues(){let o2=[];if(this.props)for(let i2 in this.props)o2.push([+i2,this.props[i2]]);return o2}balance(o2={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(o3,i2,a2)=>new _Tree(this.type,o3,i2,a2,this.propValues),o2.makeTree||((o3,i2,a2)=>new _Tree(NodeType.none,o3,i2,a2)))}static build(o2){return __name(function(o3){var i2;let{buffer:a2,nodeSet:s2,maxBufferLength:u2=Su,reused:O2=[],minRepeatType:w2=s2.types.length}=o3,x2=Array.isArray(a2)?new FlatBufferCursor(a2,a2.length):a2,C2=s2.types,T2=0,_2=0;function takeNode(o4,i3,a3,A3,Q3,N3){let{id:L2,start:$2,end:F2,size:B2}=x2,V2=_2,z2=T2;for(;B2<0;){if(x2.next(),B2==-1){let i4=O2[L2];return a3.push(i4),void A3.push($2-o4)}if(B2==-3)return void(T2=L2);if(B2==-4)return void(_2=L2);throw new RangeError(`Unrecognized record size: ${B2}`)}let j2,U2,Z2=C2[L2],X2=$2-o4;if(F2-$2<=u2&&(U2=findBufferSize(x2.pos-i3,Q3))){let i4=new Uint16Array(U2.size-U2.skip),a4=x2.pos-U2.size,u3=i4.length;for(;x2.pos>a4;)u3=copyToBuffer(U2.start,i4,u3);j2=new TreeBuffer(i4,F2-U2.start,s2),X2=U2.start-o4}else{let o5=x2.pos-B2;x2.next();let i4=[],a4=[],s3=L2>=w2?L2:-1,O3=0,C3=F2;for(;x2.pos>o5;)s3>=0&&x2.id==s3&&x2.size>=0?(x2.end<=C3-u2&&(makeRepeatLeaf(i4,a4,$2,O3,x2.end,C3,s3,V2,z2),O3=i4.length,C3=x2.end),x2.next()):N3>2500?takeFlatNode($2,o5,i4,a4):takeNode($2,o5,i4,a4,s3,N3+1);if(s3>=0&&O3>0&&O3<i4.length&&makeRepeatLeaf(i4,a4,$2,O3,$2,C3,s3,V2,z2),i4.reverse(),a4.reverse(),s3>-1&&O3>0){let o6=makeBalanced(Z2,z2);j2=balanceRange(Z2,i4,a4,0,i4.length,0,F2-$2,o6,o6)}else j2=makeTree(Z2,i4,a4,F2-$2,V2-F2,z2)}a3.push(j2),A3.push(X2)}__name(takeNode,"takeNode");function takeFlatNode(o4,i3,a3,O3){let w3=[],C3=0,T3=-1;for(;x2.pos>i3;){let{id:o5,start:i4,end:a4,size:s3}=x2;if(s3>4)x2.next();else{if(T3>-1&&i4<T3)break;T3<0&&(T3=a4-u2),w3.push(o5,i4,a4),C3++,x2.next()}}if(C3){let i4=new Uint16Array(4*C3),u3=w3[w3.length-2];for(let o5=w3.length-3,a4=0;o5>=0;o5-=3)i4[a4++]=w3[o5],i4[a4++]=w3[o5+1]-u3,i4[a4++]=w3[o5+2]-u3,i4[a4++]=a4;a3.push(new TreeBuffer(i4,w3[2]-u3,s2)),O3.push(u3-o4)}}__name(takeFlatNode,"takeFlatNode");function makeBalanced(o4,i3){return(a3,s3,u3)=>{let O3,w3,x3=0,C3=a3.length-1;if(C3>=0&&(O3=a3[C3])instanceof _Tree){if(!C3&&O3.type==o4&&O3.length==u3)return O3;(w3=O3.prop(NodeProp.lookAhead))&&(x3=s3[C3]+O3.length+w3)}return makeTree(o4,a3,s3,u3,x3,i3)}}__name(makeBalanced,"makeBalanced");function makeRepeatLeaf(o4,i3,a3,u3,O3,w3,x3,C3,T3){let _3=[],A3=[];for(;o4.length>u3;)_3.push(o4.pop()),A3.push(i3.pop()+a3-O3);o4.push(makeTree(s2.types[x3],_3,A3,w3-O3,C3-w3,T3)),i3.push(O3-a3)}__name(makeRepeatLeaf,"makeRepeatLeaf");function makeTree(o4,i3,a3,s3,u3,O3,w3){if(O3){let o5=[NodeProp.contextHash,O3];w3=w3?[o5].concat(w3):[o5]}if(u3>25){let o5=[NodeProp.lookAhead,u3];w3=w3?[o5].concat(w3):[o5]}return new _Tree(o4,i3,a3,s3,w3)}__name(makeTree,"makeTree");function findBufferSize(o4,i3){let a3=x2.fork(),s3=0,O3=0,C3=0,T3=a3.end-u2,_3={size:0,start:0,skip:0};e:for(let u3=a3.pos-o4;a3.pos>u3;){let o5=a3.size;if(a3.id==i3&&o5>=0){_3.size=s3,_3.start=O3,_3.skip=C3,C3+=4,s3+=4,a3.next();continue}let x3=a3.pos-o5;if(o5<0||x3<u3||a3.start<T3)break;let A3=a3.id>=w2?4:0,Q3=a3.start;for(a3.next();a3.pos>x3;){if(a3.size<0){if(a3.size!=-3)break e;A3+=4}else a3.id>=w2&&(A3+=4);a3.next()}O3=Q3,s3+=o5,C3+=A3}return(i3<0||s3==o4)&&(_3.size=s3,_3.start=O3,_3.skip=C3),_3.size>4?_3:void 0}__name(findBufferSize,"findBufferSize");function copyToBuffer(o4,i3,a3){let{id:s3,start:u3,end:O3,size:C3}=x2;if(x2.next(),C3>=0&&s3<w2){let w3=a3;if(C3>4){let s4=x2.pos-(C3-4);for(;x2.pos>s4;)a3=copyToBuffer(o4,i3,a3)}i3[--a3]=w3,i3[--a3]=O3-o4,i3[--a3]=u3-o4,i3[--a3]=s3}else C3==-3?T2=s3:C3==-4&&(_2=s3);return a3}__name(copyToBuffer,"copyToBuffer");let A2=[],Q2=[];for(;x2.pos>0;)takeNode(o3.start||0,o3.bufferStart||0,A2,Q2,-1,0);let N2=(i2=o3.length)!==null&&i2!==void 0?i2:A2.length?Q2[0]+A2[0].length:0;return new _Tree(C2[o3.topID],A2.reverse(),Q2.reverse(),N2)},"buildTree")(o2)}};__name(_Tree,"Tree");let Tree=_Tree;Tree.empty=new Tree(NodeType.none,[],[],0);const _FlatBufferCursor=class _FlatBufferCursor{constructor(o2,i2){this.buffer=o2,this.index=i2}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new _FlatBufferCursor(this.buffer,this.index)}};__name(_FlatBufferCursor,"FlatBufferCursor");let FlatBufferCursor=_FlatBufferCursor;const _TreeBuffer=class _TreeBuffer{constructor(o2,i2,a2){this.buffer=o2,this.length=i2,this.set=a2}get type(){return NodeType.none}toString(){let o2=[];for(let i2=0;i2<this.buffer.length;)o2.push(this.childString(i2)),i2=this.buffer[i2+3];return o2.join(",")}childString(o2){let i2=this.buffer[o2],a2=this.buffer[o2+3],s2=this.set.types[i2],u2=s2.name;if(/\W/.test(u2)&&!s2.isError&&(u2=JSON.stringify(u2)),a2==(o2+=4))return u2;let O2=[];for(;o2<a2;)O2.push(this.childString(o2)),o2=this.buffer[o2+3];return u2+"("+O2.join(",")+")"}findChild(o2,i2,a2,s2,u2){let{buffer:O2}=this,w2=-1;for(let x2=o2;x2!=i2&&!(checkSide(u2,s2,O2[x2+1],O2[x2+2])&&(w2=x2,a2>0));x2=O2[x2+3]);return w2}slice(o2,i2,a2){let s2=this.buffer,u2=new Uint16Array(i2-o2),O2=0;for(let w2=o2,x2=0;w2<i2;){u2[x2++]=s2[w2++],u2[x2++]=s2[w2++]-a2;let i3=u2[x2++]=s2[w2++]-a2;u2[x2++]=s2[w2++]-o2,O2=Math.max(O2,i3)}return new _TreeBuffer(u2,O2,this.set)}};__name(_TreeBuffer,"TreeBuffer");let TreeBuffer=_TreeBuffer;function checkSide(o2,i2,a2,s2){switch(o2){case-2:return a2<i2;case-1:return s2>=i2&&a2<i2;case 0:return a2<i2&&s2>i2;case 1:return a2<=i2&&s2>i2;case 2:return s2>i2;case 4:return!0}}__name(checkSide,"checkSide");function resolveNode(o2,i2,a2,s2){for(var u2;o2.from==o2.to||(a2<1?o2.from>=i2:o2.from>i2)||(a2>-1?o2.to<=i2:o2.to<i2);){let i3=!s2&&o2 instanceof TreeNode&&o2.index<0?null:o2.parent;if(!i3)return o2;o2=i3}let O2=s2?0:Pu.IgnoreOverlays;if(s2)for(let s3=o2,w2=s3.parent;w2;s3=w2,w2=s3.parent)s3 instanceof TreeNode&&s3.index<0&&((u2=w2.enter(i2,a2,O2))===null||u2===void 0?void 0:u2.from)!=s3.from&&(o2=w2);for(;;){let s3=o2.enter(i2,a2,O2);if(!s3)return o2;o2=s3}}__name(resolveNode,"resolveNode");const _BaseNode=class _BaseNode{cursor(o2=0){return new TreeCursor(this,o2)}getChild(o2,i2=null,a2=null){let s2=getChildren(this,o2,i2,a2);return s2.length?s2[0]:null}getChildren(o2,i2=null,a2=null){return getChildren(this,o2,i2,a2)}resolve(o2,i2=0){return resolveNode(this,o2,i2,!1)}resolveInner(o2,i2=0){return resolveNode(this,o2,i2,!0)}matchContext(o2){return matchNodeContext(this.parent,o2)}enterUnfinishedNodesBefore(o2){let i2=this.childBefore(o2),a2=this;for(;i2;){let o3=i2.lastChild;if(!o3||o3.to!=i2.to)break;o3.type.isError&&o3.from==o3.to?(a2=i2,i2=o3.prevSibling):i2=o3}return a2}get node(){return this}get next(){return this.parent}};__name(_BaseNode,"BaseNode");let BaseNode=_BaseNode;const _TreeNode=class _TreeNode extends BaseNode{constructor(o2,i2,a2,s2){super(),this._tree=o2,this.from=i2,this.index=a2,this._parent=s2}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(o2,i2,a2,s2,u2=0){for(let O2=this;;){for(let{children:w2,positions:x2}=O2._tree,C2=i2>0?w2.length:-1;o2!=C2;o2+=i2){let C3=w2[o2],T2=x2[o2]+O2.from;if(checkSide(s2,a2,T2,T2+C3.length)){if(C3 instanceof TreeBuffer){if(u2&Pu.ExcludeBuffers)continue;let w3=C3.findChild(0,C3.buffer.length,i2,a2-T2,s2);if(w3>-1)return new BufferNode(new BufferContext(O2,C3,o2,T2),null,w3)}else if(u2&Pu.IncludeAnonymous||!C3.type.isAnonymous||hasChild(C3)){let w3;if(!(u2&Pu.IgnoreMounts)&&(w3=MountedTree.get(C3))&&!w3.overlay)return new _TreeNode(w3.tree,T2,o2,O2);let x3=new _TreeNode(C3,T2,o2,O2);return u2&Pu.IncludeAnonymous||!x3.type.isAnonymous?x3:x3.nextChild(i2<0?C3.children.length-1:0,i2,a2,s2)}}}if(u2&Pu.IncludeAnonymous||!O2.type.isAnonymous||(o2=O2.index>=0?O2.index+i2:i2<0?-1:O2._parent._tree.children.length,O2=O2._parent,!O2))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(o2){return this.nextChild(0,1,o2,2)}childBefore(o2){return this.nextChild(this._tree.children.length-1,-1,o2,-2)}enter(o2,i2,a2=0){let s2;if(!(a2&Pu.IgnoreOverlays)&&(s2=MountedTree.get(this._tree))&&s2.overlay){let a3=o2-this.from;for(let{from:o3,to:u2}of s2.overlay)if((i2>0?o3<=a3:o3<a3)&&(i2<0?u2>=a3:u2>a3))return new _TreeNode(s2.tree,s2.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,o2,i2,a2)}nextSignificantParent(){let o2=this;for(;o2.type.isAnonymous&&o2._parent;)o2=o2._parent;return o2}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};__name(_TreeNode,"TreeNode");let TreeNode=_TreeNode;function getChildren(o2,i2,a2,s2){let u2=o2.cursor(),O2=[];if(!u2.firstChild())return O2;if(a2!=null){for(let o3=!1;!o3;)if(o3=u2.type.is(a2),!u2.nextSibling())return O2}for(;;){if(s2!=null&&u2.type.is(s2))return O2;if(u2.type.is(i2)&&O2.push(u2.node),!u2.nextSibling())return s2==null?O2:[]}}__name(getChildren,"getChildren");function matchNodeContext(o2,i2,a2=i2.length-1){for(let s2=o2;a2>=0;s2=s2.parent){if(!s2)return!1;if(!s2.type.isAnonymous){if(i2[a2]&&i2[a2]!=s2.name)return!1;a2--}}return!0}__name(matchNodeContext,"matchNodeContext");const _BufferContext=class _BufferContext{constructor(o2,i2,a2,s2){this.parent=o2,this.buffer=i2,this.index=a2,this.start=s2}};__name(_BufferContext,"BufferContext");let BufferContext=_BufferContext;const _BufferNode=class _BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(o2,i2,a2){super(),this.context=o2,this._parent=i2,this.index=a2,this.type=o2.buffer.set.types[o2.buffer.buffer[a2]]}child(o2,i2,a2){let{buffer:s2}=this.context,u2=s2.findChild(this.index+4,s2.buffer[this.index+3],o2,i2-this.context.start,a2);return u2<0?null:new _BufferNode(this.context,this,u2)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(o2){return this.child(1,o2,2)}childBefore(o2){return this.child(-1,o2,-2)}enter(o2,i2,a2=0){if(a2&Pu.ExcludeBuffers)return null;let{buffer:s2}=this.context,u2=s2.findChild(this.index+4,s2.buffer[this.index+3],i2>0?1:-1,o2-this.context.start,i2);return u2<0?null:new _BufferNode(this.context,this,u2)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(o2){return this._parent?null:this.context.parent.nextChild(this.context.index+o2,o2,0,4)}get nextSibling(){let{buffer:o2}=this.context,i2=o2.buffer[this.index+3];return i2<(this._parent?o2.buffer[this._parent.index+3]:o2.buffer.length)?new _BufferNode(this.context,this._parent,i2):this.externalSibling(1)}get prevSibling(){let{buffer:o2}=this.context,i2=this._parent?this._parent.index+4:0;return this.index==i2?this.externalSibling(-1):new _BufferNode(this.context,this._parent,o2.findChild(i2,this.index,-1,0,4))}get tree(){return null}toTree(){let o2=[],i2=[],{buffer:a2}=this.context,s2=this.index+4,u2=a2.buffer[this.index+3];if(u2>s2){let O2=a2.buffer[this.index+1];o2.push(a2.slice(s2,u2,O2)),i2.push(0)}return new Tree(this.type,o2,i2,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};__name(_BufferNode,"BufferNode");let BufferNode=_BufferNode;function iterStack(o2){if(!o2.length)return null;let i2=0,a2=o2[0];for(let s3=1;s3<o2.length;s3++){let u3=o2[s3];(u3.from>a2.from||u3.to<a2.to)&&(a2=u3,i2=s3)}let s2=a2 instanceof TreeNode&&a2.index<0?null:a2.parent,u2=o2.slice();return s2?u2[i2]=s2:u2.splice(i2,1),new StackIterator(u2,a2)}__name(iterStack,"iterStack");const _StackIterator=class _StackIterator{constructor(o2,i2){this.heads=o2,this.node=i2}get next(){return iterStack(this.heads)}};__name(_StackIterator,"StackIterator");let StackIterator=_StackIterator;const _TreeCursor=class _TreeCursor{get name(){return this.type.name}constructor(o2,i2=0){if(this.mode=i2,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,o2 instanceof TreeNode)this.yieldNode(o2);else{this._tree=o2.context.parent,this.buffer=o2.context;for(let i3=o2._parent;i3;i3=i3._parent)this.stack.unshift(i3.index);this.bufferNode=o2,this.yieldBuf(o2.index)}}yieldNode(o2){return!!o2&&(this._tree=o2,this.type=o2.type,this.from=o2.from,this.to=o2.to,!0)}yieldBuf(o2,i2){this.index=o2;let{start:a2,buffer:s2}=this.buffer;return this.type=i2||s2.set.types[s2.buffer[o2]],this.from=a2+s2.buffer[o2+1],this.to=a2+s2.buffer[o2+2],!0}yield(o2){return!!o2&&(o2 instanceof TreeNode?(this.buffer=null,this.yieldNode(o2)):(this.buffer=o2.context,this.yieldBuf(o2.index,o2.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(o2,i2,a2){if(!this.buffer)return this.yield(this._tree.nextChild(o2<0?this._tree._tree.children.length-1:0,o2,i2,a2,this.mode));let{buffer:s2}=this.buffer,u2=s2.findChild(this.index+4,s2.buffer[this.index+3],o2,i2-this.buffer.start,a2);return!(u2<0)&&(this.stack.push(this.index),this.yieldBuf(u2))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(o2){return this.enterChild(1,o2,2)}childBefore(o2){return this.enterChild(-1,o2,-2)}enter(o2,i2,a2=this.mode){return this.buffer?!(a2&Pu.ExcludeBuffers)&&this.enterChild(1,o2,i2):this.yield(this._tree.enter(o2,i2,a2))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Pu.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let o2=this.mode&Pu.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(o2)}sibling(o2){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+o2,o2,0,4,this.mode));let{buffer:i2}=this.buffer,a2=this.stack.length-1;if(o2<0){let o3=a2<0?0:this.stack[a2]+4;if(this.index!=o3)return this.yieldBuf(i2.findChild(o3,this.index,-1,0,4))}else{let o3=i2.buffer[this.index+3];if(o3<(a2<0?i2.buffer.length:i2.buffer[this.stack[a2]+3]))return this.yieldBuf(o3)}return a2<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+o2,o2,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(o2){let i2,a2,{buffer:s2}=this;if(s2){if(o2>0){if(this.index<s2.buffer.buffer.length)return!1}else for(let o3=0;o3<this.index;o3++)if(s2.buffer.buffer[o3+3]<this.index)return!1;({index:i2,parent:a2}=s2)}else({index:i2,_parent:a2}=this._tree);for(;a2;{index:i2,_parent:a2}=a2)if(i2>-1)for(let s3=i2+o2,u2=o2<0?-1:a2._tree.children.length;s3!=u2;s3+=o2){let o3=a2._tree.children[s3];if(this.mode&Pu.IncludeAnonymous||o3 instanceof TreeBuffer||!o3.type.isAnonymous||hasChild(o3))return!1}return!0}move(o2,i2){if(i2&&this.enterChild(o2,0,4))return!0;for(;;){if(this.sibling(o2))return!0;if(this.atLastNode(o2)||!this.parent())return!1}}next(o2=!0){return this.move(1,o2)}prev(o2=!0){return this.move(-1,o2)}moveTo(o2,i2=0){for(;(this.from==this.to||(i2<1?this.from>=o2:this.from>o2)||(i2>-1?this.to<=o2:this.to<o2))&&this.parent(););for(;this.enterChild(1,o2,i2););return this}get node(){if(!this.buffer)return this._tree;let o2=this.bufferNode,i2=null,a2=0;if(o2&&o2.context==this.buffer)e:for(let s2=this.index,u2=this.stack.length;u2>=0;){for(let O2=o2;O2;O2=O2._parent)if(O2.index==s2){if(s2==this.index)return O2;i2=O2,a2=u2+1;break e}s2=this.stack[--u2]}for(let o3=a2;o3<this.stack.length;o3++)i2=new BufferNode(this.buffer,i2,this.stack[o3]);return this.bufferNode=new BufferNode(this.buffer,i2,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(o2,i2){for(let a2=0;;){let s2=!1;if(this.type.isAnonymous||o2(this)!==!1){if(this.firstChild()){a2++;continue}this.type.isAnonymous||(s2=!0)}for(;;){if(s2&&i2&&i2(this),s2=this.type.isAnonymous,!a2)return;if(this.nextSibling())break;this.parent(),a2--,s2=!0}}}matchContext(o2){if(!this.buffer)return matchNodeContext(this.node.parent,o2);let{buffer:i2}=this.buffer,{types:a2}=i2.set;for(let s2=o2.length-1,u2=this.stack.length-1;s2>=0;u2--){if(u2<0)return matchNodeContext(this._tree,o2,s2);let O2=a2[i2.buffer[this.stack[u2]]];if(!O2.isAnonymous){if(o2[s2]&&o2[s2]!=O2.name)return!1;s2--}}return!0}};__name(_TreeCursor,"TreeCursor");let TreeCursor=_TreeCursor;function hasChild(o2){return o2.children.some(o3=>o3 instanceof TreeBuffer||!o3.type.isAnonymous||hasChild(o3))}__name(hasChild,"hasChild");const Eu=new WeakMap;function nodeSize(o2,i2){if(!o2.isAnonymous||i2 instanceof TreeBuffer||i2.type!=o2)return 1;let a2=Eu.get(i2);if(a2==null){a2=1;for(let s2 of i2.children){if(s2.type!=o2||!(s2 instanceof Tree)){a2=1;break}a2+=nodeSize(o2,s2)}Eu.set(i2,a2)}return a2}__name(nodeSize,"nodeSize");function balanceRange(o2,i2,a2,s2,u2,O2,w2,x2,C2){let T2=0;for(let a3=s2;a3<u2;a3++)T2+=nodeSize(o2,i2[a3]);let _2=Math.ceil(1.5*T2/8),A2=[],Q2=[];return __name(function divide(i3,a3,s3,u3,w3){for(let x3=s3;x3<u3;){let s4=x3,T3=a3[x3],N2=nodeSize(o2,i3[x3]);for(x3++;x3<u3;x3++){let a4=nodeSize(o2,i3[x3]);if(N2+a4>=_2)break;N2+=a4}if(x3==s4+1){if(N2>_2){let o3=i3[s4];divide(o3.children,o3.positions,0,o3.children.length,a3[s4]+w3);continue}A2.push(i3[s4])}else{let u4=a3[x3-1]+i3[x3-1].length-T3;A2.push(balanceRange(o2,i3,a3,s4,x3,T3,u4,null,C2))}Q2.push(T3+w3-O2)}},"divide")(i2,a2,s2,u2,0),(x2||C2)(A2,Q2,w2)}__name(balanceRange,"balanceRange");const _NodeWeakMap=class _NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(o2,i2,a2){let s2=this.map.get(o2);s2||this.map.set(o2,s2=new Map),s2.set(i2,a2)}getBuffer(o2,i2){let a2=this.map.get(o2);return a2&&a2.get(i2)}set(o2,i2){o2 instanceof BufferNode?this.setBuffer(o2.context.buffer,o2.index,i2):o2 instanceof TreeNode&&this.map.set(o2.tree,i2)}get(o2){return o2 instanceof BufferNode?this.getBuffer(o2.context.buffer,o2.index):o2 instanceof TreeNode?this.map.get(o2.tree):void 0}cursorSet(o2,i2){o2.buffer?this.setBuffer(o2.buffer.buffer,o2.index,i2):this.map.set(o2.tree,i2)}cursorGet(o2){return o2.buffer?this.getBuffer(o2.buffer.buffer,o2.index):this.map.get(o2.tree)}};__name(_NodeWeakMap,"NodeWeakMap");let NodeWeakMap=_NodeWeakMap;const _TreeFragment=class _TreeFragment{constructor(o2,i2,a2,s2,u2=!1,O2=!1){this.from=o2,this.to=i2,this.tree=a2,this.offset=s2,this.open=(u2?1:0)|(O2?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(o2,i2=[],a2=!1){let s2=[new _TreeFragment(0,o2.length,o2,0,!1,a2)];for(let a3 of i2)a3.to>o2.length&&s2.push(a3);return s2}static applyChanges(o2,i2,a2=128){if(!i2.length)return o2;let s2=[],u2=1,O2=o2.length?o2[0]:null;for(let w2=0,x2=0,C2=0;;w2++){let T2=w2<i2.length?i2[w2]:null,_2=T2?T2.fromA:1e9;if(_2-x2>=a2)for(;O2&&O2.from<_2;){let i3=O2;if(x2>=i3.from||_2<=i3.to||C2){let o3=Math.max(i3.from,x2)-C2,a3=Math.min(i3.to,_2)-C2;i3=o3>=a3?null:new _TreeFragment(o3,a3,i3.tree,i3.offset+C2,w2>0,!!T2)}if(i3&&s2.push(i3),O2.to>_2)break;O2=u2<o2.length?o2[u2++]:null}if(!T2)break;x2=T2.toA,C2=T2.toA-T2.toB}return s2}};__name(_TreeFragment,"TreeFragment");let TreeFragment=_TreeFragment;const _Parser=class _Parser{startParse(o2,i2,a2){return typeof o2=="string"&&(o2=new StringInput(o2)),a2=a2?a2.length?a2.map(o3=>new Range2(o3.from,o3.to)):[new Range2(0,0)]:[new Range2(0,o2.length)],this.createParse(o2,i2||[],a2)}parse(o2,i2,a2){let s2=this.startParse(o2,i2,a2);for(;;){let o3=s2.advance();if(o3)return o3}}};__name(_Parser,"Parser");let Parser=_Parser;const _StringInput=class _StringInput{constructor(o2){this.string=o2}get length(){return this.string.length}chunk(o2){return this.string.slice(o2)}get lineChunks(){return!1}read(o2,i2){return this.string.slice(o2,i2)}};__name(_StringInput,"StringInput");let StringInput=_StringInput;new NodeProp({perNode:!0});let Tu=0;const _Tag=class _Tag{constructor(o2,i2,a2,s2){this.name=o2,this.set=i2,this.base=a2,this.modified=s2,this.id=Tu++}toString(){let{name:o2}=this;for(let i2 of this.modified)i2.name&&(o2=`${i2.name}(${o2})`);return o2}static define(o2,i2){let a2=typeof o2=="string"?o2:"?";if(o2 instanceof _Tag&&(i2=o2),i2==null?void 0:i2.base)throw new Error("Can not derive from a modified tag");let s2=new _Tag(a2,[],null,[]);if(s2.set.push(s2),i2)for(let o3 of i2.set)s2.set.push(o3);return s2}static defineModifier(o2){let i2=new Modifier(o2);return o3=>o3.modified.indexOf(i2)>-1?o3:Modifier.get(o3.base||o3,o3.modified.concat(i2).sort((o4,i3)=>o4.id-i3.id))}};__name(_Tag,"Tag");let Tag=_Tag,Ru=0;const _Modifier=class _Modifier{constructor(o2){this.name=o2,this.instances=[],this.id=Ru++}static get(o2,i2){if(!i2.length)return o2;let a2=i2[0].instances.find(a3=>a3.base==o2&&__name(function(o3,i3){return o3.length==i3.length&&o3.every((o4,a4)=>o4==i3[a4])},"sameArray")(i2,a3.modified));if(a2)return a2;let s2=[],u2=new Tag(o2.name,s2,o2,i2);for(let o3 of i2)o3.instances.push(u2);let O2=__name(function(o3){let i3=[[]];for(let a3=0;a3<o3.length;a3++)for(let s3=0,u3=i3.length;s3<u3;s3++)i3.push(i3[s3].concat(o3[a3]));return i3.sort((o4,i4)=>i4.length-o4.length)},"powerSet")(i2);for(let i3 of o2.set)if(!i3.modified.length)for(let o3 of O2)s2.push(_Modifier.get(i3,o3));return u2}};__name(_Modifier,"Modifier");let Modifier=_Modifier;function styleTags(o2){let i2=Object.create(null);for(let a2 in o2){let s2=o2[a2];Array.isArray(s2)||(s2=[s2]);for(let o3 of a2.split(" "))if(o3){let a3=[],u2=2,O2=o3;for(let i3=0;;){if(O2=="..."&&i3>0&&i3+3==o3.length){u2=1;break}let s3=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(O2);if(!s3)throw new RangeError("Invalid path: "+o3);if(a3.push(s3[0]=="*"?"":s3[0][0]=='"'?JSON.parse(s3[0]):s3[0]),i3+=s3[0].length,i3==o3.length)break;let w3=o3[i3++];if(i3==o3.length&&w3=="!"){u2=0;break}if(w3!="/")throw new RangeError("Invalid path: "+o3);O2=o3.slice(i3)}let w2=a3.length-1,x2=a3[w2];if(!x2)throw new RangeError("Invalid path: "+o3);let C2=new Rule(s2,u2,w2>0?a3.slice(0,w2):null);i2[x2]=C2.sort(i2[x2])}}return Du.add(i2)}__name(styleTags,"styleTags");const Du=new NodeProp,_Rule=class _Rule{constructor(o2,i2,a2,s2){this.tags=o2,this.mode=i2,this.context=a2,this.next=s2}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(o2){return!o2||o2.depth<this.depth?(this.next=o2,this):(o2.next=this.sort(o2.next),o2)}get depth(){return this.context?this.context.length:0}};__name(_Rule,"Rule");let Rule=_Rule;function tagHighlighter(o2,i2){let a2=Object.create(null);for(let i3 of o2)if(Array.isArray(i3.tag))for(let o3 of i3.tag)a2[o3.id]=i3.class;else a2[i3.tag.id]=i3.class;let{scope:s2,all:u2=null}=i2||{};return{style:__name(o3=>{let i3=u2;for(let s3 of o3)for(let o4 of s3.set){let s4=a2[o4.id];if(s4){i3=i3?i3+" "+s4:s4;break}}return i3},"style"),scope:s2}}__name(tagHighlighter,"tagHighlighter");function highlightTree(o2,i2,a2,s2=0,u2=o2.length){let O2=new HighlightBuilder(s2,Array.isArray(i2)?i2:[i2],a2);O2.highlightRange(o2.cursor(),s2,u2,"",O2.highlighters),O2.flush(u2)}__name(highlightTree,"highlightTree");Rule.empty=new Rule([],2,null);const _HighlightBuilder=class _HighlightBuilder{constructor(o2,i2,a2){this.at=o2,this.highlighters=i2,this.span=a2,this.class=""}startSpan(o2,i2){i2!=this.class&&(this.flush(o2),o2>this.at&&(this.at=o2),this.class=i2)}flush(o2){o2>this.at&&this.class&&this.span(this.at,o2,this.class)}highlightRange(o2,i2,a2,s2,u2){let{type:O2,from:w2,to:x2}=o2;if(w2>=a2||x2<=i2)return;O2.isTop&&(u2=this.highlighters.filter(o3=>!o3.scope||o3.scope(O2)));let C2=s2,T2=__name(function(o3){let i3=o3.type.prop(Du);for(;i3&&i3.context&&!o3.matchContext(i3.context);)i3=i3.next;return i3||null},"getStyleTags")(o2)||Rule.empty,_2=__name(function(o3,i3){let a3=null;for(let s3 of o3){let o4=s3.style(i3);o4&&(a3=a3?a3+" "+o4:o4)}return a3},"highlightTags")(u2,T2.tags);if(_2&&(C2&&(C2+=" "),C2+=_2,T2.mode==1&&(s2+=(s2?" ":"")+_2)),this.startSpan(Math.max(i2,w2),C2),T2.opaque)return;let A2=o2.tree&&o2.tree.prop(NodeProp.mounted);if(A2&&A2.overlay){let O3=o2.node.enter(A2.overlay[0].from+w2,1),T3=this.highlighters.filter(o3=>!o3.scope||o3.scope(A2.tree.type)),_3=o2.firstChild();for(let Q2=0,N2=w2;;Q2++){let L2=Q2<A2.overlay.length?A2.overlay[Q2]:null,$2=L2?L2.from+w2:x2,F2=Math.max(i2,N2),B2=Math.min(a2,$2);if(F2<B2&&_3)for(;o2.from<B2&&(this.highlightRange(o2,F2,B2,s2,u2),this.startSpan(Math.min(B2,o2.to),C2),!(o2.to>=$2)&&o2.nextSibling()););if(!L2||$2>a2)break;N2=L2.to+w2,N2>i2&&(this.highlightRange(O3.cursor(),Math.max(i2,L2.from+w2),Math.min(a2,N2),"",T3),this.startSpan(Math.min(a2,N2),C2))}_3&&o2.parent()}else if(o2.firstChild()){A2&&(s2="");do if(!(o2.to<=i2)){if(o2.from>=a2)break;this.highlightRange(o2,i2,a2,s2,u2),this.startSpan(Math.min(a2,o2.to),C2)}while(o2.nextSibling());o2.parent()}}};__name(_HighlightBuilder,"HighlightBuilder");let HighlightBuilder=_HighlightBuilder;const Iu=Tag.define,Mu=Iu(),_u=Iu(),Au=Iu(_u),Qu=Iu(_u),Nu=Iu(),Lu=Iu(Nu),$u=Iu(Nu),Fu=Iu(),Bu=Iu(Fu),Vu=Iu(),zu=Iu(),ju=Iu(),Wu=Iu(ju),Hu=Iu(),Uu={comment:Mu,lineComment:Iu(Mu),blockComment:Iu(Mu),docComment:Iu(Mu),name:_u,variableName:Iu(_u),typeName:Au,tagName:Iu(Au),propertyName:Qu,attributeName:Iu(Qu),className:Iu(_u),labelName:Iu(_u),namespace:Iu(_u),macroName:Iu(_u),literal:Nu,string:Lu,docString:Iu(Lu),character:Iu(Lu),attributeValue:Iu(Lu),number:$u,integer:Iu($u),float:Iu($u),bool:Iu(Nu),regexp:Iu(Nu),escape:Iu(Nu),color:Iu(Nu),url:Iu(Nu),keyword:Vu,self:Iu(Vu),null:Iu(Vu),atom:Iu(Vu),unit:Iu(Vu),modifier:Iu(Vu),operatorKeyword:Iu(Vu),controlKeyword:Iu(Vu),definitionKeyword:Iu(Vu),moduleKeyword:Iu(Vu),operator:zu,derefOperator:Iu(zu),arithmeticOperator:Iu(zu),logicOperator:Iu(zu),bitwiseOperator:Iu(zu),compareOperator:Iu(zu),updateOperator:Iu(zu),definitionOperator:Iu(zu),typeOperator:Iu(zu),controlOperator:Iu(zu),punctuation:ju,separator:Iu(ju),bracket:Wu,angleBracket:Iu(Wu),squareBracket:Iu(Wu),paren:Iu(Wu),brace:Iu(Wu),content:Fu,heading:Bu,heading1:Iu(Bu),heading2:Iu(Bu),heading3:Iu(Bu),heading4:Iu(Bu),heading5:Iu(Bu),heading6:Iu(Bu),contentSeparator:Iu(Fu),list:Iu(Fu),quote:Iu(Fu),emphasis:Iu(Fu),strong:Iu(Fu),link:Iu(Fu),monospace:Iu(Fu),strikethrough:Iu(Fu),inserted:Iu(),deleted:Iu(),changed:Iu(),invalid:Iu(),meta:Hu,documentMeta:Iu(Hu),annotation:Iu(Hu),processingInstruction:Iu(Hu),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let o2 in Uu){let i2=Uu[o2];i2 instanceof Tag&&(i2.name=o2)}var Zu;tagHighlighter([{tag:Uu.link,class:"tok-link"},{tag:Uu.heading,class:"tok-heading"},{tag:Uu.emphasis,class:"tok-emphasis"},{tag:Uu.strong,class:"tok-strong"},{tag:Uu.keyword,class:"tok-keyword"},{tag:Uu.atom,class:"tok-atom"},{tag:Uu.bool,class:"tok-bool"},{tag:Uu.url,class:"tok-url"},{tag:Uu.labelName,class:"tok-labelName"},{tag:Uu.inserted,class:"tok-inserted"},{tag:Uu.deleted,class:"tok-deleted"},{tag:Uu.literal,class:"tok-literal"},{tag:Uu.string,class:"tok-string"},{tag:Uu.number,class:"tok-number"},{tag:[Uu.regexp,Uu.escape,Uu.special(Uu.string)],class:"tok-string2"},{tag:Uu.variableName,class:"tok-variableName"},{tag:Uu.local(Uu.variableName),class:"tok-variableName tok-local"},{tag:Uu.definition(Uu.variableName),class:"tok-variableName tok-definition"},{tag:Uu.special(Uu.variableName),class:"tok-variableName2"},{tag:Uu.definition(Uu.propertyName),class:"tok-propertyName tok-definition"},{tag:Uu.typeName,class:"tok-typeName"},{tag:Uu.namespace,class:"tok-namespace"},{tag:Uu.className,class:"tok-className"},{tag:Uu.macroName,class:"tok-macroName"},{tag:Uu.propertyName,class:"tok-propertyName"},{tag:Uu.operator,class:"tok-operator"},{tag:Uu.comment,class:"tok-comment"},{tag:Uu.meta,class:"tok-meta"},{tag:Uu.invalid,class:"tok-invalid"},{tag:Uu.punctuation,class:"tok-punctuation"}]);const qu=new NodeProp;function defineLanguageFacet(o2){return Facet.define({combine:o2?i2=>i2.concat(o2):void 0})}__name(defineLanguageFacet,"defineLanguageFacet");const Xu=new NodeProp,_Language=class _Language{constructor(o2,i2,a2=[],s2=""){this.data=o2,this.name=s2,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=i2,this.extension=[Ju.of(this),EditorState.languageData.of((o3,i3,a3)=>{let s3=topNodeAt(o3,i3,a3),u2=s3.type.prop(qu);if(!u2)return[];let O2=o3.facet(u2),w2=s3.type.prop(Xu);if(w2){let u3=s3.resolve(i3-s3.from,a3);for(let i4 of w2)if(i4.test(u3,o3)){let a4=o3.facet(i4.facet);return i4.type=="replace"?a4:a4.concat(O2)}}return O2})].concat(a2)}isActiveAt(o2,i2,a2=-1){return topNodeAt(o2,i2,a2).type.prop(qu)==this.data}findRegions(o2){let i2=o2.facet(Ju);if((i2==null?void 0:i2.data)==this.data)return[{from:0,to:o2.doc.length}];if(!i2||!i2.allowsNesting)return[];let a2=[],explore=__name((o3,i3)=>{if(o3.prop(qu)==this.data)return void a2.push({from:i3,to:i3+o3.length});let s2=o3.prop(NodeProp.mounted);if(s2){if(s2.tree.prop(qu)==this.data){if(s2.overlay)for(let o4 of s2.overlay)a2.push({from:o4.from+i3,to:o4.to+i3});else a2.push({from:i3,to:i3+o3.length});return}if(s2.overlay){let o4=a2.length;if(explore(s2.tree,s2.overlay[0].from+i3),a2.length>o4)return}}for(let a3=0;a3<o3.children.length;a3++){let s3=o3.children[a3];s3 instanceof Tree&&explore(s3,o3.positions[a3]+i3)}},"explore");return explore(syntaxTree(o2),0),a2}get allowsNesting(){return!0}};__name(_Language,"Language");let Language=_Language;function topNodeAt(o2,i2,a2){let s2=o2.facet(Ju),u2=syntaxTree(o2).topNode;if(!s2||s2.allowsNesting)for(let o3=u2;o3;o3=o3.enter(i2,a2,Pu.ExcludeBuffers))o3.type.isTop&&(u2=o3);return u2}__name(topNodeAt,"topNodeAt");Language.setState=StateEffect.define();const _LRLanguage=class _LRLanguage extends Language{constructor(o2,i2,a2){super(o2,i2,[],a2),this.parser=i2}static define(o2){let i2=defineLanguageFacet(o2.languageData);return new _LRLanguage(i2,o2.parser.configure({props:[qu.add(o3=>o3.isTop?i2:void 0)]}),o2.name)}configure(o2,i2){return new _LRLanguage(this.data,this.parser.configure(o2),i2||this.name)}get allowsNesting(){return this.parser.hasWrappers()}};__name(_LRLanguage,"LRLanguage");let LRLanguage=_LRLanguage;function syntaxTree(o2){let i2=o2.field(Language.state,!1);return i2?i2.tree:Tree.empty}__name(syntaxTree,"syntaxTree");const _DocInput=class _DocInput{constructor(o2){this.doc=o2,this.cursorPos=0,this.string="",this.cursor=o2.iter()}get length(){return this.doc.length}syncTo(o2){return this.string=this.cursor.next(o2-this.cursorPos).value,this.cursorPos=o2+this.string.length,this.cursorPos-this.string.length}chunk(o2){return this.syncTo(o2),this.string}get lineChunks(){return!0}read(o2,i2){let a2=this.cursorPos-this.string.length;return o2<a2||i2>=this.cursorPos?this.doc.sliceString(o2,i2):this.string.slice(o2-a2,i2-a2)}};__name(_DocInput,"DocInput");let DocInput=_DocInput,Gu=null;const _ParseContext=class _ParseContext{constructor(o2,i2,a2=[],s2,u2,O2,w2,x2){this.parser=o2,this.state=i2,this.fragments=a2,this.tree=s2,this.treeLen=u2,this.viewport=O2,this.skipped=w2,this.scheduleOn=x2,this.parse=null,this.tempSkipped=[]}static create(o2,i2,a2){return new _ParseContext(o2,i2,[],Tree.empty,0,a2,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(o2,i2){return i2!=null&&i2>=this.state.doc.length&&(i2=void 0),this.tree!=Tree.empty&&this.isDone(i2??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var a2;if(typeof o2=="number"){let i3=Date.now()+o2;o2=__name(()=>Date.now()>i3,"o2")}for(this.parse||(this.parse=this.startParse()),i2!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>i2)&&i2<this.state.doc.length&&this.parse.stopAt(i2);;){let s2=this.parse.advance();if(s2){if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(s2,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(a2=this.parse.stoppedAt)!==null&&a2!==void 0?a2:this.state.doc.length,this.tree=s2,this.parse=null,!(this.treeLen<(i2??this.state.doc.length)))return!0;this.parse=this.startParse()}if(o2())return!1}})}takeTree(){let o2,i2;this.parse&&(o2=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>o2)&&this.parse.stopAt(o2),this.withContext(()=>{for(;!(i2=this.parse.advance()););}),this.treeLen=o2,this.tree=i2,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(o2){let i2=Gu;Gu=this;try{return o2()}finally{Gu=i2}}withoutTempSkipped(o2){for(let i2;i2=this.tempSkipped.pop();)o2=cutFragments(o2,i2.from,i2.to);return o2}changes(o2,i2){let{fragments:a2,tree:s2,treeLen:u2,viewport:O2,skipped:w2}=this;if(this.takeTree(),!o2.empty){let i3=[];if(o2.iterChangedRanges((o3,a3,s3,u3)=>i3.push({fromA:o3,toA:a3,fromB:s3,toB:u3})),a2=TreeFragment.applyChanges(a2,i3),s2=Tree.empty,u2=0,O2={from:o2.mapPos(O2.from,-1),to:o2.mapPos(O2.to,1)},this.skipped.length){w2=[];for(let i4 of this.skipped){let a3=o2.mapPos(i4.from,1),s3=o2.mapPos(i4.to,-1);a3<s3&&w2.push({from:a3,to:s3})}}}return new _ParseContext(this.parser,i2,a2,s2,u2,O2,w2,this.scheduleOn)}updateViewport(o2){if(this.viewport.from==o2.from&&this.viewport.to==o2.to)return!1;this.viewport=o2;let i2=this.skipped.length;for(let i3=0;i3<this.skipped.length;i3++){let{from:a2,to:s2}=this.skipped[i3];a2<o2.to&&s2>o2.from&&(this.fragments=cutFragments(this.fragments,a2,s2),this.skipped.splice(i3--,1))}return!(this.skipped.length>=i2)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(o2,i2){this.skipped.push({from:o2,to:i2})}static getSkippingParser(o2){return new class extends Parser{createParse(i2,a2,s2){let u2=s2[0].from,O2=s2[s2.length-1].to;return{parsedPos:u2,advance(){let i3=Gu;if(i3){for(let o3 of s2)i3.tempSkipped.push(o3);o2&&(i3.scheduleOn=i3.scheduleOn?Promise.all([i3.scheduleOn,o2]):o2)}return this.parsedPos=O2,new Tree(NodeType.none,[],[],O2-u2)},stoppedAt:null,stopAt(){}}}}}isDone(o2){o2=Math.min(o2,this.state.doc.length);let i2=this.fragments;return this.treeLen>=o2&&i2.length&&i2[0].from==0&&i2[0].to>=o2}static get(){return Gu}};__name(_ParseContext,"ParseContext");let ParseContext=_ParseContext;function cutFragments(o2,i2,a2){return TreeFragment.applyChanges(o2,[{fromA:i2,toA:a2,fromB:i2,toB:a2}])}__name(cutFragments,"cutFragments");const _LanguageState=class _LanguageState{constructor(o2){this.context=o2,this.tree=o2.tree}apply(o2){if(!o2.docChanged&&this.tree==this.context.tree)return this;let i2=this.context.changes(o2.changes,o2.state),a2=this.context.treeLen==o2.startState.doc.length?void 0:Math.max(o2.changes.mapPos(this.context.treeLen),i2.viewport.to);return i2.work(20,a2)||i2.takeTree(),new _LanguageState(i2)}static init(o2){let i2=Math.min(3e3,o2.doc.length),a2=ParseContext.create(o2.facet(Ju).parser,o2,{from:0,to:i2});return a2.work(20,i2)||a2.takeTree(),new _LanguageState(a2)}};__name(_LanguageState,"LanguageState");let LanguageState=_LanguageState;Language.state=StateField.define({create:LanguageState.init,update(o2,i2){for(let o3 of i2.effects)if(o3.is(Language.setState))return o3.value;return i2.startState.facet(Ju)!=i2.state.facet(Ju)?LanguageState.init(i2.state):o2.apply(i2)}});let requestIdle=__name(o2=>{let i2=setTimeout(()=>o2(),500);return()=>clearTimeout(i2)},"requestIdle");typeof requestIdleCallback<"u"&&(requestIdle=__name(o2=>{let i2=-1,a2=setTimeout(()=>{i2=requestIdleCallback(o2,{timeout:400})},100);return()=>i2<0?clearTimeout(a2):cancelIdleCallback(i2)},"requestIdle"));const Yu=typeof navigator<"u"&&(!((Zu=navigator.scheduling)===null||Zu===void 0)&&Zu.isInputPending)?()=>navigator.scheduling.isInputPending():null;var _a5;const Ku=ViewPlugin.fromClass((_a5=class{constructor(o2){this.view=o2,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(o2){let i2=this.view.state.field(Language.state).context;(i2.updateViewport(o2.view.viewport)||this.view.viewport.to>i2.treeLen)&&this.scheduleWork(),(o2.docChanged||o2.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(i2)}scheduleWork(){if(this.working)return;let{state:o2}=this.view,i2=o2.field(Language.state);i2.tree==i2.context.tree&&i2.context.isDone(o2.doc.length)||(this.working=requestIdle(this.work))}work(o2){this.working=null;let i2=Date.now();if(this.chunkEnd<i2&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=i2+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:a2,viewport:{to:s2}}=this.view,u2=a2.field(Language.state);if(u2.tree==u2.context.tree&&u2.context.isDone(s2+1e5))return;let O2=Date.now()+Math.min(this.chunkBudget,100,o2&&!Yu?Math.max(25,o2.timeRemaining()-5):1e9),w2=u2.context.treeLen<s2&&a2.doc.length>s2+1e3,x2=u2.context.work(()=>Yu&&Yu()||Date.now()>O2,s2+(w2?0:1e5));this.chunkBudget-=Date.now()-i2,(x2||this.chunkBudget<=0)&&(u2.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(u2.context))})),this.chunkBudget>0&&(!x2||w2)&&this.scheduleWork(),this.checkAsyncSchedule(u2.context)}checkAsyncSchedule(o2){o2.scheduleOn&&(this.workScheduled++,o2.scheduleOn.then(()=>this.scheduleWork()).catch(o3=>logException(this.view.state,o3)).then(()=>this.workScheduled--),o2.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},__name(_a5,"ParseWorker"),_a5),{eventHandlers:{focus(){this.scheduleWork()}}}),Ju=Facet.define({combine:__name(o2=>o2.length?o2[0]:null,"combine"),enables:__name(o2=>[Language.state,Ku,EditorView.contentAttributes.compute([o2],i2=>{let a2=i2.facet(o2);return a2&&a2.name?{"data-language":a2.name}:{}})],"enables")}),_LanguageSupport=class _LanguageSupport{constructor(o2,i2=[]){this.language=o2,this.support=i2,this.extension=[o2,i2]}};__name(_LanguageSupport,"LanguageSupport");let LanguageSupport=_LanguageSupport;const td=Facet.define(),sd=Facet.define({combine:__name(o2=>{if(!o2.length)return"  ";let i2=o2[0];if(!i2||/\S/.test(i2)||Array.from(i2).some(o3=>o3!=i2[0]))throw new Error("Invalid indent unit: "+JSON.stringify(o2[0]));return i2},"combine")});function getIndentUnit(o2){let i2=o2.facet(sd);return i2.charCodeAt(0)==9?o2.tabSize*i2.length:i2.length}__name(getIndentUnit,"getIndentUnit");function indentString(o2,i2){let a2="",s2=o2.tabSize,u2=o2.facet(sd)[0];if(u2=="	"){for(;i2>=s2;)a2+="	",i2-=s2;u2=" "}for(let o3=0;o3<i2;o3++)a2+=u2;return a2}__name(indentString,"indentString");function getIndentation(o2,i2){o2 instanceof EditorState&&(o2=new IndentContext(o2));for(let a3 of o2.state.facet(td)){let s2=a3(o2,i2);if(s2!==void 0)return s2}let a2=syntaxTree(o2.state);return a2.length>=i2?__name(function(o3,i3,a3){let s2=i3.resolveStack(a3),u2=i3.resolveInner(a3,-1).resolve(a3,0).enterUnfinishedNodesBefore(a3);if(u2!=s2.node){let o4=[];for(let i4=u2;i4&&(i4.from!=s2.node.from||i4.type!=s2.node.type);i4=i4.parent)o4.push(i4);for(let i4=o4.length-1;i4>=0;i4--)s2={node:o4[i4],next:s2}}return indentFor(s2,o3,a3)},"syntaxIndentation")(o2,a2,i2):null}__name(getIndentation,"getIndentation");const _IndentContext=class _IndentContext{constructor(o2,i2={}){this.state=o2,this.options=i2,this.unit=getIndentUnit(o2)}lineAt(o2,i2=1){let a2=this.state.doc.lineAt(o2),{simulateBreak:s2,simulateDoubleBreak:u2}=this.options;return s2!=null&&s2>=a2.from&&s2<=a2.to?u2&&s2==o2?{text:"",from:o2}:(i2<0?s2<o2:s2<=o2)?{text:a2.text.slice(s2-a2.from),from:s2}:{text:a2.text.slice(0,s2-a2.from),from:a2.from}:a2}textAfterPos(o2,i2=1){if(this.options.simulateDoubleBreak&&o2==this.options.simulateBreak)return"";let{text:a2,from:s2}=this.lineAt(o2,i2);return a2.slice(o2-s2,Math.min(a2.length,o2+100-s2))}column(o2,i2=1){let{text:a2,from:s2}=this.lineAt(o2,i2),u2=this.countColumn(a2,o2-s2),O2=this.options.overrideIndentation?this.options.overrideIndentation(s2):-1;return O2>-1&&(u2+=O2-this.countColumn(a2,a2.search(/\S|$/))),u2}countColumn(o2,i2=o2.length){return countColumn(o2,this.state.tabSize,i2)}lineIndent(o2,i2=1){let{text:a2,from:s2}=this.lineAt(o2,i2),u2=this.options.overrideIndentation;if(u2){let o3=u2(s2);if(o3>-1)return o3}return this.countColumn(a2,a2.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}};__name(_IndentContext,"IndentContext");let IndentContext=_IndentContext;const ld=new NodeProp;function indentFor(o2,i2,a2){for(let s2=o2;s2;s2=s2.next){let o3=indentStrategy(s2.node);if(o3)return o3(TreeIndentContext.create(i2,a2,s2))}return 0}__name(indentFor,"indentFor");function indentStrategy(o2){let i2=o2.type.prop(ld);if(i2)return i2;let a2,s2=o2.firstChild;if(s2&&(a2=s2.type.prop(NodeProp.closedBy))){let i3=o2.lastChild,s3=i3&&a2.indexOf(i3.name)>-1;return o3=>delimitedStrategy(o3,!0,1,void 0,s3&&!__name(function(o4){return o4.pos==o4.options.simulateBreak&&o4.options.simulateDoubleBreak},"ignoreClosed")(o3)?i3.from:void 0)}return o2.parent==null?topIndent:null}__name(indentStrategy,"indentStrategy");function topIndent(){return 0}__name(topIndent,"topIndent");const _TreeIndentContext=class _TreeIndentContext extends IndentContext{constructor(o2,i2,a2){super(o2.state,o2.options),this.base=o2,this.pos=i2,this.context=a2}get node(){return this.context.node}static create(o2,i2,a2){return new _TreeIndentContext(o2,i2,a2)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(o2){let i2=this.state.doc.lineAt(o2.from);for(;;){let a2=o2.resolve(i2.from);for(;a2.parent&&a2.parent.from==a2.from;)a2=a2.parent;if(isParent(a2,o2))break;i2=this.state.doc.lineAt(a2.from)}return this.lineIndent(i2.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}};__name(_TreeIndentContext,"TreeIndentContext");let TreeIndentContext=_TreeIndentContext;function isParent(o2,i2){for(let a2=i2;a2;a2=a2.parent)if(o2==a2)return!0;return!1}__name(isParent,"isParent");function delimitedIndent({closing:o2,align:i2=!0,units:a2=1}){return s2=>delimitedStrategy(s2,i2,a2,o2)}__name(delimitedIndent,"delimitedIndent");function delimitedStrategy(o2,i2,a2,s2,u2){let O2=o2.textAfter,w2=O2.match(/^\s*/)[0].length,x2=s2&&O2.slice(w2,w2+s2.length)==s2||u2==o2.pos+w2,C2=i2?__name(function(o3){let i3=o3.node,a3=i3.childAfter(i3.from),s3=i3.lastChild;if(!a3)return null;let u3=o3.options.simulateBreak,O3=o3.state.doc.lineAt(a3.from),w3=u3==null||u3<=O3.from?O3.to:Math.min(O3.to,u3);for(let o4=a3.to;;){let u4=i3.childAfter(o4);if(!u4||u4==s3)return null;if(!u4.type.isSkipped){if(u4.from>=w3)return null;let o5=/^ */.exec(O3.text.slice(a3.to-O3.from))[0].length;return{from:a3.from,to:a3.to+o5}}o4=u4.to}},"bracketedAligned")(o2):null;return C2?x2?o2.column(C2.from):o2.column(C2.to):o2.baseIndent+(x2?0:o2.unit*a2)}__name(delimitedStrategy,"delimitedStrategy");function continuedIndent({except:o2,units:i2=1}={}){return a2=>{let s2=o2&&o2.test(a2.textAfter);return a2.baseIndent+(s2?0:i2*a2.unit)}}__name(continuedIndent,"continuedIndent");function indentOnInput(){return EditorState.transactionFilter.of(o2=>{if(!o2.docChanged||!o2.isUserEvent("input.type")&&!o2.isUserEvent("input.complete"))return o2;let i2=o2.startState.languageDataAt("indentOnInput",o2.startState.selection.main.head);if(!i2.length)return o2;let a2=o2.newDoc,{head:s2}=o2.newSelection.main,u2=a2.lineAt(s2);if(s2>u2.from+200)return o2;let O2=a2.sliceString(u2.from,s2);if(!i2.some(o3=>o3.test(O2)))return o2;let{state:w2}=o2,x2=-1,C2=[];for(let{head:o3}of w2.selection.ranges){let i3=w2.doc.lineAt(o3);if(i3.from==x2)continue;x2=i3.from;let a3=getIndentation(w2,i3.from);if(a3==null)continue;let s3=/^\s*/.exec(i3.text)[0],u3=indentString(w2,a3);s3!=u3&&C2.push({from:i3.from,to:i3.from+s3.length,insert:u3})}return C2.length?[o2,{changes:C2,sequential:!0}]:o2})}__name(indentOnInput,"indentOnInput");const cd=Facet.define(),ud=new NodeProp;function isUnfinished(o2){let i2=o2.lastChild;return i2&&i2.to==o2.to&&i2.type.isError}__name(isUnfinished,"isUnfinished");function foldable(o2,i2,a2){for(let s2 of o2.facet(cd)){let u2=s2(o2,i2,a2);if(u2)return u2}return __name(function(o3,i3,a3){let s2=syntaxTree(o3);if(s2.length<a3)return null;let u2=null;for(let O2=s2.resolveStack(a3,1);O2;O2=O2.next){let w2=O2.node;if(w2.to<=a3||w2.from>a3)continue;if(u2&&w2.from<i3)break;let x2=w2.type.prop(ud);if(x2&&(w2.to<s2.length-50||s2.length==o3.doc.length||!isUnfinished(w2))){let s3=x2(w2,o3);s3&&s3.from<=a3&&s3.from>=i3&&s3.to>a3&&(u2=s3)}}return u2},"syntaxFolding")(o2,i2,a2)}__name(foldable,"foldable");function mapRange(o2,i2){let a2=i2.mapPos(o2.from,1),s2=i2.mapPos(o2.to,-1);return a2>=s2?void 0:{from:a2,to:s2}}__name(mapRange,"mapRange");const dd=StateEffect.define({map:mapRange}),md=StateEffect.define({map:mapRange});function selectedLines(o2){let i2=[];for(let{head:a2}of o2.state.selection.ranges)i2.some(o3=>o3.from<=a2&&o3.to>=a2)||i2.push(o2.lineBlockAt(a2));return i2}__name(selectedLines,"selectedLines");const vd=StateField.define({create:__name(()=>Decoration.none,"create"),update(o2,i2){o2=o2.map(i2.changes);for(let a2 of i2.effects)if(a2.is(dd)&&!foldExists(o2,a2.value.from,a2.value.to)){let{preparePlaceholder:s2}=i2.state.facet(Sd),u2=s2?Decoration.replace({widget:new PreparedFoldWidget(s2(i2.state,a2.value))}):wd;o2=o2.update({add:[u2.range(a2.value.from,a2.value.to)]})}else a2.is(md)&&(o2=o2.update({filter:__name((o3,i3)=>a2.value.from!=o3||a2.value.to!=i3,"filter"),filterFrom:a2.value.from,filterTo:a2.value.to}));if(i2.selection){let a2=!1,{head:s2}=i2.selection.main;o2.between(s2,s2,(o3,i3)=>{o3<s2&&i3>s2&&(a2=!0)}),a2&&(o2=o2.update({filterFrom:s2,filterTo:s2,filter:__name((o3,i3)=>i3<=s2||o3>=s2,"filter")}))}return o2},provide:__name(o2=>EditorView.decorations.from(o2),"provide"),toJSON(o2,i2){let a2=[];return o2.between(0,i2.doc.length,(o3,i3)=>{a2.push(o3,i3)}),a2},fromJSON(o2){if(!Array.isArray(o2)||o2.length%2)throw new RangeError("Invalid JSON for fold state");let i2=[];for(let a2=0;a2<o2.length;){let s2=o2[a2++],u2=o2[a2++];if(typeof s2!="number"||typeof u2!="number")throw new RangeError("Invalid JSON for fold state");i2.push(wd.range(s2,u2))}return Decoration.set(i2,!0)}});function findFold(o2,i2,a2){var s2;let u2=null;return(s2=o2.field(vd,!1))===null||s2===void 0||s2.between(i2,a2,(o3,i3)=>{(!u2||u2.from>o3)&&(u2={from:o3,to:i3})}),u2}__name(findFold,"findFold");function foldExists(o2,i2,a2){let s2=!1;return o2.between(i2,i2,(o3,u2)=>{o3==i2&&u2==a2&&(s2=!0)}),s2}__name(foldExists,"foldExists");function maybeEnable(o2,i2){return o2.field(vd,!1)?i2:i2.concat(StateEffect.appendConfig.of(codeFolding()))}__name(maybeEnable,"maybeEnable");function announceFold(o2,i2,a2=!0){let s2=o2.state.doc.lineAt(i2.from).number,u2=o2.state.doc.lineAt(i2.to).number;return EditorView.announce.of(`${o2.state.phrase(a2?"Folded lines":"Unfolded lines")} ${s2} ${o2.state.phrase("to")} ${u2}.`)}__name(announceFold,"announceFold");const yd=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:__name(o2=>{for(let i2 of selectedLines(o2)){let a2=foldable(o2.state,i2.from,i2.to);if(a2)return o2.dispatch({effects:maybeEnable(o2.state,[dd.of(a2),announceFold(o2,a2)])}),!0}return!1},"run")},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:__name(o2=>{if(!o2.state.field(vd,!1))return!1;let i2=[];for(let a2 of selectedLines(o2)){let s2=findFold(o2.state,a2.from,a2.to);s2&&i2.push(md.of(s2),announceFold(o2,s2,!1))}return i2.length&&o2.dispatch({effects:i2}),i2.length>0},"run")},{key:"Ctrl-Alt-[",run:__name(o2=>{let{state:i2}=o2,a2=[];for(let s2=0;s2<i2.doc.length;){let u2=o2.lineBlockAt(s2),O2=foldable(i2,u2.from,u2.to);O2&&a2.push(dd.of(O2)),s2=(O2?o2.lineBlockAt(O2.to):u2).to+1}return a2.length&&o2.dispatch({effects:maybeEnable(o2.state,a2)}),!!a2.length},"run")},{key:"Ctrl-Alt-]",run:__name(o2=>{let i2=o2.state.field(vd,!1);if(!i2||!i2.size)return!1;let a2=[];return i2.between(0,o2.state.doc.length,(o3,i3)=>{a2.push(md.of({from:o3,to:i3}))}),o2.dispatch({effects:a2}),!0},"run")}],Od={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},Sd=Facet.define({combine:__name(o2=>combineConfig(o2,Od),"combine")});function codeFolding(o2){return[vd,kd]}__name(codeFolding,"codeFolding");function widgetToDOM(o2,i2){let{state:a2}=o2,s2=a2.facet(Sd),onclick=__name(i3=>{let a3=o2.lineBlockAt(o2.posAtDOM(i3.target)),s3=findFold(o2.state,a3.from,a3.to);s3&&o2.dispatch({effects:md.of(s3)}),i3.preventDefault()},"onclick");if(s2.placeholderDOM)return s2.placeholderDOM(o2,onclick,i2);let u2=document.createElement("span");return u2.textContent=s2.placeholderText,u2.setAttribute("aria-label",a2.phrase("folded code")),u2.title=a2.phrase("unfold"),u2.className="cm-foldPlaceholder",u2.onclick=onclick,u2}__name(widgetToDOM,"widgetToDOM");const wd=Decoration.replace({widget:new class extends WidgetType{toDOM(o2){return widgetToDOM(o2,null)}}}),_PreparedFoldWidget=class _PreparedFoldWidget extends WidgetType{constructor(o2){super(),this.value=o2}eq(o2){return this.value==o2.value}toDOM(o2){return widgetToDOM(o2,this.value)}};__name(_PreparedFoldWidget,"PreparedFoldWidget");let PreparedFoldWidget=_PreparedFoldWidget;const xd={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:__name(()=>!1,"foldingChanged")},_FoldMarker=class _FoldMarker extends GutterMarker{constructor(o2,i2){super(),this.config=o2,this.open=i2}eq(o2){return this.config==o2.config&&this.open==o2.open}toDOM(o2){if(this.config.markerDOM)return this.config.markerDOM(this.open);let i2=document.createElement("span");return i2.textContent=this.open?this.config.openText:this.config.closedText,i2.title=o2.state.phrase(this.open?"Fold line":"Unfold line"),i2}};__name(_FoldMarker,"FoldMarker");let FoldMarker=_FoldMarker;function foldGutter(o2={}){let i2=Object.assign(Object.assign({},xd),o2),a2=new FoldMarker(i2,!0),s2=new FoldMarker(i2,!1),u2=ViewPlugin.fromClass(class{constructor(o3){this.from=o3.viewport.from,this.markers=this.buildMarkers(o3)}update(o3){(o3.docChanged||o3.viewportChanged||o3.startState.facet(Ju)!=o3.state.facet(Ju)||o3.startState.field(vd,!1)!=o3.state.field(vd,!1)||syntaxTree(o3.startState)!=syntaxTree(o3.state)||i2.foldingChanged(o3))&&(this.markers=this.buildMarkers(o3.view))}buildMarkers(o3){let i3=new RangeSetBuilder;for(let u3 of o3.viewportLineBlocks){let O3=findFold(o3.state,u3.from,u3.to)?s2:foldable(o3.state,u3.from,u3.to)?a2:null;O3&&i3.add(u3.from,u3.from,O3)}return i3.finish()}}),{domEventHandlers:O2}=i2;return[u2,gutter({class:"cm-foldGutter",markers(o3){var i3;return((i3=o3.plugin(u2))===null||i3===void 0?void 0:i3.markers)||RangeSet.empty},initialSpacer:__name(()=>new FoldMarker(i2,!1),"initialSpacer"),domEventHandlers:Object.assign(Object.assign({},O2),{click:__name((o3,i3,a3)=>{if(O2.click&&O2.click(o3,i3,a3))return!0;let s3=findFold(o3.state,i3.from,i3.to);if(s3)return o3.dispatch({effects:md.of(s3)}),!0;let u3=foldable(o3.state,i3.from,i3.to);return!!u3&&(o3.dispatch({effects:dd.of(u3)}),!0)},"click")})}),codeFolding()]}__name(foldGutter,"foldGutter");const kd=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),_HighlightStyle=class _HighlightStyle{constructor(o2,i2){let a2;function def(o3){let i3=StyleModule.newName();return(a2||(a2=Object.create(null)))["."+i3]=o3,i3}__name(def,"def"),this.specs=o2;const s2=typeof i2.all=="string"?i2.all:i2.all?def(i2.all):void 0,u2=i2.scope;this.scope=u2 instanceof Language?o3=>o3.prop(qu)==u2.data:u2?o3=>o3==u2:void 0,this.style=tagHighlighter(o2.map(o3=>({tag:o3.tag,class:o3.class||def(Object.assign({},o3,{tag:null}))})),{all:s2}).style,this.module=a2?new StyleModule(a2):null,this.themeType=i2.themeType}static define(o2,i2){return new _HighlightStyle(o2,i2||{})}};__name(_HighlightStyle,"HighlightStyle");let HighlightStyle=_HighlightStyle;const Cd=Facet.define(),Ed=Facet.define({combine:__name(o2=>o2.length?[o2[0]]:null,"combine")});function getHighlighters(o2){let i2=o2.facet(Cd);return i2.length?i2:o2.facet(Ed)}__name(getHighlighters,"getHighlighters");function syntaxHighlighting(o2,i2){let a2,s2=[Td];return o2 instanceof HighlightStyle&&(o2.module&&s2.push(EditorView.styleModule.of(o2.module)),a2=o2.themeType),i2!=null&&i2.fallback?s2.push(Ed.of(o2)):a2?s2.push(Cd.computeN([EditorView.darkTheme],i3=>i3.facet(EditorView.darkTheme)==(a2=="dark")?[o2]:[])):s2.push(Cd.of(o2)),s2}__name(syntaxHighlighting,"syntaxHighlighting");const _TreeHighlighter=class _TreeHighlighter{constructor(o2){this.markCache=Object.create(null),this.tree=syntaxTree(o2.state),this.decorations=this.buildDeco(o2,getHighlighters(o2.state)),this.decoratedTo=o2.viewport.to}update(o2){let i2=syntaxTree(o2.state),a2=getHighlighters(o2.state),s2=a2!=getHighlighters(o2.startState),{viewport:u2}=o2.view,O2=o2.changes.mapPos(this.decoratedTo,1);i2.length<u2.to&&!s2&&i2.type==this.tree.type&&O2>=u2.to?(this.decorations=this.decorations.map(o2.changes),this.decoratedTo=O2):(i2!=this.tree||o2.viewportChanged||s2)&&(this.tree=i2,this.decorations=this.buildDeco(o2.view,a2),this.decoratedTo=u2.to)}buildDeco(o2,i2){if(!i2||!this.tree.length)return Decoration.none;let a2=new RangeSetBuilder;for(let{from:s2,to:u2}of o2.visibleRanges)highlightTree(this.tree,i2,(o3,i3,s3)=>{a2.add(o3,i3,this.markCache[s3]||(this.markCache[s3]=Decoration.mark({class:s3})))},s2,u2);return a2.finish()}};__name(_TreeHighlighter,"TreeHighlighter");let TreeHighlighter=_TreeHighlighter;const Td=Ea.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:__name(o2=>o2.decorations,"decorations")})),Rd=HighlightStyle.define([{tag:Uu.meta,color:"#404740"},{tag:Uu.link,textDecoration:"underline"},{tag:Uu.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Uu.emphasis,fontStyle:"italic"},{tag:Uu.strong,fontWeight:"bold"},{tag:Uu.strikethrough,textDecoration:"line-through"},{tag:Uu.keyword,color:"#708"},{tag:[Uu.atom,Uu.bool,Uu.url,Uu.contentSeparator,Uu.labelName],color:"#219"},{tag:[Uu.literal,Uu.inserted],color:"#164"},{tag:[Uu.string,Uu.deleted],color:"#a11"},{tag:[Uu.regexp,Uu.escape,Uu.special(Uu.string)],color:"#e40"},{tag:Uu.definition(Uu.variableName),color:"#00f"},{tag:Uu.local(Uu.variableName),color:"#30a"},{tag:[Uu.typeName,Uu.namespace],color:"#085"},{tag:Uu.className,color:"#167"},{tag:[Uu.special(Uu.variableName),Uu.macroName],color:"#256"},{tag:Uu.definition(Uu.propertyName),color:"#00c"},{tag:Uu.comment,color:"#940"},{tag:Uu.invalid,color:"#f00"}]),Dd=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Id="()[]{}",Md=Facet.define({combine:__name(o2=>combineConfig(o2,{afterCursor:!0,brackets:Id,maxScanDistance:1e4,renderMatch:defaultRenderMatch}),"combine")}),_d=Decoration.mark({class:"cm-matchingBracket"}),Ad=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(o2){let i2=[],a2=o2.matched?_d:Ad;return i2.push(a2.range(o2.start.from,o2.start.to)),o2.end&&i2.push(a2.range(o2.end.from,o2.end.to)),i2}__name(defaultRenderMatch,"defaultRenderMatch");const Qd=StateField.define({create:__name(()=>Decoration.none,"create"),update(o2,i2){if(!i2.docChanged&&!i2.selection)return o2;let a2=[],s2=i2.state.facet(Md);for(let o3 of i2.state.selection.ranges){if(!o3.empty)continue;let u2=matchBrackets(i2.state,o3.head,-1,s2)||o3.head>0&&matchBrackets(i2.state,o3.head-1,1,s2)||s2.afterCursor&&(matchBrackets(i2.state,o3.head,1,s2)||o3.head<i2.state.doc.length&&matchBrackets(i2.state,o3.head+1,-1,s2));u2&&(a2=a2.concat(s2.renderMatch(u2,i2.state)))}return Decoration.set(a2,!0)},provide:__name(o2=>EditorView.decorations.from(o2),"provide")}),Nd=[Qd,Dd];function bracketMatching(o2={}){return[Md.of(o2),Nd]}__name(bracketMatching,"bracketMatching");const Ld=new NodeProp;function matchingNodes(o2,i2,a2){let s2=o2.prop(i2<0?NodeProp.openedBy:NodeProp.closedBy);if(s2)return s2;if(o2.name.length==1){let s3=a2.indexOf(o2.name);if(s3>-1&&s3%2==(i2<0?1:0))return[a2[s3+i2]]}return null}__name(matchingNodes,"matchingNodes");function findHandle(o2){let i2=o2.type.prop(Ld);return i2?i2(o2.node):o2}__name(findHandle,"findHandle");function matchBrackets(o2,i2,a2,s2={}){let u2=s2.maxScanDistance||1e4,O2=s2.brackets||Id,w2=syntaxTree(o2),x2=w2.resolveInner(i2,a2);for(let s3=x2;s3;s3=s3.parent){let u3=matchingNodes(s3.type,a2,O2);if(u3&&s3.from<s3.to){let w3=findHandle(s3);if(w3&&(a2>0?i2>=w3.from&&i2<w3.to:i2>w3.from&&i2<=w3.to))return matchMarkedBrackets(o2,i2,a2,s3,w3,u3,O2)}}return __name(function(o3,i3,a3,s3,u3,O3,w3){let x3=a3<0?o3.sliceDoc(i3-1,i3):o3.sliceDoc(i3,i3+1),C2=w3.indexOf(x3);if(C2<0||C2%2==0!=a3>0)return null;let T2={from:a3<0?i3-1:i3,to:a3>0?i3+1:i3},_2=o3.doc.iterRange(i3,a3>0?o3.doc.length:0),A2=0;for(let o4=0;!_2.next().done&&o4<=O3;){let O4=_2.value;a3<0&&(o4+=O4.length);let x4=i3+o4*a3;for(let o5=a3>0?0:O4.length-1,i4=a3>0?O4.length:-1;o5!=i4;o5+=a3){let i5=w3.indexOf(O4[o5]);if(!(i5<0||s3.resolveInner(x4+o5,1).type!=u3))if(i5%2==0==a3>0)A2++;else{if(A2==1)return{start:T2,end:{from:x4+o5,to:x4+o5+1},matched:i5>>1==C2>>1};A2--}}a3>0&&(o4+=O4.length)}return _2.done?{start:T2,matched:!1}:null},"matchPlainBrackets")(o2,i2,a2,w2,x2.type,u2,O2)}__name(matchBrackets,"matchBrackets");function matchMarkedBrackets(o2,i2,a2,s2,u2,O2,w2){let x2=s2.parent,C2={from:u2.from,to:u2.to},T2=0,_2=x2==null?void 0:x2.cursor();if(_2&&(a2<0?_2.childBefore(s2.from):_2.childAfter(s2.to)))do if(a2<0?_2.to<=s2.from:_2.from>=s2.to){if(T2==0&&O2.indexOf(_2.type.name)>-1&&_2.from<_2.to){let o3=findHandle(_2);return{start:C2,end:o3?{from:o3.from,to:o3.to}:void 0,matched:!0}}if(matchingNodes(_2.type,a2,w2))T2++;else if(matchingNodes(_2.type,-a2,w2)){if(T2==0){let o3=findHandle(_2);return{start:C2,end:o3&&o3.from<o3.to?{from:o3.from,to:o3.to}:void 0,matched:!1}}T2--}}while(a2<0?_2.prevSibling():_2.nextSibling());return{start:C2,matched:!1}}__name(matchMarkedBrackets,"matchMarkedBrackets");const $d=Object.create(null),Fd=[NodeType.none],Bd=[],Vd=Object.create(null),Wd=Object.create(null);for(let[o2,i2]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Wd[o2]=createTokenType($d,i2);function warnForPart(o2,i2){Bd.indexOf(o2)>-1||(Bd.push(o2),console.warn(i2))}__name(warnForPart,"warnForPart");function createTokenType(o2,i2){let a2=[];for(let s3 of i2.split(" ")){let i3=[];for(let a3 of s3.split(".")){let s4=o2[a3]||Uu[a3];s4?typeof s4=="function"?i3.length?i3=i3.map(s4):warnForPart(a3,`Modifier ${a3} used at start of tag`):i3.length?warnForPart(a3,`Tag ${a3} used as modifier`):i3=Array.isArray(s4)?s4:[s4]:warnForPart(a3,`Unknown highlighting tag ${a3}`)}for(let o3 of i3)a2.push(o3)}if(!a2.length)return 0;let s2=i2.replace(/ /g,"_"),u2=s2+" "+a2.map(o3=>o3.id),O2=Vd[u2];if(O2)return O2.id;let w2=Vd[u2]=NodeType.define({id:Fd.length,name:s2,props:[styleTags({[s2]:a2})]});return Fd.push(w2),w2.id}__name(createTokenType,"createTokenType");Ps.RTL,Ps.LTR;function command(o2,i2){return({state:a2,dispatch:s2})=>{if(a2.readOnly)return!1;let u2=o2(i2,a2);return!!u2&&(s2(a2.update(u2)),!0)}}__name(command,"command");const Hd=command(changeLineComment,0),Ud=command(changeBlockComment,0),Zd=command((o2,i2)=>changeBlockComment(o2,i2,__name(function(o3){let i3=[];for(let a2 of o3.selection.ranges){let s2=o3.doc.lineAt(a2.from),u2=a2.to<=s2.to?s2:o3.doc.lineAt(a2.to);u2.from>s2.from&&u2.from==a2.to&&(u2=a2.to==s2.to+1?s2:o3.doc.lineAt(a2.to-1));let O2=i3.length-1;O2>=0&&i3[O2].to>s2.from?i3[O2].to=u2.to:i3.push({from:s2.from+/^\s*/.exec(s2.text)[0].length,to:u2.to})}return i3},"selectedLineRanges")(i2)),0);function getConfig(o2,i2){let a2=o2.languageDataAt("commentTokens",i2,1);return a2.length?a2[0]:{}}__name(getConfig,"getConfig");const Xd=50;function changeBlockComment(o2,i2,a2=i2.selection.ranges){let s2=a2.map(o3=>getConfig(i2,o3.from).block);if(!s2.every(o3=>o3))return null;let u2=a2.map((o3,a3)=>__name(function(o4,{open:i3,close:a4},s3,u3){let O2,w2,x2=o4.sliceDoc(s3-Xd,s3),C2=o4.sliceDoc(u3,u3+Xd),T2=/\s*$/.exec(x2)[0].length,_2=/^\s*/.exec(C2)[0].length,A2=x2.length-T2;if(x2.slice(A2-i3.length,A2)==i3&&C2.slice(_2,_2+a4.length)==a4)return{open:{pos:s3-T2,margin:T2&&1},close:{pos:u3+_2,margin:_2&&1}};u3-s3<=2*Xd?O2=w2=o4.sliceDoc(s3,u3):(O2=o4.sliceDoc(s3,s3+Xd),w2=o4.sliceDoc(u3-Xd,u3));let Q2=/^\s*/.exec(O2)[0].length,N2=/\s*$/.exec(w2)[0].length,L2=w2.length-N2-a4.length;return O2.slice(Q2,Q2+i3.length)==i3&&w2.slice(L2,L2+a4.length)==a4?{open:{pos:s3+Q2+i3.length,margin:/\s/.test(O2.charAt(Q2+i3.length))?1:0},close:{pos:u3-N2-a4.length,margin:/\s/.test(w2.charAt(L2-1))?1:0}}:null},"findBlockComment")(i2,s2[a3],o3.from,o3.to));if(o2!=2&&!u2.every(o3=>o3))return{changes:i2.changes(a2.map((o3,i3)=>u2[i3]?[]:[{from:o3.from,insert:s2[i3].open+" "},{from:o3.to,insert:" "+s2[i3].close}]))};if(o2!=1&&u2.some(o3=>o3)){let o3=[];for(let i3,a3=0;a3<u2.length;a3++)if(i3=u2[a3]){let u3=s2[a3],{open:O2,close:w2}=i3;o3.push({from:O2.pos-u3.open.length,to:O2.pos+O2.margin},{from:w2.pos-w2.margin,to:w2.pos+u3.close.length})}return{changes:o3}}return null}__name(changeBlockComment,"changeBlockComment");function changeLineComment(o2,i2,a2=i2.selection.ranges){let s2=[],u2=-1;for(let{from:o3,to:O2}of a2){let a3=s2.length,w2=1e9,x2=getConfig(i2,o3).line;if(x2){for(let a4=o3;a4<=O2;){let C2=i2.doc.lineAt(a4);if(C2.from>u2&&(o3==O2||O2>C2.from)){u2=C2.from;let o4=/^\s*/.exec(C2.text)[0].length,i3=o4==C2.length,a5=C2.text.slice(o4,o4+x2.length)==x2?o4:-1;o4<C2.text.length&&o4<w2&&(w2=o4),s2.push({line:C2,comment:a5,token:x2,indent:o4,empty:i3,single:!1})}a4=C2.to+1}if(w2<1e9)for(let o4=a3;o4<s2.length;o4++)s2[o4].indent<s2[o4].line.text.length&&(s2[o4].indent=w2);s2.length==a3+1&&(s2[a3].single=!0)}}if(o2!=2&&s2.some(o3=>o3.comment<0&&(!o3.empty||o3.single))){let o3=[];for(let{line:i3,token:a4,indent:u3,empty:O2,single:w2}of s2)!w2&&O2||o3.push({from:i3.from+u3,insert:a4+" "});let a3=i2.changes(o3);return{changes:a3,selection:i2.selection.map(a3,1)}}if(o2!=1&&s2.some(o3=>o3.comment>=0)){let o3=[];for(let{line:i3,comment:a3,token:u3}of s2)if(a3>=0){let s3=i3.from+a3,O2=s3+u3.length;i3.text[O2-i3.from]==" "&&O2++,o3.push({from:s3,to:O2})}return{changes:o3}}return null}__name(changeLineComment,"changeLineComment");const Gd=Annotation.define(),Yd=Annotation.define(),Kd=Facet.define(),Jd=Facet.define({combine:__name(o2=>combineConfig(o2,{minDepth:100,newGroupDelay:500,joinToEvent:__name((o3,i2)=>i2,"joinToEvent")},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:__name((o3,i2)=>(a2,s2)=>o3(a2,s2)||i2(a2,s2),"joinToEvent")}),"combine")}),ef=StateField.define({create:__name(()=>HistoryState.empty,"create"),update(o2,i2){let a2=i2.state.facet(Jd),s2=i2.annotation(Gd);if(s2){let u3=HistEvent.fromTransaction(i2,s2.selection),O3=s2.side,w3=O3==0?o2.undone:o2.done;return w3=u3?updateBranch(w3,w3.length,a2.minDepth,u3):addSelection(w3,i2.startState.selection),new HistoryState(O3==0?s2.rest:w3,O3==0?w3:s2.rest)}let u2=i2.annotation(Yd);if(u2!="full"&&u2!="before"||(o2=o2.isolate()),i2.annotation(Transaction.addToHistory)===!1)return i2.changes.empty?o2:o2.addMapping(i2.changes.desc);let O2=HistEvent.fromTransaction(i2),w2=i2.annotation(Transaction.time),x2=i2.annotation(Transaction.userEvent);return O2?o2=o2.addChanges(O2,w2,x2,a2,i2):i2.selection&&(o2=o2.addSelection(i2.startState.selection,w2,x2,a2.newGroupDelay)),u2!="full"&&u2!="after"||(o2=o2.isolate()),o2},toJSON:__name(o2=>({done:o2.done.map(o3=>o3.toJSON()),undone:o2.undone.map(o3=>o3.toJSON())}),"toJSON"),fromJSON:__name(o2=>new HistoryState(o2.done.map(HistEvent.fromJSON),o2.undone.map(HistEvent.fromJSON)),"fromJSON")});function history(o2={}){return[ef,Jd.of(o2),EditorView.domEventHandlers({beforeinput(o3,i2){let a2=o3.inputType=="historyUndo"?rf:o3.inputType=="historyRedo"?of:null;return!!a2&&(o3.preventDefault(),a2(i2))}})]}__name(history,"history");function cmd(o2,i2){return function({state:a2,dispatch:s2}){if(!i2&&a2.readOnly)return!1;let u2=a2.field(ef,!1);if(!u2)return!1;let O2=u2.pop(o2,a2,i2);return!!O2&&(s2(O2),!0)}}__name(cmd,"cmd");const rf=cmd(0,!1),of=cmd(1,!1),af=cmd(0,!0),lf=cmd(1,!0),_HistEvent=class _HistEvent{constructor(o2,i2,a2,s2,u2){this.changes=o2,this.effects=i2,this.mapped=a2,this.startSelection=s2,this.selectionsAfter=u2}setSelAfter(o2){return new _HistEvent(this.changes,this.effects,this.mapped,this.startSelection,o2)}toJSON(){var o2,i2,a2;return{changes:(o2=this.changes)===null||o2===void 0?void 0:o2.toJSON(),mapped:(i2=this.mapped)===null||i2===void 0?void 0:i2.toJSON(),startSelection:(a2=this.startSelection)===null||a2===void 0?void 0:a2.toJSON(),selectionsAfter:this.selectionsAfter.map(o3=>o3.toJSON())}}static fromJSON(o2){return new _HistEvent(o2.changes&&ChangeSet.fromJSON(o2.changes),[],o2.mapped&&ChangeDesc.fromJSON(o2.mapped),o2.startSelection&&EditorSelection.fromJSON(o2.startSelection),o2.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(o2,i2){let a2=cf;for(let i3 of o2.startState.facet(Kd)){let s2=i3(o2);s2.length&&(a2=a2.concat(s2))}return!a2.length&&o2.changes.empty?null:new _HistEvent(o2.changes.invert(o2.startState.doc),a2,void 0,i2||o2.startState.selection,cf)}static selection(o2){return new _HistEvent(void 0,cf,void 0,void 0,o2)}};__name(_HistEvent,"HistEvent");let HistEvent=_HistEvent;function updateBranch(o2,i2,a2,s2){let u2=i2+1>a2+20?i2-a2-1:0,O2=o2.slice(u2,i2);return O2.push(s2),O2}__name(updateBranch,"updateBranch");function conc(o2,i2){return o2.length?i2.length?o2.concat(i2):o2:i2}__name(conc,"conc");const cf=[],uf=200;function addSelection(o2,i2){if(o2.length){let a2=o2[o2.length-1],s2=a2.selectionsAfter.slice(Math.max(0,a2.selectionsAfter.length-uf));return s2.length&&s2[s2.length-1].eq(i2)?o2:(s2.push(i2),updateBranch(o2,o2.length-1,1e9,a2.setSelAfter(s2)))}return[HistEvent.selection([i2])]}__name(addSelection,"addSelection");function popSelection(o2){let i2=o2[o2.length-1],a2=o2.slice();return a2[o2.length-1]=i2.setSelAfter(i2.selectionsAfter.slice(0,i2.selectionsAfter.length-1)),a2}__name(popSelection,"popSelection");function addMappingToBranch(o2,i2){if(!o2.length)return o2;let a2=o2.length,s2=cf;for(;a2;){let u2=mapEvent(o2[a2-1],i2,s2);if(u2.changes&&!u2.changes.empty||u2.effects.length){let i3=o2.slice(0,a2);return i3[a2-1]=u2,i3}i2=u2.mapped,a2--,s2=u2.selectionsAfter}return s2.length?[HistEvent.selection(s2)]:cf}__name(addMappingToBranch,"addMappingToBranch");function mapEvent(o2,i2,a2){let s2=conc(o2.selectionsAfter.length?o2.selectionsAfter.map(o3=>o3.map(i2)):cf,a2);if(!o2.changes)return HistEvent.selection(s2);let u2=o2.changes.map(i2),O2=i2.mapDesc(o2.changes,!0),w2=o2.mapped?o2.mapped.composeDesc(O2):O2;return new HistEvent(u2,StateEffect.mapEffects(o2.effects,i2),w2,o2.startSelection.map(O2),s2)}__name(mapEvent,"mapEvent");const df=/^(input\.type|delete)($|\.)/,_HistoryState=class _HistoryState{constructor(o2,i2,a2=0,s2=void 0){this.done=o2,this.undone=i2,this.prevTime=a2,this.prevUserEvent=s2}isolate(){return this.prevTime?new _HistoryState(this.done,this.undone):this}addChanges(o2,i2,a2,s2,u2){let O2=this.done,w2=O2[O2.length-1];return O2=w2&&w2.changes&&!w2.changes.empty&&o2.changes&&(!a2||df.test(a2))&&(!w2.selectionsAfter.length&&i2-this.prevTime<s2.newGroupDelay&&s2.joinToEvent(u2,__name(function(o3,i3){let a3=[],s3=!1;return o3.iterChangedRanges((o4,i4)=>a3.push(o4,i4)),i3.iterChangedRanges((o4,i4,u3,O3)=>{for(let o5=0;o5<a3.length;){let i5=a3[o5++],w3=a3[o5++];O3>=i5&&u3<=w3&&(s3=!0)}}),s3},"isAdjacent")(w2.changes,o2.changes))||a2=="input.type.compose")?updateBranch(O2,O2.length-1,s2.minDepth,new HistEvent(o2.changes.compose(w2.changes),conc(StateEffect.mapEffects(o2.effects,w2.changes),w2.effects),w2.mapped,w2.startSelection,cf)):updateBranch(O2,O2.length,s2.minDepth,o2),new _HistoryState(O2,cf,i2,a2)}addSelection(o2,i2,a2,s2){let u2=this.done.length?this.done[this.done.length-1].selectionsAfter:cf;return u2.length>0&&i2-this.prevTime<s2&&a2==this.prevUserEvent&&a2&&/^select($|\.)/.test(a2)&&__name(function(o3,i3){return o3.ranges.length==i3.ranges.length&&o3.ranges.filter((o4,a3)=>o4.empty!=i3.ranges[a3].empty).length===0},"eqSelectionShape")(u2[u2.length-1],o2)?this:new _HistoryState(addSelection(this.done,o2),this.undone,i2,a2)}addMapping(o2){return new _HistoryState(addMappingToBranch(this.done,o2),addMappingToBranch(this.undone,o2),this.prevTime,this.prevUserEvent)}pop(o2,i2,a2){let s2=o2==0?this.done:this.undone;if(s2.length==0)return null;let u2=s2[s2.length-1],O2=u2.selectionsAfter[0]||i2.selection;if(a2&&u2.selectionsAfter.length)return i2.update({selection:u2.selectionsAfter[u2.selectionsAfter.length-1],annotations:Gd.of({side:o2,rest:popSelection(s2),selection:O2}),userEvent:o2==0?"select.undo":"select.redo",scrollIntoView:!0});if(u2.changes){let a3=s2.length==1?cf:s2.slice(0,s2.length-1);return u2.mapped&&(a3=addMappingToBranch(a3,u2.mapped)),i2.update({changes:u2.changes,selection:u2.startSelection,effects:u2.effects,annotations:Gd.of({side:o2,rest:a3,selection:O2}),filter:!1,userEvent:o2==0?"undo":"redo",scrollIntoView:!0})}return null}};__name(_HistoryState,"HistoryState");let HistoryState=_HistoryState;HistoryState.empty=new HistoryState(cf,cf);const hf=[{key:"Mod-z",run:rf,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:of,preventDefault:!0},{linux:"Ctrl-Shift-z",run:of,preventDefault:!0},{key:"Mod-u",run:af,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:lf,preventDefault:!0}];function updateSel(o2,i2){return EditorSelection.create(o2.ranges.map(i2),o2.mainIndex)}__name(updateSel,"updateSel");function setSel(o2,i2){return o2.update({selection:i2,scrollIntoView:!0,userEvent:"select"})}__name(setSel,"setSel");function moveSel({state:o2,dispatch:i2},a2){let s2=updateSel(o2.selection,a2);return!s2.eq(o2.selection,!0)&&(i2(setSel(o2,s2)),!0)}__name(moveSel,"moveSel");function rangeEnd(o2,i2){return EditorSelection.cursor(i2?o2.to:o2.from)}__name(rangeEnd,"rangeEnd");function cursorByChar(o2,i2){return moveSel(o2,a2=>a2.empty?o2.moveByChar(a2,i2):rangeEnd(a2,i2))}__name(cursorByChar,"cursorByChar");function ltrAtCursor(o2){return o2.textDirectionAt(o2.state.selection.main.head)==Ps.LTR}__name(ltrAtCursor,"ltrAtCursor");const cursorCharLeft=__name(o2=>cursorByChar(o2,!ltrAtCursor(o2)),"cursorCharLeft"),cursorCharRight=__name(o2=>cursorByChar(o2,ltrAtCursor(o2)),"cursorCharRight");function cursorByGroup(o2,i2){return moveSel(o2,a2=>a2.empty?o2.moveByGroup(a2,i2):rangeEnd(a2,i2))}__name(cursorByGroup,"cursorByGroup");function interestingNode(o2,i2,a2){if(i2.type.prop(a2))return!0;let s2=i2.to-i2.from;return s2&&(s2>2||/[^\s,.;:]/.test(o2.sliceDoc(i2.from,i2.to)))||i2.firstChild}__name(interestingNode,"interestingNode");function moveBySyntax(o2,i2,a2){let s2,u2,O2=syntaxTree(o2).resolveInner(i2.head),w2=a2?NodeProp.closedBy:NodeProp.openedBy;for(let s3=i2.head;;){let i3=a2?O2.childAfter(s3):O2.childBefore(s3);if(!i3)break;interestingNode(o2,i3,w2)?O2=i3:s3=a2?i3.to:i3.from}return u2=O2.type.prop(w2)&&(s2=a2?matchBrackets(o2,O2.from,1):matchBrackets(o2,O2.to,-1))&&s2.matched?a2?s2.end.to:s2.end.from:a2?O2.to:O2.from,EditorSelection.cursor(u2,a2?-1:1)}__name(moveBySyntax,"moveBySyntax");function cursorByLine(o2,i2){return moveSel(o2,a2=>{if(!a2.empty)return rangeEnd(a2,i2);let s2=o2.moveVertically(a2,i2);return s2.head!=a2.head?s2:o2.moveToLineBoundary(a2,i2)})}__name(cursorByLine,"cursorByLine");const cursorLineUp=__name(o2=>cursorByLine(o2,!1),"cursorLineUp"),cursorLineDown=__name(o2=>cursorByLine(o2,!0),"cursorLineDown");function pageInfo(o2){let i2,a2=o2.scrollDOM.clientHeight<o2.scrollDOM.scrollHeight-2,s2=0,u2=0;if(a2){for(let i3 of o2.state.facet(EditorView.scrollMargins)){let a3=i3(o2);a3!=null&&a3.top&&(s2=Math.max(a3==null?void 0:a3.top,s2)),a3!=null&&a3.bottom&&(u2=Math.max(a3==null?void 0:a3.bottom,u2))}i2=o2.scrollDOM.clientHeight-s2-u2}else i2=(o2.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:s2,marginBottom:u2,selfScroll:a2,height:Math.max(o2.defaultLineHeight,i2-5)}}__name(pageInfo,"pageInfo");function cursorByPage(o2,i2){let a2,s2=pageInfo(o2),{state:u2}=o2,O2=updateSel(u2.selection,a3=>a3.empty?o2.moveVertically(a3,i2,s2.height):rangeEnd(a3,i2));if(O2.eq(u2.selection))return!1;if(s2.selfScroll){let i3=o2.coordsAtPos(u2.selection.main.head),w2=o2.scrollDOM.getBoundingClientRect(),x2=w2.top+s2.marginTop,C2=w2.bottom-s2.marginBottom;i3&&i3.top>x2&&i3.bottom<C2&&(a2=EditorView.scrollIntoView(O2.main.head,{y:"start",yMargin:i3.top-x2}))}return o2.dispatch(setSel(u2,O2),{effects:a2}),!0}__name(cursorByPage,"cursorByPage");const cursorPageUp=__name(o2=>cursorByPage(o2,!1),"cursorPageUp"),cursorPageDown=__name(o2=>cursorByPage(o2,!0),"cursorPageDown");function moveByLineBoundary(o2,i2,a2){let s2=o2.lineBlockAt(i2.head),u2=o2.moveToLineBoundary(i2,a2);if(u2.head==i2.head&&u2.head!=(a2?s2.to:s2.from)&&(u2=o2.moveToLineBoundary(i2,a2,!1)),!a2&&u2.head==s2.from&&s2.length){let a3=/^\s*/.exec(o2.state.sliceDoc(s2.from,Math.min(s2.from+100,s2.to)))[0].length;a3&&i2.head!=s2.from+a3&&(u2=EditorSelection.cursor(s2.from+a3))}return u2}__name(moveByLineBoundary,"moveByLineBoundary");function extendSel(o2,i2){let a2=updateSel(o2.state.selection,o3=>{let a3=i2(o3);return EditorSelection.range(o3.anchor,a3.head,a3.goalColumn,a3.bidiLevel||void 0)});return!a2.eq(o2.state.selection)&&(o2.dispatch(setSel(o2.state,a2)),!0)}__name(extendSel,"extendSel");function selectByChar(o2,i2){return extendSel(o2,a2=>o2.moveByChar(a2,i2))}__name(selectByChar,"selectByChar");const selectCharLeft=__name(o2=>selectByChar(o2,!ltrAtCursor(o2)),"selectCharLeft"),selectCharRight=__name(o2=>selectByChar(o2,ltrAtCursor(o2)),"selectCharRight");function selectByGroup(o2,i2){return extendSel(o2,a2=>o2.moveByGroup(a2,i2))}__name(selectByGroup,"selectByGroup");function selectByLine(o2,i2){return extendSel(o2,a2=>o2.moveVertically(a2,i2))}__name(selectByLine,"selectByLine");const selectLineUp=__name(o2=>selectByLine(o2,!1),"selectLineUp"),selectLineDown=__name(o2=>selectByLine(o2,!0),"selectLineDown");function selectByPage(o2,i2){return extendSel(o2,a2=>o2.moveVertically(a2,i2,pageInfo(o2).height))}__name(selectByPage,"selectByPage");const selectPageUp=__name(o2=>selectByPage(o2,!1),"selectPageUp"),selectPageDown=__name(o2=>selectByPage(o2,!0),"selectPageDown"),cursorDocStart=__name(({state:o2,dispatch:i2})=>(i2(setSel(o2,{anchor:0})),!0),"cursorDocStart"),cursorDocEnd=__name(({state:o2,dispatch:i2})=>(i2(setSel(o2,{anchor:o2.doc.length})),!0),"cursorDocEnd"),selectDocStart=__name(({state:o2,dispatch:i2})=>(i2(setSel(o2,{anchor:o2.selection.main.anchor,head:0})),!0),"selectDocStart"),selectDocEnd=__name(({state:o2,dispatch:i2})=>(i2(setSel(o2,{anchor:o2.selection.main.anchor,head:o2.doc.length})),!0),"selectDocEnd");function deleteBy(o2,i2){if(o2.state.readOnly)return!1;let a2="delete.selection",{state:s2}=o2,u2=s2.changeByRange(s3=>{let{from:u3,to:O2}=s3;if(u3==O2){let w2=i2(s3);w2<u3?(a2="delete.backward",w2=skipAtomic(o2,w2,!1)):w2>u3&&(a2="delete.forward",w2=skipAtomic(o2,w2,!0)),u3=Math.min(u3,w2),O2=Math.max(O2,w2)}else u3=skipAtomic(o2,u3,!1),O2=skipAtomic(o2,O2,!0);return u3==O2?{range:s3}:{changes:{from:u3,to:O2},range:EditorSelection.cursor(u3,u3<s3.head?-1:1)}});return!u2.changes.empty&&(o2.dispatch(s2.update(u2,{scrollIntoView:!0,userEvent:a2,effects:a2=="delete.selection"?EditorView.announce.of(s2.phrase("Selection deleted")):void 0})),!0)}__name(deleteBy,"deleteBy");function skipAtomic(o2,i2,a2){if(o2 instanceof EditorView)for(let s2 of o2.state.facet(EditorView.atomicRanges).map(i3=>i3(o2)))s2.between(i2,i2,(o3,s3)=>{o3<i2&&s3>i2&&(i2=a2?s3:o3)});return i2}__name(skipAtomic,"skipAtomic");const deleteByChar=__name((o2,i2,a2)=>deleteBy(o2,s2=>{let u2,O2,w2=s2.from,{state:x2}=o2,C2=x2.doc.lineAt(w2);if(a2&&!i2&&w2>C2.from&&w2<C2.from+200&&!/[^ \t]/.test(u2=C2.text.slice(0,w2-C2.from))){if(u2[u2.length-1]=="	")return w2-1;let o3=countColumn(u2,x2.tabSize)%getIndentUnit(x2)||getIndentUnit(x2);for(let i3=0;i3<o3&&u2[u2.length-1-i3]==" ";i3++)w2--;O2=w2}else O2=findClusterBreak(C2.text,w2-C2.from,i2,i2)+C2.from,O2==w2&&C2.number!=(i2?x2.doc.lines:1)?O2+=i2?1:-1:!i2&&/[\ufe00-\ufe0f]/.test(C2.text.slice(O2-C2.from,w2-C2.from))&&(O2=findClusterBreak(C2.text,O2-C2.from,!1,!1)+C2.from);return O2}),"deleteByChar"),deleteCharBackward=__name(o2=>deleteByChar(o2,!1,!0),"deleteCharBackward"),deleteCharForward=__name(o2=>deleteByChar(o2,!0,!1),"deleteCharForward"),deleteByGroup=__name((o2,i2)=>deleteBy(o2,a2=>{let s2=a2.head,{state:u2}=o2,O2=u2.doc.lineAt(s2),w2=u2.charCategorizer(s2);for(let o3=null;;){if(s2==(i2?O2.to:O2.from)){s2==a2.head&&O2.number!=(i2?u2.doc.lines:1)&&(s2+=i2?1:-1);break}let x2=findClusterBreak(O2.text,s2-O2.from,i2)+O2.from,C2=O2.text.slice(Math.min(s2,x2)-O2.from,Math.max(s2,x2)-O2.from),T2=w2(C2);if(o3!=null&&T2!=o3)break;C2==" "&&s2==a2.head||(o3=T2),s2=x2}return s2}),"deleteByGroup"),deleteGroupBackward=__name(o2=>deleteByGroup(o2,!1),"deleteGroupBackward");function selectedLineBlocks(o2){let i2=[],a2=-1;for(let s2 of o2.selection.ranges){let u2=o2.doc.lineAt(s2.from),O2=o2.doc.lineAt(s2.to);if(s2.empty||s2.to!=O2.from||(O2=o2.doc.lineAt(s2.to-1)),a2>=u2.number){let o3=i2[i2.length-1];o3.to=O2.to,o3.ranges.push(s2)}else i2.push({from:u2.from,to:O2.to,ranges:[s2]});a2=O2.number+1}return i2}__name(selectedLineBlocks,"selectedLineBlocks");function moveLine(o2,i2,a2){if(o2.readOnly)return!1;let s2=[],u2=[];for(let i3 of selectedLineBlocks(o2)){if(a2?i3.to==o2.doc.length:i3.from==0)continue;let O2=o2.doc.lineAt(a2?i3.to+1:i3.from-1),w2=O2.length+1;if(a2){s2.push({from:i3.to,to:O2.to},{from:i3.from,insert:O2.text+o2.lineBreak});for(let a3 of i3.ranges)u2.push(EditorSelection.range(Math.min(o2.doc.length,a3.anchor+w2),Math.min(o2.doc.length,a3.head+w2)))}else{s2.push({from:O2.from,to:i3.from},{from:i3.to,insert:o2.lineBreak+O2.text});for(let o3 of i3.ranges)u2.push(EditorSelection.range(o3.anchor-w2,o3.head-w2))}}return!!s2.length&&(i2(o2.update({changes:s2,scrollIntoView:!0,selection:EditorSelection.create(u2,o2.selection.mainIndex),userEvent:"move.line"})),!0)}__name(moveLine,"moveLine");function copyLine(o2,i2,a2){if(o2.readOnly)return!1;let s2=[];for(let i3 of selectedLineBlocks(o2))a2?s2.push({from:i3.from,insert:o2.doc.slice(i3.from,i3.to)+o2.lineBreak}):s2.push({from:i3.to,insert:o2.lineBreak+o2.doc.slice(i3.from,i3.to)});return i2(o2.update({changes:s2,scrollIntoView:!0,userEvent:"input.copyline"})),!0}__name(copyLine,"copyLine");const gf=newlineAndIndent(!1);function newlineAndIndent(o2){return({state:i2,dispatch:a2})=>{if(i2.readOnly)return!1;let s2=i2.changeByRange(a3=>{let{from:s3,to:u2}=a3,O2=i2.doc.lineAt(s3),w2=!o2&&s3==u2&&__name(function(o3,i3){if(/\(\)|\[\]|\{\}/.test(o3.sliceDoc(i3-1,i3+1)))return{from:i3,to:i3};let a4,s4=syntaxTree(o3).resolveInner(i3),u3=s4.childBefore(i3),O3=s4.childAfter(i3);return u3&&O3&&u3.to<=i3&&O3.from>=i3&&(a4=u3.type.prop(NodeProp.closedBy))&&a4.indexOf(O3.name)>-1&&o3.doc.lineAt(u3.to).from==o3.doc.lineAt(O3.from).from&&!/\S/.test(o3.sliceDoc(u3.to,O3.from))?{from:u3.to,to:O3.from}:null},"isBetweenBrackets")(i2,s3);o2&&(s3=u2=(u2<=O2.to?O2:i2.doc.lineAt(u2)).to);let x2=new IndentContext(i2,{simulateBreak:s3,simulateDoubleBreak:!!w2}),C2=getIndentation(x2,s3);for(C2==null&&(C2=countColumn(/^\s*/.exec(i2.doc.lineAt(s3).text)[0],i2.tabSize));u2<O2.to&&/\s/.test(O2.text[u2-O2.from]);)u2++;w2?{from:s3,to:u2}=w2:s3>O2.from&&s3<O2.from+100&&!/\S/.test(O2.text.slice(0,s3))&&(s3=O2.from);let T2=["",indentString(i2,C2)];return w2&&T2.push(indentString(i2,x2.lineIndent(O2.from,-1))),{changes:{from:s3,to:u2,insert:Text.of(T2)},range:EditorSelection.cursor(s3+1+T2[1].length)}});return a2(i2.update(s2,{scrollIntoView:!0,userEvent:"input"})),!0}}__name(newlineAndIndent,"newlineAndIndent");function changeBySelectedLine(o2,i2){let a2=-1;return o2.changeByRange(s2=>{let u2=[];for(let O3=s2.from;O3<=s2.to;){let w2=o2.doc.lineAt(O3);w2.number>a2&&(s2.empty||s2.to>w2.from)&&(i2(w2,u2,s2),a2=w2.number),O3=w2.to+1}let O2=o2.changes(u2);return{changes:u2,range:EditorSelection.range(O2.mapPos(s2.anchor,1),O2.mapPos(s2.head,1))}})}__name(changeBySelectedLine,"changeBySelectedLine");const indentMore=__name(({state:o2,dispatch:i2})=>!o2.readOnly&&(i2(o2.update(changeBySelectedLine(o2,(i3,a2)=>{a2.push({from:i3.from,insert:o2.facet(sd)})}),{userEvent:"input.indent"})),!0),"indentMore"),indentLess=__name(({state:o2,dispatch:i2})=>!o2.readOnly&&(i2(o2.update(changeBySelectedLine(o2,(i3,a2)=>{let s2=/^\s*/.exec(i3.text)[0];if(!s2)return;let u2=countColumn(s2,o2.tabSize),O2=0,w2=indentString(o2,Math.max(0,u2-getIndentUnit(o2)));for(;O2<s2.length&&O2<w2.length&&s2.charCodeAt(O2)==w2.charCodeAt(O2);)O2++;a2.push({from:i3.from+O2,to:i3.from+s2.length,insert:w2.slice(O2)})}),{userEvent:"delete.dedent"})),!0),"indentLess"),mf=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:__name(o2=>moveSel(o2,i2=>moveBySyntax(o2.state,i2,!ltrAtCursor(o2))),"run"),shift:__name(o2=>extendSel(o2,i2=>moveBySyntax(o2.state,i2,!ltrAtCursor(o2))),"shift")},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:__name(o2=>moveSel(o2,i2=>moveBySyntax(o2.state,i2,ltrAtCursor(o2))),"run"),shift:__name(o2=>extendSel(o2,i2=>moveBySyntax(o2.state,i2,ltrAtCursor(o2))),"shift")},{key:"Alt-ArrowUp",run:__name(({state:o2,dispatch:i2})=>moveLine(o2,i2,!1),"run")},{key:"Shift-Alt-ArrowUp",run:__name(({state:o2,dispatch:i2})=>copyLine(o2,i2,!1),"run")},{key:"Alt-ArrowDown",run:__name(({state:o2,dispatch:i2})=>moveLine(o2,i2,!0),"run")},{key:"Shift-Alt-ArrowDown",run:__name(({state:o2,dispatch:i2})=>copyLine(o2,i2,!0),"run")},{key:"Escape",run:__name(({state:o2,dispatch:i2})=>{let a2=o2.selection,s2=null;return a2.ranges.length>1?s2=EditorSelection.create([a2.main]):a2.main.empty||(s2=EditorSelection.create([EditorSelection.cursor(a2.main.head)])),!!s2&&(i2(setSel(o2,s2)),!0)},"run")},{key:"Mod-Enter",run:newlineAndIndent(!0)},{key:"Alt-l",mac:"Ctrl-l",run:__name(({state:o2,dispatch:i2})=>{let a2=selectedLineBlocks(o2).map(({from:i3,to:a3})=>EditorSelection.range(i3,Math.min(a3+1,o2.doc.length)));return i2(o2.update({selection:EditorSelection.create(a2),userEvent:"select"})),!0},"run")},{key:"Mod-i",run:__name(({state:o2,dispatch:i2})=>{let a2=updateSel(o2.selection,i3=>{let a3=syntaxTree(o2),s2=a3.resolveStack(i3.from,1);if(i3.empty){let o3=a3.resolveStack(i3.from,-1);o3.node.from>=s2.node.from&&o3.node.to<=s2.node.to&&(s2=o3)}for(let o3=s2;o3;o3=o3.next){let{node:a4}=o3;if((a4.from<i3.from&&a4.to>=i3.to||a4.to>i3.to&&a4.from<=i3.from)&&o3.next)return EditorSelection.range(a4.to,a4.from)}return i3});return!a2.eq(o2.selection)&&(i2(setSel(o2,a2)),!0)},"run"),preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:__name(({state:o2,dispatch:i2})=>{if(o2.readOnly)return!1;let a2=Object.create(null),s2=new IndentContext(o2,{overrideIndentation:__name(o3=>{let i3=a2[o3];return i3??-1},"overrideIndentation")}),u2=changeBySelectedLine(o2,(i3,u3,O2)=>{let w2=getIndentation(s2,i3.from);if(w2==null)return;/\S/.test(i3.text)||(w2=0);let x2=/^\s*/.exec(i3.text)[0],C2=indentString(o2,w2);(x2!=C2||O2.from<i3.from+x2.length)&&(a2[i3.from]=w2,u3.push({from:i3.from,to:i3.from+x2.length,insert:C2}))});return u2.changes.empty||i2(o2.update(u2,{userEvent:"indent"})),!0},"run")},{key:"Shift-Mod-k",run:__name(o2=>{if(o2.state.readOnly)return!1;let{state:i2}=o2,a2=i2.changes(selectedLineBlocks(i2).map(({from:o3,to:a3})=>(o3>0?o3--:a3<i2.doc.length&&a3++,{from:o3,to:a3}))),s2=updateSel(i2.selection,i3=>{let a3;if(o2.lineWrapping){let s3=o2.lineBlockAt(i3.head),u2=o2.coordsAtPos(i3.head,i3.assoc||1);u2&&(a3=s3.bottom+o2.documentTop-u2.bottom+o2.defaultLineHeight/2)}return o2.moveVertically(i3,!0,a3)}).map(a2);return o2.dispatch({changes:a2,selection:s2,scrollIntoView:!0,userEvent:"delete.line"}),!0},"run")},{key:"Shift-Mod-\\",run:__name(({state:o2,dispatch:i2})=>__name(function(o3,i3,a2){let s2=!1,u2=updateSel(o3.selection,i4=>{let a3=matchBrackets(o3,i4.head,-1)||matchBrackets(o3,i4.head,1)||i4.head>0&&matchBrackets(o3,i4.head-1,1)||i4.head<o3.doc.length&&matchBrackets(o3,i4.head+1,-1);if(!a3||!a3.end)return i4;s2=!0;let u3=a3.start.from==i4.head?a3.end.to:a3.end.from;return EditorSelection.cursor(u3)});return!!s2&&(i3(setSel(o3,u2)),!0)},"toMatchingBracket")(o2,i2),"run")},{key:"Mod-/",run:__name(o2=>{let{state:i2}=o2,a2=i2.doc.lineAt(i2.selection.main.from),s2=getConfig(o2.state,a2.from);return s2.line?Hd(o2):!!s2.block&&Zd(o2)},"run")},{key:"Alt-A",run:Ud},{key:"Ctrl-m",mac:"Shift-Alt-m",run:__name(o2=>(o2.setTabFocusMode(),!0),"run")}].concat([{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:__name(o2=>cursorByGroup(o2,!ltrAtCursor(o2)),"run"),shift:__name(o2=>selectByGroup(o2,!ltrAtCursor(o2)),"shift"),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:__name(o2=>moveSel(o2,i2=>moveByLineBoundary(o2,i2,!ltrAtCursor(o2))),"run"),shift:__name(o2=>extendSel(o2,i2=>moveByLineBoundary(o2,i2,!ltrAtCursor(o2))),"shift"),preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:__name(o2=>cursorByGroup(o2,ltrAtCursor(o2)),"run"),shift:__name(o2=>selectByGroup(o2,ltrAtCursor(o2)),"shift"),preventDefault:!0},{mac:"Cmd-ArrowRight",run:__name(o2=>moveSel(o2,i2=>moveByLineBoundary(o2,i2,ltrAtCursor(o2))),"run"),shift:__name(o2=>extendSel(o2,i2=>moveByLineBoundary(o2,i2,ltrAtCursor(o2))),"shift"),preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:__name(o2=>moveSel(o2,i2=>moveByLineBoundary(o2,i2,!1)),"run"),shift:__name(o2=>extendSel(o2,i2=>moveByLineBoundary(o2,i2,!1)),"shift"),preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:__name(o2=>moveSel(o2,i2=>moveByLineBoundary(o2,i2,!0)),"run"),shift:__name(o2=>extendSel(o2,i2=>moveByLineBoundary(o2,i2,!0)),"shift"),preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:gf,shift:gf},{key:"Mod-a",run:__name(({state:o2,dispatch:i2})=>(i2(o2.update({selection:{anchor:0,head:o2.doc.length},userEvent:"select"})),!0),"run")},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward},{key:"Delete",run:deleteCharForward},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward},{key:"Mod-Delete",mac:"Alt-Delete",run:__name(o2=>deleteByGroup(o2,!0),"run")},{mac:"Mod-Backspace",run:__name(o2=>deleteBy(o2,i2=>{let a2=o2.moveToLineBoundary(i2,!1).head;return i2.head>a2?a2:Math.max(0,i2.head-1)}),"run")},{mac:"Mod-Delete",run:__name(o2=>deleteBy(o2,i2=>{let a2=o2.moveToLineBoundary(i2,!0).head;return i2.head<a2?a2:Math.min(o2.state.doc.length,i2.head+1)}),"run")}].concat([{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:__name(o2=>moveSel(o2,i2=>EditorSelection.cursor(o2.lineBlockAt(i2.head).from,1)),"run"),shift:__name(o2=>extendSel(o2,i2=>EditorSelection.cursor(o2.lineBlockAt(i2.head).from)),"shift")},{key:"Ctrl-e",run:__name(o2=>moveSel(o2,i2=>EditorSelection.cursor(o2.lineBlockAt(i2.head).to,-1)),"run"),shift:__name(o2=>extendSel(o2,i2=>EditorSelection.cursor(o2.lineBlockAt(i2.head).to)),"shift")},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:__name(o2=>deleteBy(o2,i2=>{let a2=o2.lineBlockAt(i2.head).to;return i2.head<a2?a2:Math.min(o2.state.doc.length,i2.head+1)}),"run")},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:__name(({state:o2,dispatch:i2})=>{if(o2.readOnly)return!1;let a2=o2.changeByRange(o3=>({changes:{from:o3.from,to:o3.to,insert:Text.of(["",""])},range:EditorSelection.cursor(o3.from)}));return i2(o2.update(a2,{scrollIntoView:!0,userEvent:"input"})),!0},"run")},{key:"Ctrl-t",run:__name(({state:o2,dispatch:i2})=>{if(o2.readOnly)return!1;let a2=o2.changeByRange(i3=>{if(!i3.empty||i3.from==0||i3.from==o2.doc.length)return{range:i3};let a3=i3.from,s2=o2.doc.lineAt(a3),u2=a3==s2.from?a3-1:findClusterBreak(s2.text,a3-s2.from,!1)+s2.from,O2=a3==s2.to?a3+1:findClusterBreak(s2.text,a3-s2.from,!0)+s2.from;return{changes:{from:u2,to:O2,insert:o2.doc.slice(a3,O2).append(o2.doc.slice(u2,a3))},range:EditorSelection.cursor(O2)}});return!a2.changes.empty&&(i2(o2.update(a2,{scrollIntoView:!0,userEvent:"move.character"})),!0)},"run")},{key:"Ctrl-v",run:cursorPageDown}].map(o2=>({mac:o2.key,run:o2.run,shift:o2.shift})))),yf={key:"Tab",run:indentMore,shift:indentLess};function crelt(){var o2=arguments[0];typeof o2=="string"&&(o2=document.createElement(o2));var i2=1,a2=arguments[1];if(a2&&typeof a2=="object"&&a2.nodeType==null&&!Array.isArray(a2)){for(var s2 in a2)if(Object.prototype.hasOwnProperty.call(a2,s2)){var u2=a2[s2];typeof u2=="string"?o2.setAttribute(s2,u2):u2!=null&&(o2[s2]=u2)}i2++}for(;i2<arguments.length;i2++)add(o2,arguments[i2]);return o2}__name(crelt,"crelt");function add(o2,i2){if(typeof i2=="string")o2.appendChild(document.createTextNode(i2));else if(i2!=null)if(i2.nodeType!=null)o2.appendChild(i2);else{if(!Array.isArray(i2))throw new RangeError("Unsupported child node: "+i2);for(var a2=0;a2<i2.length;a2++)add(o2,i2[a2])}}__name(add,"add");const Of=typeof String.prototype.normalize=="function"?o2=>o2.normalize("NFKD"):o2=>o2,_SearchCursor=class _SearchCursor{constructor(o2,i2,a2=0,s2=o2.length,u2,O2){this.test=O2,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=o2.iterRange(a2,s2),this.bufferStart=a2,this.normalize=u2?o3=>u2(Of(o3)):Of,this.query=this.normalize(i2)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let o2=this.peek();if(o2<0)return this.done=!0,this;let i2=fromCodePoint(o2),a2=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(o2);let s2=this.normalize(i2);if(s2.length)for(let o3=0,u2=a2;;o3++){let O2=s2.charCodeAt(o3),w2=this.match(O2,u2,this.bufferPos+this.bufferStart);if(o3==s2.length-1){if(w2)return this.value=w2,this;break}u2==a2&&o3<i2.length&&i2.charCodeAt(o3)==O2&&u2++}}}match(o2,i2,a2){let s2=null;for(let i3=0;i3<this.matches.length;i3+=2){let u2=this.matches[i3],O2=!1;this.query.charCodeAt(u2)==o2&&(u2==this.query.length-1?s2={from:this.matches[i3+1],to:a2}:(this.matches[i3]++,O2=!0)),O2||(this.matches.splice(i3,2),i3-=2)}return this.query.charCodeAt(0)==o2&&(this.query.length==1?s2={from:i2,to:a2}:this.matches.push(1,i2)),s2&&this.test&&!this.test(s2.from,s2.to,this.buffer,this.bufferStart)&&(s2=null),s2}};__name(_SearchCursor,"SearchCursor");let SearchCursor=_SearchCursor;typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const bf={from:-1,to:-1,match:/.*/.exec("")},Sf="gm"+(/x/.unicode==null?"":"u"),_RegExpCursor=class _RegExpCursor{constructor(o2,i2,a2,s2=0,u2=o2.length){if(this.text=o2,this.to=u2,this.curLine="",this.done=!1,this.value=bf,/\\[sWDnr]|\n|\r|\[\^/.test(i2))return new MultilineRegExpCursor(o2,i2,a2,s2,u2);this.re=new RegExp(i2,Sf+(a2!=null&&a2.ignoreCase?"i":"")),this.test=a2==null?void 0:a2.test,this.iter=o2.iter();let O2=o2.lineAt(s2);this.curLineStart=O2.from,this.matchPos=toCharEnd(o2,s2),this.getLine(this.curLineStart)}getLine(o2){this.iter.next(o2),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let o2=this.matchPos-this.curLineStart;;){this.re.lastIndex=o2;let i2=this.matchPos<=this.to&&this.re.exec(this.curLine);if(i2){let a2=this.curLineStart+i2.index,s2=a2+i2[0].length;if(this.matchPos=toCharEnd(this.text,s2+(a2==s2?1:0)),a2==this.curLineStart+this.curLine.length&&this.nextLine(),(a2<s2||a2>this.value.to)&&(!this.test||this.test(a2,s2,i2)))return this.value={from:a2,to:s2,match:i2},this;o2=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),o2=0}}}};__name(_RegExpCursor,"RegExpCursor");let RegExpCursor=_RegExpCursor;const xf=new WeakMap,_FlattenedDoc=class _FlattenedDoc{constructor(o2,i2){this.from=o2,this.text=i2}get to(){return this.from+this.text.length}static get(o2,i2,a2){let s2=xf.get(o2);if(!s2||s2.from>=a2||s2.to<=i2){let s3=new _FlattenedDoc(i2,o2.sliceString(i2,a2));return xf.set(o2,s3),s3}if(s2.from==i2&&s2.to==a2)return s2;let{text:u2,from:O2}=s2;return O2>i2&&(u2=o2.sliceString(i2,O2)+u2,O2=i2),s2.to<a2&&(u2+=o2.sliceString(s2.to,a2)),xf.set(o2,new _FlattenedDoc(O2,u2)),new _FlattenedDoc(i2,u2.slice(i2-O2,a2-O2))}};__name(_FlattenedDoc,"FlattenedDoc");let FlattenedDoc=_FlattenedDoc;const _MultilineRegExpCursor=class _MultilineRegExpCursor{constructor(o2,i2,a2,s2,u2){this.text=o2,this.to=u2,this.done=!1,this.value=bf,this.matchPos=toCharEnd(o2,s2),this.re=new RegExp(i2,Sf+(a2!=null&&a2.ignoreCase?"i":"")),this.test=a2==null?void 0:a2.test,this.flat=FlattenedDoc.get(o2,s2,this.chunkEnd(s2+5e3))}chunkEnd(o2){return o2>=this.to?this.to:this.text.lineAt(o2).to}next(){for(;;){let o2=this.re.lastIndex=this.matchPos-this.flat.from,i2=this.re.exec(this.flat.text);if(i2&&!i2[0]&&i2.index==o2&&(this.re.lastIndex=o2+1,i2=this.re.exec(this.flat.text)),i2){let o3=this.flat.from+i2.index,a2=o3+i2[0].length;if((this.flat.to>=this.to||i2.index+i2[0].length<=this.flat.text.length-10)&&(!this.test||this.test(o3,a2,i2)))return this.value={from:o3,to:a2,match:i2},this.matchPos=toCharEnd(this.text,a2+(o3==a2?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}};__name(_MultilineRegExpCursor,"MultilineRegExpCursor");let MultilineRegExpCursor=_MultilineRegExpCursor;function toCharEnd(o2,i2){if(i2>=o2.length)return i2;let a2,s2=o2.lineAt(i2);for(;i2<s2.to&&(a2=s2.text.charCodeAt(i2-s2.from))>=56320&&a2<57344;)i2++;return i2}__name(toCharEnd,"toCharEnd");function createLineDialog(o2){let i2=crelt("input",{class:"cm-textfield",name:"line",value:String(o2.state.doc.lineAt(o2.state.selection.main.head).number)});function go(){let a2=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(i2.value);if(!a2)return;let{state:s2}=o2,u2=s2.doc.lineAt(s2.selection.main.head),[,O2,w2,x2,C2]=a2,T2=x2?+x2.slice(1):0,_2=w2?+w2:u2.number;if(w2&&C2){let o3=_2/100;O2&&(o3=o3*(O2=="-"?-1:1)+u2.number/s2.doc.lines),_2=Math.round(s2.doc.lines*o3)}else w2&&O2&&(_2=_2*(O2=="-"?-1:1)+u2.number);let A2=s2.doc.line(Math.max(1,Math.min(s2.doc.lines,_2))),Q2=EditorSelection.cursor(A2.from+Math.max(0,Math.min(T2,A2.length)));o2.dispatch({effects:[kf.of(!1),EditorView.scrollIntoView(Q2.from,{y:"center"})],selection:Q2}),o2.focus()}return __name(go,"go"),{dom:crelt("form",{class:"cm-gotoLine",onkeydown:__name(i3=>{i3.keyCode==27?(i3.preventDefault(),o2.dispatch({effects:kf.of(!1)}),o2.focus()):i3.keyCode==13&&(i3.preventDefault(),go())},"onkeydown"),onsubmit:__name(o3=>{o3.preventDefault(),go()},"onsubmit")},crelt("label",o2.state.phrase("Go to line"),": ",i2)," ",crelt("button",{class:"cm-button",type:"submit"},o2.state.phrase("go")),crelt("button",{name:"close",onclick:__name(()=>{o2.dispatch({effects:kf.of(!1)}),o2.focus()},"onclick"),"aria-label":o2.state.phrase("close"),type:"button"},["×"]))}}__name(createLineDialog,"createLineDialog");typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});const kf=StateEffect.define(),Cf=StateField.define({create:__name(()=>!0,"create"),update(o2,i2){for(let a2 of i2.effects)a2.is(kf)&&(o2=a2.value);return o2},provide:__name(o2=>lu.from(o2,o3=>o3?createLineDialog:null),"provide")}),Pf=EditorView.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),Tf={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Rf=Facet.define({combine:__name(o2=>combineConfig(o2,Tf,{highlightWordAroundCursor:__name((o3,i2)=>o3||i2,"highlightWordAroundCursor"),minSelectionLength:Math.min,maxMatches:Math.min}),"combine")}),Df=Decoration.mark({class:"cm-selectionMatch"}),_f=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(o2,i2,a2,s2){return!(a2!=0&&o2(i2.sliceDoc(a2-1,a2))==Ba.Word||s2!=i2.doc.length&&o2(i2.sliceDoc(s2,s2+1))==Ba.Word)}__name(insideWordBoundaries,"insideWordBoundaries");const Qf=ViewPlugin.fromClass(class{constructor(o2){this.decorations=this.getDeco(o2)}update(o2){(o2.selectionSet||o2.docChanged||o2.viewportChanged)&&(this.decorations=this.getDeco(o2.view))}getDeco(o2){let i2=o2.state.facet(Rf),{state:a2}=o2,s2=a2.selection;if(s2.ranges.length>1)return Decoration.none;let u2,O2=s2.main,w2=null;if(O2.empty){if(!i2.highlightWordAroundCursor)return Decoration.none;let o3=a2.wordAt(O2.head);if(!o3)return Decoration.none;w2=a2.charCategorizer(O2.head),u2=a2.sliceDoc(o3.from,o3.to)}else{let o3=O2.to-O2.from;if(o3<i2.minSelectionLength||o3>200)return Decoration.none;if(i2.wholeWords){if(u2=a2.sliceDoc(O2.from,O2.to),w2=a2.charCategorizer(O2.head),!insideWordBoundaries(w2,a2,O2.from,O2.to)||!__name(function(o4,i3,a3,s3){return o4(i3.sliceDoc(a3,a3+1))==Ba.Word&&o4(i3.sliceDoc(s3-1,s3))==Ba.Word},"insideWord")(w2,a2,O2.from,O2.to))return Decoration.none}else if(u2=a2.sliceDoc(O2.from,O2.to),!u2)return Decoration.none}let x2=[];for(let s3 of o2.visibleRanges){let o3=new SearchCursor(a2.doc,u2,s3.from,s3.to);for(;!o3.next().done;){let{from:s4,to:u3}=o3.value;if((!w2||insideWordBoundaries(w2,a2,s4,u3))&&(O2.empty&&s4<=O2.from&&u3>=O2.to?x2.push(_f.range(s4,u3)):(s4>=O2.to||u3<=O2.from)&&x2.push(Df.range(s4,u3)),x2.length>i2.maxMatches))return Decoration.none}}return Decoration.set(x2)}},{decorations:__name(o2=>o2.decorations,"decorations")}),Nf=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Ff=Facet.define({combine:__name(o2=>combineConfig(o2,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:__name(o3=>new SearchPanel(o3),"createPanel"),scrollToMatch:__name(o3=>EditorView.scrollIntoView(o3),"scrollToMatch")}),"combine")}),_SearchQuery=class _SearchQuery{constructor(o2){this.search=o2.search,this.caseSensitive=!!o2.caseSensitive,this.literal=!!o2.literal,this.regexp=!!o2.regexp,this.replace=o2.replace||"",this.valid=!!this.search&&(!this.regexp||__name(function(o3){try{return new RegExp(o3,Sf),!0}catch{return!1}},"validRegExp")(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!o2.wholeWord}unquote(o2){return this.literal?o2:o2.replace(/\\([nrt\\])/g,(o3,i2)=>i2=="n"?`
`:i2=="r"?"\r":i2=="t"?"	":"\\")}eq(o2){return this.search==o2.search&&this.replace==o2.replace&&this.caseSensitive==o2.caseSensitive&&this.regexp==o2.regexp&&this.wholeWord==o2.wholeWord}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(o2,i2=0,a2){let s2=o2.doc?o2:EditorState.create({doc:o2});return a2==null&&(a2=s2.doc.length),this.regexp?regexpCursor(this,s2,i2,a2):stringCursor(this,s2,i2,a2)}};__name(_SearchQuery,"SearchQuery");let SearchQuery=_SearchQuery;const _QueryType=class _QueryType{constructor(o2){this.spec=o2}};__name(_QueryType,"QueryType");let QueryType=_QueryType;function stringCursor(o2,i2,a2,s2){return new SearchCursor(i2.doc,o2.unquoted,a2,s2,o2.caseSensitive?void 0:o3=>o3.toLowerCase(),o2.wholeWord?__name(function(o3,i3){return(a3,s3,u2,O2)=>((O2>a3||O2+u2.length<s3)&&(O2=Math.max(0,a3-2),u2=o3.sliceString(O2,Math.min(o3.length,s3+2))),!(i3(charBefore(u2,a3-O2))==Ba.Word&&i3(charAfter(u2,a3-O2))==Ba.Word||i3(charAfter(u2,s3-O2))==Ba.Word&&i3(charBefore(u2,s3-O2))==Ba.Word))},"stringWordTest")(i2.doc,i2.charCategorizer(i2.selection.main.head)):void 0)}__name(stringCursor,"stringCursor");const _StringQuery=class _StringQuery extends QueryType{constructor(o2){super(o2)}nextMatch(o2,i2,a2){let s2=stringCursor(this.spec,o2,a2,o2.doc.length).nextOverlapping();if(s2.done){let a3=Math.min(o2.doc.length,i2+this.spec.unquoted.length);s2=stringCursor(this.spec,o2,0,a3).nextOverlapping()}return s2.done||s2.value.from==i2&&s2.value.to==a2?null:s2.value}prevMatchInRange(o2,i2,a2){for(let s2=a2;;){let a3=Math.max(i2,s2-1e4-this.spec.unquoted.length),u2=stringCursor(this.spec,o2,a3,s2),O2=null;for(;!u2.nextOverlapping().done;)O2=u2.value;if(O2)return O2;if(a3==i2)return null;s2-=1e4}}prevMatch(o2,i2,a2){let s2=this.prevMatchInRange(o2,0,i2);return s2||(s2=this.prevMatchInRange(o2,Math.max(0,a2-this.spec.unquoted.length),o2.doc.length)),!s2||s2.from==i2&&s2.to==a2?null:s2}getReplacement(o2){return this.spec.unquote(this.spec.replace)}matchAll(o2,i2){let a2=stringCursor(this.spec,o2,0,o2.doc.length),s2=[];for(;!a2.next().done;){if(s2.length>=i2)return null;s2.push(a2.value)}return s2}highlight(o2,i2,a2,s2){let u2=stringCursor(this.spec,o2,Math.max(0,i2-this.spec.unquoted.length),Math.min(a2+this.spec.unquoted.length,o2.doc.length));for(;!u2.next().done;)s2(u2.value.from,u2.value.to)}};__name(_StringQuery,"StringQuery");let StringQuery=_StringQuery;function regexpCursor(o2,i2,a2,s2){return new RegExpCursor(i2.doc,o2.search,{ignoreCase:!o2.caseSensitive,test:o2.wholeWord?(u2=i2.charCategorizer(i2.selection.main.head),(o3,i3,a3)=>!a3[0].length||(u2(charBefore(a3.input,a3.index))!=Ba.Word||u2(charAfter(a3.input,a3.index))!=Ba.Word)&&(u2(charAfter(a3.input,a3.index+a3[0].length))!=Ba.Word||u2(charBefore(a3.input,a3.index+a3[0].length))!=Ba.Word)):void 0},a2,s2);var u2}__name(regexpCursor,"regexpCursor");function charBefore(o2,i2){return o2.slice(findClusterBreak(o2,i2,!1),i2)}__name(charBefore,"charBefore");function charAfter(o2,i2){return o2.slice(i2,findClusterBreak(o2,i2))}__name(charAfter,"charAfter");const _RegExpQuery=class _RegExpQuery extends QueryType{nextMatch(o2,i2,a2){let s2=regexpCursor(this.spec,o2,a2,o2.doc.length).next();return s2.done&&(s2=regexpCursor(this.spec,o2,0,i2).next()),s2.done?null:s2.value}prevMatchInRange(o2,i2,a2){for(let s2=1;;s2++){let u2=Math.max(i2,a2-1e4*s2),O2=regexpCursor(this.spec,o2,u2,a2),w2=null;for(;!O2.next().done;)w2=O2.value;if(w2&&(u2==i2||w2.from>u2+10))return w2;if(u2==i2)return null}}prevMatch(o2,i2,a2){return this.prevMatchInRange(o2,0,i2)||this.prevMatchInRange(o2,a2,o2.doc.length)}getReplacement(o2){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(i2,a2)=>{if(a2=="&")return o2.match[0];if(a2=="$")return"$";for(let i3=a2.length;i3>0;i3--){let s2=+a2.slice(0,i3);if(s2>0&&s2<o2.match.length)return o2.match[s2]+a2.slice(i3)}return i2})}matchAll(o2,i2){let a2=regexpCursor(this.spec,o2,0,o2.doc.length),s2=[];for(;!a2.next().done;){if(s2.length>=i2)return null;s2.push(a2.value)}return s2}highlight(o2,i2,a2,s2){let u2=regexpCursor(this.spec,o2,Math.max(0,i2-250),Math.min(a2+250,o2.doc.length));for(;!u2.next().done;)s2(u2.value.from,u2.value.to)}};__name(_RegExpQuery,"RegExpQuery");let RegExpQuery=_RegExpQuery;const Vf=StateEffect.define(),jf=StateEffect.define(),Wf=StateField.define({create:__name(o2=>new SearchState(defaultQuery(o2).create(),null),"create"),update(o2,i2){for(let a2 of i2.effects)a2.is(Vf)?o2=new SearchState(a2.value.create(),o2.panel):a2.is(jf)&&(o2=new SearchState(o2.query,a2.value?createSearchPanel:null));return o2},provide:__name(o2=>lu.from(o2,o3=>o3.panel),"provide")}),_SearchState=class _SearchState{constructor(o2,i2){this.query=o2,this.panel=i2}};__name(_SearchState,"SearchState");let SearchState=_SearchState;const Hf=Decoration.mark({class:"cm-searchMatch"}),Xf=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Gf=ViewPlugin.fromClass(class{constructor(o2){this.view=o2,this.decorations=this.highlight(o2.state.field(Wf))}update(o2){let i2=o2.state.field(Wf);(i2!=o2.startState.field(Wf)||o2.docChanged||o2.selectionSet||o2.viewportChanged)&&(this.decorations=this.highlight(i2))}highlight({query:o2,panel:i2}){if(!i2||!o2.spec.valid)return Decoration.none;let{view:a2}=this,s2=new RangeSetBuilder;for(let i3=0,u2=a2.visibleRanges,O2=u2.length;i3<O2;i3++){let{from:w2,to:x2}=u2[i3];for(;i3<O2-1&&x2>u2[i3+1].from-500;)x2=u2[++i3].to;o2.highlight(a2.state,w2,x2,(o3,i4)=>{let u3=a2.state.selection.ranges.some(a3=>a3.from==o3&&a3.to==i4);s2.add(o3,i4,u3?Xf:Hf)})}return s2.finish()}},{decorations:__name(o2=>o2.decorations,"decorations")});function searchCommand(o2){return i2=>{let a2=i2.state.field(Wf,!1);return a2&&a2.query.spec.valid?o2(i2,a2):openSearchPanel(i2)}}__name(searchCommand,"searchCommand");const Jf=searchCommand((o2,{query:i2})=>{let{to:a2}=o2.state.selection.main,s2=i2.nextMatch(o2.state,a2,a2);if(!s2)return!1;let u2=EditorSelection.single(s2.from,s2.to),O2=o2.state.facet(Ff);return o2.dispatch({selection:u2,effects:[announceMatch(o2,s2),O2.scrollToMatch(u2.main,o2)],userEvent:"select.search"}),selectSearchInput(o2),!0}),ep=searchCommand((o2,{query:i2})=>{let{state:a2}=o2,{from:s2}=a2.selection.main,u2=i2.prevMatch(a2,s2,s2);if(!u2)return!1;let O2=EditorSelection.single(u2.from,u2.to),w2=o2.state.facet(Ff);return o2.dispatch({selection:O2,effects:[announceMatch(o2,u2),w2.scrollToMatch(O2.main,o2)],userEvent:"select.search"}),selectSearchInput(o2),!0}),tp=searchCommand((o2,{query:i2})=>{let a2=i2.matchAll(o2.state,1e3);return!(!a2||!a2.length)&&(o2.dispatch({selection:EditorSelection.create(a2.map(o3=>EditorSelection.range(o3.from,o3.to))),userEvent:"select.search.matches"}),!0)}),np=searchCommand((o2,{query:i2})=>{let{state:a2}=o2,{from:s2,to:u2}=a2.selection.main;if(a2.readOnly)return!1;let O2=i2.nextMatch(a2,s2,s2);if(!O2)return!1;let w2,x2,C2=O2,T2=[],_2=[];if(C2.from==s2&&C2.to==u2&&(x2=a2.toText(i2.getReplacement(C2)),T2.push({from:C2.from,to:C2.to,insert:x2}),C2=i2.nextMatch(a2,C2.from,C2.to),_2.push(EditorView.announce.of(a2.phrase("replaced match on line $",a2.doc.lineAt(s2).number)+"."))),C2){let i3=T2.length==0||T2[0].from>=O2.to?0:O2.to-O2.from-x2.length;w2=EditorSelection.single(C2.from-i3,C2.to-i3),_2.push(announceMatch(o2,C2)),_2.push(a2.facet(Ff).scrollToMatch(w2.main,o2))}return o2.dispatch({changes:T2,selection:w2,effects:_2,userEvent:"input.replace"}),!0}),rp=searchCommand((o2,{query:i2})=>{if(o2.state.readOnly)return!1;let a2=i2.matchAll(o2.state,1e9).map(o3=>{let{from:a3,to:s3}=o3;return{from:a3,to:s3,insert:i2.getReplacement(o3)}});if(!a2.length)return!1;let s2=o2.state.phrase("replaced $ matches",a2.length)+".";return o2.dispatch({changes:a2,effects:EditorView.announce.of(s2),userEvent:"input.replace.all"}),!0});function createSearchPanel(o2){return o2.state.facet(Ff).createPanel(o2)}__name(createSearchPanel,"createSearchPanel");function defaultQuery(o2,i2){var a2,s2,u2,O2,w2;let x2=o2.selection.main,C2=x2.empty||x2.to>x2.from+100?"":o2.sliceDoc(x2.from,x2.to);if(i2&&!C2)return i2;let T2=o2.facet(Ff);return new SearchQuery({search:((a2=i2==null?void 0:i2.literal)!==null&&a2!==void 0?a2:T2.literal)?C2:C2.replace(/\n/g,"\\n"),caseSensitive:(s2=i2==null?void 0:i2.caseSensitive)!==null&&s2!==void 0?s2:T2.caseSensitive,literal:(u2=i2==null?void 0:i2.literal)!==null&&u2!==void 0?u2:T2.literal,regexp:(O2=i2==null?void 0:i2.regexp)!==null&&O2!==void 0?O2:T2.regexp,wholeWord:(w2=i2==null?void 0:i2.wholeWord)!==null&&w2!==void 0?w2:T2.wholeWord})}__name(defaultQuery,"defaultQuery");function getSearchInput(o2){let i2=getPanel(o2,createSearchPanel);return i2&&i2.dom.querySelector("[main-field]")}__name(getSearchInput,"getSearchInput");function selectSearchInput(o2){let i2=getSearchInput(o2);i2&&i2==o2.root.activeElement&&i2.select()}__name(selectSearchInput,"selectSearchInput");const openSearchPanel=__name(o2=>{let i2=o2.state.field(Wf,!1);if(i2&&i2.panel){let a2=getSearchInput(o2);if(a2&&a2!=o2.root.activeElement){let s2=defaultQuery(o2.state,i2.query.spec);s2.valid&&o2.dispatch({effects:Vf.of(s2)}),a2.focus(),a2.select()}}else o2.dispatch({effects:[jf.of(!0),i2?Vf.of(defaultQuery(o2.state,i2.query.spec)):StateEffect.appendConfig.of(lp)]});return!0},"openSearchPanel"),closeSearchPanel=__name(o2=>{let i2=o2.state.field(Wf,!1);if(!i2||!i2.panel)return!1;let a2=getPanel(o2,createSearchPanel);return a2&&a2.dom.contains(o2.root.activeElement)&&o2.focus(),o2.dispatch({effects:jf.of(!1)}),!0},"closeSearchPanel"),op=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:Jf,shift:ep,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Jf,shift:ep,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:__name(({state:o2,dispatch:i2})=>{let a2=o2.selection;if(a2.ranges.length>1||a2.main.empty)return!1;let{from:s2,to:u2}=a2.main,O2=[],w2=0;for(let i3=new SearchCursor(o2.doc,o2.sliceDoc(s2,u2));!i3.next().done;){if(O2.length>1e3)return!1;i3.value.from==s2&&(w2=O2.length),O2.push(EditorSelection.range(i3.value.from,i3.value.to))}return i2(o2.update({selection:EditorSelection.create(O2,w2),userEvent:"select.search.matches"})),!0},"run")},{key:"Mod-Alt-g",run:__name(o2=>{let i2=getPanel(o2,createLineDialog);if(!i2){let a2=[kf.of(!0)];o2.state.field(Cf,!1)==null&&a2.push(StateEffect.appendConfig.of([Cf,Pf])),o2.dispatch({effects:a2}),i2=getPanel(o2,createLineDialog)}return i2&&i2.dom.querySelector("input").select(),!0},"run")},{key:"Mod-d",run:__name(({state:o2,dispatch:i2})=>{let{ranges:a2}=o2.selection;if(a2.some(o3=>o3.from===o3.to))return(({state:o3,dispatch:i3})=>{let{selection:a3}=o3,s3=EditorSelection.create(a3.ranges.map(i4=>o3.wordAt(i4.head)||EditorSelection.cursor(i4.head)),a3.mainIndex);return!s3.eq(a3)&&(i3(o3.update({selection:s3})),!0)})({state:o2,dispatch:i2});let s2=o2.sliceDoc(a2[0].from,a2[0].to);if(o2.selection.ranges.some(i3=>o2.sliceDoc(i3.from,i3.to)!=s2))return!1;let u2=__name(function(o3,i3){let{main:a3,ranges:s3}=o3.selection,u3=o3.wordAt(a3.head),O2=u3&&u3.from==a3.from&&u3.to==a3.to;for(let a4=!1,u4=new SearchCursor(o3.doc,i3,s3[s3.length-1].to);;){if(u4.next(),!u4.done){if(a4&&s3.some(o4=>o4.from==u4.value.from))continue;if(O2){let i4=o3.wordAt(u4.value.from);if(!i4||i4.from!=u4.value.from||i4.to!=u4.value.to)continue}return u4.value}if(a4)return null;u4=new SearchCursor(o3.doc,i3,0,Math.max(0,s3[s3.length-1].from-1)),a4=!0}},"findNextOccurrence")(o2,s2);return!!u2&&(i2(o2.update({selection:o2.selection.addRange(EditorSelection.range(u2.from,u2.to),!1),effects:EditorView.scrollIntoView(u2.to)})),!0)},"run"),preventDefault:!0}],_SearchPanel=class _SearchPanel{constructor(o2){this.view=o2;let i2=this.query=o2.state.field(Wf).query.spec;function button(o3,i3,a2){return crelt("button",{class:"cm-button",name:o3,onclick:i3,type:"button"},a2)}__name(button,"button"),this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:i2.search,placeholder:phrase(o2,"Find"),"aria-label":phrase(o2,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:i2.replace,placeholder:phrase(o2,"Replace"),"aria-label":phrase(o2,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:i2.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:i2.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:i2.wholeWord,onchange:this.commit}),this.dom=crelt("div",{onkeydown:__name(o3=>this.keydown(o3),"onkeydown"),class:"cm-search"},[this.searchField,button("next",()=>Jf(o2),[phrase(o2,"next")]),button("prev",()=>ep(o2),[phrase(o2,"previous")]),button("select",()=>tp(o2),[phrase(o2,"all")]),crelt("label",null,[this.caseField,phrase(o2,"match case")]),crelt("label",null,[this.reField,phrase(o2,"regexp")]),crelt("label",null,[this.wordField,phrase(o2,"by word")]),...o2.state.readOnly?[]:[crelt("br"),this.replaceField,button("replace",()=>np(o2),[phrase(o2,"replace")]),button("replaceAll",()=>rp(o2),[phrase(o2,"replace all")])],crelt("button",{name:"close",onclick:__name(()=>closeSearchPanel(o2),"onclick"),"aria-label":phrase(o2,"close"),type:"button"},["×"])])}commit(){let o2=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});o2.eq(this.query)||(this.query=o2,this.view.dispatch({effects:Vf.of(o2)}))}keydown(o2){__name(function(o3,i2,a2){return runHandlers(getKeymap(o3.state),i2,o3,a2)},"runScopeHandlers")(this.view,o2,"search-panel")?o2.preventDefault():o2.keyCode==13&&o2.target==this.searchField?(o2.preventDefault(),(o2.shiftKey?ep:Jf)(this.view)):o2.keyCode==13&&o2.target==this.replaceField&&(o2.preventDefault(),np(this.view))}update(o2){for(let i2 of o2.transactions)for(let o3 of i2.effects)o3.is(Vf)&&!o3.value.eq(this.query)&&this.setQuery(o3.value)}setQuery(o2){this.query=o2,this.searchField.value=o2.search,this.replaceField.value=o2.replace,this.caseField.checked=o2.caseSensitive,this.reField.checked=o2.regexp,this.wordField.checked=o2.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Ff).top}};__name(_SearchPanel,"SearchPanel");let SearchPanel=_SearchPanel;function phrase(o2,i2){return o2.state.phrase(i2)}__name(phrase,"phrase");const ip=30,ap=/[\s\.,:;?!]/;function announceMatch(o2,{from:i2,to:a2}){let s2=o2.state.doc.lineAt(i2),u2=o2.state.doc.lineAt(a2).to,O2=Math.max(s2.from,i2-ip),w2=Math.min(u2,a2+ip),x2=o2.state.sliceDoc(O2,w2);if(O2!=s2.from){for(let o3=0;o3<ip;o3++)if(!ap.test(x2[o3+1])&&ap.test(x2[o3])){x2=x2.slice(o3);break}}if(w2!=u2){for(let o3=x2.length-1;o3>x2.length-ip;o3--)if(!ap.test(x2[o3-1])&&ap.test(x2[o3])){x2=x2.slice(0,o3);break}}return EditorView.announce.of(`${o2.state.phrase("current match")}. ${x2} ${o2.state.phrase("on line")} ${s2.number}.`)}__name(announceMatch,"announceMatch");const sp=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),lp=[Wf,Ea.low(Gf),sp],_CompletionContext=class _CompletionContext{constructor(o2,i2,a2,s2){this.state=o2,this.pos=i2,this.explicit=a2,this.view=s2,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(o2){let i2=syntaxTree(this.state).resolveInner(this.pos,-1);for(;i2&&o2.indexOf(i2.name)<0;)i2=i2.parent;return i2?{from:i2.from,to:this.pos,text:this.state.sliceDoc(i2.from,this.pos),type:i2.type}:null}matchBefore(o2){let i2=this.state.doc.lineAt(this.pos),a2=Math.max(i2.from,this.pos-250),s2=i2.text.slice(a2-i2.from,this.pos-i2.from),u2=s2.search(ensureAnchor(o2,!1));return u2<0?null:{from:a2+u2,to:this.pos,text:s2.slice(u2)}}get aborted(){return this.abortListeners==null}addEventListener(o2,i2,a2){o2=="abort"&&this.abortListeners&&(this.abortListeners.push(i2),a2&&a2.onDocChange&&(this.abortOnDocChange=!0))}};__name(_CompletionContext,"CompletionContext");let CompletionContext=_CompletionContext;function toSet(o2){let i2=Object.keys(o2).join(""),a2=/\w/.test(i2);return a2&&(i2=i2.replace(/\w/g,"")),`[${a2?"\\w":""}${i2.replace(/[^\w\s]/g,"\\$&")}]`}__name(toSet,"toSet");function completeFromList(o2){let i2=o2.map(o3=>typeof o3=="string"?{label:o3}:o3),[a2,s2]=i2.every(o3=>/^\w+$/.test(o3.label))?[/\w*$/,/\w+$/]:__name(function(o3){let i3=Object.create(null),a3=Object.create(null);for(let{label:s4}of o3){i3[s4[0]]=!0;for(let o4=1;o4<s4.length;o4++)a3[s4[o4]]=!0}let s3=toSet(i3)+toSet(a3)+"*$";return[new RegExp("^"+s3),new RegExp(s3)]},"prefixMatch")(i2);return o3=>{let u2=o3.matchBefore(s2);return u2||o3.explicit?{from:u2?u2.from:o3.pos,options:i2,validFor:a2}:null}}__name(completeFromList,"completeFromList");const _Option=class _Option{constructor(o2,i2,a2,s2){this.completion=o2,this.source=i2,this.match=a2,this.score=s2}};__name(_Option,"Option");let Option=_Option;function cur(o2){return o2.selection.main.from}__name(cur,"cur");function ensureAnchor(o2,i2){var a2;let{source:s2}=o2,u2=i2&&s2[0]!="^",O2=s2[s2.length-1]!="$";return u2||O2?new RegExp(`${u2?"^":""}(?:${s2})${O2?"$":""}`,(a2=o2.flags)!==null&&a2!==void 0?a2:o2.ignoreCase?"i":""):o2}__name(ensureAnchor,"ensureAnchor");const cp=Annotation.define(),up=new WeakMap;function asSource(o2){if(!Array.isArray(o2))return o2;let i2=up.get(o2);return i2||up.set(o2,i2=completeFromList(o2)),i2}__name(asSource,"asSource");const dp=StateEffect.define(),fp=StateEffect.define(),_FuzzyMatcher=class _FuzzyMatcher{constructor(o2){this.pattern=o2,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let i2=0;i2<o2.length;){let a2=codePointAt(o2,i2),s2=codePointSize(a2);this.chars.push(a2);let u2=o2.slice(i2,i2+s2),O2=u2.toUpperCase();this.folded.push(codePointAt(O2==u2?u2.toLowerCase():O2,0)),i2+=s2}this.astral=o2.length!=this.chars.length}ret(o2,i2){return this.score=o2,this.matched=i2,this}match(o2){if(this.pattern.length==0)return this.ret(-100,[]);if(o2.length<this.pattern.length)return null;let{chars:i2,folded:a2,any:s2,precise:u2,byWord:O2}=this;if(i2.length==1){let s3=codePointAt(o2,0),u3=codePointSize(s3),O3=u3==o2.length?0:-100;if(s3!=i2[0]){if(s3!=a2[0])return null;O3+=-200}return this.ret(O3,[0,u3])}let w2=o2.indexOf(this.pattern);if(w2==0)return this.ret(o2.length==this.pattern.length?0:-100,[0,this.pattern.length]);let x2=i2.length,C2=0;if(w2<0){for(let u3=0,O3=Math.min(o2.length,200);u3<O3&&C2<x2;){let O4=codePointAt(o2,u3);O4!=i2[C2]&&O4!=a2[C2]||(s2[C2++]=u3),u3+=codePointSize(O4)}if(C2<x2)return null}let T2=0,_2=0,A2=!1,Q2=0,N2=-1,L2=-1,$2=/[a-z]/.test(o2),F2=!0;for(let s3=0,C3=Math.min(o2.length,200),B2=0;s3<C3&&_2<x2;){let C4=codePointAt(o2,s3);w2<0&&(T2<x2&&C4==i2[T2]&&(u2[T2++]=s3),Q2<x2&&(C4==i2[Q2]||C4==a2[Q2]?(Q2==0&&(N2=s3),L2=s3+1,Q2++):Q2=0));let V2,z2=C4<255?C4>=48&&C4<=57||C4>=97&&C4<=122?2:C4>=65&&C4<=90?1:0:(V2=fromCodePoint(C4))!=V2.toLowerCase()?1:V2!=V2.toUpperCase()?2:0;(!s3||z2==1&&$2||B2==0&&z2!=0)&&(i2[_2]==C4||a2[_2]==C4&&(A2=!0)?O2[_2++]=s3:O2.length&&(F2=!1)),B2=z2,s3+=codePointSize(C4)}return _2==x2&&O2[0]==0&&F2?this.result((A2?-200:0)-100,O2,o2):Q2==x2&&N2==0?this.ret(-200-o2.length+(L2==o2.length?0:-100),[0,L2]):w2>-1?this.ret(-700-o2.length,[w2,w2+this.pattern.length]):Q2==x2?this.ret(-900-o2.length,[N2,L2]):_2==x2?this.result((A2?-200:0)-100-700+(F2?0:-1100),O2,o2):i2.length==2?null:this.result((s2[0]?-700:0)-200-1100,s2,o2)}result(o2,i2,a2){let s2=[],u2=0;for(let o3 of i2){let i3=o3+(this.astral?codePointSize(codePointAt(a2,o3)):1);u2&&s2[u2-1]==o3?s2[u2-1]=i3:(s2[u2++]=o3,s2[u2++]=i3)}return this.ret(o2-a2.length,s2)}};__name(_FuzzyMatcher,"FuzzyMatcher");let FuzzyMatcher=_FuzzyMatcher;const _StrictMatcher=class _StrictMatcher{constructor(o2){this.pattern=o2,this.matched=[],this.score=0,this.folded=o2.toLowerCase()}match(o2){if(o2.length<this.pattern.length)return null;let i2=o2.slice(0,this.pattern.length),a2=i2==this.pattern?0:i2.toLowerCase()==this.folded?-200:null;return a2==null?null:(this.matched=[0,i2.length],this.score=a2+(o2.length==this.pattern.length?0:-100),this)}};__name(_StrictMatcher,"StrictMatcher");let StrictMatcher=_StrictMatcher;const pp=Facet.define({combine:__name(o2=>combineConfig(o2,{activateOnTyping:!0,activateOnCompletion:__name(()=>!1,"activateOnCompletion"),activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:__name(()=>"","tooltipClass"),optionClass:__name(()=>"","optionClass"),aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:__name((o3,i2)=>o3.label.localeCompare(i2.label),"compareCompletions"),interactionDelay:75,updateSyncTime:100},{defaultKeymap:__name((o3,i2)=>o3&&i2,"defaultKeymap"),closeOnBlur:__name((o3,i2)=>o3&&i2,"closeOnBlur"),icons:__name((o3,i2)=>o3&&i2,"icons"),tooltipClass:__name((o3,i2)=>a2=>joinClass(o3(a2),i2(a2)),"tooltipClass"),optionClass:__name((o3,i2)=>a2=>joinClass(o3(a2),i2(a2)),"optionClass"),addToOptions:__name((o3,i2)=>o3.concat(i2),"addToOptions"),filterStrict:__name((o3,i2)=>o3||i2,"filterStrict")}),"combine")});function joinClass(o2,i2){return o2?i2?o2+" "+i2:o2:i2}__name(joinClass,"joinClass");function defaultPositionInfo(o2,i2,a2,s2,u2,O2){let w2,x2,C2=o2.textDirection==Ps.RTL,T2=C2,_2=!1,A2="top",Q2=i2.left-u2.left,N2=u2.right-i2.right,L2=s2.right-s2.left,$2=s2.bottom-s2.top;if(T2&&Q2<Math.min(L2,N2)?T2=!1:!T2&&N2<Math.min(L2,Q2)&&(T2=!0),L2<=(T2?Q2:N2))w2=Math.max(u2.top,Math.min(a2.top,u2.bottom-$2))-i2.top,x2=Math.min(400,T2?Q2:N2);else{_2=!0,x2=Math.min(400,(C2?i2.right:u2.right-i2.left)-30);let o3=u2.bottom-i2.bottom;o3>=$2||o3>i2.top?w2=a2.bottom-i2.top:(A2="bottom",w2=i2.bottom-a2.top)}return{style:`${A2}: ${w2/((i2.bottom-i2.top)/O2.offsetHeight)}px; max-width: ${x2/((i2.right-i2.left)/O2.offsetWidth)}px`,class:"cm-completionInfo-"+(_2?C2?"left-narrow":"right-narrow":T2?"left":"right")}}__name(defaultPositionInfo,"defaultPositionInfo");function rangeAroundSelected(o2,i2,a2){if(o2<=a2)return{from:0,to:o2};if(i2<0&&(i2=0),i2<=o2>>1){let o3=Math.floor(i2/a2);return{from:o3*a2,to:(o3+1)*a2}}let s2=Math.floor((o2-i2)/a2);return{from:o2-(s2+1)*a2,to:o2-s2*a2}}__name(rangeAroundSelected,"rangeAroundSelected");const _CompletionTooltip=class _CompletionTooltip{constructor(o2,i2,a2){this.view=o2,this.stateField=i2,this.applyCompletion=a2,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:__name(()=>this.measureInfo(),"read"),write:__name(o3=>this.placeInfo(o3),"write"),key:this},this.space=null,this.currentClass="";let s2=o2.state.field(i2),{options:u2,selected:O2}=s2.open,w2=o2.state.facet(pp);this.optionContent=__name(function(o3){let i3=o3.addToOptions.slice();return o3.icons&&i3.push({render(o4){let i4=document.createElement("div");return i4.classList.add("cm-completionIcon"),o4.type&&i4.classList.add(...o4.type.split(/\s+/g).map(o5=>"cm-completionIcon-"+o5)),i4.setAttribute("aria-hidden","true"),i4},position:20}),i3.push({render(o4,i4,a3,s3){let u3=document.createElement("span");u3.className="cm-completionLabel";let O3=o4.displayLabel||o4.label,w3=0;for(let o5=0;o5<s3.length;){let i5=s3[o5++],a4=s3[o5++];i5>w3&&u3.appendChild(document.createTextNode(O3.slice(w3,i5)));let x2=u3.appendChild(document.createElement("span"));x2.appendChild(document.createTextNode(O3.slice(i5,a4))),x2.className="cm-completionMatchedText",w3=a4}return w3<O3.length&&u3.appendChild(document.createTextNode(O3.slice(w3))),u3},position:50},{render(o4){if(!o4.detail)return null;let i4=document.createElement("span");return i4.className="cm-completionDetail",i4.textContent=o4.detail,i4},position:80}),i3.sort((o4,i4)=>o4.position-i4.position).map(o4=>o4.render)},"optionContent")(w2),this.optionClass=w2.optionClass,this.tooltipClass=w2.tooltipClass,this.range=rangeAroundSelected(u2.length,O2,w2.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(o2.state),this.dom.addEventListener("mousedown",a3=>{let{options:s3}=o2.state.field(i2).open;for(let i3,u3=a3.target;u3&&u3!=this.dom;u3=u3.parentNode)if(u3.nodeName=="LI"&&(i3=/-(\d+)$/.exec(u3.id))&&+i3[1]<s3.length)return this.applyCompletion(o2,s3[+i3[1]]),void a3.preventDefault()}),this.dom.addEventListener("focusout",i3=>{let a3=o2.state.field(this.stateField,!1);a3&&a3.tooltip&&o2.state.facet(pp).closeOnBlur&&i3.relatedTarget!=o2.contentDOM&&o2.dispatch({effects:fp.of(null)})}),this.showOptions(u2,s2.id)}mount(){this.updateSel()}showOptions(o2,i2){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(o2,i2,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(o2){var i2;let a2=o2.state.field(this.stateField),s2=o2.startState.field(this.stateField);if(this.updateTooltipClass(o2.state),a2!=s2){let{options:u2,selected:O2,disabled:w2}=a2.open;s2.open&&s2.open.options==u2||(this.range=rangeAroundSelected(u2.length,O2,o2.state.facet(pp).maxRenderedOptions),this.showOptions(u2,a2.id)),this.updateSel(),w2!=((i2=s2.open)===null||i2===void 0?void 0:i2.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!w2)}}updateTooltipClass(o2){let i2=this.tooltipClass(o2);if(i2!=this.currentClass){for(let o3 of this.currentClass.split(" "))o3&&this.dom.classList.remove(o3);for(let o3 of i2.split(" "))o3&&this.dom.classList.add(o3);this.currentClass=i2}}positioned(o2){this.space=o2,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let o2=this.view.state.field(this.stateField),i2=o2.open;if((i2.selected>-1&&i2.selected<this.range.from||i2.selected>=this.range.to)&&(this.range=rangeAroundSelected(i2.options.length,i2.selected,this.view.state.facet(pp).maxRenderedOptions),this.showOptions(i2.options,o2.id)),this.updateSelectedOption(i2.selected)){this.destroyInfo();let{completion:a2}=i2.options[i2.selected],{info:s2}=a2;if(!s2)return;let u2=typeof s2=="string"?document.createTextNode(s2):s2(a2);if(!u2)return;"then"in u2?u2.then(i3=>{i3&&this.view.state.field(this.stateField,!1)==o2&&this.addInfoPane(i3,a2)}).catch(o3=>logException(this.view.state,o3,"completion info")):this.addInfoPane(u2,a2)}}addInfoPane(o2,i2){this.destroyInfo();let a2=this.info=document.createElement("div");if(a2.className="cm-tooltip cm-completionInfo",o2.nodeType!=null)a2.appendChild(o2),this.infoDestroy=null;else{let{dom:i3,destroy:s2}=o2;a2.appendChild(i3),this.infoDestroy=s2||null}this.dom.appendChild(a2),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(o2){let i2=null;for(let a2=this.list.firstChild,s2=this.range.from;a2;a2=a2.nextSibling,s2++)a2.nodeName=="LI"&&a2.id?s2==o2?a2.hasAttribute("aria-selected")||(a2.setAttribute("aria-selected","true"),i2=a2):a2.hasAttribute("aria-selected")&&a2.removeAttribute("aria-selected"):s2--;return i2&&__name(function(o3,i3){let a2=o3.getBoundingClientRect(),s2=i3.getBoundingClientRect(),u2=a2.height/o3.offsetHeight;s2.top<a2.top?o3.scrollTop-=(a2.top-s2.top)/u2:s2.bottom>a2.bottom&&(o3.scrollTop+=(s2.bottom-a2.bottom)/u2)},"scrollIntoView")(this.list,i2),i2}measureInfo(){let o2=this.dom.querySelector("[aria-selected]");if(!o2||!this.info)return null;let i2=this.dom.getBoundingClientRect(),a2=this.info.getBoundingClientRect(),s2=o2.getBoundingClientRect(),u2=this.space;if(!u2){let o3=this.dom.ownerDocument.documentElement;u2={left:0,top:0,right:o3.clientWidth,bottom:o3.clientHeight}}return s2.top>Math.min(u2.bottom,i2.bottom)-10||s2.bottom<Math.max(u2.top,i2.top)+10?null:this.view.state.facet(pp).positionInfo(this.view,i2,s2,a2,u2,this.dom)}placeInfo(o2){this.info&&(o2?(o2.style&&(this.info.style.cssText=o2.style),this.info.className="cm-tooltip cm-completionInfo "+(o2.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(o2,i2,a2){const s2=document.createElement("ul");s2.id=i2,s2.setAttribute("role","listbox"),s2.setAttribute("aria-expanded","true"),s2.setAttribute("aria-label",this.view.state.phrase("Completions")),s2.addEventListener("mousedown",o3=>{o3.target==s2&&o3.preventDefault()});let u2=null;for(let O2=a2.from;O2<a2.to;O2++){let{completion:w2,match:x2}=o2[O2],{section:C2}=w2;if(C2){let o3=typeof C2=="string"?C2:C2.name;o3!=u2&&(O2>a2.from||a2.from==0)&&(u2=o3,typeof C2!="string"&&C2.header?s2.appendChild(C2.header(C2)):s2.appendChild(document.createElement("completion-section")).textContent=o3)}const T2=s2.appendChild(document.createElement("li"));T2.id=i2+"-"+O2,T2.setAttribute("role","option");let _2=this.optionClass(w2);_2&&(T2.className=_2);for(let o3 of this.optionContent){let i3=o3(w2,this.view.state,this.view,x2);i3&&T2.appendChild(i3)}}return a2.from&&s2.classList.add("cm-completionListIncompleteTop"),a2.to<o2.length&&s2.classList.add("cm-completionListIncompleteBottom"),s2}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};__name(_CompletionTooltip,"CompletionTooltip");let CompletionTooltip=_CompletionTooltip;function completionTooltip(o2,i2){return a2=>new CompletionTooltip(a2,o2,i2)}__name(completionTooltip,"completionTooltip");function score(o2){return 100*(o2.boost||0)+(o2.apply?10:0)+(o2.info?5:0)+(o2.type?1:0)}__name(score,"score");const _CompletionDialog=class _CompletionDialog{constructor(o2,i2,a2,s2,u2,O2){this.options=o2,this.attrs=i2,this.tooltip=a2,this.timestamp=s2,this.selected=u2,this.disabled=O2}setSelected(o2,i2){return o2==this.selected||o2>=this.options.length?this:new _CompletionDialog(this.options,makeAttrs(i2,o2),this.tooltip,this.timestamp,o2,this.disabled)}static build(o2,i2,a2,s2,u2,O2){if(s2&&!O2&&o2.some(o3=>o3.isPending))return s2.setDisabled();let w2=__name(function(o3,i3){let a3=[],s3=null,addOption=__name(o4=>{a3.push(o4);let{section:i4}=o4.completion;if(i4){s3||(s3=[]);let o5=typeof i4=="string"?i4:i4.name;s3.some(i5=>i5.name==o5)||s3.push(typeof i4=="string"?{name:o5}:i4)}},"addOption"),u3=i3.facet(pp);for(let s4 of o3)if(s4.hasResult()){let o4=s4.result.getMatch;if(s4.result.filter===!1)for(let i4 of s4.result.options)addOption(new Option(i4,s4.source,o4?o4(i4):[],1e9-a3.length));else{let a4,O4=i3.sliceDoc(s4.from,s4.to),w4=u3.filterStrict?new StrictMatcher(O4):new FuzzyMatcher(O4);for(let i4 of s4.result.options)if(a4=w4.match(i4.label)){let u4=i4.displayLabel?o4?o4(i4,a4.matched):[]:a4.matched;addOption(new Option(i4,s4.source,u4,a4.score+(i4.boost||0)))}}}if(s3){let o4=Object.create(null),i4=0,cmp=__name((o5,i5)=>{var a4,s4;return((a4=o5.rank)!==null&&a4!==void 0?a4:1e9)-((s4=i5.rank)!==null&&s4!==void 0?s4:1e9)||(o5.name<i5.name?-1:1)},"cmp");for(let a4 of s3.sort(cmp))i4-=1e5,o4[a4.name]=i4;for(let i5 of a3){let{section:a4}=i5.completion;a4&&(i5.score+=o4[typeof a4=="string"?a4:a4.name])}}let O3=[],w3=null,x3=u3.compareCompletions;for(let o4 of a3.sort((o5,i4)=>i4.score-o5.score||x3(o5.completion,i4.completion))){let i4=o4.completion;!w3||w3.label!=i4.label||w3.detail!=i4.detail||w3.type!=null&&i4.type!=null&&w3.type!=i4.type||w3.apply!=i4.apply||w3.boost!=i4.boost?O3.push(o4):score(o4.completion)>score(w3)&&(O3[O3.length-1]=o4),w3=o4.completion}return O3},"sortOptions")(o2,i2);if(!w2.length)return s2&&o2.some(o3=>o3.isPending)?s2.setDisabled():null;let x2=i2.facet(pp).selectOnOpen?0:-1;if(s2&&s2.selected!=x2&&s2.selected!=-1){let o3=s2.options[s2.selected].completion;for(let i3=0;i3<w2.length;i3++)if(w2[i3].completion==o3){x2=i3;break}}return new _CompletionDialog(w2,makeAttrs(a2,x2),{pos:o2.reduce((o3,i3)=>i3.hasResult()?Math.min(o3,i3.from):o3,1e8),create:bp,above:u2.aboveCursor},s2?s2.timestamp:Date.now(),x2,!1)}map(o2){return new _CompletionDialog(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:o2.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new _CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}};__name(_CompletionDialog,"CompletionDialog");let CompletionDialog=_CompletionDialog;const _CompletionState=class _CompletionState{constructor(o2,i2,a2){this.active=o2,this.id=i2,this.open=a2}static start(){return new _CompletionState(mp,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(o2){let{state:i2}=o2,a2=i2.facet(pp),s2=(a2.override||i2.languageDataAt("autocomplete",cur(i2)).map(asSource)).map(i3=>(this.active.find(o3=>o3.source==i3)||new ActiveSource(i3,this.active.some(o3=>o3.state!=0)?1:0)).update(o2,a2));s2.length==this.active.length&&s2.every((o3,i3)=>o3==this.active[i3])&&(s2=this.active);let u2=this.open,O2=o2.effects.some(o3=>o3.is(vp));u2&&o2.docChanged&&(u2=u2.map(o2.changes)),o2.selection||s2.some(i3=>i3.hasResult()&&o2.changes.touchesRange(i3.from,i3.to))||!__name(function(o3,i3){if(o3==i3)return!0;for(let a3=0,s3=0;;){for(;a3<o3.length&&!o3[a3].hasResult();)a3++;for(;s3<i3.length&&!i3[s3].hasResult();)s3++;let u3=a3==o3.length,O3=s3==i3.length;if(u3||O3)return u3==O3;if(o3[a3++].result!=i3[s3++].result)return!1}},"sameResults")(s2,this.active)||O2?u2=CompletionDialog.build(s2,i2,this.id,u2,a2,O2):u2&&u2.disabled&&!s2.some(o3=>o3.isPending)&&(u2=null),!u2&&s2.every(o3=>!o3.isPending)&&s2.some(o3=>o3.hasResult())&&(s2=s2.map(o3=>o3.hasResult()?new ActiveSource(o3.source,0):o3));for(let i3 of o2.effects)i3.is(yp)&&(u2=u2&&u2.setSelected(i3.value,this.id));return s2==this.active&&u2==this.open?this:new _CompletionState(s2,this.id,u2)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?hp:gp}};__name(_CompletionState,"CompletionState");let CompletionState=_CompletionState;const hp={"aria-autocomplete":"list"},gp={};function makeAttrs(o2,i2){let a2={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":o2};return i2>-1&&(a2["aria-activedescendant"]=o2+"-"+i2),a2}__name(makeAttrs,"makeAttrs");const mp=[];function getUpdateType(o2,i2){if(o2.isUserEvent("input.complete")){let a3=o2.annotation(cp);if(a3&&i2.activateOnCompletion(a3))return 12}let a2=o2.isUserEvent("input.type");return a2&&i2.activateOnTyping?5:a2?1:o2.isUserEvent("delete.backward")?2:o2.selection?8:o2.docChanged?16:0}__name(getUpdateType,"getUpdateType");const _ActiveSource=class _ActiveSource{constructor(o2,i2,a2=!1){this.source=o2,this.state=i2,this.explicit=a2}hasResult(){return!1}get isPending(){return this.state==1}update(o2,i2){let a2=getUpdateType(o2,i2),s2=this;(8&a2||16&a2&&this.touches(o2))&&(s2=new _ActiveSource(s2.source,0)),4&a2&&s2.state==0&&(s2=new _ActiveSource(this.source,1)),s2=s2.updateFor(o2,a2);for(let i3 of o2.effects)if(i3.is(dp))s2=new _ActiveSource(s2.source,1,i3.value);else if(i3.is(fp))s2=new _ActiveSource(s2.source,0);else if(i3.is(vp))for(let o3 of i3.value)o3.source==s2.source&&(s2=o3);return s2}updateFor(o2,i2){return this.map(o2.changes)}map(o2){return this}touches(o2){return o2.changes.touchesRange(cur(o2.state))}};__name(_ActiveSource,"ActiveSource");let ActiveSource=_ActiveSource;const _ActiveResult=class _ActiveResult extends ActiveSource{constructor(o2,i2,a2,s2,u2,O2){super(o2,3,i2),this.limit=a2,this.result=s2,this.from=u2,this.to=O2}hasResult(){return!0}updateFor(o2,i2){var a2;if(!(3&i2))return this.map(o2.changes);let s2=this.result;s2.map&&!o2.changes.empty&&(s2=s2.map(s2,o2.changes));let u2=o2.changes.mapPos(this.from),O2=o2.changes.mapPos(this.to,1),w2=cur(o2.state);if(w2>O2||!s2||2&i2&&(cur(o2.startState)==this.from||w2<this.limit))return new ActiveSource(this.source,4&i2?1:0);let x2=o2.changes.mapPos(this.limit);return __name(function(o3,i3,a3,s3){if(!o3)return!1;let u3=i3.sliceDoc(a3,s3);return typeof o3=="function"?o3(u3,a3,s3,i3):ensureAnchor(o3,!0).test(u3)},"checkValid")(s2.validFor,o2.state,u2,O2)?new _ActiveResult(this.source,this.explicit,x2,s2,u2,O2):s2.update&&(s2=s2.update(s2,u2,O2,new CompletionContext(o2.state,w2,!1)))?new _ActiveResult(this.source,this.explicit,x2,s2,s2.from,(a2=s2.to)!==null&&a2!==void 0?a2:cur(o2.state)):new ActiveSource(this.source,1,this.explicit)}map(o2){return o2.empty?this:(this.result.map?this.result.map(this.result,o2):this.result)?new _ActiveResult(this.source,this.explicit,o2.mapPos(this.limit),this.result,o2.mapPos(this.from),o2.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(o2){return o2.changes.touchesRange(this.from,this.to)}};__name(_ActiveResult,"ActiveResult");let ActiveResult=_ActiveResult;const vp=StateEffect.define({map:__name((o2,i2)=>o2.map(o3=>o3.map(i2)),"map")}),yp=StateEffect.define(),Op=StateField.define({create:__name(()=>CompletionState.start(),"create"),update:__name((o2,i2)=>o2.update(i2),"update"),provide:__name(o2=>[tu.from(o2,o3=>o3.tooltip),EditorView.contentAttributes.from(o2,o3=>o3.attrs)],"provide")});function applyCompletion(o2,i2){const a2=i2.completion.apply||i2.completion.label;let s2=o2.state.field(Op).active.find(o3=>o3.source==i2.source);return s2 instanceof ActiveResult&&(typeof a2=="string"?o2.dispatch(Object.assign(Object.assign({},__name(function(o3,i3,a3,s3){let{main:u2}=o3.selection,O2=a3-u2.from,w2=s3-u2.from;return Object.assign(Object.assign({},o3.changeByRange(x2=>{if(x2!=u2&&a3!=s3&&o3.sliceDoc(x2.from+O2,x2.from+w2)!=o3.sliceDoc(a3,s3))return{range:x2};let C2=o3.toText(i3);return{changes:{from:x2.from+O2,to:s3==u2.from?x2.to:x2.from+w2,insert:C2},range:EditorSelection.cursor(x2.from+O2+C2.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})},"insertCompletionText")(o2.state,a2,s2.from,s2.to)),{annotations:cp.of(i2.completion)})):a2(o2,i2.completion,s2.from,s2.to),!0)}__name(applyCompletion,"applyCompletion");const bp=completionTooltip(Op,applyCompletion);function moveCompletionSelection(o2,i2="option"){return a2=>{let s2=a2.state.field(Op,!1);if(!s2||!s2.open||s2.open.disabled||Date.now()-s2.open.timestamp<a2.state.facet(pp).interactionDelay)return!1;let u2,O2=1;i2=="page"&&(u2=getTooltip(a2,s2.open.tooltip))&&(O2=Math.max(2,Math.floor(u2.dom.offsetHeight/u2.dom.querySelector("li").offsetHeight)-1));let{length:w2}=s2.open.options,x2=s2.open.selected>-1?s2.open.selected+O2*(o2?1:-1):o2?0:w2-1;return x2<0?x2=i2=="page"?0:w2-1:x2>=w2&&(x2=i2=="page"?w2-1:0),a2.dispatch({effects:yp.of(x2)}),!0}}__name(moveCompletionSelection,"moveCompletionSelection");const startCompletion=__name(o2=>!!o2.state.field(Op,!1)&&(o2.dispatch({effects:dp.of(!0)}),!0),"startCompletion"),_RunningQuery=class _RunningQuery{constructor(o2,i2){this.active=o2,this.context=i2,this.time=Date.now(),this.updates=[],this.done=void 0}};__name(_RunningQuery,"RunningQuery");let RunningQuery=_RunningQuery;const Sp=ViewPlugin.fromClass(class{constructor(o2){this.view=o2,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let i2 of o2.state.field(Op).active)i2.isPending&&this.startQuery(i2)}update(o2){let i2=o2.state.field(Op),a2=o2.state.facet(pp);if(!o2.selectionSet&&!o2.docChanged&&o2.startState.field(Op)==i2)return;let s2=o2.transactions.some(o3=>{let i3=getUpdateType(o3,a2);return 8&i3||(o3.selection||o3.docChanged)&&!(3&i3)});for(let i3=0;i3<this.running.length;i3++){let a3=this.running[i3];if(s2||a3.context.abortOnDocChange&&o2.docChanged||a3.updates.length+o2.transactions.length>50&&Date.now()-a3.time>1e3){for(let o3 of a3.context.abortListeners)try{o3()}catch(o4){logException(this.view.state,o4)}a3.context.abortListeners=null,this.running.splice(i3--,1)}else a3.updates.push(...o2.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),o2.transactions.some(o3=>o3.effects.some(o4=>o4.is(dp)))&&(this.pendingStart=!0);let u2=this.pendingStart?50:a2.activateOnTypingDelay;if(this.debounceUpdate=i2.active.some(o3=>o3.isPending&&!this.running.some(i3=>i3.active.source==o3.source))?setTimeout(()=>this.startUpdate(),u2):-1,this.composing!=0)for(let i3 of o2.transactions)i3.isUserEvent("input.type")?this.composing=2:this.composing==2&&i3.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:o2}=this.view,i2=o2.field(Op);for(let o3 of i2.active)o3.isPending&&!this.running.some(i3=>i3.active.source==o3.source)&&this.startQuery(o3);this.running.length&&i2.open&&i2.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(pp).updateSyncTime))}startQuery(o2){let{state:i2}=this.view,a2=cur(i2),s2=new CompletionContext(i2,a2,o2.explicit,this.view),u2=new RunningQuery(o2,s2);this.running.push(u2),Promise.resolve(o2.source(s2)).then(o3=>{u2.context.aborted||(u2.done=o3||null,this.scheduleAccept())},o3=>{this.view.dispatch({effects:fp.of(null)}),logException(this.view.state,o3)})}scheduleAccept(){this.running.every(o2=>o2.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(pp).updateSyncTime))}accept(){var o2;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let i2=[],a2=this.view.state.facet(pp),s2=this.view.state.field(Op);for(let u2=0;u2<this.running.length;u2++){let O2=this.running[u2];if(O2.done===void 0)continue;if(this.running.splice(u2--,1),O2.done){let s3=cur(O2.updates.length?O2.updates[0].startState:this.view.state),u3=Math.min(s3,O2.done.from+(O2.active.explicit?0:1)),w3=new ActiveResult(O2.active.source,O2.active.explicit,u3,O2.done,O2.done.from,(o2=O2.done.to)!==null&&o2!==void 0?o2:s3);for(let o3 of O2.updates)w3=w3.update(o3,a2);if(w3.hasResult()){i2.push(w3);continue}}let w2=s2.active.find(o3=>o3.source==O2.active.source);if(w2&&w2.isPending)if(O2.done==null){let o3=new ActiveSource(O2.active.source,0);for(let i3 of O2.updates)o3=o3.update(i3,a2);o3.isPending||i2.push(o3)}else this.startQuery(w2)}(i2.length||s2.open&&s2.open.disabled)&&this.view.dispatch({effects:vp.of(i2)})}},{eventHandlers:{blur(o2){let i2=this.view.state.field(Op,!1);if(i2&&i2.tooltip&&this.view.state.facet(pp).closeOnBlur){let a2=i2.open&&getTooltip(this.view,i2.open.tooltip);a2&&a2.dom.contains(o2.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:fp.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:dp.of(!1)}),20),this.composing=0}}}),wp=typeof navigator=="object"&&/Win/.test(navigator.platform),xp=Ea.highest(EditorView.domEventHandlers({keydown(o2,i2){let a2=i2.state.field(Op,!1);if(!a2||!a2.open||a2.open.disabled||a2.open.selected<0||o2.key.length>1||o2.ctrlKey&&(!wp||!o2.altKey)||o2.metaKey)return!1;let s2=a2.open.options[a2.open.selected],u2=a2.active.find(o3=>o3.source==s2.source),O2=s2.completion.commitCharacters||u2.result.commitCharacters;return O2&&O2.indexOf(o2.key)>-1&&applyCompletion(i2,s2),!1}})),kp=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),_FieldPos=class _FieldPos{constructor(o2,i2,a2,s2){this.field=o2,this.line=i2,this.from=a2,this.to=s2}};__name(_FieldPos,"FieldPos");let FieldPos=_FieldPos;const _FieldRange=class _FieldRange{constructor(o2,i2,a2){this.field=o2,this.from=i2,this.to=a2}map(o2){let i2=o2.mapPos(this.from,-1,va.TrackDel),a2=o2.mapPos(this.to,1,va.TrackDel);return i2==null||a2==null?null:new _FieldRange(this.field,i2,a2)}};__name(_FieldRange,"FieldRange");let FieldRange=_FieldRange;const _Snippet=class _Snippet{constructor(o2,i2){this.lines=o2,this.fieldPositions=i2}instantiate(o2,i2){let a2=[],s2=[i2],u2=o2.doc.lineAt(i2),O2=/^\s*/.exec(u2.text)[0];for(let u3 of this.lines){if(a2.length){let a3=O2,w3=/^\t*/.exec(u3)[0].length;for(let i3=0;i3<w3;i3++)a3+=o2.facet(sd);s2.push(i2+a3.length-w3),u3=a3+u3.slice(w3)}a2.push(u3),i2+=u3.length+1}let w2=this.fieldPositions.map(o3=>new FieldRange(o3.field,s2[o3.line]+o3.from,s2[o3.line]+o3.to));return{text:a2,ranges:w2}}static parse(o2){let i2,a2=[],s2=[],u2=[];for(let O2 of o2.split(/\r\n?|\n/)){for(;i2=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(O2);){let o3=i2[1]?+i2[1]:null,w2=i2[2]||i2[3]||"",x2=-1,C2=w2.replace(/\\[{}]/g,o4=>o4[1]);for(let i3=0;i3<a2.length;i3++)(o3!=null?a2[i3].seq==o3:C2&&a2[i3].name==C2)&&(x2=i3);if(x2<0){let i3=0;for(;i3<a2.length&&(o3==null||a2[i3].seq!=null&&a2[i3].seq<o3);)i3++;a2.splice(i3,0,{seq:o3,name:C2}),x2=i3;for(let o4 of u2)o4.field>=x2&&o4.field++}u2.push(new FieldPos(x2,s2.length,i2.index,i2.index+C2.length)),O2=O2.slice(0,i2.index)+w2+O2.slice(i2.index+i2[0].length)}O2=O2.replace(/\\([{}])/g,(o3,i3,a3)=>{for(let o4 of u2)o4.line==s2.length&&o4.from>a3&&(o4.from--,o4.to--);return i3}),s2.push(O2)}return new _Snippet(s2,u2)}};__name(_Snippet,"Snippet");let Snippet=_Snippet,Cp=Decoration.widget({widget:new class extends WidgetType{toDOM(){let o2=document.createElement("span");return o2.className="cm-snippetFieldPosition",o2}ignoreEvent(){return!1}}}),Pp=Decoration.mark({class:"cm-snippetField"});const _ActiveSnippet=class _ActiveSnippet{constructor(o2,i2){this.ranges=o2,this.active=i2,this.deco=Decoration.set(o2.map(o3=>(o3.from==o3.to?Cp:Pp).range(o3.from,o3.to)))}map(o2){let i2=[];for(let a2 of this.ranges){let s2=a2.map(o2);if(!s2)return null;i2.push(s2)}return new _ActiveSnippet(i2,this.active)}selectionInsideField(o2){return o2.ranges.every(o3=>this.ranges.some(i2=>i2.field==this.active&&i2.from<=o3.from&&i2.to>=o3.to))}};__name(_ActiveSnippet,"ActiveSnippet");let ActiveSnippet=_ActiveSnippet;const Ep=StateEffect.define({map:__name((o2,i2)=>o2&&o2.map(i2),"map")}),Tp=StateEffect.define(),Rp=StateField.define({create:__name(()=>null,"create"),update(o2,i2){for(let a2 of i2.effects){if(a2.is(Ep))return a2.value;if(a2.is(Tp)&&o2)return new ActiveSnippet(o2.ranges,a2.value)}return o2&&i2.docChanged&&(o2=o2.map(i2.changes)),o2&&i2.selection&&!o2.selectionInsideField(i2.selection)&&(o2=null),o2},provide:__name(o2=>EditorView.decorations.from(o2,o3=>o3?o3.deco:Decoration.none),"provide")});function fieldSelection(o2,i2){return EditorSelection.create(o2.filter(o3=>o3.field==i2).map(o3=>EditorSelection.range(o3.from,o3.to)))}__name(fieldSelection,"fieldSelection");function snippet(o2){let i2=Snippet.parse(o2);return(o3,a2,s2,u2)=>{let{text:O2,ranges:w2}=i2.instantiate(o3.state,s2),{main:x2}=o3.state.selection,C2={changes:{from:s2,to:u2==x2.from?x2.to:u2,insert:Text.of(O2)},scrollIntoView:!0,annotations:a2?[cp.of(a2),Transaction.userEvent.of("input.complete")]:void 0};if(w2.length&&(C2.selection=fieldSelection(w2,0)),w2.some(o4=>o4.field>0)){let i3=new ActiveSnippet(w2,0),a3=C2.effects=[Ep.of(i3)];o3.state.field(Rp,!1)===void 0&&a3.push(StateEffect.appendConfig.of([Rp,Mp,_p,kp]))}o3.dispatch(o3.state.update(C2))}}__name(snippet,"snippet");function moveField(o2){return({state:i2,dispatch:a2})=>{let s2=i2.field(Rp,!1);if(!s2||o2<0&&s2.active==0)return!1;let u2=s2.active+o2,O2=o2>0&&!s2.ranges.some(i3=>i3.field==u2+o2);return a2(i2.update({selection:fieldSelection(s2.ranges,u2),effects:Ep.of(O2?null:new ActiveSnippet(s2.ranges,u2)),scrollIntoView:!0})),!0}}__name(moveField,"moveField");const Dp=[{key:"Tab",run:moveField(1),shift:moveField(-1)},{key:"Escape",run:__name(({state:o2,dispatch:i2})=>!!o2.field(Rp,!1)&&(i2(o2.update({effects:Ep.of(null)})),!0),"run")}],Ip=Facet.define({combine:__name(o2=>o2.length?o2[0]:Dp,"combine")}),Mp=Ea.highest(ic.compute([Ip],o2=>o2.facet(Ip)));function snippetCompletion(o2,i2){return Object.assign(Object.assign({},i2),{apply:snippet(o2)})}__name(snippetCompletion,"snippetCompletion");const _p=EditorView.domEventHandlers({mousedown(o2,i2){let a2,s2=i2.state.field(Rp,!1);if(!s2||(a2=i2.posAtCoords({x:o2.clientX,y:o2.clientY}))==null)return!1;let u2=s2.ranges.find(o3=>o3.from<=a2&&o3.to>=a2);return!(!u2||u2.field==s2.active)&&(i2.dispatch({selection:fieldSelection(s2.ranges,u2.field),effects:Ep.of(s2.ranges.some(o3=>o3.field>u2.field)?new ActiveSnippet(s2.ranges,u2.field):null),scrollIntoView:!0}),!0)}}),Ap={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Qp=StateEffect.define({map(o2,i2){let a2=i2.mapPos(o2,-1,va.TrackAfter);return a2??void 0}}),Np=new class extends RangeValue{};Np.startSide=1,Np.endSide=-1;const Lp=StateField.define({create:__name(()=>RangeSet.empty,"create"),update(o2,i2){if(o2=o2.map(i2.changes),i2.selection){let a2=i2.state.doc.lineAt(i2.selection.main.head);o2=o2.update({filter:__name(o3=>o3>=a2.from&&o3<=a2.to,"filter")})}for(let a2 of i2.effects)a2.is(Qp)&&(o2=o2.update({add:[Np.range(a2.value,a2.value+1)]}));return o2}});function closeBrackets(){return[Bp,Lp]}__name(closeBrackets,"closeBrackets");const $p="()[]{}<>«»»«［］｛｝";function closing(o2){for(let i2=0;i2<16;i2+=2)if($p.charCodeAt(i2)==o2)return $p.charAt(i2+1);return fromCodePoint(o2<128?o2:o2+1)}__name(closing,"closing");function config(o2,i2){return o2.languageDataAt("closeBrackets",i2)[0]||Ap}__name(config,"config");const Fp=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Bp=EditorView.inputHandler.of((o2,i2,a2,s2)=>{if((Fp?o2.composing:o2.compositionStarted)||o2.state.readOnly)return!1;let u2=o2.state.selection.main;if(s2.length>2||s2.length==2&&codePointSize(codePointAt(s2,0))==1||i2!=u2.from||a2!=u2.to)return!1;let O2=__name(function(o3,i3){let a3=config(o3,o3.selection.main.head),s3=a3.brackets||Ap.brackets;for(let u3 of s3){let O3=closing(codePointAt(u3,0));if(i3==u3)return O3==u3?handleSame(o3,u3,s3.indexOf(u3+u3+u3)>-1,a3):handleOpen(o3,u3,O3,a3.before||Ap.before);if(i3==O3&&closedBracketAt(o3,o3.selection.main.from))return handleClose(o3,u3,O3)}return null},"insertBracket")(o2.state,s2);return!!O2&&(o2.dispatch(O2),!0)}),Vp=[{key:"Backspace",run:__name(({state:o2,dispatch:i2})=>{if(o2.readOnly)return!1;let a2=config(o2,o2.selection.main.head).brackets||Ap.brackets,s2=null,u2=o2.changeByRange(i3=>{if(i3.empty){let s3=__name(function(o3,i4){let a3=o3.sliceString(i4-2,i4);return codePointSize(codePointAt(a3,0))==a3.length?a3:a3.slice(1)},"prevChar")(o2.doc,i3.head);for(let u3 of a2)if(u3==s3&&nextChar(o2.doc,i3.head)==closing(codePointAt(u3,0)))return{changes:{from:i3.head-u3.length,to:i3.head+u3.length},range:EditorSelection.cursor(i3.head-u3.length)}}return{range:s2=i3}});return s2||i2(o2.update(u2,{scrollIntoView:!0,userEvent:"delete.backward"})),!s2},"run")}];function closedBracketAt(o2,i2){let a2=!1;return o2.field(Lp).between(0,o2.doc.length,o3=>{o3==i2&&(a2=!0)}),a2}__name(closedBracketAt,"closedBracketAt");function nextChar(o2,i2){let a2=o2.sliceString(i2,i2+2);return a2.slice(0,codePointSize(codePointAt(a2,0)))}__name(nextChar,"nextChar");function handleOpen(o2,i2,a2,s2){let u2=null,O2=o2.changeByRange(O3=>{if(!O3.empty)return{changes:[{insert:i2,from:O3.from},{insert:a2,from:O3.to}],effects:Qp.of(O3.to+i2.length),range:EditorSelection.range(O3.anchor+i2.length,O3.head+i2.length)};let w2=nextChar(o2.doc,O3.head);return!w2||/\s/.test(w2)||s2.indexOf(w2)>-1?{changes:{insert:i2+a2,from:O3.head},effects:Qp.of(O3.head+i2.length),range:EditorSelection.cursor(O3.head+i2.length)}:{range:u2=O3}});return u2?null:o2.update(O2,{scrollIntoView:!0,userEvent:"input.type"})}__name(handleOpen,"handleOpen");function handleClose(o2,i2,a2){let s2=null,u2=o2.changeByRange(i3=>i3.empty&&nextChar(o2.doc,i3.head)==a2?{changes:{from:i3.head,to:i3.head+a2.length,insert:a2},range:EditorSelection.cursor(i3.head+a2.length)}:s2={range:i3});return s2?null:o2.update(u2,{scrollIntoView:!0,userEvent:"input.type"})}__name(handleClose,"handleClose");function handleSame(o2,i2,a2,s2){let u2=s2.stringPrefixes||Ap.stringPrefixes,O2=null,w2=o2.changeByRange(s3=>{if(!s3.empty)return{changes:[{insert:i2,from:s3.from},{insert:i2,from:s3.to}],effects:Qp.of(s3.to+i2.length),range:EditorSelection.range(s3.anchor+i2.length,s3.head+i2.length)};let w3,x2=s3.head,C2=nextChar(o2.doc,x2);if(C2==i2){if(nodeStart(o2,x2))return{changes:{insert:i2+i2,from:x2},effects:Qp.of(x2+i2.length),range:EditorSelection.cursor(x2+i2.length)};if(closedBracketAt(o2,x2)){let s4=a2&&o2.sliceDoc(x2,x2+3*i2.length)==i2+i2+i2?i2+i2+i2:i2;return{changes:{from:x2,to:x2+s4.length,insert:s4},range:EditorSelection.cursor(x2+s4.length)}}}else{if(a2&&o2.sliceDoc(x2-2*i2.length,x2)==i2+i2&&(w3=canStartStringAt(o2,x2-2*i2.length,u2))>-1&&nodeStart(o2,w3))return{changes:{insert:i2+i2+i2+i2,from:x2},effects:Qp.of(x2+i2.length),range:EditorSelection.cursor(x2+i2.length)};if(o2.charCategorizer(x2)(C2)!=Ba.Word&&canStartStringAt(o2,x2,u2)>-1&&!__name(function(o3,i3,a3,s4){let u3=syntaxTree(o3).resolveInner(i3,-1),O3=s4.reduce((o4,i4)=>Math.max(o4,i4.length),0);for(let w4=0;w4<5;w4++){let w5=o3.sliceDoc(u3.from,Math.min(u3.to,u3.from+a3.length+O3)),x3=w5.indexOf(a3);if(!x3||x3>-1&&s4.indexOf(w5.slice(0,x3))>-1){let i4=u3.firstChild;for(;i4&&i4.from==u3.from&&i4.to-i4.from>a3.length+x3;){if(o3.sliceDoc(i4.to-a3.length,i4.to)==a3)return!1;i4=i4.firstChild}return!0}let C3=u3.to==i3&&u3.parent;if(!C3)break;u3=C3}return!1},"probablyInString")(o2,x2,i2,u2))return{changes:{insert:i2+i2,from:x2},effects:Qp.of(x2+i2.length),range:EditorSelection.cursor(x2+i2.length)}}return{range:O2=s3}});return O2?null:o2.update(w2,{scrollIntoView:!0,userEvent:"input.type"})}__name(handleSame,"handleSame");function nodeStart(o2,i2){let a2=syntaxTree(o2).resolveInner(i2+1);return a2.parent&&a2.from==i2}__name(nodeStart,"nodeStart");function canStartStringAt(o2,i2,a2){let s2=o2.charCategorizer(i2);if(s2(o2.sliceDoc(i2-1,i2))!=Ba.Word)return i2;for(let u2 of a2){let a3=i2-u2.length;if(o2.sliceDoc(a3,i2)==u2&&s2(o2.sliceDoc(a3-1,a3))!=Ba.Word)return a3}return-1}__name(canStartStringAt,"canStartStringAt");function autocompletion(o2={}){return[xp,Op,pp.of(o2),Sp,jp,kp]}__name(autocompletion,"autocompletion");const zp=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{key:"Escape",run:__name(o2=>{let i2=o2.state.field(Op,!1);return!(!i2||!i2.active.some(o3=>o3.state!=0))&&(o2.dispatch({effects:fp.of(null)}),!0)},"run")},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:__name(o2=>{let i2=o2.state.field(Op,!1);return!(o2.state.readOnly||!i2||!i2.open||i2.open.selected<0||i2.open.disabled||Date.now()-i2.open.timestamp<o2.state.facet(pp).interactionDelay)&&applyCompletion(o2,i2.open.options[i2.open.selected])},"run")}],jp=Ea.highest(ic.computeN([pp],o2=>o2.facet(pp).defaultKeymap?[zp]:[])),_SelectedDiagnostic=class _SelectedDiagnostic{constructor(o2,i2,a2){this.from=o2,this.to=i2,this.diagnostic=a2}};__name(_SelectedDiagnostic,"SelectedDiagnostic");let SelectedDiagnostic=_SelectedDiagnostic;const _LintState=class _LintState{constructor(o2,i2,a2){this.diagnostics=o2,this.panel=i2,this.selected=a2}static init(o2,i2,a2){let s2=a2.facet(Gp).markerFilter;s2&&(o2=s2(o2,a2));let u2=o2.slice().sort((o3,i3)=>o3.from-i3.from||o3.to-i3.to),O2=new RangeSetBuilder,w2=[],x2=0;for(let o3=0;;){let i3,s3,C3=o3==u2.length?null:u2[o3];if(!C3&&!w2.length)break;for(w2.length?(i3=x2,s3=w2.reduce((o4,i4)=>Math.min(o4,i4.to),C3&&C3.from>i3?C3.from:1e8)):(i3=C3.from,s3=C3.to,w2.push(C3),o3++);o3<u2.length;){let a3=u2[o3];if(a3.from!=i3||!(a3.to>a3.from||a3.to==i3)){s3=Math.min(a3.from,s3);break}w2.push(a3),o3++,s3=Math.min(a3.to,s3)}let T2=maxSeverity(w2);if(w2.some(o4=>o4.from==o4.to||o4.from==o4.to-1&&a2.doc.lineAt(o4.from).to==o4.from))O2.add(i3,i3,Decoration.widget({widget:new DiagnosticWidget(T2),diagnostics:w2.slice()}));else{let o4=w2.reduce((o5,i4)=>i4.markClass?o5+" "+i4.markClass:o5,"");O2.add(i3,s3,Decoration.mark({class:"cm-lintRange cm-lintRange-"+T2+o4,diagnostics:w2.slice(),inclusiveEnd:w2.some(o5=>o5.to>s3)}))}x2=s3;for(let o4=0;o4<w2.length;o4++)w2[o4].to<=x2&&w2.splice(o4--,1)}let C2=O2.finish();return new _LintState(C2,i2,findDiagnostic(C2))}};__name(_LintState,"LintState");let LintState=_LintState;function findDiagnostic(o2,i2=null,a2=0){let s2=null;return o2.between(a2,1e9,(o3,a3,{spec:u2})=>{if(!(i2&&u2.diagnostics.indexOf(i2)<0))if(s2){if(u2.diagnostics.indexOf(s2.diagnostic)<0)return!1;s2=new SelectedDiagnostic(s2.from,a3,s2.diagnostic)}else s2=new SelectedDiagnostic(o3,a3,i2||u2.diagnostics[0])}),s2}__name(findDiagnostic,"findDiagnostic");const Wp=StateEffect.define(),Hp=StateEffect.define(),Up=StateEffect.define(),Zp=StateField.define({create:__name(()=>new LintState(Decoration.none,null,null),"create"),update(o2,i2){if(i2.docChanged&&o2.diagnostics.size){let a2=o2.diagnostics.map(i2.changes),s2=null,u2=o2.panel;if(o2.selected){let u3=i2.changes.mapPos(o2.selected.from,1);s2=findDiagnostic(a2,o2.selected.diagnostic,u3)||findDiagnostic(a2,null,u3)}!a2.size&&u2&&i2.state.facet(Gp).autoPanel&&(u2=null),o2=new LintState(a2,u2,s2)}for(let a2 of i2.effects)if(a2.is(Wp)){let s2=i2.state.facet(Gp).autoPanel?a2.value.length?LintPanel.open:null:o2.panel;o2=LintState.init(a2.value,s2,i2.state)}else a2.is(Hp)?o2=new LintState(o2.diagnostics,a2.value?LintPanel.open:null,o2.selected):a2.is(Up)&&(o2=new LintState(o2.diagnostics,o2.panel,a2.value));return o2},provide:__name(o2=>[lu.from(o2,o3=>o3.panel),EditorView.decorations.from(o2,o3=>o3.diagnostics)],"provide")}),qp=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(o2,i2,a2){let s2,{diagnostics:u2}=o2.state.field(Zp),O2=-1,w2=-1;u2.between(i2-(a2<0?1:0),i2+(a2>0?1:0),(o3,u3,{spec:x3})=>{if(i2>=o3&&i2<=u3&&(o3==u3||(i2>o3||a2>0)&&(i2<u3||a2<0)))return s2=x3.diagnostics,O2=o3,w2=u3,!1});let x2=o2.state.facet(Gp).tooltipFilter;return s2&&x2&&(s2=x2(s2,o2.state)),s2?{pos:O2,end:w2,above:o2.state.doc.lineAt(O2).to<w2,create:__name(()=>({dom:diagnosticsTooltip(o2,s2)}),"create")}:null}__name(lintTooltip,"lintTooltip");function diagnosticsTooltip(o2,i2){return crelt("ul",{class:"cm-tooltip-lint"},i2.map(i3=>renderDiagnostic(o2,i3,!1)))}__name(diagnosticsTooltip,"diagnosticsTooltip");const closeLintPanel=__name(o2=>{let i2=o2.state.field(Zp,!1);return!(!i2||!i2.panel)&&(o2.dispatch({effects:Hp.of(!1)}),!0)},"closeLintPanel"),Xp=[{key:"Mod-Shift-m",run:__name(o2=>{let i2=o2.state.field(Zp,!1);var a2,s2;i2&&i2.panel||o2.dispatch({effects:(a2=o2.state,s2=[Hp.of(!0)],a2.field(Zp,!1)?s2:s2.concat(StateEffect.appendConfig.of(Kp)))});let u2=getPanel(o2,LintPanel.open);return u2&&u2.dom.querySelector(".cm-panel-lint ul").focus(),!0},"run"),preventDefault:!0},{key:"F8",run:__name(o2=>{let i2=o2.state.field(Zp,!1);if(!i2)return!1;let a2=o2.state.selection.main,s2=i2.diagnostics.iter(a2.to+1);return!(!s2.value&&(s2=i2.diagnostics.iter(0),!s2.value||s2.from==a2.from&&s2.to==a2.to))&&(o2.dispatch({selection:{anchor:s2.from,head:s2.to},scrollIntoView:!0}),!0)},"run")}],Gp=Facet.define({combine:__name(o2=>Object.assign({sources:o2.map(o3=>o3.source).filter(o3=>o3!=null)},combineConfig(o2.map(o3=>o3.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:__name(()=>null,"hideOn")},{needsRefresh:__name((o3,i2)=>o3?i2?a2=>o3(a2)||i2(a2):o3:i2,"needsRefresh")})),"combine")});function assignKeys(o2){let i2=[];if(o2)e:for(let{name:a2}of o2){for(let o3=0;o3<a2.length;o3++){let s2=a2[o3];if(/[a-zA-Z]/.test(s2)&&!i2.some(o4=>o4.toLowerCase()==s2.toLowerCase())){i2.push(s2);continue e}}i2.push("")}return i2}__name(assignKeys,"assignKeys");function renderDiagnostic(o2,i2,a2){var s2;let u2=a2?assignKeys(i2.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+i2.severity},crelt("span",{class:"cm-diagnosticText"},i2.renderMessage?i2.renderMessage(o2):i2.message),(s2=i2.actions)===null||s2===void 0?void 0:s2.map((a3,s3)=>{let O2=!1,click=__name(s4=>{if(s4.preventDefault(),O2)return;O2=!0;let u3=findDiagnostic(o2.state.field(Zp).diagnostics,i2);u3&&a3.apply(o2,u3.from,u3.to)},"click"),{name:w2}=a3,x2=u2[s3]?w2.indexOf(u2[s3]):-1,C2=x2<0?w2:[w2.slice(0,x2),crelt("u",w2.slice(x2,x2+1)),w2.slice(x2+1)];return crelt("button",{type:"button",class:"cm-diagnosticAction",onclick:click,onmousedown:click,"aria-label":` Action: ${w2}${x2<0?"":` (access key "${u2[s3]})"`}.`},C2)}),i2.source&&crelt("div",{class:"cm-diagnosticSource"},i2.source))}__name(renderDiagnostic,"renderDiagnostic");const _DiagnosticWidget=class _DiagnosticWidget extends WidgetType{constructor(o2){super(),this.sev=o2}eq(o2){return o2.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}};__name(_DiagnosticWidget,"DiagnosticWidget");let DiagnosticWidget=_DiagnosticWidget;const _PanelItem=class _PanelItem{constructor(o2,i2){this.diagnostic=i2,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=renderDiagnostic(o2,i2,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}};__name(_PanelItem,"PanelItem");let PanelItem=_PanelItem;const _LintPanel=class _LintPanel{constructor(o2){this.view=o2,this.items=[],this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:__name(i2=>{if(i2.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(i2.keyCode==38||i2.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i2.keyCode==40||i2.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i2.keyCode==36)this.moveSelection(0);else if(i2.keyCode==35)this.moveSelection(this.items.length-1);else if(i2.keyCode==13)this.view.focus();else{if(!(i2.keyCode>=65&&i2.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:a2}=this.items[this.selectedIndex],s2=assignKeys(a2.actions);for(let u2=0;u2<s2.length;u2++)if(s2[u2].toUpperCase().charCodeAt(0)==i2.keyCode){let i3=findDiagnostic(this.view.state.field(Zp).diagnostics,a2);i3&&a2.actions[u2].apply(o2,i3.from,i3.to)}}}i2.preventDefault()},"onkeydown"),onclick:__name(o3=>{for(let i2=0;i2<this.items.length;i2++)this.items[i2].dom.contains(o3.target)&&this.moveSelection(i2)},"onclick")}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:__name(()=>closeLintPanel(this.view),"onclick")},"×")),this.update()}get selectedIndex(){let o2=this.view.state.field(Zp).selected;if(!o2)return-1;for(let i2=0;i2<this.items.length;i2++)if(this.items[i2].diagnostic==o2.diagnostic)return i2;return-1}update(){let{diagnostics:o2,selected:i2}=this.view.state.field(Zp),a2=0,s2=!1,u2=null,O2=new Set;for(o2.between(0,this.view.state.doc.length,(o3,w2,{spec:x2})=>{for(let o4 of x2.diagnostics){if(O2.has(o4))continue;O2.add(o4);let w3,x3=-1;for(let i3=a2;i3<this.items.length;i3++)if(this.items[i3].diagnostic==o4){x3=i3;break}x3<0?(w3=new PanelItem(this.view,o4),this.items.splice(a2,0,w3),s2=!0):(w3=this.items[x3],x3>a2&&(this.items.splice(a2,x3-a2),s2=!0)),i2&&w3.diagnostic==i2.diagnostic?w3.dom.hasAttribute("aria-selected")||(w3.dom.setAttribute("aria-selected","true"),u2=w3):w3.dom.hasAttribute("aria-selected")&&w3.dom.removeAttribute("aria-selected"),a2++}});a2<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)s2=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),s2=!0),u2?(this.list.setAttribute("aria-activedescendant",u2.id),this.view.requestMeasure({key:this,read:__name(()=>({sel:u2.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),"read"),write:__name(({sel:o3,panel:i3})=>{let a3=i3.height/this.list.offsetHeight;o3.top<i3.top?this.list.scrollTop-=(i3.top-o3.top)/a3:o3.bottom>i3.bottom&&(this.list.scrollTop+=(o3.bottom-i3.bottom)/a3)},"write")})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),s2&&this.sync()}sync(){let o2=this.list.firstChild;function rm2(){let i2=o2;o2=i2.nextSibling,i2.remove()}__name(rm2,"rm2");for(let i2 of this.items)if(i2.dom.parentNode==this.list){for(;o2!=i2.dom;)rm2();o2=i2.dom.nextSibling}else this.list.insertBefore(i2.dom,o2);for(;o2;)rm2()}moveSelection(o2){if(this.selectedIndex<0)return;let i2=findDiagnostic(this.view.state.field(Zp).diagnostics,this.items[o2].diagnostic);i2&&this.view.dispatch({selection:{anchor:i2.from,head:i2.to},scrollIntoView:!0,effects:Up.of(i2)})}static open(o2){return new _LintPanel(o2)}};__name(_LintPanel,"LintPanel");let LintPanel=_LintPanel;function underline(o2){return __name(function(o3,i2='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${i2}>${encodeURIComponent(o3)}</svg>')`},"svg")(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${o2}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}__name(underline,"underline");const Yp=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(o2){return o2=="error"?4:o2=="warning"?3:o2=="info"?2:1}__name(severityWeight,"severityWeight");function maxSeverity(o2){let i2="hint",a2=1;for(let s2 of o2){let o3=severityWeight(s2.severity);o3>a2&&(a2=o3,i2=s2.severity)}return i2}__name(maxSeverity,"maxSeverity");const Kp=[Zp,EditorView.decorations.compute([Zp],o2=>{let{selected:i2,panel:a2}=o2.field(Zp);return i2&&a2&&i2.from!=i2.to?Decoration.set([qp.range(i2.from,i2.to)]):Decoration.none}),hoverTooltip(lintTooltip,{hideOn:__name(function(o2,i2){let a2=i2.pos,s2=i2.end||a2,u2=o2.state.facet(Gp).hideOn(o2,a2,s2);if(u2!=null)return u2;let O2=o2.startState.doc.lineAt(i2.pos);return!(!o2.effects.some(o3=>o3.is(Wp))&&!o2.changes.touchesRange(O2.from,Math.max(O2.to,s2)))},"hideTooltip")}),Yp];[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),[bc,kc],EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(Rd,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),[Nf,Qf],ic.of([...Vp,...mf,...op,...hf,...yd,...zp,...Xp])];function TimelineBar$1(a2){var s2=a2.project,u2=a2.projectTools,O2=s2.timelineData.playing,w2=s2.timelineData.playheadPosition,x2=s2.timelineData.numberOfFrames;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsx(Button$1,{onClick:__name(function(){O2?u2.updatePlayheadPosition(s2.timelineData.playheadPosition,!0):u2.startPlayback()},"onClick"),iconName:O2?"pause":"play_arrow",bgColor:O2?"var(--green2)":"var(--gray4)",hoverBgColor:O2?"var(--green1)":"var(--gray5)",color:O2?"white":"var(--gray7)",hoverColor:O2?"white":"var(--gray7)"}),jsxRuntimeExports.jsx("div",{style:{color:"var(--gray6)"},children:"Frame:"}),jsxRuntimeExports.jsx(SimpleCommittedTextInput,{initialValue:w2.toString(),onCommit:__name(function(o2){return i2=parseInt(o2),a3=!0,u2.returnToLastCommit(),void u2.updatePlayheadPosition(i2,a3);var i2,a3},"onCommit"),isValid:__name(function(o2){if(o2==="")return!1;var i2=o2.split(""),a3=!1;if(i2.forEach(function(o3){"0123456789".split("").includes(o3)||(a3=!0)}),a3)return!1;var s3=parseInt(o2,10);return!isNaN(s3)&&s3>=0&&s3<x2},"isValid")},w2),jsxRuntimeExports.jsx("div",{style:{height:"40px",width:"0px",marginLeft:"15px",marginRight:"15px"}}),jsxRuntimeExports.jsx("div",{style:{color:"var(--gray6)"},children:"Range:"}),jsxRuntimeExports.jsx(SimpleCommittedTextInput,{initialValue:s2.timelineData.focusRange[0].toString(),onCommit:__name(function(o2){return u2.updateFocusRange([parseInt(o2),s2.timelineData.focusRange[1]])},"onCommit"),isValid:__name(function(o2){if(o2==="")return!1;var i2=o2.split(""),a3=!1;if(i2.forEach(function(o3){"0123456789".split("").includes(o3)||(a3=!0)}),a3)return!1;var u3=parseInt(o2,10);return!isNaN(u3)&&u3>=0&&u3<x2&&u3<s2.timelineData.focusRange[1]},"isValid")}),jsxRuntimeExports.jsx(SimpleCommittedTextInput,{initialValue:s2.timelineData.focusRange[1].toString(),onCommit:__name(function(o2){return u2.updateFocusRange([s2.timelineData.focusRange[0],parseInt(o2)])},"onCommit"),isValid:__name(function(o2){if(o2==="")return!1;var i2=o2.split(""),a3=!1;if(i2.forEach(function(o3){"0123456789".split("").includes(o3)||(a3=!0)}),a3)return!1;var u3=parseInt(o2,10);return!isNaN(u3)&&u3>=0&&u3<x2&&u3>s2.timelineData.focusRange[0]},"isValid")})]})}__name(TimelineBar$1,"TimelineBar$1");var activeToolToIconName=__name(function(o2){switch(o2){case"pointer":return"arrow_selector_tool";case"add_pin":return"add";case"code_editor":return"code";default:return"home"}},"activeToolToIconName"),AdjustedButton=__name(function(i2){var a2=i2.toolName,s2=i2.currentTool,u2=i2.setActiveTool;return jsxRuntimeExports.jsx(Button$1,s2===a2?{iconName:activeToolToIconName(a2),bgColor:"var(--yellow3)",color:"var(--gray1)",hoverBgColor:"var(--yellow2)",hoverColor:"var(--gray1)"}:{iconName:activeToolToIconName(a2),bgColor:"var(--gray3)",color:"var(--gray7)",hoverBgColor:"var(--yellow1)",hoverColor:"var(--gray2)",onClick:__name(function(){return u2(a2)},"onClick")})},"AdjustedButton");function Toolbar(a2){var s2=a2.setActiveTool,u2=a2.activeTool;return jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[jsxRuntimeExports.jsx(AdjustedButton,{toolName:"pointer",currentTool:u2,setActiveTool:s2}),jsxRuntimeExports.jsx(AdjustedButton,{toolName:"add_pin",currentTool:u2,setActiveTool:s2})]})}__name(Toolbar,"Toolbar");wt$1.PinsAndCurvesProjectController,u.defaultProject;wt$1.PostMessageAPI;reactExports.forwardRef(__name(function(i2,a2){var s2=i2.code;return reactExports.useEffect(function(){if(a2.current){var o2=`
            <!DOCTYPE html>
            <html lang="en">
              <head>
                <meta charset="utf-8" />
                <link rel="stylesheet" type="text/css" href="style.css">
                <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.11.1/p5.js"><\/script>
                <script src="https://storage.googleapis.com/pinsandcurvesservice/PinsAndCurvesClient.umd.js"><\/script>
                <script src="
                  https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js
                "><\/script>
              </head>
              <body style="margin: 0; padding: 0; overflow: hidden;
              display: flex; justify-content: center; align-items: center;
              height: 100vh; width: 100vw;
              ">
              <button id="render" style="position: absolute; top: 10px; left: 10px; z-index: 1000;">Render</button>
                <main></main>
                
                <script>
                  const client = new PinsAndCurvesClient();
                  client.connect();
                  function signal(name,frame) {
                    try {
                      return client.signal(name,frame);
                    } catch (e) {
                      return 0;
                    }
                  };
                  const renderButton = document.getElementById('render');
                  renderButton.addEventListener('click', () => {
                    render()
                  });

                  let frames = [];

                  function renderLoop() {
                    if (!rendering) return window.requestAnimationFrame(renderLoop);
                    const project = client.c.getProject();
                    const currentFrame = project.timelineData.playheadPosition;
                    const numberOfFrames = project.timelineData.numberOfFrames;
                    const focusRange = project.timelineData.focusRange;
                    const focusRangeDuration = focusRange[1] - focusRange[0];
                    
                      if (currentFrame === anticipatedFrame) {
                        console.log('Rendering frame', currentFrame);
                        if (currentFrame < focusRange[1]) {
                          // get p5js canvas
                          const canvas = document.querySelector('canvas');
                          frames.push(canvas.toDataURL());
                          // update the playhead
                          anticipatedFrame = currentFrame + 1;
                          client.c.projectTools.updatePlayheadPosition(currentFrame + 1,true);
                        } else {
                          const jszip = new JSZip();
                          const folder = jszip.folder('frames');
                          frames.forEach((frame, index) => {
                            const base64Data = frame.split(',')[1];
                            const binaryString = window.atob(base64Data);
                            const binaryLen = binaryString.length;
                            const bytes = new Uint8Array(binaryLen);
                            for (let i = 0; i < binaryLen; i++) {
                              bytes[i] = binaryString.charCodeAt(i);
                            }
                            // filename with 5 digits
                            const fileName = 'frame' + String(index).padStart(5, '0') + '.png';
                            folder.file(fileName, bytes, { base64: true });
                          });
                          jszip.generateAsync({ type: 'blob' }).then(function (content) {
                            const blobUrl = URL.createObjectURL(content);
                            const a = document.createElement('a');
                            a.href = blobUrl;
                            a.download = 'frames.zip';
                            a.click();
                            URL.revokeObjectURL(blobUrl);
                          });
                          frames = [];
                          anticipatedFrame = 0;
                          client.c.projectTools.updatePlayheadPosition(0,true);
                          rendering = false;
                        }
                      } 
                      window.requestAnimationFrame(renderLoop);
                
                  }

                  


                  
                  let rendering = false;
                  let anticipatedFrame = 0;
                  function render() {
                    if (rendering) return;
                    rendering = true;
                    
                    const project = client.c.getProject();
                    const focusRange = project.timelineData.focusRange;
                    anticipatedFrame = focusRange[0];
                    client.c.projectTools.updatePlayheadPosition(focusRange[0],true);

                  }
                    renderLoop();


                  `.concat(s2,`
                <\/script>
                

              </body>
            </html>
          `),i3=new Blob([o2],{type:"text/html"}),u2=URL.createObjectURL(i3);a2.current.src=u2,a2.current.addEventListener("load",function(){return URL.revokeObjectURL(u2)},{once:!0})}},[s2,a2]),jsxRuntimeExports.jsx("iframe",{ref:a2,title:"Code Preview",style:{width:"100%",height:"100%",border:"none"}})},"CodePreviewContent"));const _Stack=class _Stack{constructor(o2,i2,a2,s2,u2,O2,w2,x2,C2,T2=0,_2){this.p=o2,this.stack=i2,this.state=a2,this.reducePos=s2,this.pos=u2,this.score=O2,this.buffer=w2,this.bufferBase=x2,this.curContext=C2,this.lookAhead=T2,this.parent=_2}toString(){return`[${this.stack.filter((o2,i2)=>i2%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(o2,i2,a2=0){let s2=o2.parser.context;return new _Stack(o2,[],i2,a2,a2,0,[],0,s2?new StackContext(s2,s2.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(o2,i2){this.stack.push(this.state,i2,this.bufferBase+this.buffer.length),this.state=o2}reduce(o2){var i2;let a2=o2>>19,s2=65535&o2,{parser:u2}=this.p,O2=this.reducePos<this.pos-25;O2&&this.setLookAhead(this.pos);let w2=u2.dynamicPrecedence(s2);if(w2&&(this.score+=w2),a2==0)return this.pushState(u2.getGoto(this.state,s2,!0),this.reducePos),s2<u2.minRepeatTerm&&this.storeNode(s2,this.reducePos,this.reducePos,O2?8:4,!0),void this.reduceContext(s2,this.reducePos);let x2=this.stack.length-3*(a2-1)-(262144&o2?6:0),C2=x2?this.stack[x2-2]:this.p.ranges[0].from,T2=this.reducePos-C2;T2>=2e3&&!(!((i2=this.p.parser.nodeSet.types[s2])===null||i2===void 0)&&i2.isAnonymous)&&(C2==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=T2):this.p.lastBigReductionSize<T2&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=C2,this.p.lastBigReductionSize=T2));let _2=x2?this.stack[x2-1]:0,A2=this.bufferBase+this.buffer.length-_2;if(s2<u2.minRepeatTerm||131072&o2){let o3=u2.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(s2,C2,o3,A2+4,!0)}if(262144&o2)this.state=this.stack[x2];else{let o3=this.stack[x2-3];this.state=u2.getGoto(o3,s2,!0)}for(;this.stack.length>x2;)this.stack.pop();this.reduceContext(s2,C2)}storeNode(o2,i2,a2,s2=4,u2=!1){if(o2==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o3=this,s3=this.buffer.length;if(s3==0&&o3.parent&&(s3=o3.bufferBase-o3.parent.bufferBase,o3=o3.parent),s3>0&&o3.buffer[s3-4]==0&&o3.buffer[s3-1]>-1){if(i2==a2)return;if(o3.buffer[s3-2]>=i2)return void(o3.buffer[s3-2]=a2)}}if(u2&&this.pos!=a2){let u3=this.buffer.length;if(u3>0&&this.buffer[u3-4]!=0){let o3=!1;for(let i3=u3;i3>0&&this.buffer[i3-2]>a2;i3-=4)if(this.buffer[i3-1]>=0){o3=!0;break}if(o3)for(;u3>0&&this.buffer[u3-2]>a2;)this.buffer[u3]=this.buffer[u3-4],this.buffer[u3+1]=this.buffer[u3-3],this.buffer[u3+2]=this.buffer[u3-2],this.buffer[u3+3]=this.buffer[u3-1],u3-=4,s2>4&&(s2-=4)}this.buffer[u3]=o2,this.buffer[u3+1]=i2,this.buffer[u3+2]=a2,this.buffer[u3+3]=s2}else this.buffer.push(o2,i2,a2,s2)}shift(o2,i2,a2,s2){if(131072&o2)this.pushState(65535&o2,this.pos);else if(262144&o2)this.pos=s2,this.shiftContext(i2,a2),i2<=this.p.parser.maxNode&&this.buffer.push(i2,a2,s2,4);else{let u2=o2,{parser:O2}=this.p;(s2>this.pos||i2<=O2.maxNode)&&(this.pos=s2,O2.stateFlag(u2,1)||(this.reducePos=s2)),this.pushState(u2,a2),this.shiftContext(i2,a2),i2<=O2.maxNode&&this.buffer.push(i2,a2,s2,4)}}apply(o2,i2,a2,s2){65536&o2?this.reduce(o2):this.shift(o2,i2,a2,s2)}useNode(o2,i2){let a2=this.p.reused.length-1;(a2<0||this.p.reused[a2]!=o2)&&(this.p.reused.push(o2),a2++);let s2=this.pos;this.reducePos=this.pos=s2+o2.length,this.pushState(i2,s2),this.buffer.push(a2,s2,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,o2,this,this.p.stream.reset(this.pos-o2.length)))}split(){let o2=this,i2=o2.buffer.length;for(;i2>0&&o2.buffer[i2-2]>o2.reducePos;)i2-=4;let a2=o2.buffer.slice(i2),s2=o2.bufferBase+i2;for(;o2&&s2==o2.bufferBase;)o2=o2.parent;return new _Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,a2,s2,this.curContext,this.lookAhead,o2)}recoverByDelete(o2,i2){let a2=o2<=this.p.parser.maxNode;a2&&this.storeNode(o2,this.pos,i2,4),this.storeNode(0,this.pos,i2,a2?8:4),this.pos=this.reducePos=i2,this.score-=190}canShift(o2){for(let i2=new SimulatedStack(this);;){let a2=this.p.parser.stateSlot(i2.state,4)||this.p.parser.hasAction(i2.state,o2);if(a2==0)return!1;if(!(65536&a2))return!0;i2.reduce(a2)}}recoverByInsert(o2){if(this.stack.length>=300)return[];let i2=this.p.parser.nextStates(this.state);if(i2.length>8||this.stack.length>=120){let a3=[];for(let s2,u2=0;u2<i2.length;u2+=2)(s2=i2[u2+1])!=this.state&&this.p.parser.hasAction(s2,o2)&&a3.push(i2[u2],s2);if(this.stack.length<120)for(let o3=0;a3.length<8&&o3<i2.length;o3+=2){let s2=i2[o3+1];a3.some((o4,i3)=>1&i3&&o4==s2)||a3.push(i2[o3],s2)}i2=a3}let a2=[];for(let o3=0;o3<i2.length&&a2.length<4;o3+=2){let s2=i2[o3+1];if(s2==this.state)continue;let u2=this.split();u2.pushState(s2,this.pos),u2.storeNode(0,u2.pos,u2.pos,4,!0),u2.shiftContext(i2[o3],this.pos),u2.reducePos=this.pos,u2.score-=200,a2.push(u2)}return a2}forceReduce(){let{parser:o2}=this.p,i2=o2.stateSlot(this.state,5);if(!(65536&i2))return!1;if(!o2.validAction(this.state,i2)){let a2=i2>>19,s2=65535&i2,u2=this.stack.length-3*a2;if(u2<0||o2.getGoto(this.stack[u2],s2,!1)<0){let o3=this.findForcedReduction();if(o3==null)return!1;i2=o3}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(i2),!0}findForcedReduction(){let{parser:o2}=this.p,i2=[],explore=__name((a2,s2)=>{if(!i2.includes(a2))return i2.push(a2),o2.allActions(a2,i3=>{if(!(393216&i3))if(65536&i3){let a3=(i3>>19)-s2;if(a3>1){let s3=65535&i3,u2=this.stack.length-3*a3;if(u2>=0&&o2.getGoto(this.stack[u2],s3,!1)>=0)return a3<<19|65536|s3}}else{let o3=explore(i3,s2+1);if(o3!=null)return o3}})},"explore");return explore(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:o2}=this.p;return o2.data[o2.stateSlot(this.state,1)]==65535&&!o2.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(o2){if(this.state!=o2.state||this.stack.length!=o2.stack.length)return!1;for(let i2=0;i2<this.stack.length;i2+=3)if(this.stack[i2]!=o2.stack[i2])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(o2){return this.p.parser.dialect.flags[o2]}shiftContext(o2,i2){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,o2,this,this.p.stream.reset(i2)))}reduceContext(o2,i2){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,o2,this,this.p.stream.reset(i2)))}emitContext(){let o2=this.buffer.length-1;(o2<0||this.buffer[o2]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let o2=this.buffer.length-1;(o2<0||this.buffer[o2]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(o2){if(o2!=this.curContext.context){let i2=new StackContext(this.curContext.tracker,o2);i2.hash!=this.curContext.hash&&this.emitContext(),this.curContext=i2}}setLookAhead(o2){o2>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=o2)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};__name(_Stack,"Stack");let Stack=_Stack;const _StackContext=class _StackContext{constructor(o2,i2){this.tracker=o2,this.context=i2,this.hash=o2.strict?o2.hash(i2):0}};__name(_StackContext,"StackContext");let StackContext=_StackContext;const _SimulatedStack=class _SimulatedStack{constructor(o2){this.start=o2,this.state=o2.state,this.stack=o2.stack,this.base=this.stack.length}reduce(o2){let i2=65535&o2,a2=o2>>19;a2==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(a2-1);let s2=this.start.p.parser.getGoto(this.stack[this.base-3],i2,!0);this.state=s2}};__name(_SimulatedStack,"SimulatedStack");let SimulatedStack=_SimulatedStack;const _StackBufferCursor=class _StackBufferCursor{constructor(o2,i2,a2){this.stack=o2,this.pos=i2,this.index=a2,this.buffer=o2.buffer,this.index==0&&this.maybeNext()}static create(o2,i2=o2.bufferBase+o2.buffer.length){return new _StackBufferCursor(o2,i2,i2-o2.bufferBase)}maybeNext(){let o2=this.stack.parent;o2!=null&&(this.index=this.stack.bufferBase-o2.bufferBase,this.stack=o2,this.buffer=o2.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new _StackBufferCursor(this.stack,this.pos,this.index)}};__name(_StackBufferCursor,"StackBufferCursor");let StackBufferCursor=_StackBufferCursor;function decodeArray(o2,i2=Uint16Array){if(typeof o2!="string")return o2;let a2=null;for(let s2=0,u2=0;s2<o2.length;){let O2=0;for(;;){let i3=o2.charCodeAt(s2++),a3=!1;if(i3==126){O2=65535;break}i3>=92&&i3--,i3>=34&&i3--;let u3=i3-32;if(u3>=46&&(u3-=46,a3=!0),O2+=u3,a3)break;O2*=46}a2?a2[u2++]=O2:a2=new i2(O2)}return a2}__name(decodeArray,"decodeArray");const _CachedToken=class _CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}};__name(_CachedToken,"CachedToken");let CachedToken=_CachedToken;const dh=new CachedToken,_InputStream=class _InputStream{constructor(o2,i2){this.input=o2,this.ranges=i2,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=dh,this.rangeIndex=0,this.pos=this.chunkPos=i2[0].from,this.range=i2[0],this.end=i2[i2.length-1].to,this.readNext()}resolveOffset(o2,i2){let a2=this.range,s2=this.rangeIndex,u2=this.pos+o2;for(;u2<a2.from;){if(!s2)return null;let o3=this.ranges[--s2];u2-=a2.from-o3.to,a2=o3}for(;i2<0?u2>a2.to:u2>=a2.to;){if(s2==this.ranges.length-1)return null;let o3=this.ranges[++s2];u2+=o3.from-a2.to,a2=o3}return u2}clipPos(o2){if(o2>=this.range.from&&o2<this.range.to)return o2;for(let i2 of this.ranges)if(i2.to>o2)return Math.max(o2,i2.from);return this.end}peek(o2){let i2,a2,s2=this.chunkOff+o2;if(s2>=0&&s2<this.chunk.length)i2=this.pos+o2,a2=this.chunk.charCodeAt(s2);else{let s3=this.resolveOffset(o2,1);if(s3==null)return-1;if(i2=s3,i2>=this.chunk2Pos&&i2<this.chunk2Pos+this.chunk2.length)a2=this.chunk2.charCodeAt(i2-this.chunk2Pos);else{let o3=this.rangeIndex,s4=this.range;for(;s4.to<=i2;)s4=this.ranges[++o3];this.chunk2=this.input.chunk(this.chunk2Pos=i2),i2+this.chunk2.length>s4.to&&(this.chunk2=this.chunk2.slice(0,s4.to-i2)),a2=this.chunk2.charCodeAt(0)}}return i2>=this.token.lookAhead&&(this.token.lookAhead=i2+1),a2}acceptToken(o2,i2=0){let a2=i2?this.resolveOffset(i2,-1):this.pos;if(a2==null||a2<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=o2,this.token.end=a2}acceptTokenTo(o2,i2){this.token.value=o2,this.token.end=i2}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:o2,chunkPos:i2}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=o2,this.chunk2Pos=i2,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let o2=this.input.chunk(this.pos),i2=this.pos+o2.length;this.chunk=i2>this.range.to?o2.slice(0,this.range.to-this.pos):o2,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(o2=1){for(this.chunkOff+=o2;this.pos+o2>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();o2-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=o2,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(o2,i2){if(i2?(this.token=i2,i2.start=o2,i2.lookAhead=o2+1,i2.value=i2.extended=-1):this.token=dh,this.pos!=o2){if(this.pos=o2,o2==this.end)return this.setDone(),this;for(;o2<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;o2>=this.range.to;)this.range=this.ranges[++this.rangeIndex];o2>=this.chunkPos&&o2<this.chunkPos+this.chunk.length?this.chunkOff=o2-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(o2,i2){if(o2>=this.chunkPos&&i2<=this.chunkPos+this.chunk.length)return this.chunk.slice(o2-this.chunkPos,i2-this.chunkPos);if(o2>=this.chunk2Pos&&i2<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(o2-this.chunk2Pos,i2-this.chunk2Pos);if(o2>=this.range.from&&i2<=this.range.to)return this.input.read(o2,i2);let a2="";for(let s2 of this.ranges){if(s2.from>=i2)break;s2.to>o2&&(a2+=this.input.read(Math.max(s2.from,o2),Math.min(s2.to,i2)))}return a2}};__name(_InputStream,"InputStream");let InputStream=_InputStream;const _TokenGroup=class _TokenGroup{constructor(o2,i2){this.data=o2,this.id=i2}token(o2,i2){let{parser:a2}=i2.p;readToken(this.data,o2,i2,this.id,a2.data,a2.tokenPrecTable)}};__name(_TokenGroup,"TokenGroup");let TokenGroup=_TokenGroup;TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;const _LocalTokenGroup=class _LocalTokenGroup{constructor(o2,i2,a2){this.precTable=i2,this.elseToken=a2,this.data=typeof o2=="string"?decodeArray(o2):o2}token(o2,i2){let a2=o2.pos,s2=0;for(;;){let a3=o2.next<0,u2=o2.resolveOffset(1,1);if(readToken(this.data,o2,i2,0,this.data,this.precTable),o2.token.value>-1)break;if(this.elseToken==null)return;if(a3||s2++,u2==null)break;o2.reset(u2,o2.token)}s2&&(o2.reset(a2,o2.token),o2.acceptToken(this.elseToken,s2))}};__name(_LocalTokenGroup,"LocalTokenGroup");let LocalTokenGroup=_LocalTokenGroup;LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;const _ExternalTokenizer=class _ExternalTokenizer{constructor(o2,i2={}){this.token=o2,this.contextual=!!i2.contextual,this.fallback=!!i2.fallback,this.extend=!!i2.extend}};__name(_ExternalTokenizer,"ExternalTokenizer");let ExternalTokenizer=_ExternalTokenizer;function readToken(o2,i2,a2,s2,u2,O2){let w2=0,x2=1<<s2,{dialect:C2}=a2.p.parser;e:for(;x2&o2[w2];){let a3=o2[w2+1];for(let s4=w2+3;s4<a3;s4+=2)if((o2[s4+1]&x2)>0){let a4=o2[s4];if(C2.allows(a4)&&(i2.token.value==-1||i2.token.value==a4||overrides(a4,i2.token.value,u2,O2))){i2.acceptToken(a4);break}}let s3=i2.next,T2=0,_2=o2[w2+2];if(!(i2.next<0&&_2>T2&&o2[a3+3*_2-3]==65535)){for(;T2<_2;){let u3=T2+_2>>1,O3=a3+u3+(u3<<1),x3=o2[O3],C3=o2[O3+1]||65536;if(s3<x3)_2=u3;else{if(!(s3>=C3)){w2=o2[O3+2],i2.advance();continue e}T2=u3+1}}break}w2=o2[a3+3*_2-1]}}__name(readToken,"readToken");function findOffset(o2,i2,a2){for(let s2,u2=i2;(s2=o2[u2])!=65535;u2++)if(s2==a2)return u2-i2;return-1}__name(findOffset,"findOffset");function overrides(o2,i2,a2,s2){let u2=findOffset(a2,s2,i2);return u2<0||findOffset(a2,s2,o2)<u2}__name(overrides,"overrides");const fh=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let vh=null;function cutAt(o2,i2,a2){let s2=o2.cursor(Pu.IncludeAnonymous);for(s2.moveTo(i2);;)if(!(a2<0?s2.childBefore(i2):s2.childAfter(i2)))for(;;){if((a2<0?s2.to<i2:s2.from>i2)&&!s2.type.isError)return a2<0?Math.max(0,Math.min(s2.to-1,i2-25)):Math.min(o2.length,Math.max(s2.from+1,i2+25));if(a2<0?s2.prevSibling():s2.nextSibling())break;if(!s2.parent())return a2<0?0:o2.length}}__name(cutAt,"cutAt");const _FragmentCursor=class _FragmentCursor{constructor(o2,i2){this.fragments=o2,this.nodeSet=i2,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let o2=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(o2){for(this.safeFrom=o2.openStart?cutAt(o2.tree,o2.from+o2.offset,1)-o2.offset:o2.from,this.safeTo=o2.openEnd?cutAt(o2.tree,o2.to+o2.offset,-1)-o2.offset:o2.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(o2.tree),this.start.push(-o2.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(o2){if(o2<this.nextStart)return null;for(;this.fragment&&this.safeTo<=o2;)this.nextFragment();if(!this.fragment)return null;for(;;){let i2=this.trees.length-1;if(i2<0)return this.nextFragment(),null;let a2=this.trees[i2],s2=this.index[i2];if(s2==a2.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let u2=a2.children[s2],O2=this.start[i2]+a2.positions[s2];if(O2>o2)return this.nextStart=O2,null;if(u2 instanceof Tree){if(O2==o2){if(O2<this.safeFrom)return null;let o3=O2+u2.length;if(o3<=this.safeTo){let i3=u2.prop(NodeProp.lookAhead);if(!i3||o3+i3<this.fragment.to)return u2}}this.index[i2]++,O2+u2.length>=Math.max(this.safeFrom,o2)&&(this.trees.push(u2),this.start.push(O2),this.index.push(0))}else this.index[i2]++,this.nextStart=O2+u2.length}}};__name(_FragmentCursor,"FragmentCursor");let FragmentCursor=_FragmentCursor;const _TokenCache=class _TokenCache{constructor(o2,i2){this.stream=i2,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=o2.tokenizers.map(o3=>new CachedToken)}getActions(o2){let i2=0,a2=null,{parser:s2}=o2.p,{tokenizers:u2}=s2,O2=s2.stateSlot(o2.state,3),w2=o2.curContext?o2.curContext.hash:0,x2=0;for(let s3=0;s3<u2.length;s3++){if(!(1<<s3&O2))continue;let C2=u2[s3],T2=this.tokens[s3];if((!a2||C2.fallback)&&((C2.contextual||T2.start!=o2.pos||T2.mask!=O2||T2.context!=w2)&&(this.updateCachedToken(T2,C2,o2),T2.mask=O2,T2.context=w2),T2.lookAhead>T2.end+25&&(x2=Math.max(T2.lookAhead,x2)),T2.value!=0)){let s4=i2;if(T2.extended>-1&&(i2=this.addActions(o2,T2.extended,T2.end,i2)),i2=this.addActions(o2,T2.value,T2.end,i2),!C2.extend&&(a2=T2,i2>s4))break}}for(;this.actions.length>i2;)this.actions.pop();return x2&&o2.setLookAhead(x2),a2||o2.pos!=this.stream.end||(a2=new CachedToken,a2.value=o2.p.parser.eofTerm,a2.start=a2.end=o2.pos,i2=this.addActions(o2,a2.value,a2.end,i2)),this.mainToken=a2,this.actions}getMainToken(o2){if(this.mainToken)return this.mainToken;let i2=new CachedToken,{pos:a2,p:s2}=o2;return i2.start=a2,i2.end=Math.min(a2+1,s2.stream.end),i2.value=a2==s2.stream.end?s2.parser.eofTerm:0,i2}updateCachedToken(o2,i2,a2){let s2=this.stream.clipPos(a2.pos);if(i2.token(this.stream.reset(s2,o2),a2),o2.value>-1){let{parser:i3}=a2.p;for(let s3=0;s3<i3.specialized.length;s3++)if(i3.specialized[s3]==o2.value){let u2=i3.specializers[s3](this.stream.read(o2.start,o2.end),a2);if(u2>=0&&a2.p.parser.dialect.allows(u2>>1)){1&u2?o2.extended=u2>>1:o2.value=u2>>1;break}}}else o2.value=0,o2.end=this.stream.clipPos(s2+1)}putAction(o2,i2,a2,s2){for(let i3=0;i3<s2;i3+=3)if(this.actions[i3]==o2)return s2;return this.actions[s2++]=o2,this.actions[s2++]=i2,this.actions[s2++]=a2,s2}addActions(o2,i2,a2,s2){let{state:u2}=o2,{parser:O2}=o2.p,{data:w2}=O2;for(let o3=0;o3<2;o3++)for(let x2=O2.stateSlot(u2,o3?2:1);;x2+=3){if(w2[x2]==65535){if(w2[x2+1]!=1){s2==0&&w2[x2+1]==2&&(s2=this.putAction(pair(w2,x2+2),i2,a2,s2));break}x2=pair(w2,x2+2)}w2[x2]==i2&&(s2=this.putAction(pair(w2,x2+1),i2,a2,s2))}return s2}};__name(_TokenCache,"TokenCache");let TokenCache=_TokenCache;const _Parse=class _Parse{constructor(o2,i2,a2,s2){this.parser=o2,this.input=i2,this.ranges=s2,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(i2,s2),this.tokens=new TokenCache(o2,this.stream),this.topTerm=o2.top[1];let{from:u2}=s2[0];this.stacks=[Stack.start(this,o2.top[0],u2)],this.fragments=a2.length&&this.stream.end-u2>4*o2.bufferLength?new FragmentCursor(a2,o2.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let o2,i2,a2=this.stacks,s2=this.minStackPos,u2=this.stacks=[];if(this.bigReductionCount>300&&a2.length==1){let[o3]=a2;for(;o3.forceReduce()&&o3.stack.length&&o3.stack[o3.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let O2=0;O2<a2.length;O2++){let w2=a2[O2];for(;;){if(this.tokens.mainToken=null,w2.pos>s2)u2.push(w2);else{if(this.advanceStack(w2,u2,a2))continue;{o2||(o2=[],i2=[]),o2.push(w2);let a3=this.tokens.getMainToken(w2);i2.push(a3.value,a3.end)}}break}}if(!u2.length){let i3=o2&&__name(function(o3){let i4=null;for(let a3 of o3){let o4=a3.p.stoppedAt;(a3.pos==a3.p.stream.end||o4!=null&&a3.pos>o4)&&a3.p.parser.stateFlag(a3.state,2)&&(!i4||i4.score<a3.score)&&(i4=a3)}return i4},"findFinished")(o2);if(i3)return fh&&console.log("Finish with "+this.stackID(i3)),this.stackToTree(i3);if(this.parser.strict)throw fh&&o2&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+s2);this.recovering||(this.recovering=5)}if(this.recovering&&o2){let a3=this.stoppedAt!=null&&o2[0].pos>this.stoppedAt?o2[0]:this.runRecovery(o2,i2,u2);if(a3)return fh&&console.log("Force-finish "+this.stackID(a3)),this.stackToTree(a3.forceAll())}if(this.recovering){let o3=this.recovering==1?1:3*this.recovering;if(u2.length>o3)for(u2.sort((o4,i3)=>i3.score-o4.score);u2.length>o3;)u2.pop();u2.some(o4=>o4.reducePos>s2)&&this.recovering--}else if(u2.length>1){e:for(let o3=0;o3<u2.length-1;o3++){let i3=u2[o3];for(let a3=o3+1;a3<u2.length;a3++){let s3=u2[a3];if(i3.sameState(s3)||i3.buffer.length>500&&s3.buffer.length>500){if(!((i3.score-s3.score||i3.buffer.length-s3.buffer.length)>0)){u2.splice(o3--,1);continue e}u2.splice(a3--,1)}}}u2.length>12&&u2.splice(12,u2.length-12)}this.minStackPos=u2[0].pos;for(let o3=1;o3<u2.length;o3++)u2[o3].pos<this.minStackPos&&(this.minStackPos=u2[o3].pos);return null}stopAt(o2){if(this.stoppedAt!=null&&this.stoppedAt<o2)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=o2}advanceStack(o2,i2,a2){let s2=o2.pos,{parser:u2}=this,O2=fh?this.stackID(o2)+" -> ":"";if(this.stoppedAt!=null&&s2>this.stoppedAt)return o2.forceReduce()?o2:null;if(this.fragments){let i3=o2.curContext&&o2.curContext.tracker.strict,a3=i3?o2.curContext.hash:0;for(let w3=this.fragments.nodeAt(s2);w3;){let s3=this.parser.nodeSet.types[w3.type.id]==w3.type?u2.getGoto(o2.state,w3.type.id):-1;if(s3>-1&&w3.length&&(!i3||(w3.prop(NodeProp.contextHash)||0)==a3))return o2.useNode(w3,s3),fh&&console.log(O2+this.stackID(o2)+` (via reuse of ${u2.getName(w3.type.id)})`),!0;if(!(w3 instanceof Tree)||w3.children.length==0||w3.positions[0]>0)break;let x3=w3.children[0];if(!(x3 instanceof Tree&&w3.positions[0]==0))break;w3=x3}}let w2=u2.stateSlot(o2.state,4);if(w2>0)return o2.reduce(w2),fh&&console.log(O2+this.stackID(o2)+` (via always-reduce ${u2.getName(65535&w2)})`),!0;if(o2.stack.length>=8400)for(;o2.stack.length>6e3&&o2.forceReduce(););let x2=this.tokens.getActions(o2);for(let w3=0;w3<x2.length;){let C2=x2[w3++],T2=x2[w3++],_2=x2[w3++],A2=w3==x2.length||!a2,Q2=A2?o2:o2.split(),N2=this.tokens.mainToken;if(Q2.apply(C2,T2,N2?N2.start:Q2.pos,_2),fh&&console.log(O2+this.stackID(Q2)+` (via ${65536&C2?`reduce of ${u2.getName(65535&C2)}`:"shift"} for ${u2.getName(T2)} @ ${s2}${Q2==o2?"":", split"})`),A2)return!0;Q2.pos>s2?i2.push(Q2):a2.push(Q2)}return!1}advanceFully(o2,i2){let a2=o2.pos;for(;;){if(!this.advanceStack(o2,null,null))return!1;if(o2.pos>a2)return pushStackDedup(o2,i2),!0}}runRecovery(o2,i2,a2){let s2=null,u2=!1;for(let O2=0;O2<o2.length;O2++){let w2=o2[O2],x2=i2[O2<<1],C2=i2[1+(O2<<1)],T2=fh?this.stackID(w2)+" -> ":"";if(w2.deadEnd&&(u2||(u2=!0,w2.restart(),fh&&console.log(T2+this.stackID(w2)+" (restarted)"),this.advanceFully(w2,a2))))continue;let _2=w2.split(),A2=T2;for(let o3=0;_2.forceReduce()&&o3<10&&(fh&&console.log(A2+this.stackID(_2)+" (via force-reduce)"),!this.advanceFully(_2,a2));o3++)fh&&(A2=this.stackID(_2)+" -> ");for(let o3 of w2.recoverByInsert(x2))fh&&console.log(T2+this.stackID(o3)+" (via recover-insert)"),this.advanceFully(o3,a2);this.stream.end>w2.pos?(C2==w2.pos&&(C2++,x2=0),w2.recoverByDelete(x2,C2),fh&&console.log(T2+this.stackID(w2)+` (via recover-delete ${this.parser.getName(x2)})`),pushStackDedup(w2,a2)):(!s2||s2.score<w2.score)&&(s2=w2)}return s2}stackToTree(o2){return o2.close(),Tree.build({buffer:StackBufferCursor.create(o2),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:o2.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(o2){let i2=(vh||(vh=new WeakMap)).get(o2);return i2||vh.set(o2,i2=String.fromCodePoint(this.nextStackID++)),i2+o2}};__name(_Parse,"Parse");let Parse=_Parse;function pushStackDedup(o2,i2){for(let a2=0;a2<i2.length;a2++){let s2=i2[a2];if(s2.pos==o2.pos&&s2.sameState(o2))return void(i2[a2].score<o2.score&&(i2[a2]=o2))}i2.push(o2)}__name(pushStackDedup,"pushStackDedup");const _Dialect=class _Dialect{constructor(o2,i2,a2){this.source=o2,this.flags=i2,this.disabled=a2}allows(o2){return!this.disabled||this.disabled[o2]==0}};__name(_Dialect,"Dialect");let Dialect=_Dialect;const id=__name(o2=>o2,"id"),_LRParser=class _LRParser extends Parser{constructor(o2){if(super(),this.wrappers=[],o2.version!=14)throw new RangeError(`Parser version (${o2.version}) doesn't match runtime version (14)`);let i2=o2.nodeNames.split(" ");this.minRepeatTerm=i2.length;for(let a3=0;a3<o2.repeatNodeCount;a3++)i2.push("");let a2=Object.keys(o2.topRules).map(i3=>o2.topRules[i3][1]),s2=[];for(let o3=0;o3<i2.length;o3++)s2.push([]);function setProp(o3,i3,a3){s2[o3].push([i3,i3.deserialize(String(a3))])}if(__name(setProp,"setProp"),o2.nodeProps)for(let i3 of o2.nodeProps){let o3=i3[0];typeof o3=="string"&&(o3=NodeProp[o3]);for(let a3=1;a3<i3.length;){let s3=i3[a3++];if(s3>=0)setProp(s3,o3,i3[a3++]);else{let u3=i3[a3+-s3];for(let O2=-s3;O2>0;O2--)setProp(i3[a3++],o3,u3);a3++}}}this.nodeSet=new NodeSet(i2.map((i3,u3)=>NodeType.define({name:u3>=this.minRepeatTerm?void 0:i3,id:u3,props:s2[u3],top:a2.indexOf(u3)>-1,error:u3==0,skipped:o2.skippedNodes&&o2.skippedNodes.indexOf(u3)>-1}))),o2.propSources&&(this.nodeSet=this.nodeSet.extend(...o2.propSources)),this.strict=!1,this.bufferLength=Su;let u2=decodeArray(o2.tokenData);this.context=o2.context,this.specializerSpecs=o2.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o3=0;o3<this.specializerSpecs.length;o3++)this.specialized[o3]=this.specializerSpecs[o3].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(o2.states,Uint32Array),this.data=decodeArray(o2.stateData),this.goto=decodeArray(o2.goto),this.maxTerm=o2.maxTerm,this.tokenizers=o2.tokenizers.map(o3=>typeof o3=="number"?new TokenGroup(u2,o3):o3),this.topRules=o2.topRules,this.dialects=o2.dialects||{},this.dynamicPrecedences=o2.dynamicPrecedences||null,this.tokenPrecTable=o2.tokenPrec,this.termNames=o2.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(o2,i2,a2){let s2=new Parse(this,o2,i2,a2);for(let u2 of this.wrappers)s2=u2(s2,o2,i2,a2);return s2}getGoto(o2,i2,a2=!1){let s2=this.goto;if(i2>=s2[0])return-1;for(let u2=s2[i2+1];;){let i3=s2[u2++],O2=1&i3,w2=s2[u2++];if(O2&&a2)return w2;for(let a3=u2+(i3>>1);u2<a3;u2++)if(s2[u2]==o2)return w2;if(O2)return-1}}hasAction(o2,i2){let a2=this.data;for(let s2=0;s2<2;s2++)for(let u2,O2=this.stateSlot(o2,s2?2:1);;O2+=3){if((u2=a2[O2])==65535){if(a2[O2+1]!=1){if(a2[O2+1]==2)return pair(a2,O2+2);break}u2=a2[O2=pair(a2,O2+2)]}if(u2==i2||u2==0)return pair(a2,O2+1)}return 0}stateSlot(o2,i2){return this.states[6*o2+i2]}stateFlag(o2,i2){return(this.stateSlot(o2,0)&i2)>0}validAction(o2,i2){return!!this.allActions(o2,o3=>o3==i2||null)}allActions(o2,i2){let a2=this.stateSlot(o2,4),s2=a2?i2(a2):void 0;for(let a3=this.stateSlot(o2,1);s2==null;a3+=3){if(this.data[a3]==65535){if(this.data[a3+1]!=1)break;a3=pair(this.data,a3+2)}s2=i2(pair(this.data,a3+1))}return s2}nextStates(o2){let i2=[];for(let a2=this.stateSlot(o2,1);;a2+=3){if(this.data[a2]==65535){if(this.data[a2+1]!=1)break;a2=pair(this.data,a2+2)}if(!(1&this.data[a2+2])){let o3=this.data[a2+1];i2.some((i3,a3)=>1&a3&&i3==o3)||i2.push(this.data[a2],o3)}}return i2}configure(o2){let i2=Object.assign(Object.create(_LRParser.prototype),this);if(o2.props&&(i2.nodeSet=this.nodeSet.extend(...o2.props)),o2.top){let a2=this.topRules[o2.top];if(!a2)throw new RangeError(`Invalid top rule name ${o2.top}`);i2.top=a2}return o2.tokenizers&&(i2.tokenizers=this.tokenizers.map(i3=>{let a2=o2.tokenizers.find(o3=>o3.from==i3);return a2?a2.to:i3})),o2.specializers&&(i2.specializers=this.specializers.slice(),i2.specializerSpecs=this.specializerSpecs.map((a2,s2)=>{let u2=o2.specializers.find(o3=>o3.from==a2.external);if(!u2)return a2;let O2=Object.assign(Object.assign({},a2),{external:u2.to});return i2.specializers[s2]=getSpecializer(O2),O2})),o2.contextTracker&&(i2.context=o2.contextTracker),o2.dialect&&(i2.dialect=this.parseDialect(o2.dialect)),o2.strict!=null&&(i2.strict=o2.strict),o2.wrap&&(i2.wrappers=i2.wrappers.concat(o2.wrap)),o2.bufferLength!=null&&(i2.bufferLength=o2.bufferLength),i2}hasWrappers(){return this.wrappers.length>0}getName(o2){return this.termNames?this.termNames[o2]:String(o2<=this.maxNode&&this.nodeSet.types[o2].name||o2)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(o2){let i2=this.dynamicPrecedences;return i2==null?0:i2[o2]||0}parseDialect(o2){let i2=Object.keys(this.dialects),a2=i2.map(()=>!1);if(o2)for(let s3 of o2.split(" ")){let o3=i2.indexOf(s3);o3>=0&&(a2[o3]=!0)}let s2=null;for(let o3=0;o3<i2.length;o3++)if(!a2[o3])for(let a3,u2=this.dialects[i2[o3]];(a3=this.data[u2++])!=65535;)(s2||(s2=new Uint8Array(this.maxTerm+1)))[a3]=1;return new Dialect(o2,a2,s2)}static deserialize(o2){return new _LRParser(o2)}};__name(_LRParser,"LRParser");let LRParser=_LRParser;function pair(o2,i2){return o2[i2]|o2[i2+1]<<16}__name(pair,"pair");function getSpecializer(o2){if(o2.external){let i2=o2.extend?1:0;return(a2,s2)=>o2.external(a2,s2)<<1|i2}return o2.get}__name(getSpecializer,"getSpecializer");const Oh=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288];var _a6;const wh=new(_a6=class{constructor(o2){this.start=o2.start,this.shift=o2.shift||id,this.reduce=o2.reduce||id,this.reuse=o2.reuse||id,this.hash=o2.hash||(()=>0),this.strict=o2.strict!==!1}},__name(_a6,"ContextTracker"),_a6)({start:!1,shift:__name((o2,i2)=>i2==5||i2==6||i2==319?o2:i2==320,"shift"),strict:!1}),Ph=new ExternalTokenizer((o2,i2)=>{let{next:a2}=o2;(a2==125||a2==-1||i2.context)&&o2.acceptToken(317)},{contextual:!0,fallback:!0}),Rh=new ExternalTokenizer((o2,i2)=>{let a2,{next:s2}=o2;Oh.indexOf(s2)>-1||(s2!=47||(a2=o2.peek(1))!=47&&a2!=42)&&(s2==125||s2==59||s2==-1||i2.context||o2.acceptToken(315))},{contextual:!0}),Dh=new ExternalTokenizer((o2,i2)=>{o2.next!=91||i2.context||o2.acceptToken(316)},{contextual:!0}),Ih=new ExternalTokenizer((o2,i2)=>{let{next:a2}=o2;if(a2==43||a2==45){if(o2.advance(),a2==o2.next){o2.advance();let a3=!i2.context&&i2.canShift(1);o2.acceptToken(a3?1:2)}}else a2==63&&o2.peek(1)==46&&(o2.advance(),o2.advance(),(o2.next<48||o2.next>57)&&o2.acceptToken(3))},{contextual:!0});function identifierChar(o2,i2){return o2>=65&&o2<=90||o2>=97&&o2<=122||o2==95||o2>=192||!i2&&o2>=48&&o2<=57}__name(identifierChar,"identifierChar");const _h=new ExternalTokenizer((o2,i2)=>{if(o2.next!=60||!i2.dialectEnabled(0)||(o2.advance(),o2.next==47))return;let a2=0;for(;Oh.indexOf(o2.next)>-1;)o2.advance(),a2++;if(identifierChar(o2.next,!0)){for(o2.advance(),a2++;identifierChar(o2.next,!1);)o2.advance(),a2++;for(;Oh.indexOf(o2.next)>-1;)o2.advance(),a2++;if(o2.next==44)return;for(let i3=0;;i3++){if(i3==7){if(!identifierChar(o2.next,!0))return;break}if(o2.next!="extends".charCodeAt(i3))break;o2.advance(),a2++}}o2.acceptToken(4,-a2)}),Qh=styleTags({"get set async static":Uu.modifier,"for while do if else switch try catch finally return throw break continue default case":Uu.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":Uu.operatorKeyword,"let var const using function class extends":Uu.definitionKeyword,"import export from":Uu.moduleKeyword,"with debugger new":Uu.keyword,TemplateString:Uu.special(Uu.string),super:Uu.atom,BooleanLiteral:Uu.bool,this:Uu.self,null:Uu.null,Star:Uu.modifier,VariableName:Uu.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":Uu.function(Uu.variableName),VariableDefinition:Uu.definition(Uu.variableName),Label:Uu.labelName,PropertyName:Uu.propertyName,PrivatePropertyName:Uu.special(Uu.propertyName),"CallExpression/MemberExpression/PropertyName":Uu.function(Uu.propertyName),"FunctionDeclaration/VariableDefinition":Uu.function(Uu.definition(Uu.variableName)),"ClassDeclaration/VariableDefinition":Uu.definition(Uu.className),"NewExpression/VariableName":Uu.className,PropertyDefinition:Uu.definition(Uu.propertyName),PrivatePropertyDefinition:Uu.definition(Uu.special(Uu.propertyName)),UpdateOp:Uu.updateOperator,"LineComment Hashbang":Uu.lineComment,BlockComment:Uu.blockComment,Number:Uu.number,String:Uu.string,Escape:Uu.escape,ArithOp:Uu.arithmeticOperator,LogicOp:Uu.logicOperator,BitOp:Uu.bitwiseOperator,CompareOp:Uu.compareOperator,RegExp:Uu.regexp,Equals:Uu.definitionOperator,Arrow:Uu.function(Uu.punctuation),": Spread":Uu.punctuation,"( )":Uu.paren,"[ ]":Uu.squareBracket,"{ }":Uu.brace,"InterpolationStart InterpolationEnd":Uu.special(Uu.brace),".":Uu.derefOperator,", ;":Uu.separator,"@":Uu.meta,TypeName:Uu.typeName,TypeDefinition:Uu.definition(Uu.typeName),"type enum interface implements namespace module declare":Uu.definitionKeyword,"abstract global Privacy readonly override":Uu.modifier,"is keyof unique infer asserts":Uu.operatorKeyword,JSXAttributeValue:Uu.attributeValue,JSXText:Uu.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":Uu.angleBracket,"JSXIdentifier JSXNameSpacedName":Uu.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":Uu.attributeName,"JSXBuiltin/JSXIdentifier":Uu.standard(Uu.tagName)}),Lh={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,for:474,of:483,while:486,with:490,do:494,if:498,else:500,switch:504,case:510,try:516,catch:520,finally:524,return:528,throw:532,break:536,continue:540,debugger:544},Fh={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},jh={__proto__:null,"<":193},Hh=LRParser.deserialize({version:14,states:"$EOQ%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Ik'#IkO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JqO6[Q!0MxO'#JrO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO7eQMhO'#F|O9[Q`O'#F{OOQ!0Lf'#Jr'#JrOOQ!0Lb'#Jq'#JqO9aQ`O'#GwOOQ['#K^'#K^O9lQ`O'#IXO9qQ!0LrO'#IYOOQ['#J_'#J_OOQ['#I^'#I^Q`QlOOQ`QlOOO9yQ!L^O'#DvO:QQlO'#EOO:XQlO'#EQO9gQ`O'#GsO:`QMhO'#CoO:nQ`O'#EnO:yQ`O'#EyO;OQMhO'#FeO;mQ`O'#GsOOQO'#K_'#K_O;rQ`O'#K_O<QQ`O'#G{O<QQ`O'#G|O<QQ`O'#HOO9gQ`O'#HRO<wQ`O'#HUO>`Q`O'#CeO>pQ`O'#HbO>xQ`O'#HhO>xQ`O'#HjO`QlO'#HlO>xQ`O'#HnO>xQ`O'#HqO>}Q`O'#HwO?SQ!0LsO'#H}O%[QlO'#IPO?_Q!0LsO'#IRO?jQ!0LsO'#ITO9qQ!0LrO'#IVO?uQ!0MxO'#CiO@wQpO'#DlQOQ`OOO%[QlO'#EQOA_Q`O'#ETO:`QMhO'#EnOAjQ`O'#EnOAuQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Ju'#JuO%[QlO'#JuOOQO'#Jx'#JxOOQO'#Ig'#IgOBuQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J|'#J|OCqQ!0MSO'#EgOC{QpO'#EWOOQO'#Jw'#JwODaQpO'#JxOEnQpO'#EWOC{QpO'#EgPE{O&2DjO'#CbPOOO)CD|)CD|OOOO'#I_'#I_OFWO#tO,59UOOQ!0Lh,59U,59UOOOO'#I`'#I`OFfO&jO,59UOFtQ!L^O'#DcOOOO'#Ib'#IbOF{O#@ItO,59{OOQ!0Lf,59{,59{OGZQlO'#IcOGnQ`O'#JsOImQ!fO'#JsO+}QlO'#JsOItQ`O,5:ROJ[Q`O'#EpOJiQ`O'#KSOJtQ`O'#KROJtQ`O'#KROJ|Q`O,5;^OKRQ`O'#KQOOQ!0Ln,5:^,5:^OKYQlO,5:^OMWQ!0MxO,5:fOMwQ`O,5:nONbQ!0LrO'#KPONiQ`O'#KOO9aQ`O'#KOON}Q`O'#KOO! VQ`O,5;]O! [Q`O'#KOO!#aQ!fO'#JrOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$PQ!fO,5:sOOQS'#Jy'#JyOOQO-E<i-E<iO9gQ`O,5=_O!$gQ`O,5=_O!$lQlO,5;ZO!&oQMhO'#EkO!(YQ`O,5;ZO!(_QlO'#DyO!(iQpO,5;dO!(qQpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)PQlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IoO!+SQ!0LrO,5<iO%[QlO,5;eO!&oQMhO,5;eO!+qQMhO,5;eO!-cQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-jQ,UO'#FjO!.gQ,UO'#KWO!.RQ,UO'#KWO!.nQ,UO'#KWOOQO'#KW'#KWO!/SQ,UO,5<SOOOW,5<`,5<`O!/eQlO'#FvOOOW'#In'#InO7VO7dO,5<QO!/lQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0]Q$IUO'#CyOOQ!0Lh'#C}'#C}O!0pO#@ItO'#DRO!1^QMjO,5<eO!1eQ`O,5<hO!3QQ(CWO'#GXO!3_Q`O'#GYO!3dQ`O'#GYO!5SQ(CWO'#G^O!6XQpO'#GbOOQO'#Gn'#GnO!+xQMhO'#GmOOQO'#Gp'#GpO!+xQMhO'#GoO!6zQ$IUO'#JkOOQ!0Lh'#Jk'#JkO!7UQ`O'#JjO!7dQ`O'#JiO!7lQ`O'#CuOOQ!0Lh'#C{'#C{O!7}Q`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO1SQ`O'#DZO!+xQMhO'#GPO!+xQMhO'#GRO!8SQ`O'#GTO!8XQ`O'#GUO!3dQ`O'#G[O!+xQMhO'#GaO<QQ`O'#JjO!8^Q`O'#EqO!8{Q`O,5<gOOQ!0Lb'#Cr'#CrO!9TQ`O'#ErO!9}QpO'#EsOOQ!0Lb'#KQ'#KQO!:UQ!0LrO'#K`O9qQ!0LrO,5=cO`QlO,5>sOOQ['#Jg'#JgOOQ[,5>t,5>tOOQ[-E<[-E<[O!<TQ!0MxO,5:bO!9xQpO,5:`O!>nQ!0MxO,5:jO%[QlO,5:jO!AUQ!0MxO,5:lOOQO,5@y,5@yO!AuQMhO,5=_O!BTQ!0LrO'#JhO9[Q`O'#JhO!BfQ!0LrO,59ZO!BqQpO,59ZO!ByQMhO,59ZO:`QMhO,59ZO!CUQ`O,5;ZO!C^Q`O'#HaO!CrQ`O'#KcO%[QlO,5;}O!9xQpO,5<PO!CzQ`O,5=zO!DPQ`O,5=zO!DUQ`O,5=zO9qQ!0LrO,5=zO<QQ`O,5=jOOQO'#Cy'#CyO!DdQpO,5=gO!DlQMhO,5=hO!DwQ`O,5=jO!D|Q!bO,5=mO!EUQ`O'#K_O>}Q`O'#HWO9gQ`O'#HYO!EZQ`O'#HYO:`QMhO'#H[O!E`Q`O'#H[OOQ[,5=p,5=pO!EeQ`O'#H]O!EvQ`O'#CoO!E{Q`O,59PO!FVQ`O,59PO!H[QlO,59POOQ[,59P,59PO!HlQ!0LrO,59PO%[QlO,59PO!JwQlO'#HdOOQ['#He'#HeOOQ['#Hf'#HfO`QlO,5=|O!K_Q`O,5=|O`QlO,5>SO`QlO,5>UO!KdQ`O,5>WO`QlO,5>YO!KiQ`O,5>]O!KnQlO,5>cOOQ[,5>i,5>iO%[QlO,5>iO9qQ!0LrO,5>kOOQ[,5>m,5>mO# xQ`O,5>mOOQ[,5>o,5>oO# xQ`O,5>oOOQ[,5>q,5>qO#!fQpO'#D_O%[QlO'#JuO##XQpO'#JuO##cQpO'#DmO##tQpO'#DmO#&VQlO'#DmO#&^Q`O'#JtO#&fQ`O,5:WO#&kQ`O'#EtO#&yQ`O'#KTO#'RQ`O,5;_O#'WQpO'#DmO#'eQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#'lQ`O,5:oO>}Q`O,5;YO!BqQpO,5;YO!ByQMhO,5;YO:`QMhO,5;YO#'tQ`O,5@aO#'yQ07dO,5:sOOQO-E<e-E<eO#)PQ!0MSO,5;ROC{QpO,5:rO#)ZQpO,5:rOC{QpO,5;RO!BfQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#)hQ!0LrO,5;RO#)sQ!0LrO,5;RO!BqQpO,5:rOOQO,5;X,5;XO#*RQ!0LrO,5;RPOOO'#I]'#I]P#*gO&2DjO,58|POOO,58|,58|OOOO-E<]-E<]OOQ!0Lh1G.p1G.pOOOO-E<^-E<^OOOO,59},59}O#*rQ!bO,59}OOOO-E<`-E<`OOQ!0Lf1G/g1G/gO#*wQ!fO,5>}O+}QlO,5>}OOQO,5?T,5?TO#+RQlO'#IcOOQO-E<a-E<aO#+`Q`O,5@_O#+hQ!fO,5@_O#+oQ`O,5@mOOQ!0Lf1G/m1G/mO%[QlO,5@nO#+wQ`O'#IiOOQO-E<g-E<gO#+oQ`O,5@mOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@kO#,]Q!0LrO,5@kO#,nQ!0LrO,5@kO#,uQ`O,5@jO9aQ`O,5@jO#,}Q`O,5@jO#-]Q`O'#IlO#,uQ`O,5@jOOQ!0Lb1G0w1G0wO!(iQpO,5:uO!(tQpO,5:uOOQS,5:w,5:wO#-}QdO,5:wO#.VQMhO1G2yO9gQ`O1G2yOOQ!0Lf1G0u1G0uO#.eQ!0MxO1G0uO#/jQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0WQ!0MzO'#JkO!$lQlO1G0uO#2cQ!fO'#JvO%[QlO'#JvO#2mQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#2rQ`O1G1OO#5WQ!0MxO1G1PO#5_Q!0MxO1G1PO#7uQ!0MxO1G1PO#7|Q!0MxO1G1PO#:dQ!0MxO1G1PO#<zQ!0MxO1G1PO#=RQ!0MxO1G1PO#=YQ!0MxO1G1PO#?pQ!0MxO1G1PO#?wQ!0MxO1G1PO#BUQ?MtO'#CiO#DPQ?MtO1G1`O#DWQ?MtO'#JrO#DkQ!0MxO,5?ZOOQ!0Lb-E<m-E<mO#FxQ!0MxO1G1PO#GuQ!0MzO1G1POOQ!0Lf1G1P1G1PO#HxQMjO'#J{O#ISQ`O,5:xO#IXQ!0MxO1G1cO#I{Q,UO,5<WO#JTQ,UO,5<XO#J]Q,UO'#FoO#JtQ`O'#FnOOQO'#KX'#KXOOQO'#Im'#ImO#JyQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#K[Q?MtO'#JqO#KfQ`O,5<bO!)PQlO,5<bOOOW-E<l-E<lOOQ!0Lf1G1l1G1lO#KkQpO'#KWOOQ!0Lf,5<d,5<dO#KsQpO,5<dO#KxQMhO'#DTOOOO'#Ia'#IaO#LPO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8XQ`O'#IqO#L[Q`O,5<zOOQ!0Lh,5<w,5<wO!+xQMhO'#ItO#LxQMjO,5=XO!+xQMhO'#IvO#MkQMjO,5=ZO!&oQMhO,5=]OOQO1G2S1G2SO#MuQ!dO'#CrO#NYQ(CWO'#ErO$ _QpO'#GbO$ uQ!dO,5<sO$ |Q`O'#KZO9aQ`O'#KZO$![Q`O,5<uO!+xQMhO,5<tO$!aQ`O'#GZO$!rQ`O,5<tO$!wQ!dO'#GWO$#UQ!dO'#K[O$#`Q`O'#K[O!&oQMhO'#K[O$#eQ`O,5<xO$#jQlO'#JuO$#tQpO'#GcO##tQpO'#GcO$$VQ`O'#GgO!3dQ`O'#GkO$$[Q!0LrO'#IsO$$gQpO,5<|OOQ!0Lp,5<|,5<|O$$nQpO'#GcO$${QpO'#GdO$%^QpO'#GdO$%cQMjO,5=XO$%sQMjO,5=ZOOQ!0Lh,5=^,5=^O!+xQMhO,5@UO!+xQMhO,5@UO$&TQ`O'#IxO$&iQ`O,5@TO$&qQ`O,59aOOQ!0Lh,59i,59iO$'hQ$IYO,59uOOQ!0Lh'#Jo'#JoO$(ZQMjO,5<kO$(|QMjO,5<mO@oQ`O,5<oOOQ!0Lh,5<p,5<pO$)WQ`O,5<vO$)]QMjO,5<{O$)mQ`O,5@UO$){Q`O'#KOO!$lQlO1G2RO$*QQ`O1G2RO9aQ`O'#KRO9aQ`O'#EtO%[QlO'#EtO9aQ`O'#IzO$*VQ!0LrO,5@zOOQ[1G2}1G2}OOQ[1G4_1G4_OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$,XQ!0MxO1G0UOOQ[1G2y1G2yO!&oQMhO1G2yO%[QlO1G2yO#.YQ`O1G2yO$.]QMhO'#EkOOQ!0Lb,5@S,5@SO$.jQ!0LrO,5@SOOQ[1G.u1G.uO!BfQ!0LrO1G.uO!BqQpO1G.uO!ByQMhO1G.uO$.{Q`O1G0uO$/QQ`O'#CiO$/]Q`O'#KdO$/eQ`O,5={O$/jQ`O'#KdO$/oQ`O'#KdO$/}Q`O'#JQO$0]Q`O,5@}O$0eQ!fO1G1iOOQ!0Lf1G1k1G1kO9gQ`O1G3fO@oQ`O1G3fO$0lQ`O1G3fO$0qQ`O1G3fOOQ[1G3f1G3fO!DwQ`O1G3UO!&oQMhO1G3RO$0vQ`O1G3ROOQ[1G3S1G3SO!&oQMhO1G3SO$0{Q`O1G3SO$1TQpO'#HQOOQ[1G3U1G3UO!6SQpO'#I|O!D|Q!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$1]QMhO,5=tO9gQ`O,5=tO$$VQ`O,5=vO9[Q`O,5=vO!BqQpO,5=vO!ByQMhO,5=vO:`QMhO,5=vO$1kQ`O'#KbO$1vQ`O,5=wOOQ[1G.k1G.kO$1{Q!0LrO1G.kO@oQ`O1G.kO$2WQ`O1G.kO9qQ!0LrO1G.kO$4`Q!fO,5APO$4mQ`O,5APO9aQ`O,5APO$4xQlO,5>OO$5PQ`O,5>OOOQ[1G3h1G3hO`QlO1G3hOOQ[1G3n1G3nOOQ[1G3p1G3pO>xQ`O1G3rO$5UQlO1G3tO$9YQlO'#HsOOQ[1G3w1G3wO$9gQ`O'#HyO>}Q`O'#H{OOQ[1G3}1G3}O$9oQlO1G3}O9qQ!0LrO1G4TOOQ[1G4V1G4VOOQ!0Lb'#G_'#G_O9qQ!0LrO1G4XO9qQ!0LrO1G4ZO$=vQ`O,5@aO!)PQlO,5;`O9aQ`O,5;`O>}Q`O,5:XO!)PQlO,5:XO!BqQpO,5:XO$={Q?MtO,5:XOOQO,5;`,5;`O$>VQpO'#IdO$>mQ`O,5@`OOQ!0Lf1G/r1G/rO$>uQpO'#IjO$?PQ`O,5@oOOQ!0Lb1G0y1G0yO##tQpO,5:XOOQO'#If'#IfO$?XQpO,5:qOOQ!0Ln,5:q,5:qO#'oQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO>}Q`O1G0tO!BqQpO1G0tO!ByQMhO1G0tOOQ!0Lb1G5{1G5{O!BfQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$?`Q!0LrO1G0mO$?kQ!0LrO1G0mO!BqQpO1G0^OC{QpO1G0^O$?yQ!0LrO1G0mOOQO1G0^1G0^O$@_Q!0MxO1G0mPOOO-E<Z-E<ZPOOO1G.h1G.hOOOO1G/i1G/iO$@iQ!bO,5<iO$@qQ!fO1G4iOOQO1G4o1G4oO%[QlO,5>}O$@{Q`O1G5yO$ATQ`O1G6XO$A]Q!fO1G6YO9aQ`O,5?TO$AgQ!0MxO1G6VO%[QlO1G6VO$AwQ!0LrO1G6VO$BYQ`O1G6UO$BYQ`O1G6UO9aQ`O1G6UO$BbQ`O,5?WO9aQ`O,5?WOOQO,5?W,5?WO$BvQ`O,5?WO$){Q`O,5?WOOQO-E<j-E<jOOQS1G0a1G0aOOQS1G0c1G0cO#.QQ`O1G0cOOQ[7+(e7+(eO!&oQMhO7+(eO%[QlO7+(eO$CUQ`O7+(eO$CaQMhO7+(eO$CoQ!0MzO,5=XO$EzQ!0MzO,5=ZO$HVQ!0MzO,5=XO$JhQ!0MzO,5=ZO$LyQ!0MzO,59uO% OQ!0MzO,5<kO%#ZQ!0MzO,5<mO%%fQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%'wQ!0MxO7+&aO%(kQlO'#IeO%(xQ`O,5@bO%)QQ!fO,5@bOOQ!0Lf1G0P1G0PO%)[Q`O7+&jOOQ!0Lf7+&j7+&jO%)aQ?MtO,5:fO%[QlO7+&zO%)kQ?MtO,5:bO%)xQ?MtO,5:jO%*SQ?MtO,5:lO%*^QMhO'#IhO%*hQ`O,5@gOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%*pQ!jO,5<ZO!)PQlO,5<YOOQO-E<k-E<kOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%*{Q`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%+QQ!dO,59oOOOO-E<_-E<_OOQ!0Lh1G/X1G/XO%+XQ!0MxO7+'kOOQ!0Lh,5?],5?]O%+{QMhO1G2fP%,SQ`O'#IqPOQ!0Lh-E<o-E<oO%,pQMjO,5?`OOQ!0Lh-E<r-E<rO%-cQMjO,5?bOOQ!0Lh-E<t-E<tO%-mQ!dO1G2wO%-tQ!dO'#CrO%.[QMhO'#KRO$#jQlO'#JuOOQ!0Lh1G2_1G2_O%.cQ`O'#IpO%.wQ`O,5@uO%.wQ`O,5@uO%/PQ`O,5@uO%/[Q`O,5@uOOQO1G2a1G2aO%/jQMjO1G2`O!+xQMhO1G2`O%/zQ(CWO'#IrO%0XQ`O,5@vO!&oQMhO,5@vO%0aQ!dO,5@vOOQ!0Lh1G2d1G2dO%2qQ!fO'#CiO%2{Q`O,5=POOQ!0Lb,5<},5<}O%3TQpO,5<}OOQ!0Lb,5=O,5=OOClQ`O,5<}O%3`QpO,5<}OOQ!0Lb,5=R,5=RO$){Q`O,5=VOOQO,5?_,5?_OOQO-E<q-E<qOOQ!0Lp1G2h1G2hO##tQpO,5<}O$#jQlO,5=PO%3nQ`O,5=OO%3yQpO,5=OO!+xQMhO'#ItO%4sQMjO1G2sO!+xQMhO'#IvO%5fQMjO1G2uO%5pQMjO1G5pO%5zQMjO1G5pOOQO,5?d,5?dOOQO-E<v-E<vOOQO1G.{1G.{O!9xQpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%6XQ`O1G2ZO!+xQMhO1G2bO!+xQMhO1G5pO!+xQMhO1G5pO%6^Q!0MxO7+'mOOQ!0Lf7+'m7+'mO!$lQlO7+'mO%7QQ`O,5;`OOQ!0Lb,5?f,5?fOOQ!0Lb-E<x-E<xO%7VQ!dO'#K]O#'oQ`O7+(eO4UQ!fO7+(eO$CXQ`O7+(eO%7aQ!0MvO'#CiO%7tQ!0MvO,5=SO%8fQ`O,5=SO%8nQ`O,5=SOOQ!0Lb1G5n1G5nOOQ[7+$a7+$aO!BfQ!0LrO7+$aO!BqQpO7+$aO!$lQlO7+&aO%8sQ`O'#JPO%9[Q`O,5AOOOQO1G3g1G3gO9gQ`O,5AOO%9[Q`O,5AOO%9dQ`O,5AOOOQO,5?l,5?lOOQO-E=O-E=OOOQ!0Lf7+'T7+'TO%9iQ`O7+)QO9qQ!0LrO7+)QO9gQ`O7+)QO@oQ`O7+)QOOQ[7+(p7+(pO%9nQ!0MvO7+(mO!&oQMhO7+(mO!DrQ`O7+(nOOQ[7+(n7+(nO!&oQMhO7+(nO%9xQ`O'#KaO%:TQ`O,5=lOOQO,5?h,5?hOOQO-E<z-E<zOOQ[7+(s7+(sO%;gQpO'#HZOOQ[1G3`1G3`O!&oQMhO1G3`O%[QlO1G3`O%;nQ`O1G3`O%;yQMhO1G3`O9qQ!0LrO1G3bO$$VQ`O1G3bO9[Q`O1G3bO!BqQpO1G3bO!ByQMhO1G3bO%<XQ`O'#JOO%<mQ`O,5@|O%<uQpO,5@|OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@oQ`O7+$VO9qQ!0LrO7+$VO%=QQ`O7+$VO%[QlO1G6kO%[QlO1G6lO%=VQ!0LrO1G6kO%=aQlO1G3jO%=hQ`O1G3jO%=mQlO1G3jOOQ[7+)S7+)SO9qQ!0LrO7+)^O`QlO7+)`OOQ['#Kg'#KgOOQ['#JR'#JRO%=tQlO,5>_OOQ[,5>_,5>_O%[QlO'#HtO%>RQ`O'#HvOOQ[,5>e,5>eO9aQ`O,5>eOOQ[,5>g,5>gOOQ[7+)i7+)iOOQ[7+)o7+)oOOQ[7+)s7+)sOOQ[7+)u7+)uO%>WQpO1G5{O%>rQ?MtO1G0zO%>|Q`O1G0zOOQO1G/s1G/sO%?XQ?MtO1G/sO>}Q`O1G/sO!)PQlO'#DmOOQO,5?O,5?OOOQO-E<b-E<bOOQO,5?U,5?UOOQO-E<h-E<hO!BqQpO1G/sOOQO-E<d-E<dOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#'oQ`O7+%uOOQ!0Lf7+&`7+&`O>}Q`O7+&`O!BqQpO7+&`OOQO7+%x7+%xO$@_Q!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%?cQ!0LrO7+&XO!BfQ!0LrO7+%xO!BqQpO7+%xO%?nQ!0LrO7+&XO%?|Q!0MxO7++qO%[QlO7++qO%@^Q`O7++pO%@^Q`O7++pOOQO1G4r1G4rO9aQ`O1G4rO%@fQ`O1G4rOOQS7+%}7+%}O#'oQ`O<<LPO4UQ!fO<<LPO%@tQ`O<<LPOOQ[<<LP<<LPO!&oQMhO<<LPO%[QlO<<LPO%@|Q`O<<LPO%AXQ!0MzO,5?`O%CdQ!0MzO,5?bO%EoQ!0MzO1G2`O%HQQ!0MzO1G2sO%J]Q!0MzO1G2uO%LhQ!fO,5?PO%[QlO,5?POOQO-E<c-E<cO%LrQ`O1G5|OOQ!0Lf<<JU<<JUO%LzQ?MtO1G0uO& RQ?MtO1G1PO& YQ?MtO1G1PO&#ZQ?MtO1G1PO&#bQ?MtO1G1PO&%cQ?MtO1G1PO&'dQ?MtO1G1PO&'kQ?MtO1G1PO&'rQ?MtO1G1PO&)sQ?MtO1G1PO&)zQ?MtO1G1PO&*RQ!0MxO<<JfO&+yQ?MtO1G1PO&,vQ?MvO1G1PO&-yQ?MvO'#JkO&0PQ?MtO1G1cO&0^Q?MtO1G0UO&0hQMjO,5?SOOQO-E<f-E<fO!)PQlO'#FqOOQO'#KY'#KYOOQO1G1u1G1uO&0rQ`O1G1tO&0wQ?MtO,5?ZOOOW7+'h7+'hOOOO1G/Z1G/ZO&1RQ!dO1G4wOOQ!0Lh7+(Q7+(QP!&oQMhO,5?]O!+xQMhO7+(cO&1YQ`O,5?[O9aQ`O,5?[OOQO-E<n-E<nO&1hQ`O1G6aO&1hQ`O1G6aO&1pQ`O1G6aO&1{QMjO7+'zO&2]Q!dO,5?^O&2gQ`O,5?^O!&oQMhO,5?^OOQO-E<p-E<pO&2lQ!dO1G6bO&2vQ`O1G6bO&3OQ`O1G2kO!&oQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%3TQpO1G2iO!BqQpO1G2iOClQ`O1G2iOOQ!0Lb1G2q1G2qO&3TQpO1G2iO&3cQ`O1G2kO$){Q`O1G2jOClQ`O1G2jO$#jQlO1G2kO&3kQ`O1G2jO&4_QMjO,5?`OOQ!0Lh-E<s-E<sO&5QQMjO,5?bOOQ!0Lh-E<u-E<uO!+xQMhO7++[OOQ!0Lh1G/c1G/cO&5[Q`O1G/cOOQ!0Lh7+'u7+'uO&5aQMjO7+'|O&5qQMjO7++[O&5{QMjO7++[O&6YQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&6|Q`O1G0zO!&oQMhO'#IyO&7RQ`O,5@wO&9TQ!fO<<LPO!&oQMhO1G2nO&9[Q!0LrO1G2nOOQ[<<G{<<G{O!BfQ!0LrO<<G{O&9mQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?k,5?kO&:aQ`O,5?kO&:fQ`O,5?kOOQO-E<}-E<}O&:tQ`O1G6jO&:tQ`O1G6jO9gQ`O1G6jO@oQ`O<<LlOOQ[<<Ll<<LlO&:|Q`O<<LlO9qQ!0LrO<<LlOOQ[<<LX<<LXO%9nQ!0MvO<<LXOOQ[<<LY<<LYO!DrQ`O<<LYO&;RQpO'#I{O&;^Q`O,5@{O!)PQlO,5@{OOQ[1G3W1G3WOOQO'#I}'#I}O9qQ!0LrO'#I}O&;fQpO,5=uOOQ[,5=u,5=uO&;mQpO'#EgO&;tQpO'#GeO&;yQ`O7+(zO&<OQ`O7+(zOOQ[7+(z7+(zO!&oQMhO7+(zO%[QlO7+(zO&<WQ`O7+(zOOQ[7+(|7+(|O9qQ!0LrO7+(|O$$VQ`O7+(|O9[Q`O7+(|O!BqQpO7+(|O&<cQ`O,5?jOOQO-E<|-E<|OOQO'#H^'#H^O&<nQ`O1G6hO9qQ!0LrO<<GqOOQ[<<Gq<<GqO@oQ`O<<GqO&<vQ`O7+,VO&<{Q`O7+,WO%[QlO7+,VO%[QlO7+,WOOQ[7+)U7+)UO&=QQ`O7+)UO&=VQlO7+)UO&=^Q`O7+)UOOQ[<<Lx<<LxOOQ[<<Lz<<LzOOQ[-E=P-E=POOQ[1G3y1G3yO&=cQ`O,5>`OOQ[,5>b,5>bO&=hQ`O1G4PO9aQ`O7+&fO!)PQlO7+&fOOQO7+%_7+%_O&=mQ?MtO1G6YO>}Q`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO>}Q`O<<IzOOQO<<Is<<IsO$@_Q!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!BfQ!0LrO<<IdO&=wQ!0LrO<<IsO&>SQ!0MxO<= ]O&>dQ`O<= [OOQO7+*^7+*^O9aQ`O7+*^OOQ[ANAkANAkO&>lQ!fOANAkO!&oQMhOANAkO#'oQ`OANAkO4UQ!fOANAkO&>sQ`OANAkO%[QlOANAkO&>{Q!0MzO7+'zO&A^Q!0MzO,5?`O&CiQ!0MzO,5?bO&EtQ!0MzO7+'|O&HVQ!fO1G4kO&HaQ?MtO7+&aO&JeQ?MvO,5=XO&LlQ?MvO,5=ZO&L|Q?MvO,5=XO&M^Q?MvO,5=ZO&MnQ?MvO,59uO' tQ?MvO,5<kO'#wQ?MvO,5<mO'&]Q?MvO,5<{O'(RQ?MtO7+'kO'(`Q?MtO7+'mO'(mQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*c7+*cO'(rQMjO<<K}OOQO1G4v1G4vO'(yQ`O1G4vO')UQ`O1G4vO')dQ`O7++{O')dQ`O7++{O!&oQMhO1G4xO')lQ!dO1G4xO')vQ`O7++|O'*OQ`O7+(VO'*ZQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!BqQpO7+(TOClQ`O7+(TO'*eQ`O7+(VO!&oQMhO7+(VO$){Q`O7+(UO'*jQ`O7+(VOClQ`O7+(UO'*rQMjO<<NvOOQ!0Lh7+$}7+$}O!+xQMhO<<NvO'*|Q!dO,5?eOOQO-E<w-E<wO'+WQ!0MvO7+(YO!&oQMhO7+(YOOQ[AN=gAN=gO9gQ`O1G5VOOQO1G5V1G5VO'+hQ`O1G5VO'+mQ`O7+,UO'+mQ`O7+,UO9qQ!0LrOANBWO@oQ`OANBWOOQ[ANBWANBWOOQ[ANAsANAsOOQ[ANAtANAtO'+uQ`O,5?gOOQO-E<y-E<yO',QQ?MtO1G6gOOQO,5?i,5?iOOQO-E<{-E<{OOQ[1G3a1G3aO',[Q`O,5=POOQ[<<Lf<<LfO!&oQMhO<<LfO&;yQ`O<<LfO',aQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9qQ!0LrO<<LhO$$VQ`O<<LhO9[Q`O<<LhO',iQpO1G5UO',tQ`O7+,SOOQ[AN=]AN=]O9qQ!0LrOAN=]OOQ[<= q<= qOOQ[<= r<= rO',|Q`O<= qO'-RQ`O<= rOOQ[<<Lp<<LpO'-WQ`O<<LpO'-]QlO<<LpOOQ[1G3z1G3zO>}Q`O7+)kO'-dQ`O<<JQO'-oQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$@_Q!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<Mx<<MxOOQ[G27VG27VO!&oQMhOG27VO#'oQ`OG27VO'-yQ!fOG27VO4UQ!fOG27VO'.QQ`OG27VO'.YQ?MtO<<JfO'.gQ?MvO1G2`O'0]Q?MvO,5?`O'2`Q?MvO,5?bO'4cQ?MvO1G2sO'6fQ?MvO1G2uO'8iQ?MtO<<KXO'8vQ?MtO<<I{OOQO1G1w1G1wO!+xQMhOANAiOOQO7+*b7+*bO'9TQ`O7+*bO'9`Q`O<= gO'9hQ!dO7+*dOOQ!0Lb<<Kq<<KqO$){Q`O<<KqOClQ`O<<KqO'9rQ`O<<KqO!&oQMhO<<KqOOQ!0Lb<<Ko<<KoO!BqQpO<<KoO'9}Q!dO<<KqOOQ!0Lb<<Kp<<KpO':XQ`O<<KqO!&oQMhO<<KqO$){Q`O<<KpO':^QMjOANDbO':hQ!0MvO<<KtOOQO7+*q7+*qO9gQ`O7+*qO':xQ`O<= pOOQ[G27rG27rO9qQ!0LrOG27rO!)PQlO1G5RO';QQ`O7+,RO';YQ`O1G2kO&;yQ`OANBQOOQ[ANBQANBQO!&oQMhOANBQO';_Q`OANBQOOQ[ANBSANBSO9qQ!0LrOANBSO$$VQ`OANBSOOQO'#H_'#H_OOQO7+*p7+*pOOQ[G22wG22wOOQ[ANE]ANE]OOQ[ANE^ANE^OOQ[ANB[ANB[O';gQ`OANB[OOQ[<<MV<<MVO!)PQlOAN?lOOQOG24yG24yO$@_Q!0MxOG24yO#'oQ`OLD,qOOQ[LD,qLD,qO!&oQMhOLD,qO';lQ!fOLD,qO';sQ?MvO7+'zO'=iQ?MvO,5?`O'?lQ?MvO,5?bO'AoQ?MvO7+'|O'CeQMjOG27TOOQO<<M|<<M|OOQ!0LbANA]ANA]O$){Q`OANA]OClQ`OANA]O'CuQ!dOANA]OOQ!0LbANAZANAZO'C|Q`OANA]O!&oQMhOANA]O'DXQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N]<<N]OOQ[LD-^LD-^O'DcQ?MtO7+*mOOQO'#Gf'#GfOOQ[G27lG27lO&;yQ`OG27lO!&oQMhOG27lOOQ[G27nG27nO9qQ!0LrOG27nOOQ[G27vG27vO'DmQ?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#'oQ`O!$(!]O!&oQMhO!$(!]O'DwQ!0MzOG27TOOQ!0LbG26wG26wO$){Q`OG26wO'GYQ`OG26wOClQ`OG26wO'GeQ!dOG26wO!&oQMhOG26wOOQ[LD-WLD-WO&;yQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#'oQ`O!)9EwOOQ!0LbLD,cLD,cO$){Q`OLD,cOClQ`OLD,cO'GlQ`OLD,cO'GwQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'HOQ?MvOG27TOOQ!0Lb!$( }!$( }O$){Q`O!$( }OClQ`O!$( }O'ItQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$){Q`O!)9EiOClQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$){Q`O!.K;TOOQ!0Lb!4/0o!4/0oO!)PQlO'#DzO1PQ`O'#EXO'JPQ!fO'#JqO'JWQ!L^O'#DvO'J_QlO'#EOO'JfQ!fO'#CiO'L|Q!fO'#CiO!)PQlO'#EQO'M^QlO,5;ZO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO,5;eO!)PQlO'#IoO( aQ`O,5<iO!)PQlO,5;eO( iQMhO,5;eO(#SQMhO,5;eO!)PQlO,5;wO!&oQMhO'#GmO( iQMhO'#GmO!&oQMhO'#GoO( iQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&oQMhO'#GPO( iQMhO'#GPO!&oQMhO'#GRO( iQMhO'#GRO!&oQMhO'#GaO( iQMhO'#GaO!)PQlO,5:jO(#ZQpO'#D_O(#eQpO'#JuO!)PQlO,5@nO'M^QlO1G0uO(#oQ?MtO'#CiO!)PQlO1G2PO!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO(#yQ!dO'#CrO!&oQMhO,5<tO( iQMhO,5<tO'M^QlO1G2RO!)PQlO7+&zO!&oQMhO1G2`O( iQMhO1G2`O!&oQMhO'#ItO( iQMhO'#ItO!&oQMhO'#IvO( iQMhO'#IvO!&oQMhO1G2bO( iQMhO1G2bO'M^QlO7+'mO'M^QlO7+&aO!&oQMhOANAiO( iQMhOANAiO($^Q`O'#EoO($cQ`O'#EoO($kQ`O'#F]O($pQ`O'#EyO($uQ`O'#KSO(%QQ`O'#KQO(%]Q`O,5;ZO(%bQMjO,5<eO(%iQ`O'#GYO(%nQ`O'#GYO(%sQ`O,5<gO(%{Q`O,5;ZO(&TQ?MtO1G1`O(&[Q`O,5<tO(&aQ`O,5<tO(&fQ`O,5<vO(&kQ`O,5<vO(&pQ`O1G2RO(&uQ`O1G0uO(&zQMjO<<K}O('RQMjO<<K}O7eQMhO'#F|O9[Q`O'#F{OAjQ`O'#EnO!)PQlO,5;tO!3dQ`O'#GYO!3dQ`O'#GYO!3dQ`O'#G[O!3dQ`O'#G[O!+xQMhO7+(cO!+xQMhO7+(cO%-mQ!dO1G2wO%-mQ!dO1G2wO!&oQMhO,5=]O!&oQMhO,5=]",stateData:"((X~O'{OS'|OSTOS'}RQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&V!WO&]!XO&_!YO&a!ZO&c![O&f!]O&l!^O&r!_O&t!`O&v!aO&x!bO&z!cO(SSO(UTO(XUO(`VO(n[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O'}!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'y]X(`]X(q]X(x]X(y]X~O!g%RX~P(qO_!}O(U#PO(V!}O(W#PO~O_#QO(W#PO(X#PO(Y#QO~Ox#SO!U#TO(a#TO(b#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S;{O(UTO(XUO(`VO(n[O~O![#ZO!]#WO!Y(gP!Y(uP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(UTO(XUO(`VO(n[O~Op#mO![#iO!|]O#i#lO#j#iO(S;|O!k(rP~P.iO!l#oO(S#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa(eX'y(eX'v(eX!k(eX!Y(eX!_(eX%i(eX!g(eX~P1qO#S$dO#`$eO$Q$eOP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX!_(fX%i(fX~Oa(fX'y(fX'v(fX!Y(fX!k(fXv(fX!g(fX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%cOk%cOl%cOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S$sO(UTO(XUO(`$uO(x$}O(y%POg(]P~O!l%dO~O!S%gO!_%hO(S%fO~O!g%lO~Oa%mO'y%mO~O!Q%qO~P%[O(T!lO~P%[O%n%uO~P%[Oh%VO!l%dO(S%fO(T!lO~Oe%|O!l%dO(S%fO~Oj$RO~O!Q&RO!_&OO!l&QO%j&UO(S%fO(T!lO(UTO(XUO`)VP~O!x#sO~O%s&WO!S)RX!_)RX(S)RX~O(S&XO~Ol!PO!u&^O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&cOe&bO!x&`O%h&aO%{&_O~P<VOd&fOeyOl!PO!_&eO!u&^O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&iO#`&lO%j&gO(T!lO~P=[O!l&mO!u&qO~O!l#oO~O!_XO~Oa%mO'w&yO'y%mO~Oa%mO'w&|O'y%mO~Oa%mO'w'OO'y%mO~O'v]X!Y]Xv]X!k]X&Z]X!_]X%i]X!g]X~P(qO!b']O!c'UO!d'UO(T!lO(UTO(XUO~Os'SO!S'RO!['VO(d'QO!^(hP!^(wP~P@cOn'`O!_'^O(S%fO~Oe'eO!l%dO(S%fO~O!Q&RO!l&QO~Os!nO!S!oO!|;wO#T!pO#U!pO#W!pO#X!pO(T!lO(UTO(XUO(d!mO(n!sO~O!b'kO!c'jO!d'jO#V!pO#['lO#]'lO~PA}Oa%mOh%VO!g#vO!l%dO'y%mO(q'nO~O!p'rO#`'pO~PC]Os!nO!S!oO(UTO(XUO(d!mO(n!sO~O!_XOs(lX!S(lX!b(lX!c(lX!d(lX!|(lX#T(lX#U(lX#V(lX#W(lX#X(lX#[(lX#](lX(T(lX(U(lX(X(lX(d(lX(n(lX~O!c'jO!d'jO(T!lO~PC{O(O'vO(P'vO(Q'xO~O_!}O(U'zO(V!}O(W'zO~O_#QO(W'zO(X'zO(Y#QO~Ov'|O~P%[Ox#SO!U#TO(a#TO(b(PO~O![(RO!Y'VX!Y']X!]'VX!]']X~P+}O!](TO!Y(gX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](TO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~O!Y(gX~PGvO!Y(YO~O!Y(tX!](tX!g(tX!k(tX(q(tX~O#`(tX#k#dX!^(tX~PIyO#`(ZO!Y(vX!](vX~O!]([O!Y(uX~O!Y(_O~O#`$eO~PIyO!^(`O~P`OR#zO!Q#yO!S#{O!l#xO(`VOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(q!na(x!na(y!na~Oa!na'y!na'v!na!Y!na!k!nav!na!_!na%i!na!g!na~PKaO!k(aO~O!g#vO#`(bO(q'nO!](sXa(sX'y(sX~O!k(sX~PM|O!S%gO!_%hO!|]O#i(gO#j(fO(S%fO~O!](hO!k(rX~O!k(jO~O!S%gO!_%hO#j(fO(S%fO~OP(fXR(fX[(fXj(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~O!g#vO!k(fX~P! jOR(lO!Q(kO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(S!{a~P!#kO!x(pO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~O#k(vO~O![(xO!k(jP~P%[O(d(zO(n[O~O!S(|O!l#xO(d(zO(n[O~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]$_Oa$qa'y$qa'v$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)bO~P!&oOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%[O!S${O!_$|O!i%aO!l$xO#j%bO$W%_O$t%]O$v%^O$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Og(oP~P!+xO!Q)gO!g)fO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)fO!_(zX$Z(zX$](zX$_(zX$f(zX~O!Q)gO~P!.RO!Q)gO!_(zX$Z(zX$](zX$_(zX$f(zX~O!_)iO$Z)mO$])hO$_)hO$f)nO~O![)qO~P!)PO$]$hO$_$gO$f)uO~On$zX!Q$zX#S$zX'x$zX(x$zX(y$zX~OgmXg$zXnmX!]mX#`mX~P!/wOx)wO(a)xO(b)zO~On*TO!Q)|O'x)}O(x$}O(y%PO~Og){O~P!0{Og*UO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S*WO!_*XO!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~O![*[O(S*VO!k(}P~P!1jO#k*^O~O!l*_O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(S*aO(UTO(XUO(`$uO(x$}O(y%PO~O![*dO!Y)OP~P!3iOr*pOs!nO!S*fO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO(d!mO~O!^*mO~P!5^O#S$dOn(_X!Q(_X'x(_X(x(_X(y(_X!](_X#`(_X~Og(_X$O(_X~P!6`On*uO#`*tOg(^X!](^X~O!]*vOg(]X~Oj%cOk%cOl%cO(S&XOg(]P~Os*yO~O!l+OO~O(S(tO~Op+TO!S%gO![#iO!_%hO!|]O#i#lO#j#iO(S%fO!k(rP~O!g#vO#k+UO~O!S%gO![+WO!]([O!_%hO(S%fO!Y(uP~Os'YO!S+YO![+XO(UTO(XUO(d(zO~O!^(wP~P!9iO!]+ZOa)SX'y)SX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(`VO(q$YO(x#|O(y#}O~Oa!ja!]!ja'y!ja'v!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:aOR#zO!Q#yO!S#{O!l#xO(`VOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(q!ra(x!ra(y!ra~Oa!ra'y!ra'v!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!<wOR#zO!Q#yO!S#{O!l#xO(`VOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(q!ta(x!ta(y!ta~Oa!ta'y!ta'v!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?_Oh%VOn+dO!_'^O%i+cO~O!g+fOa([X!_([X'y([X!]([X~Oa%mO!_XO'y%mO~Oh%VO!l%dO~Oh%VO!l%dO(S%fO~O!g#vO#k(vO~Ob+qO%j+rO(S+nO(UTO(XUO!^)WP~O!]+sO`)VX~O[+wO~O`+xO~O!_&OO(S%fO(T!lO`)VP~Oh%VO#`+}O~Oh%VOn,QO!_$|O~O!_,SO~O!Q,UO!_XO~O%n%uO~O!x,ZO~Oe,`O~Ob,aO(S#nO(UTO(XUO!^)UP~Oe%|O~O%j!QO(S&XO~P=[O[,fO`,eO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(UTO(XUO(`VO(n[O~O!_!eO!u!gO$W!kO(S!dO~P!F_O`,eOa%mO'y%mO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(S!dO(UTO(XUO(`VO(n[O~Oa,kOl!OO!uwO%l!OO%m!OO%n!OO~P!HwO!l&mO~O&],qO~O!_,sO~O&n,uO&p,vOP&kaQ&kaS&kaY&kaa&kad&kae&kal&kap&kar&kas&kat&kaz&ka|&ka!O&ka!S&ka!W&ka!X&ka!_&ka!i&ka!l&ka!o&ka!p&ka!q&ka!s&ka!u&ka!x&ka!|&ka$W&ka$n&ka%h&ka%j&ka%l&ka%m&ka%n&ka%q&ka%s&ka%v&ka%w&ka%y&ka&V&ka&]&ka&_&ka&a&ka&c&ka&f&ka&l&ka&r&ka&t&ka&v&ka&x&ka&z&ka'v&ka(S&ka(U&ka(X&ka(`&ka(n&ka!^&ka&d&kab&ka&i&ka~O(S,{O~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P# }O!g-QO#`-POh(iX!]#hX!^#hX!g(iX!l(iX~O!](iX!^(iX~P#!pOh%VO!g-SO!l%dO!]!aX!^!aX~Os!nO!S!oO(UTO(XUO(d!mO~OP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_!eO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(UTO(XUO(`VO(n[O~O(S<rO~P#$VO!]-WO!^(hX~O!^-YO~O!g-QO#`-PO!]#hX!^#hX~O!]-ZO!^(wX~O!^-]O~O!c-^O!d-^O(T!lO~P##tO!^-aO~P'_On-dO!_'^O~O!Y-iO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(T!{a(U!{a(X!{a(d!{a(n!{a~P!#kO!p-nO#`-lO~PC]O!c-pO!d-pO(T!lO~PC{Oa%mO#`-lO'y%mO~Oa%mO!g#vO#`-lO'y%mO~Oa%mO!g#vO!p-nO#`-lO'y%mO(q'nO~O(O'vO(P'vO(Q-uO~Ov-vO~O!Y'Va!]'Va~P!:aO![-zO!Y'VX!]'VX~P%[O!](TO!Y(ga~O!Y(ga~PGvO!]([O!Y(ua~O!S%gO![.OO!_%hO(S%fO!Y']X!]']X~O#`.QO!](sa!k(saa(sa'y(sa~O!g#vO~P#,]O!](hO!k(ra~O!S%gO!_%hO#j.UO(S%fO~Op.ZO!S%gO![.WO!_%hO!|]O#i.YO#j.WO(S%fO!]'`X!k'`X~OR._O!l#xO~Oh%VOn.bO!_'^O%i.aO~Oa#ci!]#ci'y#ci'v#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:aOn=|O!Q)|O'x)}O(x$}O(y%PO~O#k#_aa#_a#`#_a'y#_a!]#_a!k#_a!_#_a!Y#_a~P#/XO#k(_XP(_XR(_X[(_Xa(_Xj(_Xr(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X'y(_X(`(_X(q(_X!k(_X!Y(_X'v(_Xv(_X!_(_X%i(_X!g(_X~P!6`O!].oO!k(jX~P!:aO!k.rO~O!Y.tO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#2wO#n$OO~P#2wOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#5fO#r$QO~P#5fOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(`VOa#mi!]#mi#x#mi#z#mi#{#mi'y#mi(q#mi(x#mi(y#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(`VO(y#}Oa#mi!]#mi#z#mi#{#mi'y#mi(q#mi(x#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#:kO#x#mi~P#:kO#v$SO~P#8TOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(`VO(x#|O(y#}Oa#mi!]#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#=aO#z$WO~P#=aOP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X!]]X!^]X~O$O]X~P#@OOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO#z<XO#{<YO(`VO(q$YO(x#|O(y#}O~O$O.vO~P#B]O#S$dO#`<`O$Q<`O$O(fX!^(fX~P! jOa'ca!]'ca'y'ca'v'ca!k'ca!Y'cav'ca!_'ca%i'ca!g'ca~P!:aO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'y#mi(q#mi'v#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(`VO(x#mi(y#mi~P#E_On=|O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P#E_O!].zOg(oX~P!0{Og.|O~Oa$Pi!]$Pi'y$Pi'v$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:aO$].}O$_.}O~O$]/OO$_/OO~O!g)fO#`/PO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/QO~O!_)iO$Z/SO$])hO$_)hO$f/TO~O!]<ZO!^(eX~P#B]O!^/UO~O!g)fO$f(zX~O$f/WO~Ov/XO~P!&oOx)wO(a)xO(b/[O~O!S/_O~O(x$}On%aa!Q%aa'x%aa(y%aa!]%aa#`%aa~Og%aa$O%aa~P#LaO(y%POn%ca!Q%ca'x%ca(x%ca!]%ca#`%ca~Og%ca$O%ca~P#MSO!]fX!gfX!kfX!k$zX(qfX~P!/wO![/hO!]([O(S/gO!Y(uP!Y)OP~P!1jOr*pO!b*nO!c*hO!d*hO!l*_O#[*oO%`*jO(T!lO(UTO(XUO~Os<oO!S/iO![+XO!^*mO(d<nO!^(wP~P#NmO!k/jO~P#/XO!]/kO!g#vO(q'nO!k(}X~O!k/pO~O!S%gO![*[O!_%hO(S%fO!k(}P~O#k/rO~O!Y$zX!]$zX!g%RX~P!/wO!]/sO!Y)OX~P#/XO!g/uO~O!Y/wO~OpkO(S/xO~P.iOh%VOr/}O!g#vO!l%dO(q'nO~O!g+fO~Oa%mO!]0RO'y%mO~O!^0TO~P!5^O!c0UO!d0UO(T!lO~P##tOs!nO!S0VO(UTO(XUO(d!mO~O#[0XO~Og%aa!]%aa#`%aa$O%aa~P!0{Og%ca!]%ca#`%ca$O%ca~P!0{Oj%cOk%cOl%cO(S&XOg'lX!]'lX~O!]*vOg(]a~Og0bO~OR0cO!Q0cO!S0dO#S$dOn}a'x}a(x}a(y}a!]}a#`}a~Og}a$O}a~P$&vO!Q)|O'x)}On$sa(x$sa(y$sa!]$sa#`$sa~Og$sa$O$sa~P$'rO!Q)|O'x)}On$ua(x$ua(y$ua!]$ua#`$ua~Og$ua$O$ua~P$(eO#k0gO~Og%Ta!]%Ta#`%Ta$O%Ta~P!0{On0iO#`0hOg(^a!](^a~O!g#vO~O#k0lO~O!]+ZOa)Sa'y)Sa~OR#zO!Q#yO!S#{O!l#xO(`VOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(q!ri(x!ri(y!ri~Oa!ri'y!ri'v!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$*bOh%VOr%XOs$tOt$tOz%YO|%ZO!O<eO!S${O!_$|O!i=vO!l$xO#j<kO$W%_O$t<gO$v<iO$y%`O(UTO(XUO(`$uO(x$}O(y%PO~Op0uO%]0vO(S0tO~P$,xO!g+fOa([a!_([a'y([a!]([a~O#k0|O~O[]X!]fX!^fX~O!]0}O!^)WX~O!^1PO~O[1QO~Ob1SO(S+nO(UTO(XUO~O!_&OO(S%fO`'tX!]'tX~O!]+sO`)Va~O!k1VO~P!:aO[1YO~O`1ZO~O#`1^O~On1aO!_$|O~O(d(zO!^)TP~Oh%VOn1jO!_1gO%i1iO~O[1tO!]1rO!^)UX~O!^1uO~O`1wOa%mO'y%mO~O(S#nO(UTO(XUO~O#S$dO#`$eO$Q$eOP(fXR(fX[(fXr(fX!Q(fX!S(fX!](fX!l(fX!p(fX#R(fX#n(fX#o(fX#p(fX#q(fX#r(fX#s(fX#t(fX#u(fX#v(fX#x(fX#z(fX#{(fX(`(fX(q(fX(x(fX(y(fX~Oj1zO&Z1{Oa(fX~P$2cOj1zO#`$eO&Z1{O~Oa1}O~P%[Oa2PO~O&d2SOP&biQ&biS&biY&bia&bid&bie&bil&bip&bir&bis&bit&biz&bi|&bi!O&bi!S&bi!W&bi!X&bi!_&bi!i&bi!l&bi!o&bi!p&bi!q&bi!s&bi!u&bi!x&bi!|&bi$W&bi$n&bi%h&bi%j&bi%l&bi%m&bi%n&bi%q&bi%s&bi%v&bi%w&bi%y&bi&V&bi&]&bi&_&bi&a&bi&c&bi&f&bi&l&bi&r&bi&t&bi&v&bi&x&bi&z&bi'v&bi(S&bi(U&bi(X&bi(`&bi(n&bi!^&bib&bi&i&bi~Ob2YO!^2WO&i2XO~P`O!_XO!l2[O~O&p,vOP&kiQ&kiS&kiY&kia&kid&kie&kil&kip&kir&kis&kit&kiz&ki|&ki!O&ki!S&ki!W&ki!X&ki!_&ki!i&ki!l&ki!o&ki!p&ki!q&ki!s&ki!u&ki!x&ki!|&ki$W&ki$n&ki%h&ki%j&ki%l&ki%m&ki%n&ki%q&ki%s&ki%v&ki%w&ki%y&ki&V&ki&]&ki&_&ki&a&ki&c&ki&f&ki&l&ki&r&ki&t&ki&v&ki&x&ki&z&ki'v&ki(S&ki(U&ki(X&ki(`&ki(n&ki!^&ki&d&kib&ki&i&ki~O!Y2bO~O!]!aa!^!aa~P#B]Os!nO!S!oO![2hO(d!mO!]'WX!^'WX~P@cO!]-WO!^(ha~O!]'^X!^'^X~P!9iO!]-ZO!^(wa~O!^2oO~P'_Oa%mO#`2xO'y%mO~Oa%mO!g#vO#`2xO'y%mO~Oa%mO!g#vO!p2|O#`2xO'y%mO(q'nO~Oa%mO'y%mO~P!:aO!]$_Ov$qa~O!Y'Vi!]'Vi~P!:aO!](TO!Y(gi~O!]([O!Y(ui~O!Y(vi!](vi~P!:aO!](si!k(sia(si'y(si~P!:aO#`3OO!](si!k(sia(si'y(si~O!](hO!k(ri~O!S%gO!_%hO!|]O#i3TO#j3SO(S%fO~O!S%gO!_%hO#j3SO(S%fO~On3[O!_'^O%i3ZO~Oh%VOn3[O!_'^O%i3ZO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aav%aa!_%aa%i%aa!g%aa~P#LaO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%cav%ca!_%ca%i%ca!g%ca~P#MSO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'y%aa(`%aa(q%aa!k%aa!Y%aa'v%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/XO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'y%ca(`%ca(q%ca!k%ca!Y%ca'v%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/XO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'y}a(`}a(q}a!k}a!Y}a'v}av}a!_}a%i}a!g}a~P$&vO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'y$sa(`$sa(q$sa!k$sa!Y$sa'v$sav$sa!_$sa%i$sa!g$sa~P$'rO#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'y$ua(`$ua(q$ua!k$ua!Y$ua'v$uav$ua!_$ua%i$ua!g$ua~P$(eO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'y%Ta(`%Ta(q%Ta!k%Ta!Y%Ta'v%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/XOa#cq!]#cq'y#cq'v#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:aO![3dO!]'XX!k'XX~P%[O!].oO!k(ja~O!].oO!k(ja~P!:aO!Y3gO~O$O!na!^!na~PKaO$O!ja!]!ja!^!ja~P#B]O$O!ra!^!ra~P!<wO$O!ta!^!ta~P!?_Og'[X!]'[X~P!+xO!].zOg(oa~OSfO!_3{O$d3|O~O!^4QO~Ov4RO~P#/XOa$mq!]$mq'y$mq'v$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:aO!Y4TO~P!&oO!S4UO~O!Q)|O'x)}O(y%POn'ha(x'ha!]'ha#`'ha~Og'ha$O'ha~P%,XO!Q)|O'x)}On'ja(x'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P%,zO(q$YO~P#/XO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!/wO(S<xO~P!1jO!S%gO![4XO!_%hO(S%fO!]'dX!k'dX~O!]/kO!k(}a~O!]/kO!g#vO!k(}a~O!]/kO!g#vO(q'nO!k(}a~Og$|i!]$|i#`$|i$O$|i~P!0{O![4aO!Y'fX!]'fX~P!3iO!]/sO!Y)Oa~O!]/sO!Y)Oa~P#/XOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~Oj%YX!g%YX~P%0kOj4fO!g#vO~Oh%VO!g#vO!l%dO~Oh%VOr4kO!l%dO(q'nO~Or4pO!g#vO(q'nO~Os!nO!S4qO(UTO(XUO(d!mO~O(x$}On%ai!Q%ai'x%ai(y%ai!]%ai#`%ai~Og%ai$O%ai~P%4[O(y%POn%ci!Q%ci'x%ci(x%ci!]%ci#`%ci~Og%ci$O%ci~P%4}Og(^i!](^i~P!0{O#`4wOg(^i!](^i~P!0{O!k4zO~Oa$oq!]$oq'y$oq'v$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:aO!Y5QO~O!]5RO!_)PX~P#/XOa$zX!_$zX%^]X'y$zX!]$zX~P!/wO%^5UOaoXnoX!QoX!_oX'xoX'yoX(xoX(yoX!]oX~Op5VO(S#nO~O%^5UO~Ob5]O%j5^O(S+nO(UTO(XUO!]'sX!^'sX~O!]0}O!^)Wa~O[5bO~O`5cO~Oa%mO'y%mO~P#/XO!]5kO#`5mO!^)TX~O!^5nO~Or5tOs!nO!S*fO!b!yO!c!vO!d!vO!|;wO#T!pO#U!pO#V!pO#W!pO#X!pO#[5sO#]!zO(T!lO(UTO(XUO(d!mO(n!sO~O!^5rO~P%:YOn5yO!_1gO%i5xO~Oh%VOn5yO!_1gO%i5xO~Ob6QO(S#nO(UTO(XUO!]'rX!^'rX~O!]1rO!^)Ua~O(UTO(XUO(d6SO~O`6WO~Oj6ZO&Z6[O~PM|O!k6]O~P%[Oa6_O~Oa6_O~P%[Ob2YO!^6dO&i2XO~P`O!g6fO~O!g6hOh(ii!](ii!^(ii!g(ii!l(iir(ii(q(ii~O!]#hi!^#hi~P#B]O#`6iO!]#hi!^#hi~O!]!ai!^!ai~P#B]Oa%mO#`6rO'y%mO~Oa%mO!g#vO#`6rO'y%mO~O!](sq!k(sqa(sq'y(sq~P!:aO!](hO!k(rq~O!S%gO!_%hO#j6yO(S%fO~O!_'^O%i6|O~On7QO!_'^O%i6|O~O#k'haP'haR'ha['haa'haj'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha'y'ha(`'ha(q'ha!k'ha!Y'ha'v'hav'ha!_'ha%i'ha!g'ha~P%,XO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'y'ja(`'ja(q'ja!k'ja!Y'ja'v'jav'ja!_'ja%i'ja!g'ja~P%,zO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'y$|i(`$|i(q$|i!k$|i!Y$|i'v$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/XO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'y%ai(`%ai(q%ai!k%ai!Y%ai'v%aiv%ai!_%ai%i%ai!g%ai~P%4[O#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'y%ci(`%ci(q%ci!k%ci!Y%ci'v%civ%ci!_%ci%i%ci!g%ci~P%4}O!]'Xa!k'Xa~P!:aO!].oO!k(ji~O$O#ci!]#ci!^#ci~P#B]OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(`VO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#n#mi~P%MXO#n<PO~P%MXOP$[OR#zOr<]O!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#r#mi~P& aO#r<RO~P& aOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O(`VO#x#mi#z#mi#{#mi$O#mi(q#mi(x#mi(y#mi!]#mi!^#mi~O#v#mi~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO(`VO(y#}O#z#mi#{#mi$O#mi(q#mi(x#mi!]#mi!^#mi~O#x<VO~P&%jO#x#mi~P&%jO#v<TO~P&#iOP$[OR#zO[<_Oj<SOr<]O!Q#yO!S#{O!l#xO!p$[O#R<SO#n<PO#o<QO#p<QO#q<QO#r<RO#s<SO#t<SO#u<^O#v<TO#x<VO(`VO(x#|O(y#}O#{#mi$O#mi(q#mi!]#mi!^#mi~O#z#mi~P&'yO#z<XO~P&'yOa#|y!]#|y'y#|y'v#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:aO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(q#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<PO#o<QO#p<QO#q<QO(`VO(x#mi(y#mi~P&*uOn=}O!Q)|O'x)}O(x$}O(y%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(`#mi~P&*uO#S$dOP(_XR(_X[(_Xj(_Xn(_Xr(_X!Q(_X!S(_X!l(_X!p(_X#R(_X#n(_X#o(_X#p(_X#q(_X#r(_X#s(_X#t(_X#u(_X#v(_X#x(_X#z(_X#{(_X$O(_X'x(_X(`(_X(q(_X(x(_X(y(_X!](_X!^(_X~O$O$Pi!]$Pi!^$Pi~P#B]O$O!ri!^!ri~P$*bOg'[a!]'[a~P!0{O!^7dO~O!]'ca!^'ca~P#B]O!Y7eO~P#/XO!g#vO(q'nO!]'da!k'da~O!]/kO!k(}i~O!]/kO!g#vO!k(}i~Og$|q!]$|q#`$|q$O$|q~P!0{O!Y'fa!]'fa~P#/XO!g7lO~O!]/sO!Y)Oi~P#/XO!]/sO!Y)Oi~O!Y7oO~Oh%VOr7tO!l%dO(q'nO~Oj7vO!g#vO~Or7yO!g#vO(q'nO~O!Q)|O'x)}O(y%POn'ia(x'ia!]'ia#`'ia~Og'ia$O'ia~P&3vO!Q)|O'x)}On'ka(x'ka(y'ka!]'ka#`'ka~Og'ka$O'ka~P&4iO!Y7{O~Og%Oq!]%Oq#`%Oq$O%Oq~P!0{Og(^q!](^q~P!0{O#`7|Og(^q!](^q~P!0{Oa$oy!]$oy'y$oy'v$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:aO!g6hO~O!]5RO!_)Pa~O!_'^OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(`$Ta(q$Ta(x$Ta(y$Ta~O%i6|O~P&7ZO%^8QOa%[i!_%[i'y%[i!]%[i~Oa#cy!]#cy'y#cy'v#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:aO[8SO~Ob8UO(S+nO(UTO(XUO~O!]0}O!^)Wi~O`8YO~O(d(zO!]'oX!^'oX~O!]5kO!^)Ta~O!^8cO~P%:YO(n!sO~P$${O#[8dO~O!_1gO~O!_1gO%i8fO~On8iO!_1gO%i8fO~O[8nO!]'ra!^'ra~O!]1rO!^)Ui~O!k8rO~O!k8sO~O!k8vO~O!k8vO~P%[Oa8xO~O!g8yO~O!k8zO~O!](vi!^(vi~P#B]Oa%mO#`9SO'y%mO~O!](sy!k(sya(sy'y(sy~P!:aO!](hO!k(ry~O%i9VO~P&7ZO!_'^O%i9VO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'y$|q(`$|q(q$|q!k$|q!Y$|q'v$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/XO#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'y'ia(`'ia(q'ia!k'ia!Y'ia'v'iav'ia!_'ia%i'ia!g'ia~P&3vO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'y'ka(`'ka(q'ka!k'ka!Y'ka'v'kav'ka!_'ka%i'ka!g'ka~P&4iO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'y%Oq(`%Oq(q%Oq!k%Oq!Y%Oq'v%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/XO!]'Xi!k'Xi~P!:aO$O#cq!]#cq!^#cq~P#B]O(x$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(`%aa(q%aa!]%aa!^%aa~On%aa!Q%aa'x%aa(y%aa~P&HnO(y%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(`%ca(q%ca!]%ca!^%ca~On%ca!Q%ca'x%ca(x%ca~P&JuOn=}O!Q)|O'x)}O(y%PO~P&HnOn=}O!Q)|O'x)}O(x$}O~P&JuOR0cO!Q0cO!S0dO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'x}a(`}a(q}a(x}a(y}a!]}a!^}a~O!Q)|O'x)}OP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(`$sa(q$sa(x$sa(y$sa!]$sa!^$sa~O!Q)|O'x)}OP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(`$ua(q$ua(x$ua(y$ua!]$ua!^$ua~On=}O!Q)|O'x)}O(x$}O(y%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(`%Ta(q%Ta!]%Ta!^%Ta~P'%zO$O$mq!]$mq!^$mq~P#B]O$O$oq!]$oq!^$oq~P#B]O!^9dO~O$O9eO~P!0{O!g#vO!]'di!k'di~O!g#vO(q'nO!]'di!k'di~O!]/kO!k(}q~O!Y'fi!]'fi~P#/XO!]/sO!Y)Oq~Or9lO!g#vO(q'nO~O[9nO!Y9mO~P#/XO!Y9mO~Oj9tO!g#vO~Og(^y!](^y~P!0{O!]'ma!_'ma~P#/XOa%[q!_%[q'y%[q!]%[q~P#/XO[9yO~O!]0}O!^)Wq~O#`9}O!]'oa!^'oa~O!]5kO!^)Ti~P#B]O!S:PO~O!_1gO%i:SO~O(UTO(XUO(d:XO~O!]1rO!^)Uq~O!k:[O~O!k:]O~O!k:^O~O!k:^O~P%[O#`:aO!]#hy!^#hy~O!]#hy!^#hy~P#B]O%i:fO~P&7ZO!_'^O%i:fO~O$O#|y!]#|y!^#|y~P#B]OP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(`$|i(q$|i!]$|i!^$|i~P'%zO!Q)|O'x)}O(y%POP'haR'ha['haj'han'har'ha!S'ha!l'ha!p'ha#R'ha#n'ha#o'ha#p'ha#q'ha#r'ha#s'ha#t'ha#u'ha#v'ha#x'ha#z'ha#{'ha$O'ha(`'ha(q'ha(x'ha!]'ha!^'ha~O!Q)|O'x)}OP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(`'ja(q'ja(x'ja(y'ja!]'ja!^'ja~O(x$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'x%ai(`%ai(q%ai(y%ai!]%ai!^%ai~O(y%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'x%ci(`%ci(q%ci(x%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#B]O$O#cy!]#cy!^#cy~P#B]O!g#vO!]'dq!k'dq~O!]/kO!k(}y~O!Y'fq!]'fq~P#/XOr:pO!g#vO(q'nO~O[:tO!Y:sO~P#/XO!Y:sO~Og(^!R!](^!R~P!0{Oa%[y!_%[y'y%[y!]%[y~P#/XO!]0}O!^)Wy~O!]5kO!^)Tq~O(S:zO~O!_1gO%i:}O~O!k;QO~O%i;VO~P&7ZOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(`$|q(q$|q!]$|q!^$|q~P'%zO!Q)|O'x)}O(y%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(`'ia(q'ia(x'ia!]'ia!^'ia~O!Q)|O'x)}OP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(`'ka(q'ka(x'ka(y'ka!]'ka!^'ka~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(`%Oq(q%Oq!]%Oq!^%Oq~P'%zOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!0{O!Y;ZO~P#/XOr;[O!g#vO(q'nO~O[;^O!Y;ZO~P#/XO!]'oq!^'oq~P#B]O!]#h!Z!^#h!Z~P#B]O#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'y%e!Z(`%e!Z(q%e!Z!k%e!Z!Y%e!Z'v%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/XOr;fO!g#vO(q'nO~O!Y;gO~P#/XOr;nO!g#vO(q'nO~O!Y;oO~P#/XOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(`%e!Z(q%e!Z!]%e!Z!^%e!Z~P'%zOr;rO!g#vO(q'nO~Ov(eX~P1qO!Q%qO~P!)PO(T!lO~P!)PO!YfX!]fX#`fX~P%0kOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(`]X(q]X(x]X(y]X~O!gfX!k]X!kfX(qfX~P'JsOP;vOQ;vOSfOd=rOe!iOpkOr;vOskOtkOzkO|;vO!O;vO!SWO!WkO!XkO!_XO!i;yO!lZO!o;vO!p;vO!q;vO!s;zO!u;}O!x!hO$W!kO$n=pO(S)ZO(UTO(XUO(`VO(n[O~O!]<ZO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<fO!S${O!_$|O!i=wO!l$xO#j<lO$W%_O$t<hO$v<jO$y%`O(S(tO(UTO(XUO(`$uO(x$}O(y%PO~Ol)bO~P( iOr!eX(q!eX~P# }Or(iX(q(iX~P#!pO!^]X!^fX~P'JsO!YfX!Y$zX!]fX!]$zX#`fX~P!/wO#k<OO~O!g#vO#k<OO~O#`<`O~Oj<SO~O#`<pO!](vX!^(vX~O#`<`O!](tX!^(tX~O#k<qO~Og<sO~P!0{O#k<yO~O#k<zO~O!g#vO#k<{O~O!g#vO#k<qO~O$O<|O~P#B]O#k<}O~O#k=OO~O#k=TO~O#k=UO~O#k=VO~O#k=WO~O$O=XO~P!0{O$O=YO~P!0{Ok#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~'}T#o!X'{(T#ps#n#qr!Q'|$]'|(S$_(d~",goto:"$8g)[PPPPPP)]PP)`P)qP+R/WPPPP6bPP6xPP<pPPP@dP@zP@zPPP@zPCSP@zP@zP@zPCWPC]PCzPHtPPPHxPPPPHxK{PPPLRLsPHxPHxPP! RHxPPPHxPHxP!#YHxP!&p!'u!(OP!(r!(v!(r!,TPPPPPPP!,t!'uPP!-U!.vP!2SHxHx!2X!5e!:R!:R!>QPPP!>YHxPPPPPPPPP!AiP!BvPPHx!DXPHxPHxHxHxHxHxPHx!EkP!HuP!K{P!LP!LZ!L_!L_P!HrP!Lc!LcP# iP# mHxPHx# s#$xCW@zP@zP@z@zP#&V@z@z#(i@z#+a@z#-m@z@z#.]#0q#0q#0v#1P#0q#1[PP#0qP@z#1t@z#5s@z@z6bPPP#9xPPP#:c#:cP#:cP#:y#:cPP#;PP#:vP#:v#;d#:v#<O#<U#<X)`#<[)`P#<c#<c#<cP)`P)`P)`P)`PP)`P#<i#<lP#<l)`P#<pP#<sP)`P)`P)`P)`P)`P)`)`PP#<y#=P#=[#=b#=h#=n#=t#>S#>Y#>d#>j#>t#>z#?[#?b#@S#@f#@l#@r#AQ#Ag#C[#Cj#Cq#E]#Ek#G]#Gk#Gq#Gw#G}#HX#H_#He#Ho#IR#IXPPPPPPPPPPP#I_PPPPPPP#JS#MZ#Ns#Nz$ SPPP$&nP$&w$)p$0Z$0^$0a$1`$1c$1j$1rP$1x$1{P$2i$2m$3e$4s$4x$5`PP$5e$5k$5o$5r$5v$5z$6v$7_$7v$7z$7}$8Q$8W$8Z$8_$8cR!|RoqOXst!Z#d%l&p&r&s&u,n,s2S2VY!vQ'^-`1g5qQ%svQ%{yQ&S|Q&h!VS'U!e-WQ'd!iS'j!r!yU*h$|*X*lQ+l%|Q+y&UQ,_&bQ-^']Q-h'eQ-p'kQ0U*nQ1q,`R<m;z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9SS#q];w!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU*{%[<e<fQ+q&OQ,a&eQ,h&mQ0r+dQ0w+fQ1S+rQ1y,fQ3W.bQ5V0vQ5]0}Q6Q1rQ7O3[Q8U5^R9Y7Q'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s!S!nQ!r!v!y!z$|'U']'^'j'k'l*h*l*n*o-W-^-`-p0U0X1g5q5s%[$ti#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q&V|Q'S!eS'Y%h-ZQ+q&OQ,a&eQ0f+OQ1S+rQ1X+xQ1x,eQ1y,fQ5]0}Q5f1ZQ6Q1rQ6T1tQ6U1wQ8U5^Q8X5cQ8q6WQ9|8YQ:Y8nR<o*XrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR,c&i&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=r=s[#]WZ#W#Z'V(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ%vxQ%zyS&P|&UQ&]!TQ'a!hQ'c!iQ(o#sS+k%{%|Q+o&OQ,Y&`Q,^&bS-g'd'eQ.d(pQ0{+lQ1R+rQ1T+sQ1W+wQ1l,ZS1p,_,`Q2t-hQ5[0}Q5`1QQ5e1YQ6P1qQ8T5^Q8W5bQ9x8SR:w9y!U$zi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y!^%xy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pQ+e%vQ,O&YQ,R&ZQ,]&bQ.c(oQ1k,YU1o,^,_,`Q3].dQ5z1lS6O1p1qQ8m6P#f=t#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o=u<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YW%Ti%V*v=pS&Y!Q&gQ&Z!RQ&[!SQ+S%cR+|&W%]%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}T)x$u)yV*{%[<e<fW'Y!e%h*X-ZS({#y#zQ+`%qQ+v&RS.](k(lQ1b,SQ4x0cR8^5k'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s$i$^c#Y#e%p%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.w.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ'W!eR2i-W!W!nQ!e!r!v!y!z$|'U']'^'j'k'l*X*h*l*n*o-W-^-`-p0U0X1g5q5sR1d,UnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&w!^Q't!xS(q#u<OQ+i%yQ,W&]Q,X&_Q-e'bQ-r'mS.m(v<qS0k+U<{Q0y+jQ1f,VQ2Z,uQ2],vQ2e-RQ2r-fQ2u-jS5P0l=VQ5W0zS5Z0|=WQ6j2gQ6n2sQ6s2zQ8R5XQ8}6lQ9O6oQ9R6tR:`8z$d$]c#Y#e%r%t(Q(W(r(w)P)Q)R)S)T)U)V)W)X)Y)[)^)`)e)o+a+u-U-s-x-}.P.n.q.u.x.y/]0j2c2f2v2}3c3h3i3j3k3l3m3n3o3p3q3r3s3t3w3x4P5O5Y6k6q6v7V7W7a7b8`8|9Q9[9b9c:c:y;R;x=gS(m#p'gQ(}#zS+_%p.wS.^(l(nR3U._'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS#q];wQ&r!XQ&s!YQ&u![Q&v!]R2R,qQ'_!hQ+b%vQ-c'aS.`(o+eQ2p-bW3Y.c.d0q0sQ6m2qW6z3V3X3]5TU9U6{6}7PU:e9W9X9ZS;T:d:gQ;b;UR;j;cU!wQ'^-`T5o1g5q!Q_OXZ`st!V!Z#d#h%d%l&g&i&p&r&s&u(h,n,s.V2S2V]!pQ!r'^-`1g5qT#q];w%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS({#y#zS.](k(l!s=^$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sU$fd)],hS(n#p'gU*s%R(u3vU0e*z.i7]Q5T0rQ6{3WQ9X7OR:g9Ym!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sQ'r!uS(d#g1|S-n'i'uQ/n*ZQ/{*gQ2|-qQ4]/oQ4i/}Q4j0OQ4o0WQ7h4WS7s4k4mS7w4p4rQ9g7iQ9k7oQ9p7tQ9u7yS:o9l9mS;Y:p:sS;e;Z;[S;m;f;gS;q;n;oR;t;rQ#wbQ'q!uS(c#g1|S(e#m+TQ+V%eQ+g%wQ+m%}U-m'i'r'uQ.R(dQ/m*ZQ/|*gQ0P*iQ0x+hQ1m,[S2y-n-qQ3R.ZS4[/n/oQ4e/yS4h/{0WQ4l0QQ5|1nQ6u2|Q7g4WQ7k4]U7r4i4o4rQ7u4nQ8k5}S9f7h7iQ9j7oQ9r7wQ9s7xQ:V8lQ:m9gS:n9k9mQ:v9uQ;P:WS;X:o:sS;d;Y;ZS;l;e;gS;p;m;oQ;s;qQ;u;tQ=a=[Q=l=eR=m=fV!wQ'^-`%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SS#wz!j!r=Z$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=a=r%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SQ%ej!^%wy!i!u%z%{%|'T'c'd'e'i's*g+k+l-T-g-h-o/{0O0{2m2t2{4i4j4m7s9pS%}z!jQ+h%xQ,[&bW1n,],^,_,`U5}1o1p1qS8l6O6PQ:W8m!r=[$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ=e=qR=f=r%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9SY#bWZ#W#Z(R!b%im#h#i#l$x%d%g([(f(g(h*W*[*_+W+X+Z,j-Q.O.U.V.W.Y/h/k2[3S3T4X6h6yQ,i&m!p=]$Z$n)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sR=`'VU'Z!e%h*XR2k-Z%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y,k,n,s-d-l-z.Q.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3d4q5y6Z6[6_6r8i8x9S!r)]$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sQ,h&mQ0r+dQ3W.bQ7O3[R9Y7Q!b$Tc#Y%p(Q(W(r(w)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!P<U)[)o-U.w2c2f3h3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!f$Vc#Y%p(Q(W(r(w)U)V)X)Y)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;x!T<W)[)o-U.w2c2f3h3n3o3q3r3w4P6k7W7a7b8`8|9[9b9c:y;R=g!^$Zc#Y%p(Q(W(r(w)^)e+u-s-x-}.P.n.q/]0j2v2}3c3s5O5Y6q6v7V9Q:c;xQ4V/fz=s)[)o-U.w2c2f3h3w4P6k7W7a7b8`8|9[9b9c:y;R=gQ=x=zR=y={'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sS$oh$pR3|/P'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$kf$qQ$ifS)h$l)lR)t$qT$jf$qT)j$l)l'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%l%s&Q&i&l&m&p&r&s&u&y'R'V'`'p(R(T(Z(b(v(x(|)q){*f+U+Y+d,k,n,s-P-S-d-l-z.Q.b.o.v/P/Q/i0V0d0l0|1j1z1{1}2P2S2V2X2h2x3O3[3d3{4q5m5y6Z6[6_6i6r7Q8i8x9S9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=sT$oh$pQ$rhR)s$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%l%s&Q&i&l&m&p&r&s&u&y'R'`'p(R(T(Z(b(v(x(|){*f+U+Y+d,k,n,s-d-l-z.Q.b.o.v/i0V0d0l0|1j1z1{1}2P2S2V2X2x3O3[3d4q5y6Z6[6_6r7Q8i8x9S!s=q$Z$n'V)q-P-S/Q2h3{5m6i9}:a;v;y;z;}<O<P<Q<R<S<T<U<V<W<X<Y<Z<]<`<m<p<q<s<{<|=V=W=s#glOPXZst!Z!`!o#S#d#o#{$n%l&i&l&m&p&r&s&u&y'R'`(|)q*f+Y+d,k,n,s-d.b/Q/i0V0d1j1z1{1}2P2S2V2X3[3{4q5y6Z6[6_7Q8i8x!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}Q+P%`Q/^)|o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!U$yi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yQ*`$zU*i$|*X*lQ+Q%aQ0Q*j#f=c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n=d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YQ=h=tQ=i=uQ=j=vR=k=w!U%Ri$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y#f(u#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}o3v<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=YnoOXst!Z#d%l&p&r&s&u,n,s2S2VS*c${*WQ,|&|Q,}'OR4`/s%[%Si#v$b$c$d$x${%O%Q%]%^%b)w*P*R*T*W*^*d*t*u+c+f+},Q.a.z/_/h/r/s/u0Y0[0g0h0i1^1a1i3Z4U4V4a4f4w5R5U5x6|7l7v7|8Q8f9V9e9n9t:S:f:t:};V;^<^<_<a<b<c<d<g<h<i<j<k<l<t<u<v<w<y<z<}=O=P=Q=R=S=T=U=X=Y=p=x=y=|=}Q,P&ZQ1`,RQ5i1_R8]5jV*k$|*X*lU*k$|*X*lT5p1g5qS/y*f/iQ4n0VT7x4q:PQ+g%wQ0P*iQ0x+hQ1m,[Q5|1nQ8k5}Q:V8lR;P:W!U%Oi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=yx*P$v)c*Q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=oS0Y*q0Z#f<a#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<b<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!d<t(s)a*Y*b.e.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={`<u3u7X7[7`9]:h:k;kS=P.g3aT=Q7Z9`!U%Qi$d%O%Q%]%^%b*P*R*^*t*u.z/r0Y0[0g0h0i4V4w7|9e=p=x=y|*R$v)c*S*q+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=oS0[*r0]#f<c#v$b$c$x${)w*T*W*d+c+f+},Q.a/_/h/s/u1^1a1i3Z4U4a4f5R5U5x6|7l7v8Q8f9V9n9t:S:f:t:};V;^<a<c<g<i<k<t<v<y<}=P=R=T=X=|=}n<d<^<_<b<d<h<j<l<u<w<z=O=Q=S=U=Y!h<v(s)a*Y*b.f.g.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={d<w3u7Y7Z7`9]9^:h:i:k;kS=R.h3bT=S7[9arnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ&d!UR,k&mrnOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VR&d!UQ,T&[R1[+|snOXst!V!Z#d%l&g&p&r&s&u,n,s2S2VQ1h,YS5w1k1lU8e5u5v5zS:R8g8hS:{:Q:TQ;_:|R;i;`Q&k!VR,d&gR6T1tR:Y8nS&P|&UR1T+sQ&p!WR,n&qR,t&vT2T,s2VR,x&wQ,w&wR2^,xQ'w!{R-t'wSsOtQ#dXT%os#dQ#OTR'y#OQ#RUR'{#RQ)y$uR/Z)yQ#UVR(O#UQ#XWU(U#X(V-{Q(V#YR-{(WQ-X'WR2j-XQ.p(wS3e.p3fR3f.qQ-`'^R2n-`Y!rQ'^-`1g5qR'h!rQ.{)cR3z.{U#_W%g*WU(]#_(^-|Q(^#`R-|(XQ-['ZR2l-[t`OXst!V!Z#d%l&g&i&p&r&s&u,n,s2S2VS#hZ%dU#r`#h.VR.V(hQ(i#jQ.S(eW.[(i.S3P6wQ3P.TR6w3QQ)l$lR/R)lQ$phR)r$pQ$`cU)_$`-w<[Q-w;xR<[)oQ/l*ZW4Y/l4Z7j9hU4Z/m/n/oS7j4[4]R9h7k$e*O$v(s)a)c*Y*b*q*r*|*}+R.g.h.j.k.l/Y/b/d/f/q/v0^0_0p1]3^3_3`3u3y4S4^4_4c4s4u4{4|4}5h7R7S7T7U7Z7[7^7_7`7f7m7p7z7}8P9]9^9_9i9q9v9w:h:i:j:k:l:q:u;W;];h;k=b=n=o=z={Q/t*bU4b/t4d7nQ4d/vR7n4cS*l$|*XR0S*lx*Q$v)c*q*r+R/q0^0_3y4^4{4|4}7f7z9v:l=b=n=o!d.e(s)a*Y*b.g.h.l/Y/f/v0p1]3`4S4_4c5h7R7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/c*Q.e7Xa7X3u7Z7[7`9]:h:k;kQ0Z*qQ3a.gU4t0Z3a9`R9`7Z|*S$v)c*q*r+R/b/q0^0_3y4^4s4{4|4}7f7z9v:l=b=n=o!h.f(s)a*Y*b.g.h.l/Y/f/v0p1]3^3`4S4_4c5h7R7S7U7m7p7}8P9i9q9w:q:u;W;];h=z={U/e*S.f7Ye7Y3u7Z7[7`9]9^:h:i:k;kQ0]*rQ3b.hU4v0]3b9aR9a7[Q*w%UR0a*wQ5S0pR8O5SQ+[%jR0o+[Q5l1bS8_5l:OR:O8`Q,V&]R1e,VQ5q1gR8b5qQ1s,aS6R1s8oR8o6TQ1O+oW5_1O5a8V9zQ5a1RQ8V5`R9z8WQ+t&PR1U+tQ2V,sR6c2VYrOXst#dQ&t!ZQ+^%lQ,m&pQ,o&rQ,p&sQ,r&uQ2Q,nS2T,s2VR6b2SQ%npQ&x!_Q&{!aQ&}!bQ'P!cQ'o!uQ+]%kQ+i%yQ+{&VQ,c&kQ,z&zW-k'i'q'r'uQ-r'mQ0R*kQ0y+jS1v,d,gQ2_,yQ2`,|Q2a,}Q2u-jW2w-m-n-q-sQ5W0zQ5d1XQ5g1]Q5{1mQ6V1xQ6a2RU6p2v2y2|Q6s2zQ8R5XQ8Z5fQ8[5hQ8a5pQ8j5|Q8p6US9P6q6uQ9R6tQ9{8XQ:U8kQ:Z8qQ:b9QQ:x9|Q;O:VQ;S:cR;a;PQ%yyQ'b!iQ'm!uU+j%z%{%|Q-R'TU-f'c'd'eS-j'i'sQ/z*gS0z+k+lQ2g-TS2s-g-hQ2z-oS4g/{0OQ5X0{Q6l2mQ6o2tQ6t2{U7q4i4j4mQ9o7sR:r9pS$wi=pR*x%VU%Ui%V=pR0`*vQ$viS(s#v+fS)a$b$cQ)c$dQ*Y$xS*b${*WQ*q%OQ*r%QQ*|%]Q*}%^Q+R%bQ.g<aQ.h<cQ.j<gQ.k<iQ.l<kQ/Y)wQ/b*PQ/d*RQ/f*TQ/q*^S/v*d/hQ0^*tQ0_*ul0p+c,Q.a1a1i3Z5x6|8f9V:S:f:};VQ1]+}Q3^<tQ3_<vQ3`<yS3u<^<_Q3y.zS4S/_4UQ4^/rQ4_/sQ4c/uQ4s0YQ4u0[Q4{0gQ4|0hQ4}0iQ5h1^Q7R<}Q7S=PQ7T=RQ7U=TQ7Z<bQ7[<dQ7^<hQ7_<jQ7`<lQ7f4VQ7m4aQ7p4fQ7z4wQ7}5RQ8P5UQ9]<zQ9^<uQ9_<wQ9i7lQ9q7vQ9v7|Q9w8QQ:h=OQ:i=QQ:j=SQ:k=UQ:l9eQ:q9nQ:u9tQ;W=XQ;]:tQ;h;^Q;k=YQ=b=pQ=n=xQ=o=yQ=z=|R={=}Q*z%[Q.i<eR7]<fnpOXst!Z#d%l&p&r&s&u,n,s2S2VQ!fPS#fZ#oQ&z!`W'f!o*f0V4qQ'}#SQ)O#{Q)p$nS,g&i&lQ,l&mQ,y&yS-O'R/iQ-b'`Q.s(|Q/V)qQ0m+YQ0s+dQ2O,kQ2q-dQ3X.bQ4O/QQ4y0dQ5v1jQ6X1zQ6Y1{Q6^1}Q6`2PQ6e2XQ7P3[Q7c3{Q8h5yQ8t6ZQ8u6[Q8w6_Q9Z7QQ:T8iR:_8x#[cOPXZst!Z!`!o#d#o#{%l&i&l&m&p&r&s&u&y'R'`(|*f+Y+d,k,n,s-d.b/i0V0d1j1z1{1}2P2S2V2X3[4q5y6Z6[6_7Q8i8xQ#YWQ#eYQ%puQ%rvS%tw!gS(Q#W(TQ(W#ZQ(r#uQ(w#xQ)P$OQ)Q$PQ)R$QQ)S$RQ)T$SQ)U$TQ)V$UQ)W$VQ)X$WQ)Y$XQ)[$ZQ)^$_Q)`$aQ)e$eW)o$n)q/Q3{Q+a%sQ+u&QS-U'V2hQ-s'pS-x(R-zQ-}(ZQ.P(bQ.n(vQ.q(xQ.u;vQ.w;yQ.x;zQ.y;}Q/]){Q0j+UQ2c-PQ2f-SQ2v-lQ2}.QQ3c.oQ3h<OQ3i<PQ3j<QQ3k<RQ3l<SQ3m<TQ3n<UQ3o<VQ3p<WQ3q<XQ3r<YQ3s.vQ3t<]Q3w<`Q3x<mQ4P<ZQ5O0lQ5Y0|Q6k<pQ6q2xQ6v3OQ7V3dQ7W<qQ7a<sQ7b<{Q8`5mQ8|6iQ9Q6rQ9[<|Q9b=VQ9c=WQ:c9SQ:y9}Q;R:aQ;x#SR=g=sR#[WR'X!el!tQ!r!v!y!z'^'j'k'l-`-p1g5q5sS'T!e-WU*g$|*X*lS-T'U']S0O*h*nQ0W*oQ2m-^Q4m0UR4r0XR(y#xQ!fQT-_'^-`]!qQ!r'^-`1g5qQ#p]R'g;wR)d$dY!uQ'^-`1g5qQ'i!rS's!v!yS'u!z5sS-o'j'kQ-q'lR2{-pT#kZ%dS#jZ%dS%jm,jU(e#h#i#lS.T(f(gQ.X(hQ0n+ZQ3Q.UU3R.V.W.YS6x3S3TR9T6yd#^W#W#Z%g(R([*W+W.O/hr#gZm#h#i#l%d(f(g(h+Z.U.V.W.Y3S3T6yS*Z$x*_Q/o*[Q1|,jQ2d-QQ4W/kQ6g2[Q7i4XQ8{6hT=_'V+XV#aW%g*WU#`W%g*WS(S#W([U(X#Z+W/hS-V'V+XT-y(R.OV'[!e%h*XQ$lfR)v$qT)k$l)lR3}/PT*]$x*_T*e${*WQ0q+cQ1_,QQ3V.aQ5j1aQ5u1iQ6}3ZQ8g5xQ9W6|Q:Q8fQ:d9VQ:|:SQ;U:fQ;`:}R;c;VnqOXst!Z#d%l&p&r&s&u,n,s2S2VQ&j!VR,c&gtmOXst!U!V!Z#d%l&g&p&r&s&u,n,s2S2VR,j&mT%km,jR1c,SR,b&eQ&T|R+z&UR+p&OT&n!W&qT&o!W&qT2U,s2V",nodeNames:"⚠ ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:379,context:wh,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,236,242,244,246,248,251,257,263,265,267,269,271,273,274,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[Qh],skippedNodes:[0,5,6,277],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Vp(Y!b'{0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(W#S$i&j'|0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Vp(Y!b'|0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(U':f$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Y!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Y!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Y!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Y!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Vp(Y!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Vp(Y!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Y!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Y!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(VpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(VpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Vp(Y!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(n%1l(Vp(Y!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Vp(Y!b$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Vp(Y!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Vp(Y!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(y+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(X';W$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(VpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(VpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(VpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(VpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Vp(Y!b(T%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Vp(Y!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Vp(Y!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Vp(Y!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Vp(Y!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Y!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Y!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Y!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Y!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Y!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Y!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Vp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Vp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Vp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Vp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(VpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(VpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Vp(Y!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Vp(Y!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Vp(Y!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Vp(Y!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Vp(Y!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Vp(Y!b'}0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Vp(Y!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Y!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Y!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(VpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(VpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Vp(Y!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Vp(Y!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Vp(Y!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Vp(Y!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(q(Ct$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Vp(Y!b(`+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Vp(Y!b(S,2j$_#t(d$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Vp(Y!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Vp(Y!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(x+JY$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Vp(Y!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Vp(Y!b'{0/l$]#t(S,2j(d$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Vp(Y!b'|0/l$]#t(S,2j(d$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[Rh,Dh,Ih,_h,2,3,4,5,6,7,8,9,10,11,12,13,14,Ph,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(b~~",141,339),new LocalTokenGroup("j~RQYZXz{^~^O(P~~aP!P!Qd~iO(Q~~",25,322)],topRules:{Script:[0,7],SingleExpression:[1,275],SingleClassItem:[2,276]},dialects:{jsx:0,ts:15098},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:326,get:__name(o2=>Lh[o2]||-1,"get")},{term:342,get:__name(o2=>Fh[o2]||-1,"get")},{term:95,get:__name(o2=>jh[o2]||-1,"get")}],tokenPrec:15124}),Gh=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Kh=Gh.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),Jh=new NodeWeakMap,eg=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(o2){return(i2,a2)=>{let s2=i2.node.getChild("VariableDefinition");return s2&&a2(s2,o2),!0}}__name(defID,"defID");const ng=["FunctionDeclaration"],rg={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:__name(()=>!0,"ClassExpression"),EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(o2,i2){o2.matchContext(ng)||i2(o2,"variable")},TypeDefinition(o2,i2){i2(o2,"type")},__proto__:null};function getScope(o2,i2){let a2=Jh.get(i2);if(a2)return a2;let s2=[],u2=!0;function def(i3,a3){let u3=o2.sliceString(i3.from,i3.to);s2.push({label:u3,type:a3})}return __name(def,"def"),i2.cursor(Pu.IncludeAnonymous).iterate(i3=>{if(u2)u2=!1;else if(i3.name){let o3=rg[i3.name];if(o3&&o3(i3,def)||eg.has(i3.name))return!1}else if(i3.to-i3.from>8192){for(let a3 of getScope(o2,i3.node))s2.push(a3);return!1}}),Jh.set(i2,s2),s2}__name(getScope,"getScope");const og=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,sg=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(o2){let i2=syntaxTree(o2.state).resolveInner(o2.pos,-1);if(sg.indexOf(i2.name)>-1)return null;let a2=i2.name=="VariableName"||i2.to-i2.from<20&&og.test(o2.state.sliceDoc(i2.from,i2.to));if(!a2&&!o2.explicit)return null;let s2=[];for(let a3=i2;a3;a3=a3.parent)eg.has(a3.name)&&(s2=s2.concat(getScope(o2.state.doc,a3)));return{options:s2,from:a2?i2.from:o2.pos,validFor:og}}__name(localCompletionSource,"localCompletionSource");const lg=LRLanguage.define({name:"javascript",parser:Hh.configure({props:[ld.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:__name(o2=>o2.baseIndent,"LabeledStatement"),SwitchBody:__name(o2=>{let i2=o2.textAfter,a2=/^\s*\}/.test(i2),s2=/^\s*(case|default)\b/.test(i2);return o2.baseIndent+(a2?0:s2?1:2)*o2.unit},"SwitchBody"),Block:delimitedIndent({closing:"}"}),ArrowFunction:__name(o2=>o2.baseIndent+o2.unit,"ArrowFunction"),"TemplateString BlockComment":__name(()=>null,"TemplateString BlockComment"),"Statement Property":continuedIndent({except:/^{/}),JSXElement(o2){let i2=/^\s*<\//.test(o2.textAfter);return o2.lineIndent(o2.node.from)+(i2?0:o2.unit)},JSXEscape(o2){let i2=/\s*\}/.test(o2.textAfter);return o2.lineIndent(o2.node.from)+(i2?0:o2.unit)},"JSXOpenTag JSXSelfClosingTag":__name(o2=>o2.column(o2.node.from)+o2.unit,"JSXOpenTag JSXSelfClosingTag")}),ud.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":__name(function(o2){let i2=o2.firstChild,a2=o2.lastChild;return i2&&i2.to<a2.from?{from:i2.to,to:a2.type.isError?o2.to:a2.from}:null},"foldInside"),BlockComment:__name(o2=>({from:o2.from+2,to:o2.to-2}),"BlockComment")})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),fg={test:__name(o2=>/^JSX/.test(o2.name),"test"),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},pg=lg.configure({dialect:"ts"},"typescript"),gg=lg.configure({dialect:"jsx",props:[Xu.add(o2=>o2.isTop?[fg]:void 0)]}),mg=lg.configure({dialect:"jsx ts",props:[Xu.add(o2=>o2.isTop?[fg]:void 0)]},"typescript");let kwCompletion=__name(o2=>({label:o2,type:"keyword"}),"kwCompletion");const yg="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),xg=yg.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(o2={}){let i2=o2.jsx?o2.typescript?mg:gg:o2.typescript?pg:lg,a2=o2.typescript?Kh.concat(xg):Gh.concat(yg);return new LanguageSupport(i2,[lg.data.of({autocomplete:(s2=sg,u2=completeFromList(a2),o3=>{for(let i3=syntaxTree(o3.state).resolveInner(o3.pos,-1);i3;i3=i3.parent){if(s2.indexOf(i3.name)>-1)return null;if(i3.type.isTop)break}return u2(o3)})}),lg.data.of({autocomplete:localCompletionSource}),o2.jsx?_g:[]]);var s2,u2}__name(javascript,"javascript");function elementName(o2,i2,a2=o2.length){for(let s2=i2==null?void 0:i2.firstChild;s2;s2=s2.nextSibling)if(s2.name=="JSXIdentifier"||s2.name=="JSXBuiltin"||s2.name=="JSXNamespacedName"||s2.name=="JSXMemberExpression")return o2.sliceString(s2.from,Math.min(s2.to,a2));return""}__name(elementName,"elementName");const kg=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),_g=EditorView.inputHandler.of((o2,i2,a2,s2,u2)=>{if((kg?o2.composing:o2.compositionStarted)||o2.state.readOnly||i2!=a2||s2!=">"&&s2!="/"||!lg.isActiveAt(o2.state,i2,-1))return!1;let O2=u2(),{state:w2}=O2,x2=w2.changeByRange(o3=>{var i3;let a3,{head:u3}=o3,O3=syntaxTree(w2).resolveInner(u3-1,-1);if(O3.name=="JSXStartTag"&&(O3=O3.parent),!(w2.doc.sliceString(u3-1,u3)!=s2||O3.name=="JSXAttributeValue"&&O3.to>u3)){if(s2==">"&&O3.name=="JSXFragmentTag")return{range:o3,changes:{from:u3,insert:"</>"}};if(s2=="/"&&O3.name=="JSXStartCloseTag"){let o4=O3.parent,s3=o4.parent;if(s3&&o4.from==u3-2&&((a3=elementName(w2.doc,s3.firstChild,u3))||((i3=s3.firstChild)===null||i3===void 0?void 0:i3.name)=="JSXFragmentTag")){let o5=`${a3}>`;return{range:EditorSelection.cursor(u3+o5.length,-1),changes:{from:u3,insert:o5}}}}else if(s2==">"){let i4=__name(function(o4){for(;;){if(o4.name=="JSXOpenTag"||o4.name=="JSXSelfClosingTag"||o4.name=="JSXFragmentTag")return o4;if(o4.name=="JSXEscape"||!o4.parent)return null;o4=o4.parent}},"findOpenTag")(O3);if(i4&&i4.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(w2.doc.sliceString(u3,u3+2))&&(a3=elementName(w2.doc,i4,u3)))return{range:o3,changes:{from:u3,insert:`</${a3}>`}}}}return{range:o3}});return!x2.changes.empty&&(o2.dispatch([O2,w2.update(x2,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});var CanvasCodeEditor=__name(function(a2){var s2=a2.functionString,u2=a2.setFunctionString,C2=reactExports.useRef(null),T2=reactExports.useRef(null),_2=reactExports.useState(!1),A2=_2[0],Q2=_2[1],N2=EditorView.theme({"&.cm-editor":{height:"100%",overflow:"hidden"},".cm-scroller":{overflow:"auto",height:"100%"},"&":{color:"var(--gray7)",backgroundColor:"var(--gray1)",height:"100%",fontSize:"16px"},".cm-content":{caretColor:"var(--green1)",overflow:"hidden"},"&.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"#074"},".cm-gutters":{backgroundColor:"var(--gray2)",color:"var(--gray6)",border:"none"}});return reactExports.useEffect(function(){var o2=EditorState.create({doc:s2,extensions:[lineNumbers(),highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),sd.of("    "),EditorState.allowMultipleSelections.of(!0),indentOnInput(),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),ic.of(__spreadArray(__spreadArray(__spreadArray(__spreadArray(__spreadArray([yf],Vp,!0),mf,!0),hf,!0),yd,!0),zp,!0)),javascript(),syntaxHighlighting(HighlightStyle.define([{tag:Uu.keyword,color:"#fc6"},{tag:Uu.name,color:"var(--yellow1)"},{tag:Uu.string,color:"var(--green1)"},{tag:Uu.number,color:"lightblue"},{tag:Uu.comment,color:"#f5d",fontStyle:"italic"},{tag:Uu.bool,color:"cyan"}]),{fallback:!0}),N2,EditorView.updateListener.of(function(o3){o3.docChanged&&o3.state.doc.toString()!==s2&&Q2(!0)})]});if(C2.current===null)throw new Error("editor.current is null");var i2=new EditorView({state:o2,parent:C2.current});return T2.current=i2,function(){i2.destroy()}},[s2]),jsxRuntimeExports.jsxs("div",{style:{display:"grid",gridTemplateRows:"1fr auto auto",height:"100%",width:"100%",gridTemplateColumns:"minmax(0, 1fr)",scrollbarColor:"var(--gray6) var(--gray1)"},children:[jsxRuntimeExports.jsx("div",{style:{height:"100%",width:"100%",overflow:"hidden"},ref:C2}),jsxRuntimeExports.jsx("div",{style:{display:"flex",justifyContent:"flex-end",padding:"10px",backgroundColor:"var(--gray2)"},children:A2?jsxRuntimeExports.jsx(Button$1,{bgColor:"var(--green1)",color:"var(--green4)",hoverBgColor:"var(--green2)",hoverColor:"white",iconName:"check",onClick:__name(function(){if(T2.current===null)throw new Error("editorView.current is null");var o2=T2.current.state.doc.toString();u2(o2),Q2(!1)},"onClick")}):null})]})},"CanvasCodeEditor");function P5CanvasContent(p2){const{timeline}=p2,project=reactExports.useSyncExternalStore(timeline.onTimelineUpdate.bind(timeline),timeline.getProject.bind(timeline)),generateSignalSuffix=__name(()=>{const signalNames=Object.values(project.orgData.signalNames);let suffix=1;for(;signalNames.some(signalName=>signalName==="Signal "+suffix);)suffix++;return suffix},"generateSignalSuffix");return jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",overflow:"hidden"},children:jsxRuntimeExports.jsx(OrganisationAreaSignalList,{project,projectTools:timeline.projectTools,openCreateSignalModal:__name(()=>{timeline.projectTools.createContinuousSignal(crypto.randomUUID(),"Signal "+generateSignalSuffix(),[0,1],0,"return easyLinear();")},"openCreateSignalModal")})})}__name(P5CanvasContent,"P5CanvasContent");const CONFIG={PAC_BACKGROUND_SERVICES:"https://mtrifonov-design.github.io/pinsandcurves-background-services/",SELF_HOST:"https://mtrifonov-design.github.io/pinsandcurves-panels/#"},_CK_Workload_Class=class _CK_Workload_Class{constructor(onDispatch){__publicField(this,"onDispatch");__publicField(this,"metadata",{});__publicField(this,"threads",{});__publicField(this,"expired",!1);this.onDispatch=onDispatch}setMetadata(key,value){this.metadata[key]=value}thread(tId){return this.threads[tId]||(this.threads[tId]=[]),new CK_Thread_Class(tId,this.threads)}dispatch(){if(this.expired)throw new Error("Workload expired");this.expired=!0,this.onDispatch(this.threads,this.metadata)}};__name(_CK_Workload_Class,"CK_Workload_Class");let CK_Workload_Class=_CK_Workload_Class;const _CK_Thread_Class=class _CK_Thread_Class{constructor(threadId,threads){__publicField(this,"threadId");__publicField(this,"threads");this.threadId=threadId,this.threads=threads}worker(receiver,payload){const unit={type:"worker",id:crypto.randomUUID(),receiver,payload};this.threads[this.threadId].push(unit)}blocker(blocker_id,blocker_count){const unit={type:"blocker",id:crypto.randomUUID(),blocker_id,blocker_count};this.threads[this.threadId].push(unit)}terminate(instance){const unit={type:"terminate",id:crypto.randomUUID(),instance};this.threads[this.threadId].push(unit)}};__name(_CK_Thread_Class,"CK_Thread_Class");let CK_Thread_Class=_CK_Thread_Class;const CK_Context=reactExports.createContext(null);function CK_Provider(p2){reactExports.useEffect(()=>{const{renderedCallback}=p2;renderedCallback&&renderedCallback()},[]);const FreeWorkload=__name(()=>new CK_Workload_Class((w2,m2)=>{p2.pushWorkload(w2,m2)}),"FreeWorkload");return jsxRuntimeExports.jsx(CK_Context.Provider,{value:{FreeWorkload,onUnit:p2.onUnit},children:p2.children})}__name(CK_Provider,"CK_Provider");function useCK(){const context=React.useContext(CK_Context);if(!context)throw new Error("useCK must be used within a CK_Provider");return context}__name(useCK,"useCK");function useUnit(callback){const{onUnit,FreeWorkload}=useCK();reactExports.useEffect(()=>{onUnit(callback)})}__name(useUnit,"useUnit");const AssetManagerContext=reactExports.createContext(null),INITContext=reactExports.createContext(null),_UnitCallbackManger=class _UnitCallbackManger{constructor(){__publicField(this,"callbacks",new Map)}registerCallback(callbackId,callback){this.callbacks.set(callbackId,callback)}unregisterCallback(callbackId){this.callbacks.delete(callbackId)}};__name(_UnitCallbackManger,"UnitCallbackManger");let UnitCallbackManger=_UnitCallbackManger;const UnitCallbackContext=React.createContext(null),AssetProvider=__name(({children})=>{const managersRef=reactExports.useRef(new Set),[initState,setInitState]=reactExports.useState(null),registryRef=reactExports.useRef({initialized:!1,register:__name(m2=>{managersRef.current.add(m2),registryRef.current.initialized&&m2.handleInit()},"register"),unregister:__name(m2=>{managersRef.current.delete(m2)},"unregister")}),{FreeWorkload}=useCK(),blockerIdRef=reactExports.useRef(null),unitCallbackManager=reactExports.useRef(new UnitCallbackManger).current,currentWorkloadRef=reactExports.useRef(null);return useUnit((unit,workload)=>{currentWorkloadRef.current=workload;const{sender,payload}=unit,{INIT,TERMINATE,blocker_id,payload:p2}=payload;if(INIT&&!registryRef.current.initialized){registryRef.current.initialized=!0,registryRef.current.vertexId=p2.vertexId,managersRef.current.forEach(m2=>m2.handleInit(p2.vertexId)),setInitState(p2),workload.dispatch();return}if(TERMINATE){blockerIdRef.current=blocker_id;const managers=Array.from(managersRef.current),releaseManagers=[...managers];if(managers.length===0){workload.thread("default").blocker(blockerIdRef.current,2),workload.dispatch();return}managers.map(m2=>m2.handleTerminate(self2=>{const idx=releaseManagers.indexOf(self2);if(idx!==-1&&releaseManagers.splice(idx,1),releaseManagers.length===0){const workload2=currentWorkloadRef.current;workload2.thread("default").blocker(blockerIdRef.current,2),workload2.dispatch()}},workload)),workload.dispatch();return}const keys=Object.keys(payload);if(keys.some(k2=>unitCallbackManager.callbacks.has(k2))){const first=keys.find(k2=>unitCallbackManager.callbacks.has(k2));if(first){const callback=unitCallbackManager.callbacks.get(first);callback&&callback(payload[first],workload)}workload.dispatch();return}managersRef.current.forEach(m2=>m2.handleEvent(sender,payload,workload)),workload.dispatch()}),jsxRuntimeExports.jsx(UnitCallbackContext.Provider,{value:unitCallbackManager,children:jsxRuntimeExports.jsx(AssetManagerContext.Provider,{value:registryRef.current,children:jsxRuntimeExports.jsx(INITContext.Provider,{value:initState,children})})})},"AssetProvider");function useUnitCallbacks(){const unitCallbackManager=reactExports.useContext(UnitCallbackContext);if(!unitCallbackManager)throw new Error("useUnitCallbacks must be used within AssetProvider");return unitCallbackManager}__name(useUnitCallbacks,"useUnitCallbacks");function useInit(){return reactExports.useContext(INITContext)}__name(useInit,"useInit");const _SubscriptionFSM=class _SubscriptionFSM{constructor(controller,FreeWorkload,manager){__publicField(this,"assetId");__publicField(this,"state","IDLE");__publicField(this,"subId");__publicField(this,"subName");__publicField(this,"assetController");__publicField(this,"manager");__publicField(this,"currentWorkload");__publicField(this,"FreeWorkload");__publicField(this,"vertexId","");__publicField(this,"cb_fsm");this.FreeWorkload=FreeWorkload,this.manager=manager,this.vertexId=(manager==null?void 0:manager.vertexId)||"",this.assetController=controller,this.assetController.setHooks({create:this.create.bind(this),subscribe:this.subscribe.bind(this),delete:this.delete.bind(this),update:this.update.bind(this),updateMetadata:this.updateMetadata.bind(this),unsubscribe:this.unsubscribe.bind(this)})}setCurrentWorkload(workload){this.currentWorkload=workload}sendToAssetServer(payload,free2=!1){const workload=free2?this.FreeWorkload():this.currentWorkload;if(!workload)throw new Error("No current workload set");const instance={instance_id:"ASSET_SERVER",modality:"wasmjs",resource_id:`${CONFIG.PAC_BACKGROUND_SERVICES}AssetServerV2`};payload!==void 0&&workload.thread("default").worker(instance,payload),free2&&workload.dispatch()}initialised(){return this.state==="ACTIVE"}detachFromManager(){this.manager.fsms.delete(this.assetId)}notifyManager(){this.manager&&this.manager.updateSnapshot()}dispatch(ev){switch(this.state){case"IDLE":ev.type==="SUBSCRIBE_TO_EXISTING"&&(this.subId=ev.subId,this.assetId=ev.assetId,this.sendToAssetServer({subscribeToExistingAsset:{asset_id:this.assetId,subscription_id:this.subId}},!0),this.state="SUBSCRIBING"),ev.type==="CREATE"&&(this.subName=ev.subName,this.assetController.load(ev.asset),this.sendToAssetServer({createAsset:ev.asset},!0),this.state="SUBSCRIBING");break;case"SUBSCRIBING":ev.type==="SUBSCRIBE_CONFIRMED"&&(this.subId=ev.subId,this.assetId=ev.assetId,this.sendToAssetServer()),ev.type==="ASSET_DATA"&&(this.assetController.load(ev.data),this.state="ACTIVE",this.notifyManager(),this.sendToAssetServer());break;case"ACTIVE":switch(ev.type){case"RECEIVE_UPDATE":this.assetController.receiveUpdate(ev.update),this.notifyManager(),this.sendToAssetServer();break;case"UPDATE":this.sendToAssetServer({updateAsset:{subscription_id:this.subId,asset_id:this.assetId,update:ev.update}},!0),this.notifyManager();break;case"UPDATE_METADATA":this.sendToAssetServer({updateAssetMetadata:{subscription_id:this.subId,asset_id:this.assetId,metadata:ev.metadata}},!0),this.notifyManager();break;case"RECEIVE_METADATA_UPDATE":this.assetController.receiveMetadataUpdate(ev.metadata),this.notifyManager(),this.sendToAssetServer();break;case"DELETE_NOTIFICATION":this.state="DONE",this.detachFromManager(),this.assetController.destroy(),this.notifyManager(),this.sendToAssetServer();break;case"UNSUBSCRIBE":this.state="CLOSING",this.sendToAssetServer({unsubscribeFromAsset:{subscription_id:this.subId,asset_id:this.assetId}}),this.notifyManager();break;case"DELETE":this.state="DONE",this.notifyManager();break}break;case"CLOSING":ev.type==="UNSUBSCRIBE_CONFIRMED"&&(this.state="DONE",this.assetController.destroy(),this.cb_fsm&&this.cb_fsm(this),this.notifyManager()),ev.type==="DELETE_NOTIFICATION"&&(this.state="DONE",this.detachFromManager(),this.assetController.destroy(),this.notifyManager());break}}isDone(){return this.state==="DONE"}getSnapshot(){return this.assetController.getSnapshot()}create(asset){this.subName=crypto.randomUUID(),this.dispatch({type:"CREATE",subName:this.subName,asset})}subscribe(assetId){this.subId=this.vertexId+"_"+assetId,this.dispatch({type:"SUBSCRIBE_TO_EXISTING",subId:this.subId,assetId})}delete(){this.dispatch({type:"DELETE"})}update(update2){this.dispatch({type:"UPDATE",update:update2})}updateMetadata(metadata){this.dispatch({type:"UPDATE_METADATA",metadata})}unsubscribe(cb_fsm){cb_fsm&&(this.cb_fsm=cb_fsm),this.dispatch({type:"UNSUBSCRIBE"})}};__name(_SubscriptionFSM,"SubscriptionFSM");let SubscriptionFSM=_SubscriptionFSM;var _listeners,_snapshot,_initialized,_unrealized_desired,_current_desired_ids;const _SubscriptionManager=class _SubscriptionManager{constructor({FreeWorkload,vertexId}){__publicField(this,"fsms",new Map);__privateAdd(this,_listeners,new Set);__privateAdd(this,_snapshot,{});__privateAdd(this,_initialized,!1);__privateAdd(this,_unrealized_desired);__publicField(this,"FreeWorkload");__publicField(this,"vertexId");__privateAdd(this,_current_desired_ids);__publicField(this,"subscribe",__name(listener=>(__privateGet(this,_listeners).add(listener),()=>__privateGet(this,_listeners).delete(listener)),"subscribe"));__publicField(this,"getSnapshot",__name(()=>__privateGet(this,_snapshot),"getSnapshot"));this.FreeWorkload=FreeWorkload,this.id=crypto.randomUUID(),vertexId&&(this.vertexId=vertexId)}setDesired(desired){if(!__privateGet(this,_initialized)){__privateSet(this,_unrealized_desired,desired);return}const desiredIds=new Set(desired.map(d2=>d2.assetId));__privateSet(this,_current_desired_ids,Array.from(desiredIds)),this.fsms.forEach((fsm,id2)=>{desiredIds.has(id2)||fsm.unsubscribe()}),desired.forEach(({assetId,assetController})=>{if(!this.fsms.has(assetId)){const fsm=new SubscriptionFSM(assetController,this.FreeWorkload,this);this.fsms.set(assetId,fsm),fsm.subscribe(assetId)}})}handleInit(vertexId){__privateSet(this,_initialized,!0),this.updateSnapshot(!0),this.vertexId=vertexId,this.setDesired(__privateGet(this,_unrealized_desired)),__privateGet(this,_listeners).forEach(l2=>l2())}handleTerminate(cb,workload){const fsms=Array.from(this.fsms.values()),cb_fsm=__name(self2=>{const idx=fsms.indexOf(self2);idx!==-1&&fsms.splice(idx,1),fsms.length===0&&cb(this)},"cb_fsm");if(this.fsms.size===0){cb(this);return}const listener=__name(()=>{Array.from(this.fsms.values()).filter(fsm=>fsm.isDone()!==!0).length===0&&__privateGet(this,_listeners).delete(listener)},"listener");__privateGet(this,_listeners).add(listener),this.fsms.forEach(fsm=>fsm.setCurrentWorkload(workload)),this.fsms.forEach(fsm=>fsm.unsubscribe(cb_fsm))}handleEvent(sender,payload,workload){const{receiveUpdate,subscriptionConfirmation,unsubscribeConfirmation,getAssetResponse,deleteNotification,receiveMetadataUpdate}=payload;if(subscriptionConfirmation){const{subscription_id,asset_id}=subscriptionConfirmation,fsm=Array.from(this.fsms.values()).find(fsm2=>fsm2.subId===subscription_id);if(!fsm)return;fsm.setCurrentWorkload(workload),fsm.dispatch({type:"SUBSCRIBE_CONFIRMED",subId:subscription_id,assetId:asset_id})}else{const universalSubId=[receiveUpdate,unsubscribeConfirmation,getAssetResponse,deleteNotification].filter(el=>el!==void 0).map(el=>el.subscription_id)[0],fsm=Array.from(this.fsms.values()).find(fsm2=>fsm2.subId===universalSubId);if(!fsm)return;fsm.setCurrentWorkload(workload),receiveUpdate&&fsm.dispatch({type:"RECEIVE_UPDATE",update:receiveUpdate.update}),unsubscribeConfirmation&&fsm.dispatch({type:"UNSUBSCRIBE_CONFIRMED"}),getAssetResponse&&fsm.dispatch({type:"ASSET_DATA",data:getAssetResponse.asset_data}),deleteNotification&&fsm.dispatch({type:"DELETE_NOTIFICATION"}),receiveMetadataUpdate&&fsm.dispatch({type:"RECEIVE_METADATA_UPDATE",metadata:receiveMetadataUpdate.metadata})}}updateSnapshot(force=!1){const next={};for(const[id2,fsm]of this.fsms)next[id2]=fsm.getSnapshot();const{snapshotId,...rest}=__privateGet(this,_snapshot);shallowEqual(next,rest)&&!force||(__privateSet(this,_snapshot,{...next,snapshotId:crypto.randomUUID()}),__privateGet(this,_listeners).forEach(l2=>l2()))}getAssetPresentation(){if(!__privateGet(this,_initialized))return{initialized:!1};const currentDesiredIds=__privateGet(this,_current_desired_ids);if(currentDesiredIds===void 0)return{initialized:!1};const result={};for(const id2 of currentDesiredIds){const fsm=this.fsms.get(id2);if(!fsm)return{initialized:!1};if(fsm.isDone())return console.warn(`AssetManager: getAssetPresentation: assetId ${id2} is done`),{initialized:!1};if(fsm.assetController===void 0)throw new Error(`AssetManager: getAssetPresentation: assetId ${id2} has no controller`);if(fsm.initialised()===!1)return{initialized:!1};result[id2]=fsm.assetController}return{initialized:!0,assets:result}}};_listeners=new WeakMap,_snapshot=new WeakMap,_initialized=new WeakMap,_unrealized_desired=new WeakMap,_current_desired_ids=new WeakMap,__name(_SubscriptionManager,"SubscriptionManager");let SubscriptionManager=_SubscriptionManager;function shallowEqual(a2,b2){const ak=Object.keys(a2),bk=Object.keys(b2);return ak.length!==bk.length?!1:ak.every(k2=>a2[k2]===b2[k2])}__name(shallowEqual,"shallowEqual");function useAssets(desired){const registry=reactExports.useContext(AssetManagerContext);if(!registry)throw new Error("useAssets must be used inside an <AssetProvider>.");const{FreeWorkload}=useCK(),managerRef=reactExports.useRef();return managerRef.current||(managerRef.current=new SubscriptionManager({FreeWorkload,vertexId:registry?registry.vertexId:void 0})),reactExports.useEffect(()=>(registry.register(managerRef.current),()=>registry.unregister(managerRef.current)),[registry]),reactExports.useLayoutEffect(()=>{managerRef.current.setDesired(desired)},[desired]),reactExports.useSyncExternalStore(managerRef.current.subscribe,managerRef.current.getSnapshot),managerRef.current.getAssetPresentation()}__name(useAssets,"useAssets");const _IndexController=class _IndexController{constructor(){__publicField(this,"initialised",!1);__publicField(this,"data");__publicField(this,"update");__publicField(this,"updateMetadata");__publicField(this,"create");__publicField(this,"delete");__publicField(this,"subscribe");__publicField(this,"unsubscribe")}load(data){this.data=data,this.initialised=!0}receiveUpdate(update2){this.data=update2}destroy(){this.data=void 0,this.initialised=!1}receiveMetadataUpdate(update2){}getSnapshot(){return this.data}setHooks(hooks){this.update=hooks.update,this.create=hooks.create,this.delete=hooks.delete,this.subscribe=hooks.subscribe,this.unsubscribe=hooks.unsubscribe,this.updateMetadata=hooks.updateMetadata}};__name(_IndexController,"IndexController");let IndexController=_IndexController;function useIndex(){const indexController=reactExports.useRef(new IndexController),{initialized,assets}=useAssets([{assetId:"index",assetController:indexController.current}]);return initialized?{initialized,index:assets.index}:{initialized,index:void 0}}__name(useIndex,"useIndex");const pb$3=new u.ProjectBuilder;pb$3.setTimelineData(900,30,0);pb$3.addContinuousSignal("s1","Signal 1",[0,1]);pb$3.addPin("s1",20,0,"return easyLinear()");pb$3.addPin("s1",40,1,"return easyEaseOut()");pb$3.addPin("s1",60,0,"return easyEaseIn()");pb$3.setSignalActiveStatus("s1",!0);const makeFile=__name(()=>{const project=pb$3.getProject();return _e$1.TimelineController.fromProject(project).serialize()},"makeFile"),Controller$2=_e$1.TimelineController,_TController=class _TController{constructor(){__publicField(this,"initialised",!1);__publicField(this,"data");__publicField(this,"update");__publicField(this,"updateMetadata");__publicField(this,"create");__publicField(this,"delete");__publicField(this,"subscribe");__publicField(this,"unsubscribe")}load(data){this.data=new Controller$2(data),this.data.onPushUpdate(()=>{const update2=this.data.transferOutgoingEvent();update2.commands.length!==0&&this.update(update2)}),this.initialised=!0}receiveUpdate(update2){this.data.receiveIncomingEvent(update2)}receiveMetadataUpdate(update2){}getSnapshot(){if(this.data!==void 0)return this.data.getProject()}destroy(){this.data=void 0,this.initialised=!1}setHooks(hooks){this.update=hooks.update,this.create=hooks.create,this.delete=hooks.delete,this.subscribe=hooks.subscribe,this.unsubscribe=hooks.unsubscribe,this.updateMetadata=hooks.updateMetadata}};__name(_TController,"TController");let TController=_TController;const TimelineContext=reactExports.createContext(null);function TimelineProvider({children,defaultProject:defaultProject2,defaultName:defaultName2,shouldCreate=!1}){const{initialized:indexInitialized,index}=useIndex(),tController=reactExports.useRef(new TController),timelineAssets=indexInitialized?Object.entries(index.data).filter(([assetId2,assetMetadata])=>assetMetadata.type==="timeline").map(([assetId2,assetMetadata])=>({assetId:assetId2,assetController:tController.current})):[],assetId=timelineAssets.length>0?timelineAssets[0].assetId:void 0,{FreeWorkload}=useCK();reactExports.useEffect(()=>{if(indexInitialized&&assetId===void 0&&shouldCreate){const workload=FreeWorkload();workload.thread("default").worker({instance_id:"ASSET_SERVER",modality:"wasmjs",resource_id:`${CONFIG.PAC_BACKGROUND_SERVICES}AssetServerV2`},{createAsset:{asset:{data:defaultProject2!==void 0?defaultProject2():makeFile(),metadata:{type:"timeline",name:defaultName2||"default.timeline",preferredEditorAddress:CONFIG.SELF_HOST+"editing"},on_update:{type:"custom",processor:{modality:"wasmjs",resource_id:`${CONFIG.PAC_BACKGROUND_SERVICES}TimelineProcessor`}},id:defaultName2||"default.timeline"}}}),workload.dispatch()}},[assetId,indexInitialized]);const{initialized:assetsInitialized,assets}=useAssets(timelineAssets),timeline=indexInitialized&&assetsInitialized&&assetId!==void 0&&assets[assetId]!==void 0?assets[assetId].data:void 0;return jsxRuntimeExports.jsx(TimelineContext.Provider,{value:timeline,children})}__name(TimelineProvider,"TimelineProvider");function useTimeline(){return React.useContext(TimelineContext)}__name(useTimeline,"useTimeline");function SignalList(){const timeline=useTimeline();return timeline?jsxRuntimeExports.jsx(P5CanvasContent,{timeline}):jsxRuntimeExports.jsx(FullscreenLoader,{})}__name(SignalList,"SignalList");function Index$1(){return jsxRuntimeExports.jsx(AssetProvider,{children:jsxRuntimeExports.jsx(TimelineProvider,{children:jsxRuntimeExports.jsx(SignalList,{})})})}__name(Index$1,"Index$1");_e$1.TimelineController;function EditingAreaWrapper(){return jsxRuntimeExports.jsx(AssetProvider,{children:jsxRuntimeExports.jsx(TimelineProvider,{children:jsxRuntimeExports.jsx(EditingArea,{})})})}__name(EditingAreaWrapper,"EditingAreaWrapper");function EditingArea(){const timeline=useTimeline();return timeline?jsxRuntimeExports.jsx(EditingAreaContent,{timeline}):jsxRuntimeExports.jsx(FullscreenLoader,{})}__name(EditingArea,"EditingArea");function EditingAreaContent({timeline}){const projectState=reactExports.useSyncExternalStore(timeline.onTimelineUpdate.bind(timeline),timeline.getProject.bind(timeline));window.timeline=timeline;const useProjectState=__name(()=>projectState,"useProjectState"),projectTools=timeline.projectTools,interpolateSignalValue=timeline.interpolateSignalValueAtTime.bind(timeline),[activeTool,setActiveTool]=reactExports.useState("pointer");return reactExports.useEffect(()=>{const handleKeyPress=__name(event=>{event.key==="a"&&setActiveTool(prevTool=>prevTool==="pointer"?"add_pin":"pointer")},"handleKeyPress");return window.addEventListener("keypress",handleKeyPress),()=>{window.removeEventListener("keypress",handleKeyPress)}},[]),jsxRuntimeExports.jsxs("div",{style:{width:"100vw",height:"100vh",display:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateRows:"50px 1fr",gridTemplateAreas:`
                "bar bar"
                "editing editing"
            `,backgroundColor:"#2C333A",overflow:"hidden"},children:[jsxRuntimeExports.jsxs("div",{style:{gridArea:"bar",display:"flex",flexDirection:"row",justifyContent:"center",gap:"20px"},children:[jsxRuntimeExports.jsx(TimelineBar$1,{project:useProjectState(),projectTools}),jsxRuntimeExports.jsx(Toolbar,{setActiveTool,activeTool})]}),jsxRuntimeExports.jsx("div",{style:{gridArea:"editing",height:"calc(100vh - 50px)"},children:jsxRuntimeExports.jsx(EditingAreaCanvas,{activeTool,project:useProjectState(),projectTools,setActiveEditor:__name(()=>{},"setActiveEditor"),interpolateSignalValue})})]})}__name(EditingAreaContent,"EditingAreaContent");var __assign=__name(function(){return __assign=Object.assign||__name(function(n2){for(var e2,t2=1,r2=arguments.length;t2<r2;t2++)for(var o2 in e2=arguments[t2])Object.prototype.hasOwnProperty.call(e2,o2)&&(n2[o2]=e2[o2]);return n2},"__assign"),__assign.apply(this,arguments)},"__assign");function Icon(t2){var o2=t2.iconName,i2=o2===void 0?"home":o2,a2=t2.bgColor,l2=a2===void 0?"transparent":a2,u2=t2.hoverBgColor,s2=u2===void 0?"var(--gray3)":u2,d2=t2.color,c2=d2===void 0?"var(--gray6)":d2,v2=t2.hoverColor,h2=v2===void 0?"var(--gray7)":v2,g2=t2.cursor,f2=g2===void 0?"pointer":g2,p2=t2.onClick,m2=p2===void 0?function(){}:p2,y2=t2.style,x2=y2===void 0?{}:y2,b2=React.useState(!1),S2=b2[0],w2=b2[1];return jsxRuntimeExports.jsx("div",{style:__assign({userSelect:"none",width:"35px",height:"35px",margin:"5px",cursor:f2,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:S2?s2:l2,transition:"background-color 0.2s",fontSize:"20px",color:S2?h2:c2},x2),className:"materialSymbols",onMouseOver:__name(function(){return w2(!0)},"onMouseOver"),onMouseOut:__name(function(){return w2(!1)},"onMouseOut"),onClick:m2,children:jsxRuntimeExports.jsxs("div",{children:[" ",i2]})})}__name(Icon,"Icon");function Button(t2){var o2=t2.text,i2=o2===void 0?void 0:o2,a2=t2.iconName,l2=a2===void 0?void 0:a2,u2=t2.bgColor,s2=u2===void 0?"var(--gray3)":u2,d2=t2.hoverBgColor,c2=d2===void 0?"var(--gray4)":d2,v2=t2.color,h2=v2===void 0?"var(--gray7)":v2,g2=t2.hoverColor,f2=g2===void 0?"var(--gray8)":g2,p2=t2.cursor,m2=p2===void 0?"pointer":p2,y2=t2.onClick,x2=y2===void 0?function(){}:y2,b2=React.useState(!1),S2=b2[0],w2=b2[1];return jsxRuntimeExports.jsxs("button",{onMouseOver:__name(function(){return w2(!0)},"onMouseOver"),onMouseOut:__name(function(){return w2(!1)},"onMouseOut"),onClick:x2,style:{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",padding:"0px",cursor:m2,height:"35px",margin:"5px",userSelect:"none",backgroundColor:S2?c2:s2,transition:"background-color 0.2s",fontSize:"var(--defaultFontSize)",color:S2?f2:h2,border:"none",borderRadius:"5px"},children:[i2?jsxRuntimeExports.jsx("div",{style:{marginTop:"2px",marginRight:l2?"2px":"15px",marginLeft:"15px"},children:i2}):null,l2?jsxRuntimeExports.jsx("div",{style:{marginRight:i2?"0px":"10px",marginLeft:i2?"0px":"10px"},children:jsxRuntimeExports.jsx(Icon,{iconName:l2,color:S2?f2:h2,hoverColor:S2?f2:h2,bgColor:"transparent",hoverBgColor:"transparent"})}):null]})}__name(Button,"Button");function StyleProvider(e2){var r2=e2.children;return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:r2})}__name(StyleProvider,"StyleProvider");__name(function(n2,e2){e2===void 0&&(e2={});var t2=e2.insertAt;if(typeof document<"u"){var r2=document.head||document.getElementsByTagName("head")[0],o2=document.createElement("style");o2.type="text/css",t2==="top"&&r2.firstChild?r2.insertBefore(o2,r2.firstChild):r2.appendChild(o2),o2.styleSheet?o2.styleSheet.cssText=n2:o2.appendChild(document.createTextNode(n2))}},"styleInject")(`
/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent font size inflation */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

/* Remove default margin in favour of better control in authored CSS */
body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd {
  margin-block-end: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set core body defaults */
body {
  min-height: 100vh;
  line-height: 1.5;
}

/* Set shorter line heights on headings and interactive elements */
h1, h2, h3, h4,
button, input, label {
  line-height: 1.1;
}

/* Balance text wrapping on headings */
h1, h2,
h3, h4 {
  text-wrap: balance;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentColor;
}

/* Make images easier to work with */
img,
picture {
  max-width: 100%;
  display: block;
}

/* Inherit fonts for inputs and buttons */
input, button,
textarea, select {
  font-family: inherit;
  font-size: inherit;
}

input:focus {
    outline: none;
  }
  

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}




@font-face {
    font-family: 'Material Symbols';
    src: url('https://storage.googleapis.com/pinsandcurvesfontservice/MaterialSymbolsSharp%5BFILL%2CGRAD%2Copsz%2Cwght%5D.woff2') format('woff');
    font-weight: normal;
    font-style: normal;
}

.materialSymbols {
    font-family: 'Material Symbols';
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
}

:root {
    --gray1: #1D2126;
    --gray2: #2C333A;
    --gray3: #3B434B;
    --gray4: #49525B;
    --gray5: #59646E;
    --gray6: #708090;
    --gray7 : #C6D6E6;
    --gray8 : white;
    --danger: pink;

    --green2: #6EBD6F;
    --green1: #84D585;
    --green3: #429A44;
    --green4: #1D471E;

    --yellow1: #FFF8D3;
    --yellow2: #FFF1A8;
    --yellow3: #E6C622;
    --yellow4: #A48E20;

    --borderRadiusSmall: 5px;

    --defaultFontSize: 16px;

    --continuousBlue1: #243157;
    --continuousBlue2: #4A5F9D;
    --continuousBlue3: #94a3d0;
    --discreteRed1: #562F2F;
    --discreteRed2: #915050;


    font-family: 'Roboto', sans-serif;
}

hr {
    border: none;
    border-top: 2px solid var(--gray3);
    margin: 1em 0;
  
}`);function Logo(t2){return o2=(r2=t2).color,i2=o2===void 0?"var(--yellow3)":o2,a2=r2.style,jsxRuntimeExports.jsx("div",{style:__assign({width:"100px",height:"100px",position:"relative"},a2),children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.5",clipRule:"evenodd",viewBox:"0 0 1383 1384",style:{position:"absolute",width:"100%",height:"100%",top:0,left:0},children:jsxRuntimeExports.jsx("g",{transform:"translate(-11290 -51923)",children:jsxRuntimeExports.jsxs("g",{id:"Artboard10",children:[jsxRuntimeExports.jsx("path",{fill:"none",d:"M11290.083 51923.766h1382.825v1382.824h-1382.825z"}),jsxRuntimeExports.jsx("path",{fill:"none",stroke:i2,strokeWidth:"179.17",d:"M11636.648 53004.745s-129.7-164.1-129.7-390.899 126.3-407.598 126.3-407.598"}),jsxRuntimeExports.jsx("path",{fill:"none",stroke:i2,strokeWidth:"187.5",d:"M11971.64 53053.006v-827.096"}),jsxRuntimeExports.jsx("path",{fill:i2,d:"m12205.948 52376.04 174.425-174.425 174.426 174.425-174.426 174.426z"})]})})})});var r2,o2,i2,a2}__name(Logo,"Logo");function SimpleCommittedNumberInput(t2){var o2=t2.onCommit,i2=t2.onChange,a2=t2.initialValue,l2=a2===void 0?0:a2,u2=t2.min,s2=t2.max,d2=t2.step,c2=t2.dragPixelsForFullRange,v2=c2===void 0?120:c2,h2=t2.hoverScale,g2=h2===void 0?1.8:h2;t2.hoverColor;var f2=t2.hoverShadow,p2=f2===void 0?"0 4px 12px rgba(0,0,0,0.35)":f2,m2=t2.hoverOffsetMax,y2=m2===void 0?8:m2,x2=t2.color,b2=x2===void 0?"var(--gray7)":x2,S2=t2.bgColor,w2=S2===void 0?"var(--gray3)":S2,C2=t2.bgActive,M2=C2===void 0?"var(--gray4)":C2,k2=t2.bgInvalidInput,z2=k2===void 0?"var(--danger)":k2,R2=t2.invalidInputColor,F2=R2===void 0?"var(--gray2)":R2,B2=t2.charSize,I2=t2.maxCharSize,E2=I2===void 0?50:I2,A2=React.useMemo(function(){if(d2==null)return 6;var n2=d2.toString(),e2=n2.indexOf(".");return e2>=0?n2.length-e2-1:0},[d2]),fmt=__name(function(n2){return parseFloat(n2.toFixed(A2))},"fmt"),isValid=__name(function(n2){return!Number.isNaN(n2)&&function(n3){return d2==null||Math.abs((n3-(u2??0))/d2-Math.round((n3-(u2??0))/d2))<1e-9}(n2)&&function(n3){return(u2==null||n3>=u2)&&(s2==null||n3<=s2)}(n2)},"isValid"),L2=React.useMemo(function(){if(d2==null)return 5;if(u2!=null&&s2!=null){var n2=(s2-u2)/d2||1;return Math.min(20,Math.max(.1,v2/n2))}return 5},[d2,u2,s2,v2]),D2=React.useRef(null),N2=React.useRef(null),O2=React.useRef(!1),j2=React.useState(l2),T2=j2[0],P2=j2[1],W2=React.useState(String(l2)),V2=W2[0],G2=W2[1],K2=React.useState(!1),X2=K2[0],Y2=K2[1],_2=React.useState(!1),q2=_2[0],H2=_2[1],J2=React.useState(!0),Q2=J2[0],U2=J2[1],Z2=React.useState([0,0]),$2=Z2[0],nn=Z2[1],en=React.useState(B2??Math.min(String(l2).length,E2)),tn=en[0],rn=en[1],on=React.useRef(V2),setDisplay=__name(function(n2){G2(n2),on.current=n2},"setDisplay"),push=__name(function(n2,e2){return e2&&o2?o2(n2):i2==null?void 0:i2(n2)},"push"),commitEditing=__name(function(){var n2=parseFloat(on.current);if(isValid(n2)){var e2=fmt(n2);P2(e2),setDisplay(String(e2)),push(e2,!0)}else setDisplay(String(T2));Y2(!1)},"commitEditing"),move2=__name(function(n2){if(N2.current){var e2=N2.current.y-n2.clientY,t3=n2.clientX-N2.current.x;if(!O2.current&&(Math.abs(e2)>3||Math.abs(t3)>3)&&(O2.current=!0,H2(!0),document.body.style.cursor="ns-resize"),O2.current){var r2=e2/L2,i3=d2?Math.round(r2)*d2:r2,a3=N2.current.base+i3;if(d2){var l3=u2??0;a3=l3+Math.round((a3-l3)/d2)*d2}u2!=null&&(a3=Math.max(a3,u2)),s2!=null&&(a3=Math.min(a3,s2)),a3=fmt(a3),setDisplay(String(a3)),U2(!0);var c3=Math.max(-y2,Math.min(y2,.25*e2)),v3=Math.max(-y2,Math.min(y2,.25*t3));nn([v3,c3]),o2||push(a3,!1)}}},"move"),up2=__name(function(){window.removeEventListener("mousemove",move2),window.removeEventListener("mouseup",up2),O2.current?(commitEditing(),H2(!1),nn([0,0]),O2.current=!1,document.body.style.cursor=""):(Y2(!0),setTimeout(function(){var n2,e2;(n2=D2.current)===null||n2===void 0||n2.focus(),(e2=D2.current)===null||e2===void 0||e2.select()},0)),N2.current=null},"up"),an={backgroundColor:X2||q2?Q2?M2:z2:w2,color:q2?"transparent":X2?Q2?b2:F2:b2,padding:"5px 10px",borderRadius:"var(--borderRadiusSmall)",minWidth:"100px",fontSize:"16px",border:"none",cursor:q2?"ns-resize":"text",userSelect:"none",transition:"background-color 0.1s",display:"inline-block"};return jsxRuntimeExports.jsxs("div",{style:{position:"relative",display:"inline-block"},children:[X2?jsxRuntimeExports.jsx("input",{ref:D2,type:"text",value:V2,size:tn,style:__assign(__assign({},an),{color:Q2?b2:F2,padding:"8px 8px"}),onChange:__name(function(n2){var e2=n2.target.value;setDisplay(e2),B2==null&&rn(Math.min(e2.length,E2));var t3=parseFloat(e2),r2=isValid(t3);U2(r2),r2&&!o2&&push(t3,!1)},"onChange"),onBlur:commitEditing,onKeyDown:__name(function(n2){return n2.key==="Enter"&&commitEditing()},"onKeyDown")}):jsxRuntimeExports.jsx("div",{style:an,onMouseDown:__name(function(n2){X2||(N2.current={x:n2.clientX,y:n2.clientY,base:T2},O2.current=!1,window.addEventListener("mousemove",move2),window.addEventListener("mouseup",up2))},"onMouseDown"),children:V2}),q2&&jsxRuntimeExports.jsx("div",{style:{position:"absolute",left:"50%",transform:`translate(-100%,-100%)
                        translate(`.concat($2[0],"px,").concat(-$2[1],`px)
                        scale(`).concat(g2,")"),transformOrigin:"center",color:b2,textShadow:p2,fontWeight:500,pointerEvents:"none",willChange:"transform",transition:"transform 0.04s linear",userSelect:"none"},children:V2})]})}__name(SimpleCommittedNumberInput,"SimpleCommittedNumberInput");const pb$2=new u.ProjectBuilder;pb$2.setTimelineData(900,30,0);pb$2.addContinuousSignal("s1","Signal 1",[0,1]);pb$2.addPin("s1",20,0,"return easyLinear()");pb$2.addPin("s1",40,1,"return easyEaseOut()");pb$2.addPin("s1",60,0,"return easyEaseIn()");pb$2.setSignalActiveStatus("s1",!0);function Lobby(p2){return Object.entries(p2.index.data).filter(([id2,file])=>file.type==="js"||file.type==="html"),jsxRuntimeExports.jsxs("div",{style:{backgroundColor:"var(--gray1)",width:"100vw",height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:"38px",marginTop:"30px",color:"var(--gray3)",gap:"10px"},children:[jsxRuntimeExports.jsx(Logo,{color:"var(--gray3)",style:{width:"37px",height:"37px"}}),"Code Editor"]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"30px",color:"var(--gray6)"},children:["Create new asset",jsxRuntimeExports.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",marginLeft:"10px"},children:[jsxRuntimeExports.jsx(Button,{text:"javascript",iconName:"javascript",onClick:__name(()=>{globalThis.CK_ADAPTER.pushWorkload({default:[{type:"worker",receiver:{instance_id:"ASSET_SERVER",modality:"wasmjs",resource_id:`${CONFIG.PAC_BACKGROUND_SERVICES}AssetServerV2`},payload:{createAsset:{asset:{data:'//console.log("Hello World")',metadata:{type:"js",name:"test.js",preferredEditorAddress:CONFIG.SELF_HOST+"code"},on_update:{type:"simple"}}}}},{type:"worker",receiver:{instance_id:"ui",modality:"ui",resource_id:"ui"},payload:{setVertexPayload:{vertexId:p2.vertexId,payload:{assetMetadata:{type:"js",name:"test.js",preferredEditorAddress:CONFIG.SELF_HOST+"code"}}}}}]})},"onClick")}),jsxRuntimeExports.jsx(Button,{text:"html",iconName:"html",onClick:__name(()=>{globalThis.CK_ADAPTER.pushWorkload({default:[{type:"worker",receiver:{instance_id:"ASSET_SERVER",modality:"wasmjs",resource_id:`${CONFIG.PAC_BACKGROUND_SERVICES}AssetServerV2`},payload:{createAsset:{asset:{data:`
                                            <html>
                                                <head>
                                                    <title>Test</title>
                                                </head>
                                                <body>
                                                    <h1>Hello World</h1>
                                                    <script src="{{test.js}}"><\/script>
                                                </body>
                                            </html>
                                        `,metadata:{type:"html",name:"index.html",preferredEditorAddress:CONFIG.SELF_HOST+"code"},on_update:{type:"simple"}}}}},{type:"worker",receiver:{instance_id:"ui",modality:"ui",resource_id:"ui"},payload:{setVertexPayload:{vertexId:p2.vertexId,payload:{assetMetadata:{type:"html",name:"index.html",preferredEditorAddress:CONFIG.SELF_HOST+"code"}}}}}]})},"onClick")})]})]})]})}__name(Lobby,"Lobby");const _TextController=class _TextController{constructor(){__publicField(this,"initialised",!1);__publicField(this,"data");__publicField(this,"update");__publicField(this,"updateMetadata");__publicField(this,"create");__publicField(this,"delete");__publicField(this,"subscribe");__publicField(this,"unsubscribe")}load(data){this.data=data,this.initialised=!0}receiveUpdate(update2){this.data=update2}destroy(){this.data=void 0,this.initialised=!1}receiveMetadataUpdate(update2){}getSnapshot(){return this.data}setHooks(hooks){this.update=hooks.update,this.create=hooks.create,this.delete=hooks.delete,this.subscribe=hooks.subscribe,this.unsubscribe=hooks.unsubscribe,this.updateMetadata=hooks.updateMetadata}};__name(_TextController,"TextController");let TextController=_TextController;function CodeEditor(){const{initialized:initializedIndex,index}=useIndex(),[assetId,setAssetId]=reactExports.useState(void 0),tController=reactExports.useRef(new TextController),{initialized:initializedAssets,assets}=useAssets(assetId?[{assetId,assetController:tController.current}]:[]),[vertexId,setVertexId]=reactExports.useState(void 0),payload=useInit();if(reactExports.useEffect(()=>{var _a19;if(payload&&payload.vertexId!==void 0){const{vertexId:vertexId2}=payload;setVertexId(vertexId2)}if(payload&&payload.assetMetadata!==void 0&&initializedIndex){const{name,type}=payload.assetMetadata,assetId2=(_a19=Object.entries(index.data).find(([id2,assetMetadata])=>assetMetadata.name===name&&assetMetadata.type===type))==null?void 0:_a19[0];setAssetId(assetId2)}},[payload,initializedIndex]),!(initializedIndex&&initializedAssets&&vertexId!==void 0))return jsxRuntimeExports.jsx(FullscreenLoader,{});if(assetId!==void 0&&assets[assetId]!==void 0){const asset=assets[assetId];return jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"100vh",overflow:"hidden",display:"grid",gridTemplateRows:"1fr"},children:jsxRuntimeExports.jsx("div",{style:{width:"100vw",height:"calc(100vh)",overflow:"hidden"},children:jsxRuntimeExports.jsx(CanvasCodeEditor,{setFunctionString:asset.update,functionString:asset.data})})})}return jsxRuntimeExports.jsx(Lobby,{index,setAssetId,vertexId})}__name(CodeEditor,"CodeEditor");function Index(){return jsxRuntimeExports.jsx(AssetProvider,{children:jsxRuntimeExports.jsx(CodeEditor,{})})}__name(Index,"Index");const rand=__name(s2=>(Math.sin(s2)*43758.5453123%1+1)/2,"rand"),randN=__name((k2,n2=1.61803398875)=>rand(k2+n2),"randN"),easeInExpo=__name(x2=>x2===0?0:Math.pow(2,10*x2-10),"easeInExpo"),easeInSine=__name(x2=>1-Math.cos(x2*Math.PI/2),"easeInSine");var _RaySystem_instances,write_fn,initPhase_fn,burstParams_fn,stripeParams_fn;const _RaySystem=class _RaySystem{constructor(){__privateAdd(this,_RaySystem_instances);__publicField(this,"BURST_MAX",45);__publicField(this,"STRIPE_MAX",195);__publicField(this,"BURST_LIFE",40);__publicField(this,"STRIPE_LIFE",70);__publicField(this,"TWO_PI",Math.PI*2);__publicField(this,"RAY_COLORS",[[255,0,0],[0,255,0],[0,0,255]]);__publicField(this,"RAY_VARIANCE",.03);__publicField(this,"RAY_VARIANCE_VARIANCE",.03);__publicField(this,"BACKGROUND_COLOR",[0,0,0]);__publicField(this,"BIRTH_RATE",.5);__publicField(this,"CENTER_X",.5);__publicField(this,"CENTER_Y",.5);__publicField(this,"WAVE_AMPLITUDE",0);__publicField(this,"WAVE_FREQUENCY",0);__publicField(this,"project");__publicField(this,"controls");__publicField(this,"timeline");this.buffer=new Float32Array(_RaySystem.HARD_MAX*14),this.count=0,this.time=0,this.burstPhase=__privateMethod(this,_RaySystem_instances,initPhase_fn).call(this,this.BURST_MAX,this.BURST_LIFE,1),this.stripePhase=__privateMethod(this,_RaySystem_instances,initPhase_fn).call(this,this.STRIPE_MAX,this.STRIPE_LIFE,2)}wasBorn(birthFrame,threshold){if(!this.project||!Object.values(this.project.orgData.signalNames).includes("Birth Rate"))return!1;const signalId=Object.entries(this.project.orgData.signalNames).find(([key,value])=>value==="Birth Rate")[0],[birthRate]=this.timeline.interpolateSignalValueAtTime(signalId,birthFrame);return birthRate>threshold}getCenter(birthFrame){if(!this.project||!Object.values(this.project.orgData.signalNames).includes("Center X"))return!1;const cxsid=Object.entries(this.project.orgData.signalNames).find(([key,value])=>value==="Center X")[0],[cx]=this.timeline.interpolateSignalValueAtTime(cxsid,birthFrame),cysid=Object.entries(this.project.orgData.signalNames).find(([key,value])=>value==="Center Y")[0],[cy]=this.timeline.interpolateSignalValueAtTime(cysid,birthFrame);return[cx,cy]}updateConstants(){this.STRIPE_LIFE=this.controls.lifespan,this.BURST_LIFE=this.controls.lifespan,this.BURST_MAX=Math.floor(this.controls.maxRays*.5),this.STRIPE_MAX=Math.floor(this.controls.maxRays*1),this.burstPhase=__privateMethod(this,_RaySystem_instances,initPhase_fn).call(this,this.BURST_MAX,this.BURST_LIFE,1),this.stripePhase=__privateMethod(this,_RaySystem_instances,initPhase_fn).call(this,this.STRIPE_MAX,this.STRIPE_LIFE,2),this.RAY_VARIANCE=this.controls.averageThickness*.01,this.RAY_VARIANCE_VARIANCE=this.controls.thicknessVariance*.01,this.BACKGROUND_COLOR=this.controls.backgroundColor.map(c2=>c2/255),this.WAVE_AMPLITUDE=this.controls.waveAmplitude/360,this.WAVE_FREQUENCY=this.controls.waveFrequency;const convertedRaycolors=[...this.controls.rayColors].map(c2=>[c2[0]/255,c2[1]/255,c2[2]/255]);if(this.RAY_COLORS=convertedRaycolors,!this.project||!Object.values(this.project.orgData.signalNames).includes("Birth Rate"))return!1;const cxsid=Object.entries(this.project.orgData.signalNames).find(([key,value])=>value==="Center X")[0],[cx]=this.timeline.interpolateSignalValueAtTime(cxsid,this.time),cysid=Object.entries(this.project.orgData.signalNames).find(([key,value])=>value==="Center Y")[0],[cy]=this.timeline.interpolateSignalValueAtTime(cysid,this.time);this.CENTER_X=this.controls.centerX/1920,this.CENTER_Y=this.controls.centerY/1080}update(project,controls,timeline){this.time=project.timelineData.playheadPosition,this.project=project,this.controls=controls,this.timeline=timeline,this.updateConstants();const{BURST_MAX,STRIPE_MAX,BURST_LIFE,STRIPE_LIFE}=this;let ptr=0;for(let i2=0;i2<BURST_MAX;++i2){const rel=this.time-this.burstPhase[i2];if(rel<0)continue;const cycle=Math.floor(rel/BURST_LIFE),birthFrame=this.burstPhase[i2]+cycle*BURST_LIFE;if(!this.wasBorn(birthFrame,i2/BURST_MAX))continue;const t2=rel%BURST_LIFE/BURST_LIFE,p2=__privateMethod(this,_RaySystem_instances,burstParams_fn).call(this,i2),dist2=easeInExpo(t2)*2.5,len=.01+(p2.maxLen-.01)*t2;__privateMethod(this,_RaySystem_instances,write_fn).call(this,ptr++,{angle:p2.angle,variance:p2.variance,start:dist2,end:dist2+len,softness:p2.softness,colorRad:p2.colorRad,fade:1,colors:this.RAY_COLORS[i2%this.RAY_COLORS.length],center:this.getCenter(birthFrame)})}for(let i2=0;i2<STRIPE_MAX;++i2){const rel=this.time-this.burstPhase[i2];if(rel<0)continue;const cycle=Math.floor(rel/BURST_LIFE),birthFrame=this.burstPhase[i2]+cycle*BURST_LIFE;if(!this.wasBorn(birthFrame,i2/BURST_MAX))continue;const t2=rel%STRIPE_LIFE/STRIPE_LIFE,p2=__privateMethod(this,_RaySystem_instances,stripeParams_fn).call(this,i2),end=Math.min(easeInExpo(t2*1.75),1)*2.5;__privateMethod(this,_RaySystem_instances,write_fn).call(this,ptr++,{angle:p2.angle,variance:p2.variance,start:0,end,softness:p2.softness,colorRad:1,fade:1-easeInSine(t2),colors:this.RAY_COLORS[i2%this.RAY_COLORS.length],center:this.getCenter(birthFrame)})}this.count=ptr}};_RaySystem_instances=new WeakSet,write_fn=__name(function(index,p2){p2.angle=p2.angle-2*Math.PI;const base=index*14,out=this.buffer;out[base]=p2.angle,out[base+1]=p2.variance,out[base+2]=p2.start,out[base+3]=p2.end,out[base+4]=p2.softness,out[base+5]=p2.colorRad,out[base+6]=p2.colors[0]*p2.fade,out[base+7]=p2.colors[1]*p2.fade,out[base+8]=p2.colors[2]*p2.fade,out[base+9]=p2.colors[0]*p2.fade,out[base+10]=p2.colors[1]*p2.fade,out[base+11]=p2.colors[2]*p2.fade,out[base+12]=p2.center?p2.center[0]:this.CENTER_X,out[base+13]=p2.center?p2.center[1]:this.CENTER_Y},"#write"),initPhase_fn=__name(function(N2,lifecycle,seed){const a2=new Uint16Array(N2);for(let i2=0;i2<N2;++i2)a2[i2]=Math.floor(randN(i2+seed)*lifecycle);return a2},"#initPhase"),burstParams_fn=__name(function(i2){const k2=100*i2;return{maxLen:1.8*(.9+randN(k2+1)*.2),variance:Math.max(this.RAY_VARIANCE*1.5+(randN(k2+2)*this.RAY_VARIANCE_VARIANCE-this.RAY_VARIANCE_VARIANCE/2)*1.5,0),softness:.2*(.9+randN(k2+3)*.2),colorRad:1*(.9+randN(k2+4)*.2),angle:randN(k2+5)*this.TWO_PI}},"#burstParams"),stripeParams_fn=__name(function(i2){const k2=100*i2;return{variance:Math.max(this.RAY_VARIANCE+(randN(k2+1)*this.RAY_VARIANCE_VARIANCE-this.RAY_VARIANCE_VARIANCE/2),0),softness:.1*(.9+randN(k2+2)*.2),angle:randN(k2+3)*this.TWO_PI}},"#stripeParams"),__name(_RaySystem,"RaySystem"),__publicField(_RaySystem,"HARD_MAX",2e3);let RaySystem=_RaySystem;const shaderCode=`/*--------------------------------------------------------------------
  shader.wgsl – “no-fetch” version
--------------------------------------------------------------------*/
struct Ray {
    angle    : f32, variance : f32,
    start    : f32, end      : f32,
    softness : f32, radColor : f32,
    cA_r     : f32, cA_g     : f32,
    cA_b     : f32, cB_r     : f32,
    cB_g     : f32, cB_b     : f32,
    center        : vec2<f32>
};

struct Globals {
    resolution : vec2<f32>,
    center     : vec2<f32>,
    waveAmplitude: f32,
    waveFrequency: f32,
};
@group(0) @binding(0) var<uniform>        uni  : Globals;
@group(0) @binding(1) var<storage, read>  rays : array<Ray>;

const PI : f32 = 3.141592653589793;

/* helpers (unchanged) ------------------------------------------- */
fn wrap(a:f32)->f32{ return (a+PI) % (2.0*PI) - PI; }
fn angularGaussian(t:f32,a:f32,v:f32)->f32{
    let d = wrap(t-a);  return exp(-0.5*d*d/(v*v));
}
fn radialMask(r:f32,s:f32,e:f32,soft:f32)->f32{
    let up=smoothstep(s,s+soft,r); let dn=smoothstep(e-soft,e,r);
    return up*(1.0-dn);
}
fn radialGradient(r:f32,R:f32)->f32{ return clamp(r/R,0.0,1.0); }

/*------------ vertex --------------------------------------------*/
struct VsOut {
    @builtin(position) position : vec4<f32>,
    @location(0)       v_pos    : vec2<f32>,

    /* flat varyings with the whole ray record */
    @location(1) @interpolate(flat) p0 : vec4<f32>,   // angle, var, start, end
    @location(2) @interpolate(flat) p1 : vec4<f32>,   // soft, rad, cA.r, cA.g
    @location(3) @interpolate(flat) p2 : vec4<f32>,   // cA.b, cB.r, cB.g, cB.b
    @location(4) @interpolate(flat) center : vec2<f32>,
};

@vertex
fn vs_main(
    @location(0) corner : vec2<f32>,
    @builtin(instance_index) id : u32
) -> VsOut {
    let ray = rays[id];

    let width = ray.variance * 3.0 + ray.softness * 1.5;
    let asp   = uni.resolution.x / uni.resolution.y;
    let dir   = vec2<f32>(cos(ray.angle)/asp, sin(ray.angle));
    let nrm   = normalize(vec2<f32>(-dir.y, dir.x));

    let along = mix(ray.start, ray.end, corner.x);
    let pos   = uni.center + dir*along + nrm*width*corner.y;

    var out : VsOut;
    out.position = vec4<f32>(pos*2.0-1.0, 0.0, 1.0);
    out.v_pos    = pos;

    out.p0 = vec4<f32>(ray.angle, ray.variance, ray.start, ray.end);
    out.p1 = vec4<f32>(ray.softness, ray.radColor, ray.cA_r, ray.cA_g);
    out.p2 = vec4<f32>(ray.cA_b, ray.cB_r, ray.cB_g, ray.cB_b);
    out.center = uni.center;
    return out;
}

/*------------ fragment ------------------------------------------*/
@fragment
fn fs_main(
    @location(0) v_pos : vec2<f32>,
    @location(1) @interpolate(flat) p0 : vec4<f32>,
    @location(2) @interpolate(flat) p1 : vec4<f32>,
    @location(3) @interpolate(flat) p2 : vec4<f32>,
    @location(4) @interpolate(flat) center : vec2<f32>,
) -> @location(0) vec4<f32> {
    let angle     = p0.x;  
    let variance = p0.y;
    let startDist = p0.z;  
    let endDist  = p0.w;
    let softness  = p1.x;  
    let radColor = p1.y;

    let colA = vec3<f32>(p1.z, p1.w, p2.x);
    let colB = vec3<f32>(p2.y, p2.z, p2.w);

    var uv = v_pos - center;
    uv.x  *= uni.resolution.x / uni.resolution.y;

    let r     = length(uv);
    let theta = atan2(uv.y, uv.x);

    let freq   = uni.waveFrequency;          // waves per unit radius
    let arc    = uni.waveAmplitude;          // arc-length of each wobble in “scene units”
    let phase  = 0.0;
    let dθ     = (arc / max(r, 1e-4)) *            // 1/r keeps arc-length fixed
                sin(freq * r + phase);            // linear-in-r → constant spacing
    let wA = angularGaussian(theta, angle + dθ, variance);

    let wR = radialMask     (r,     startDist, endDist, softness);
    let wG = radialGradient (r,     radColor);

    let col = mix(colA, colB, wG) * (wA * wR);
    return vec4<f32>(col, 1.0);   // additive blending
    // return vec4<f32>(v_pos, 0.0, 1.0);
}`,_WebGPURenderer=class _WebGPURenderer{constructor(canvas,raySystem){this.canvas=canvas,this.ctx=canvas.getContext("webgpu",{preserveDrawingBuffer:!0}),this.raySys=raySystem,this.device=null}async init(){const adapter=await navigator.gpu.requestAdapter();this.device=await adapter.requestDevice();const format=navigator.gpu.getPreferredCanvasFormat();this.ctx.configure({device:this.device,format,alphaMode:"opaque"});const max=RaySystem.HARD_MAX;this.rayBuf=this.device.createBuffer({size:max*14*4,usage:GPUBufferUsage.STORAGE|GPUBufferUsage.COPY_DST}),this.uniformBuf=this.device.createBuffer({size:24,usage:GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST});const bindGroupLayout=this.device.createBindGroupLayout({entries:[{binding:0,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"uniform"}},{binding:1,visibility:GPUShaderStage.VERTEX|GPUShaderStage.FRAGMENT,buffer:{type:"read-only-storage"}}]});this.bindGroup=this.device.createBindGroup({layout:bindGroupLayout,entries:[{binding:0,resource:{buffer:this.uniformBuf}},{binding:1,resource:{buffer:this.rayBuf}}]}),this.vertBuf=this.device.createBuffer({size:6*2*4,usage:GPUBufferUsage.VERTEX,mappedAtCreation:!0}),new Float32Array(this.vertBuf.getMappedRange()).set([0,-1,0,1,1,1,0,-1,1,1,1,-1]),this.vertBuf.unmap(),this.pipeline=this.device.createRenderPipeline({layout:this.device.createPipelineLayout({bindGroupLayouts:[bindGroupLayout]}),vertex:{module:this.device.createShaderModule({code:shaderCode}),entryPoint:"vs_main",buffers:[{arrayStride:8,attributes:[{shaderLocation:0,format:"float32x2",offset:0}]}]},fragment:{module:this.device.createShaderModule({code:shaderCode}),entryPoint:"fs_main",targets:[{format,blend:{color:{operation:"add",srcFactor:"one",dstFactor:"one"},alpha:{operation:"add",srcFactor:"one",dstFactor:"one"}}}]},primitive:{topology:"triangle-list"}})}async onFrameReady(cb){this.device&&(await this.device.queue.onSubmittedWorkDone(),cb())}draw(){const{device,raySys}=this;if(!device)return;const INSTANCES=raySys.count;if(raySys.count){const slice=raySys.buffer.subarray(0,INSTANCES*14);this.device.queue.writeBuffer(this.rayBuf,0,slice)}const res=new Float32Array([this.canvas.width,this.canvas.height,this.raySys.CENTER_X,this.raySys.CENTER_Y,this.raySys.WAVE_AMPLITUDE,this.raySys.WAVE_FREQUENCY]);device.queue.writeBuffer(this.uniformBuf,0,res);const encoder=device.createCommandEncoder(),view2=this.ctx.getCurrentTexture().createView(),[r2,g2,b2]=raySys.BACKGROUND_COLOR,pass=encoder.beginRenderPass({colorAttachments:[{view:view2,clearValue:{r:r2,g:g2,b:b2,a:1},loadOp:"clear",storeOp:"store"}]});pass.setPipeline(this.pipeline),pass.setBindGroup(0,this.bindGroup),pass.setVertexBuffer(0,this.vertBuf),raySys.count&&pass.draw(6,INSTANCES),pass.end(),device.queue.submit([encoder.finish()])}};__name(_WebGPURenderer,"WebGPURenderer");let WebGPURenderer=_WebGPURenderer;const _Canvas2DRenderer=class _Canvas2DRenderer{constructor(canvas,raySys){this.ctx=canvas.getContext("2d"),this.raySys=raySys,this.center={x:canvas.width*.5,y:canvas.height*.5}}draw(){const ctx=this.ctx;ctx.fillStyle="rgb(0,0,0)",ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height);const{buffer,count}=this.raySys;for(let i2=0;i2<count;++i2){const o2=i2*12,a2=buffer[o2];buffer[o2+1];const s2=buffer[o2+2],e2=buffer[o2+3],cA=`rgb(${buffer[o2+6]*255|0},${buffer[o2+7]*255|0},${buffer[o2+8]*255|0})`,cB=`rgb(${buffer[o2+9]*255|0},${buffer[o2+10]*255|0},${buffer[o2+11]*255|0})`,asp=ctx.canvas.width/ctx.canvas.height,dir={x:Math.cos(a2)/asp,y:Math.sin(a2)},p0={x:this.center.x+dir.x*s2*this.center.y,y:this.center.y+dir.y*s2*this.center.y},p1={x:this.center.x+dir.x*e2*this.center.y,y:this.center.y+dir.y*e2*this.center.y};ctx.strokeStyle=cA,ctx.beginPath(),ctx.moveTo(this.center.x,this.center.y),ctx.lineTo(p0.x,p0.y),ctx.stroke(),ctx.strokeStyle=cB,ctx.lineWidth=2,ctx.beginPath(),ctx.moveTo(p0.x,p0.y),ctx.lineTo(p1.x,p1.y),ctx.stroke()}}};__name(_Canvas2DRenderer,"Canvas2DRenderer");let Canvas2DRenderer=_Canvas2DRenderer;var _internalSubscribers,_Controls_instances,notifyInternalSubscribers_fn,_externalSubscribers,notifyExternalSubscribers_fn,_a7;let Controls$1=(_a7=class{constructor(data){__privateAdd(this,_Controls_instances);__publicField(this,"data");__privateAdd(this,_internalSubscribers,[]);__privateAdd(this,_externalSubscribers,[]);this.data=data}setData(data){this.data=data,__privateMethod(this,_Controls_instances,notifyInternalSubscribers_fn).call(this),__privateMethod(this,_Controls_instances,notifyExternalSubscribers_fn).call(this)}receiveExternalUpdate(update2){this.data=update2,__privateMethod(this,_Controls_instances,notifyInternalSubscribers_fn).call(this)}subscribeInternal(cb){return __privateGet(this,_internalSubscribers).push(cb),()=>{__privateSet(this,_internalSubscribers,__privateGet(this,_internalSubscribers).filter(c2=>c2!==cb))}}subscribeExternal(cb){return __privateGet(this,_externalSubscribers).push(cb),()=>{__privateSet(this,_externalSubscribers,__privateGet(this,_externalSubscribers).filter(c2=>c2!==cb))}}getSnapshot(){return this.data}},_internalSubscribers=new WeakMap,_Controls_instances=new WeakSet,notifyInternalSubscribers_fn=__name(function(){__privateGet(this,_internalSubscribers).forEach(cb=>cb())},"#notifyInternalSubscribers"),_externalSubscribers=new WeakMap,notifyExternalSubscribers_fn=__name(function(){__privateGet(this,_externalSubscribers).forEach(cb=>cb())},"#notifyExternalSubscribers"),__name(_a7,"Controls"),__publicField(_a7,"defaultControls",{centerX:1920/2,centerY:1080/2,backgroundColor:[0,0,0],maxRays:500,rayColors:[[255,255,255]],averageThickness:2,thicknessVariance:1,lifespan:60,waveAmplitude:0,waveFrequency:0}),_a7);var _a8;let Controller$1=(_a8=class{constructor(){__publicField(this,"initialised",!1);__publicField(this,"data");__publicField(this,"update");__publicField(this,"updateMetadata");__publicField(this,"create");__publicField(this,"delete");__publicField(this,"subscribe");__publicField(this,"unsubscribe")}load(data){this.data=new Controls$1(data),this.data.subscribeExternal(()=>{var _a19;const update2=(_a19=this.data)==null?void 0:_a19.getSnapshot();this.update(update2)}),this.initialised=!0}receiveUpdate(update2){var _a19;(_a19=this.data)==null||_a19.receiveExternalUpdate(update2)}receiveMetadataUpdate(){}getSnapshot(){var _a19;return(_a19=this.data)==null?void 0:_a19.getSnapshot()}destroy(){this.data=void 0,this.initialised=!1}setHooks(hooks){this.update=hooks.update,this.create=hooks.create,this.delete=hooks.delete,this.subscribe=hooks.subscribe,this.unsubscribe=hooks.unsubscribe,this.updateMetadata=hooks.updateMetadata}},__name(_a8,"Controller"),_a8);const ControlsContext$1=reactExports.createContext(null);function ControlsProvider$1({children}){const{initialized:indexInitialized,index}=useIndex(),tController=reactExports.useRef(new Controller$1),timelineAssets=indexInitialized?Object.entries(index.data).filter(([assetId2,assetMetadata])=>assetMetadata.type==="controls"&&assetMetadata.name==="cyberspaghetti.controls").map(([assetId2,assetMetadata])=>({assetId:assetId2,assetController:tController.current})):[],assetId=timelineAssets.length>0?timelineAssets[0].assetId:void 0,{FreeWorkload}=useCK();reactExports.useEffect(()=>{if(indexInitialized&&assetId===void 0){const workload=FreeWorkload();workload.thread("default").worker({instance_id:"ASSET_SERVER",modality:"wasmjs",resource_id:`${CONFIG.PAC_BACKGROUND_SERVICES}AssetServerV2`},{createAsset:{asset:{data:Controls$1.defaultControls,metadata:{type:"controls",name:"cyberspaghetti.controls",preferredEditorAddress:CONFIG.SELF_HOST+"cyberspaghetti-controlconsole"},on_update:{type:"simple"}}}}),workload.dispatch()}},[assetId,indexInitialized]);const{initialized:assetsInitialized,assets}=useAssets(timelineAssets),controls=indexInitialized&&assetsInitialized&&assetId!==void 0&&assets[assetId]!==void 0?assets[assetId].data:void 0;return jsxRuntimeExports.jsx(ControlsContext$1.Provider,{value:controls,children})}__name(ControlsProvider$1,"ControlsProvider$1");function useControls$1(){return React.useContext(ControlsContext$1)}__name(useControls$1,"useControls$1");function commonjsRequire(path){throw new Error('Could not dynamically require "'+path+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}__name(commonjsRequire,"commonjsRequire");var jszip_min={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,function(module,exports){(function(e2){module.exports=e2()})(function(){return __name(function s2(a2,o2,h2){function u2(r2,e3){if(!o2[r2]){if(!a2[r2]){var t2=typeof commonjsRequire=="function"&&commonjsRequire;if(!e3&&t2)return t2(r2,!0);if(l2)return l2(r2,!0);var n2=new Error("Cannot find module '"+r2+"'");throw n2.code="MODULE_NOT_FOUND",n2}var i2=o2[r2]={exports:{}};a2[r2][0].call(i2.exports,function(e4){var t3=a2[r2][1][e4];return u2(t3||e4)},i2,i2.exports,s2,a2,o2,h2)}return o2[r2].exports}__name(u2,"u");for(var l2=typeof commonjsRequire=="function"&&commonjsRequire,e2=0;e2<h2.length;e2++)u2(h2[e2]);return u2},"s")({1:[function(e2,t2,r2){var d2=e2("./utils"),c2=e2("./support"),p2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r2.encode=function(e3){for(var t3,r3,n2,i2,s2,a2,o2,h2=[],u2=0,l2=e3.length,f2=l2,c3=d2.getTypeOf(e3)!=="string";u2<e3.length;)f2=l2-u2,n2=c3?(t3=e3[u2++],r3=u2<l2?e3[u2++]:0,u2<l2?e3[u2++]:0):(t3=e3.charCodeAt(u2++),r3=u2<l2?e3.charCodeAt(u2++):0,u2<l2?e3.charCodeAt(u2++):0),i2=t3>>2,s2=(3&t3)<<4|r3>>4,a2=1<f2?(15&r3)<<2|n2>>6:64,o2=2<f2?63&n2:64,h2.push(p2.charAt(i2)+p2.charAt(s2)+p2.charAt(a2)+p2.charAt(o2));return h2.join("")},r2.decode=function(e3){var t3,r3,n2,i2,s2,a2,o2=0,h2=0,u2="data:";if(e3.substr(0,u2.length)===u2)throw new Error("Invalid base64 input, it looks like a data url.");var l2,f2=3*(e3=e3.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e3.charAt(e3.length-1)===p2.charAt(64)&&f2--,e3.charAt(e3.length-2)===p2.charAt(64)&&f2--,f2%1!=0)throw new Error("Invalid base64 input, bad content length.");for(l2=c2.uint8array?new Uint8Array(0|f2):new Array(0|f2);o2<e3.length;)t3=p2.indexOf(e3.charAt(o2++))<<2|(i2=p2.indexOf(e3.charAt(o2++)))>>4,r3=(15&i2)<<4|(s2=p2.indexOf(e3.charAt(o2++)))>>2,n2=(3&s2)<<6|(a2=p2.indexOf(e3.charAt(o2++))),l2[h2++]=t3,s2!==64&&(l2[h2++]=r3),a2!==64&&(l2[h2++]=n2);return l2}},{"./support":30,"./utils":32}],2:[function(e2,t2,r2){var n2=e2("./external"),i2=e2("./stream/DataWorker"),s2=e2("./stream/Crc32Probe"),a2=e2("./stream/DataLengthProbe");function o2(e3,t3,r3,n3,i3){this.compressedSize=e3,this.uncompressedSize=t3,this.crc32=r3,this.compression=n3,this.compressedContent=i3}__name(o2,"o"),o2.prototype={getContentWorker:__name(function(){var e3=new i2(n2.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a2("data_length")),t3=this;return e3.on("end",function(){if(this.streamInfo.data_length!==t3.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e3},"getContentWorker"),getCompressedWorker:__name(function(){return new i2(n2.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)},"getCompressedWorker")},o2.createWorkerFrom=function(e3,t3,r3){return e3.pipe(new s2).pipe(new a2("uncompressedSize")).pipe(t3.compressWorker(r3)).pipe(new a2("compressedSize")).withStreamInfo("compression",t3)},t2.exports=o2},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e2,t2,r2){var n2=e2("./stream/GenericWorker");r2.STORE={magic:"\0\0",compressWorker:__name(function(){return new n2("STORE compression")},"compressWorker"),uncompressWorker:__name(function(){return new n2("STORE decompression")},"uncompressWorker")},r2.DEFLATE=e2("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e2,t2,r2){var n2=e2("./utils"),o2=function(){for(var e3,t3=[],r3=0;r3<256;r3++){e3=r3;for(var n3=0;n3<8;n3++)e3=1&e3?3988292384^e3>>>1:e3>>>1;t3[r3]=e3}return t3}();t2.exports=function(e3,t3){return e3!==void 0&&e3.length?n2.getTypeOf(e3)!=="string"?function(e4,t4,r3,n3){var i2=o2,s2=n3+r3;e4^=-1;for(var a2=n3;a2<s2;a2++)e4=e4>>>8^i2[255&(e4^t4[a2])];return-1^e4}(0|t3,e3,e3.length,0):function(e4,t4,r3,n3){var i2=o2,s2=n3+r3;e4^=-1;for(var a2=n3;a2<s2;a2++)e4=e4>>>8^i2[255&(e4^t4.charCodeAt(a2))];return-1^e4}(0|t3,e3,e3.length,0):0}},{"./utils":32}],5:[function(e2,t2,r2){r2.base64=!1,r2.binary=!1,r2.dir=!1,r2.createFolders=!0,r2.date=null,r2.compression=null,r2.compressionOptions=null,r2.comment=null,r2.unixPermissions=null,r2.dosPermissions=null},{}],6:[function(e2,t2,r2){var n2=null;n2=typeof Promise<"u"?Promise:e2("lie"),t2.exports={Promise:n2}},{lie:37}],7:[function(e2,t2,r2){var n2=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i2=e2("pako"),s2=e2("./utils"),a2=e2("./stream/GenericWorker"),o2=n2?"uint8array":"array";function h2(e3,t3){a2.call(this,"FlateWorker/"+e3),this._pako=null,this._pakoAction=e3,this._pakoOptions=t3,this.meta={}}__name(h2,"h"),r2.magic="\b\0",s2.inherits(h2,a2),h2.prototype.processChunk=function(e3){this.meta=e3.meta,this._pako===null&&this._createPako(),this._pako.push(s2.transformTo(o2,e3.data),!1)},h2.prototype.flush=function(){a2.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h2.prototype.cleanUp=function(){a2.prototype.cleanUp.call(this),this._pako=null},h2.prototype._createPako=function(){this._pako=new i2[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t3=this;this._pako.onData=function(e3){t3.push({data:e3,meta:t3.meta})}},r2.compressWorker=function(e3){return new h2("Deflate",e3)},r2.uncompressWorker=function(){return new h2("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e2,t2,r2){function A2(e3,t3){var r3,n3="";for(r3=0;r3<t3;r3++)n3+=String.fromCharCode(255&e3),e3>>>=8;return n3}__name(A2,"A");function n2(e3,t3,r3,n3,i3,s3){var a2,o2,h2=e3.file,u2=e3.compression,l2=s3!==O2.utf8encode,f2=I2.transformTo("string",s3(h2.name)),c2=I2.transformTo("string",O2.utf8encode(h2.name)),d2=h2.comment,p2=I2.transformTo("string",s3(d2)),m2=I2.transformTo("string",O2.utf8encode(d2)),_2=c2.length!==h2.name.length,g2=m2.length!==d2.length,b2="",v2="",y2="",w2=h2.dir,k2=h2.date,x2={crc32:0,compressedSize:0,uncompressedSize:0};t3&&!r3||(x2.crc32=e3.crc32,x2.compressedSize=e3.compressedSize,x2.uncompressedSize=e3.uncompressedSize);var S2=0;t3&&(S2|=8),l2||!_2&&!g2||(S2|=2048);var z2=0,C2=0;w2&&(z2|=16),i3==="UNIX"?(C2=798,z2|=function(e4,t4){var r4=e4;return e4||(r4=t4?16893:33204),(65535&r4)<<16}(h2.unixPermissions,w2)):(C2=20,z2|=function(e4){return 63&(e4||0)}(h2.dosPermissions)),a2=k2.getUTCHours(),a2<<=6,a2|=k2.getUTCMinutes(),a2<<=5,a2|=k2.getUTCSeconds()/2,o2=k2.getUTCFullYear()-1980,o2<<=4,o2|=k2.getUTCMonth()+1,o2<<=5,o2|=k2.getUTCDate(),_2&&(v2=A2(1,1)+A2(B2(f2),4)+c2,b2+="up"+A2(v2.length,2)+v2),g2&&(y2=A2(1,1)+A2(B2(p2),4)+m2,b2+="uc"+A2(y2.length,2)+y2);var E2="";return E2+=`
\0`,E2+=A2(S2,2),E2+=u2.magic,E2+=A2(a2,2),E2+=A2(o2,2),E2+=A2(x2.crc32,4),E2+=A2(x2.compressedSize,4),E2+=A2(x2.uncompressedSize,4),E2+=A2(f2.length,2),E2+=A2(b2.length,2),{fileRecord:R2.LOCAL_FILE_HEADER+E2+f2+b2,dirRecord:R2.CENTRAL_FILE_HEADER+A2(C2,2)+E2+A2(p2.length,2)+"\0\0\0\0"+A2(z2,4)+A2(n3,4)+f2+b2+p2}}__name(n2,"n");var I2=e2("../utils"),i2=e2("../stream/GenericWorker"),O2=e2("../utf8"),B2=e2("../crc32"),R2=e2("../signature");function s2(e3,t3,r3,n3){i2.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t3,this.zipPlatform=r3,this.encodeFileName=n3,this.streamFiles=e3,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}__name(s2,"s"),I2.inherits(s2,i2),s2.prototype.push=function(e3){var t3=e3.meta.percent||0,r3=this.entriesCount,n3=this._sources.length;this.accumulate?this.contentBuffer.push(e3):(this.bytesWritten+=e3.data.length,i2.prototype.push.call(this,{data:e3.data,meta:{currentFile:this.currentFile,percent:r3?(t3+100*(r3-n3-1))/r3:100}}))},s2.prototype.openedSource=function(e3){this.currentSourceOffset=this.bytesWritten,this.currentFile=e3.file.name;var t3=this.streamFiles&&!e3.file.dir;if(t3){var r3=n2(e3,t3,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r3.fileRecord,meta:{percent:0}})}else this.accumulate=!0},s2.prototype.closedSource=function(e3){this.accumulate=!1;var t3=this.streamFiles&&!e3.file.dir,r3=n2(e3,t3,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r3.dirRecord),t3)this.push({data:function(e4){return R2.DATA_DESCRIPTOR+A2(e4.crc32,4)+A2(e4.compressedSize,4)+A2(e4.uncompressedSize,4)}(e3),meta:{percent:100}});else for(this.push({data:r3.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},s2.prototype.flush=function(){for(var e3=this.bytesWritten,t3=0;t3<this.dirRecords.length;t3++)this.push({data:this.dirRecords[t3],meta:{percent:100}});var r3=this.bytesWritten-e3,n3=function(e4,t4,r4,n4,i3){var s3=I2.transformTo("string",i3(n4));return R2.CENTRAL_DIRECTORY_END+"\0\0\0\0"+A2(e4,2)+A2(e4,2)+A2(t4,4)+A2(r4,4)+A2(s3.length,2)+s3}(this.dirRecords.length,r3,e3,this.zipComment,this.encodeFileName);this.push({data:n3,meta:{percent:100}})},s2.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},s2.prototype.registerPrevious=function(e3){this._sources.push(e3);var t3=this;return e3.on("data",function(e4){t3.processChunk(e4)}),e3.on("end",function(){t3.closedSource(t3.previous.streamInfo),t3._sources.length?t3.prepareNextSource():t3.end()}),e3.on("error",function(e4){t3.error(e4)}),this},s2.prototype.resume=function(){return!!i2.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},s2.prototype.error=function(e3){var t3=this._sources;if(!i2.prototype.error.call(this,e3))return!1;for(var r3=0;r3<t3.length;r3++)try{t3[r3].error(e3)}catch{}return!0},s2.prototype.lock=function(){i2.prototype.lock.call(this);for(var e3=this._sources,t3=0;t3<e3.length;t3++)e3[t3].lock()},t2.exports=s2},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e2,t2,r2){var u2=e2("../compressions"),n2=e2("./ZipFileWorker");r2.generateWorker=function(e3,a2,t3){var o2=new n2(a2.streamFiles,t3,a2.platform,a2.encodeFileName),h2=0;try{e3.forEach(function(e4,t4){h2++;var r3=function(e5,t5){var r4=e5||t5,n4=u2[r4];if(!n4)throw new Error(r4+" is not a valid compression method !");return n4}(t4.options.compression,a2.compression),n3=t4.options.compressionOptions||a2.compressionOptions||{},i2=t4.dir,s2=t4.date;t4._compressWorker(r3,n3).withStreamInfo("file",{name:e4,dir:i2,date:s2,comment:t4.comment||"",unixPermissions:t4.unixPermissions,dosPermissions:t4.dosPermissions}).pipe(o2)}),o2.entriesCount=h2}catch(e4){o2.error(e4)}return o2}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e2,t2,r2){function n2(){if(!(this instanceof n2))return new n2;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e3=new n2;for(var t3 in this)typeof this[t3]!="function"&&(e3[t3]=this[t3]);return e3}}__name(n2,"n"),(n2.prototype=e2("./object")).loadAsync=e2("./load"),n2.support=e2("./support"),n2.defaults=e2("./defaults"),n2.version="3.10.1",n2.loadAsync=function(e3,t3){return new n2().loadAsync(e3,t3)},n2.external=e2("./external"),t2.exports=n2},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e2,t2,r2){var u2=e2("./utils"),i2=e2("./external"),n2=e2("./utf8"),s2=e2("./zipEntries"),a2=e2("./stream/Crc32Probe"),l2=e2("./nodejsUtils");function f2(n3){return new i2.Promise(function(e3,t3){var r3=n3.decompressed.getContentWorker().pipe(new a2);r3.on("error",function(e4){t3(e4)}).on("end",function(){r3.streamInfo.crc32!==n3.decompressed.crc32?t3(new Error("Corrupted zip : CRC32 mismatch")):e3()}).resume()})}__name(f2,"f"),t2.exports=function(e3,o2){var h2=this;return o2=u2.extend(o2||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:n2.utf8decode}),l2.isNode&&l2.isStream(e3)?i2.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):u2.prepareContent("the loaded zip file",e3,!0,o2.optimizedBinaryString,o2.base64).then(function(e4){var t3=new s2(o2);return t3.load(e4),t3}).then(function(e4){var t3=[i2.Promise.resolve(e4)],r3=e4.files;if(o2.checkCRC32)for(var n3=0;n3<r3.length;n3++)t3.push(f2(r3[n3]));return i2.Promise.all(t3)}).then(function(e4){for(var t3=e4.shift(),r3=t3.files,n3=0;n3<r3.length;n3++){var i3=r3[n3],s3=i3.fileNameStr,a3=u2.resolve(i3.fileNameStr);h2.file(a3,i3.decompressed,{binary:!0,optimizedBinaryString:!0,date:i3.date,dir:i3.dir,comment:i3.fileCommentStr.length?i3.fileCommentStr:null,unixPermissions:i3.unixPermissions,dosPermissions:i3.dosPermissions,createFolders:o2.createFolders}),i3.dir||(h2.file(a3).unsafeOriginalName=s3)}return t3.zipComment.length&&(h2.comment=t3.zipComment),h2})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e2,t2,r2){var n2=e2("../utils"),i2=e2("../stream/GenericWorker");function s2(e3,t3){i2.call(this,"Nodejs stream input adapter for "+e3),this._upstreamEnded=!1,this._bindStream(t3)}__name(s2,"s"),n2.inherits(s2,i2),s2.prototype._bindStream=function(e3){var t3=this;(this._stream=e3).pause(),e3.on("data",function(e4){t3.push({data:e4,meta:{percent:0}})}).on("error",function(e4){t3.isPaused?this.generatedError=e4:t3.error(e4)}).on("end",function(){t3.isPaused?t3._upstreamEnded=!0:t3.end()})},s2.prototype.pause=function(){return!!i2.prototype.pause.call(this)&&(this._stream.pause(),!0)},s2.prototype.resume=function(){return!!i2.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t2.exports=s2},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e2,t2,r2){var i2=e2("readable-stream").Readable;function n2(e3,t3,r3){i2.call(this,t3),this._helper=e3;var n3=this;e3.on("data",function(e4,t4){n3.push(e4)||n3._helper.pause(),r3&&r3(t4)}).on("error",function(e4){n3.emit("error",e4)}).on("end",function(){n3.push(null)})}__name(n2,"n"),e2("../utils").inherits(n2,i2),n2.prototype._read=function(){this._helper.resume()},t2.exports=n2},{"../utils":32,"readable-stream":16}],14:[function(e2,t2,r2){t2.exports={isNode:typeof Buffer<"u",newBufferFrom:__name(function(e3,t3){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e3,t3);if(typeof e3=="number")throw new Error('The "data" argument must not be a number');return new Buffer(e3,t3)},"newBufferFrom"),allocBuffer:__name(function(e3){if(Buffer.alloc)return Buffer.alloc(e3);var t3=new Buffer(e3);return t3.fill(0),t3},"allocBuffer"),isBuffer:__name(function(e3){return Buffer.isBuffer(e3)},"isBuffer"),isStream:__name(function(e3){return e3&&typeof e3.on=="function"&&typeof e3.pause=="function"&&typeof e3.resume=="function"},"isStream")}},{}],15:[function(e2,t2,r2){function s2(e3,t3,r3){var n3,i3=u2.getTypeOf(t3),s3=u2.extend(r3||{},f2);s3.date=s3.date||new Date,s3.compression!==null&&(s3.compression=s3.compression.toUpperCase()),typeof s3.unixPermissions=="string"&&(s3.unixPermissions=parseInt(s3.unixPermissions,8)),s3.unixPermissions&&16384&s3.unixPermissions&&(s3.dir=!0),s3.dosPermissions&&16&s3.dosPermissions&&(s3.dir=!0),s3.dir&&(e3=g2(e3)),s3.createFolders&&(n3=_2(e3))&&b2.call(this,n3,!0);var a3=i3==="string"&&s3.binary===!1&&s3.base64===!1;r3&&r3.binary!==void 0||(s3.binary=!a3),(t3 instanceof c2&&t3.uncompressedSize===0||s3.dir||!t3||t3.length===0)&&(s3.base64=!1,s3.binary=!0,t3="",s3.compression="STORE",i3="string");var o3=null;o3=t3 instanceof c2||t3 instanceof l2?t3:p2.isNode&&p2.isStream(t3)?new m2(e3,t3):u2.prepareContent(e3,t3,s3.binary,s3.optimizedBinaryString,s3.base64);var h3=new d2(e3,o3,s3);this.files[e3]=h3}__name(s2,"s");var i2=e2("./utf8"),u2=e2("./utils"),l2=e2("./stream/GenericWorker"),a2=e2("./stream/StreamHelper"),f2=e2("./defaults"),c2=e2("./compressedObject"),d2=e2("./zipObject"),o2=e2("./generate"),p2=e2("./nodejsUtils"),m2=e2("./nodejs/NodejsStreamInputAdapter"),_2=__name(function(e3){e3.slice(-1)==="/"&&(e3=e3.substring(0,e3.length-1));var t3=e3.lastIndexOf("/");return 0<t3?e3.substring(0,t3):""},"_"),g2=__name(function(e3){return e3.slice(-1)!=="/"&&(e3+="/"),e3},"g"),b2=__name(function(e3,t3){return t3=t3!==void 0?t3:f2.createFolders,e3=g2(e3),this.files[e3]||s2.call(this,e3,null,{dir:!0,createFolders:t3}),this.files[e3]},"b");function h2(e3){return Object.prototype.toString.call(e3)==="[object RegExp]"}__name(h2,"h");var n2={load:__name(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"load"),forEach:__name(function(e3){var t3,r3,n3;for(t3 in this.files)n3=this.files[t3],(r3=t3.slice(this.root.length,t3.length))&&t3.slice(0,this.root.length)===this.root&&e3(r3,n3)},"forEach"),filter:__name(function(r3){var n3=[];return this.forEach(function(e3,t3){r3(e3,t3)&&n3.push(t3)}),n3},"filter"),file:__name(function(e3,t3,r3){if(arguments.length!==1)return e3=this.root+e3,s2.call(this,e3,t3,r3),this;if(h2(e3)){var n3=e3;return this.filter(function(e4,t4){return!t4.dir&&n3.test(e4)})}var i3=this.files[this.root+e3];return i3&&!i3.dir?i3:null},"file"),folder:__name(function(r3){if(!r3)return this;if(h2(r3))return this.filter(function(e4,t4){return t4.dir&&r3.test(e4)});var e3=this.root+r3,t3=b2.call(this,e3),n3=this.clone();return n3.root=t3.name,n3},"folder"),remove:__name(function(r3){r3=this.root+r3;var e3=this.files[r3];if(e3||(r3.slice(-1)!=="/"&&(r3+="/"),e3=this.files[r3]),e3&&!e3.dir)delete this.files[r3];else for(var t3=this.filter(function(e4,t4){return t4.name.slice(0,r3.length)===r3}),n3=0;n3<t3.length;n3++)delete this.files[t3[n3].name];return this},"remove"),generate:__name(function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},"generate"),generateInternalStream:__name(function(e3){var t3,r3={};try{if((r3=u2.extend(e3||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i2.utf8encode})).type=r3.type.toLowerCase(),r3.compression=r3.compression.toUpperCase(),r3.type==="binarystring"&&(r3.type="string"),!r3.type)throw new Error("No output type specified.");u2.checkSupport(r3.type),r3.platform!=="darwin"&&r3.platform!=="freebsd"&&r3.platform!=="linux"&&r3.platform!=="sunos"||(r3.platform="UNIX"),r3.platform==="win32"&&(r3.platform="DOS");var n3=r3.comment||this.comment||"";t3=o2.generateWorker(this,r3,n3)}catch(e4){(t3=new l2("error")).error(e4)}return new a2(t3,r3.type||"string",r3.mimeType)},"generateInternalStream"),generateAsync:__name(function(e3,t3){return this.generateInternalStream(e3).accumulate(t3)},"generateAsync"),generateNodeStream:__name(function(e3,t3){return(e3=e3||{}).type||(e3.type="nodebuffer"),this.generateInternalStream(e3).toNodejsStream(t3)},"generateNodeStream")};t2.exports=n2},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e2,t2,r2){t2.exports=e2("stream")},{stream:void 0}],17:[function(e2,t2,r2){var n2=e2("./DataReader");function i2(e3){n2.call(this,e3);for(var t3=0;t3<this.data.length;t3++)e3[t3]=255&e3[t3]}__name(i2,"i"),e2("../utils").inherits(i2,n2),i2.prototype.byteAt=function(e3){return this.data[this.zero+e3]},i2.prototype.lastIndexOfSignature=function(e3){for(var t3=e3.charCodeAt(0),r3=e3.charCodeAt(1),n3=e3.charCodeAt(2),i3=e3.charCodeAt(3),s2=this.length-4;0<=s2;--s2)if(this.data[s2]===t3&&this.data[s2+1]===r3&&this.data[s2+2]===n3&&this.data[s2+3]===i3)return s2-this.zero;return-1},i2.prototype.readAndCheckSignature=function(e3){var t3=e3.charCodeAt(0),r3=e3.charCodeAt(1),n3=e3.charCodeAt(2),i3=e3.charCodeAt(3),s2=this.readData(4);return t3===s2[0]&&r3===s2[1]&&n3===s2[2]&&i3===s2[3]},i2.prototype.readData=function(e3){if(this.checkOffset(e3),e3===0)return[];var t3=this.data.slice(this.zero+this.index,this.zero+this.index+e3);return this.index+=e3,t3},t2.exports=i2},{"../utils":32,"./DataReader":18}],18:[function(e2,t2,r2){var n2=e2("../utils");function i2(e3){this.data=e3,this.length=e3.length,this.index=0,this.zero=0}__name(i2,"i"),i2.prototype={checkOffset:__name(function(e3){this.checkIndex(this.index+e3)},"checkOffset"),checkIndex:__name(function(e3){if(this.length<this.zero+e3||e3<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e3+"). Corrupted zip ?")},"checkIndex"),setIndex:__name(function(e3){this.checkIndex(e3),this.index=e3},"setIndex"),skip:__name(function(e3){this.setIndex(this.index+e3)},"skip"),byteAt:__name(function(){},"byteAt"),readInt:__name(function(e3){var t3,r3=0;for(this.checkOffset(e3),t3=this.index+e3-1;t3>=this.index;t3--)r3=(r3<<8)+this.byteAt(t3);return this.index+=e3,r3},"readInt"),readString:__name(function(e3){return n2.transformTo("string",this.readData(e3))},"readString"),readData:__name(function(){},"readData"),lastIndexOfSignature:__name(function(){},"lastIndexOfSignature"),readAndCheckSignature:__name(function(){},"readAndCheckSignature"),readDate:__name(function(){var e3=this.readInt(4);return new Date(Date.UTC(1980+(e3>>25&127),(e3>>21&15)-1,e3>>16&31,e3>>11&31,e3>>5&63,(31&e3)<<1))},"readDate")},t2.exports=i2},{"../utils":32}],19:[function(e2,t2,r2){var n2=e2("./Uint8ArrayReader");function i2(e3){n2.call(this,e3)}__name(i2,"i"),e2("../utils").inherits(i2,n2),i2.prototype.readData=function(e3){this.checkOffset(e3);var t3=this.data.slice(this.zero+this.index,this.zero+this.index+e3);return this.index+=e3,t3},t2.exports=i2},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e2,t2,r2){var n2=e2("./DataReader");function i2(e3){n2.call(this,e3)}__name(i2,"i"),e2("../utils").inherits(i2,n2),i2.prototype.byteAt=function(e3){return this.data.charCodeAt(this.zero+e3)},i2.prototype.lastIndexOfSignature=function(e3){return this.data.lastIndexOf(e3)-this.zero},i2.prototype.readAndCheckSignature=function(e3){return e3===this.readData(4)},i2.prototype.readData=function(e3){this.checkOffset(e3);var t3=this.data.slice(this.zero+this.index,this.zero+this.index+e3);return this.index+=e3,t3},t2.exports=i2},{"../utils":32,"./DataReader":18}],21:[function(e2,t2,r2){var n2=e2("./ArrayReader");function i2(e3){n2.call(this,e3)}__name(i2,"i"),e2("../utils").inherits(i2,n2),i2.prototype.readData=function(e3){if(this.checkOffset(e3),e3===0)return new Uint8Array(0);var t3=this.data.subarray(this.zero+this.index,this.zero+this.index+e3);return this.index+=e3,t3},t2.exports=i2},{"../utils":32,"./ArrayReader":17}],22:[function(e2,t2,r2){var n2=e2("../utils"),i2=e2("../support"),s2=e2("./ArrayReader"),a2=e2("./StringReader"),o2=e2("./NodeBufferReader"),h2=e2("./Uint8ArrayReader");t2.exports=function(e3){var t3=n2.getTypeOf(e3);return n2.checkSupport(t3),t3!=="string"||i2.uint8array?t3==="nodebuffer"?new o2(e3):i2.uint8array?new h2(n2.transformTo("uint8array",e3)):new s2(n2.transformTo("array",e3)):new a2(e3)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e2,t2,r2){r2.LOCAL_FILE_HEADER="PK",r2.CENTRAL_FILE_HEADER="PK",r2.CENTRAL_DIRECTORY_END="PK",r2.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r2.ZIP64_CENTRAL_DIRECTORY_END="PK",r2.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e2,t2,r2){var n2=e2("./GenericWorker"),i2=e2("../utils");function s2(e3){n2.call(this,"ConvertWorker to "+e3),this.destType=e3}__name(s2,"s"),i2.inherits(s2,n2),s2.prototype.processChunk=function(e3){this.push({data:i2.transformTo(this.destType,e3.data),meta:e3.meta})},t2.exports=s2},{"../utils":32,"./GenericWorker":28}],25:[function(e2,t2,r2){var n2=e2("./GenericWorker"),i2=e2("../crc32");function s2(){n2.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}__name(s2,"s"),e2("../utils").inherits(s2,n2),s2.prototype.processChunk=function(e3){this.streamInfo.crc32=i2(e3.data,this.streamInfo.crc32||0),this.push(e3)},t2.exports=s2},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e2,t2,r2){var n2=e2("../utils"),i2=e2("./GenericWorker");function s2(e3){i2.call(this,"DataLengthProbe for "+e3),this.propName=e3,this.withStreamInfo(e3,0)}__name(s2,"s"),n2.inherits(s2,i2),s2.prototype.processChunk=function(e3){if(e3){var t3=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t3+e3.data.length}i2.prototype.processChunk.call(this,e3)},t2.exports=s2},{"../utils":32,"./GenericWorker":28}],27:[function(e2,t2,r2){var n2=e2("../utils"),i2=e2("./GenericWorker");function s2(e3){i2.call(this,"DataWorker");var t3=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e3.then(function(e4){t3.dataIsReady=!0,t3.data=e4,t3.max=e4&&e4.length||0,t3.type=n2.getTypeOf(e4),t3.isPaused||t3._tickAndRepeat()},function(e4){t3.error(e4)})}__name(s2,"s"),n2.inherits(s2,i2),s2.prototype.cleanUp=function(){i2.prototype.cleanUp.call(this),this.data=null},s2.prototype.resume=function(){return!!i2.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n2.delay(this._tickAndRepeat,[],this)),!0)},s2.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n2.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s2.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e3=null,t3=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e3=this.data.substring(this.index,t3);break;case"uint8array":e3=this.data.subarray(this.index,t3);break;case"array":case"nodebuffer":e3=this.data.slice(this.index,t3)}return this.index=t3,this.push({data:e3,meta:{percent:this.max?this.index/this.max*100:0}})},t2.exports=s2},{"../utils":32,"./GenericWorker":28}],28:[function(e2,t2,r2){function n2(e3){this.name=e3||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}__name(n2,"n"),n2.prototype={push:__name(function(e3){this.emit("data",e3)},"push"),end:__name(function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e3){this.emit("error",e3)}return!0},"end"),error:__name(function(e3){return!this.isFinished&&(this.isPaused?this.generatedError=e3:(this.isFinished=!0,this.emit("error",e3),this.previous&&this.previous.error(e3),this.cleanUp()),!0)},"error"),on:__name(function(e3,t3){return this._listeners[e3].push(t3),this},"on"),cleanUp:__name(function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},"cleanUp"),emit:__name(function(e3,t3){if(this._listeners[e3])for(var r3=0;r3<this._listeners[e3].length;r3++)this._listeners[e3][r3].call(this,t3)},"emit"),pipe:__name(function(e3){return e3.registerPrevious(this)},"pipe"),registerPrevious:__name(function(e3){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e3.streamInfo,this.mergeStreamInfo(),this.previous=e3;var t3=this;return e3.on("data",function(e4){t3.processChunk(e4)}),e3.on("end",function(){t3.end()}),e3.on("error",function(e4){t3.error(e4)}),this},"registerPrevious"),pause:__name(function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},"pause"),resume:__name(function(){if(!this.isPaused||this.isFinished)return!1;var e3=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e3=!0),this.previous&&this.previous.resume(),!e3},"resume"),flush:__name(function(){},"flush"),processChunk:__name(function(e3){this.push(e3)},"processChunk"),withStreamInfo:__name(function(e3,t3){return this.extraStreamInfo[e3]=t3,this.mergeStreamInfo(),this},"withStreamInfo"),mergeStreamInfo:__name(function(){for(var e3 in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e3)&&(this.streamInfo[e3]=this.extraStreamInfo[e3])},"mergeStreamInfo"),lock:__name(function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},"lock"),toString:__name(function(){var e3="Worker "+this.name;return this.previous?this.previous+" -> "+e3:e3},"toString")},t2.exports=n2},{}],29:[function(e2,t2,r2){var h2=e2("../utils"),i2=e2("./ConvertWorker"),s2=e2("./GenericWorker"),u2=e2("../base64"),n2=e2("../support"),a2=e2("../external"),o2=null;if(n2.nodestream)try{o2=e2("../nodejs/NodejsStreamOutputAdapter")}catch{}function l2(e3,o3){return new a2.Promise(function(t3,r3){var n3=[],i3=e3._internalType,s3=e3._outputType,a3=e3._mimeType;e3.on("data",function(e4,t4){n3.push(e4),o3&&o3(t4)}).on("error",function(e4){n3=[],r3(e4)}).on("end",function(){try{var e4=function(e5,t4,r4){switch(e5){case"blob":return h2.newBlob(h2.transformTo("arraybuffer",t4),r4);case"base64":return u2.encode(t4);default:return h2.transformTo(e5,t4)}}(s3,function(e5,t4){var r4,n4=0,i4=null,s4=0;for(r4=0;r4<t4.length;r4++)s4+=t4[r4].length;switch(e5){case"string":return t4.join("");case"array":return Array.prototype.concat.apply([],t4);case"uint8array":for(i4=new Uint8Array(s4),r4=0;r4<t4.length;r4++)i4.set(t4[r4],n4),n4+=t4[r4].length;return i4;case"nodebuffer":return Buffer.concat(t4);default:throw new Error("concat : unsupported type '"+e5+"'")}}(i3,n3),a3);t3(e4)}catch(e5){r3(e5)}n3=[]}).resume()})}__name(l2,"l");function f2(e3,t3,r3){var n3=t3;switch(t3){case"blob":case"arraybuffer":n3="uint8array";break;case"base64":n3="string"}try{this._internalType=n3,this._outputType=t3,this._mimeType=r3,h2.checkSupport(n3),this._worker=e3.pipe(new i2(n3)),e3.lock()}catch(e4){this._worker=new s2("error"),this._worker.error(e4)}}__name(f2,"f"),f2.prototype={accumulate:__name(function(e3){return l2(this,e3)},"accumulate"),on:__name(function(e3,t3){var r3=this;return e3==="data"?this._worker.on(e3,function(e4){t3.call(r3,e4.data,e4.meta)}):this._worker.on(e3,function(){h2.delay(t3,arguments,r3)}),this},"on"),resume:__name(function(){return h2.delay(this._worker.resume,[],this._worker),this},"resume"),pause:__name(function(){return this._worker.pause(),this},"pause"),toNodejsStream:__name(function(e3){if(h2.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new o2(this,{objectMode:this._outputType!=="nodebuffer"},e3)},"toNodejsStream")},t2.exports=f2},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e2,t2,r2){if(r2.base64=!0,r2.array=!0,r2.string=!0,r2.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r2.nodebuffer=typeof Buffer<"u",r2.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r2.blob=!1;else{var n2=new ArrayBuffer(0);try{r2.blob=new Blob([n2],{type:"application/zip"}).size===0}catch{try{var i2=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i2.append(n2),r2.blob=i2.getBlob("application/zip").size===0}catch{r2.blob=!1}}}try{r2.nodestream=!!e2("readable-stream").Readable}catch{r2.nodestream=!1}},{"readable-stream":16}],31:[function(e2,t2,s2){for(var o2=e2("./utils"),h2=e2("./support"),r2=e2("./nodejsUtils"),n2=e2("./stream/GenericWorker"),u2=new Array(256),i2=0;i2<256;i2++)u2[i2]=252<=i2?6:248<=i2?5:240<=i2?4:224<=i2?3:192<=i2?2:1;u2[254]=u2[254]=1;function a2(){n2.call(this,"utf-8 decode"),this.leftOver=null}__name(a2,"a");function l2(){n2.call(this,"utf-8 encode")}__name(l2,"l"),s2.utf8encode=function(e3){return h2.nodebuffer?r2.newBufferFrom(e3,"utf-8"):function(e4){var t3,r3,n3,i3,s3,a3=e4.length,o3=0;for(i3=0;i3<a3;i3++)(64512&(r3=e4.charCodeAt(i3)))==55296&&i3+1<a3&&(64512&(n3=e4.charCodeAt(i3+1)))==56320&&(r3=65536+(r3-55296<<10)+(n3-56320),i3++),o3+=r3<128?1:r3<2048?2:r3<65536?3:4;for(t3=h2.uint8array?new Uint8Array(o3):new Array(o3),i3=s3=0;s3<o3;i3++)(64512&(r3=e4.charCodeAt(i3)))==55296&&i3+1<a3&&(64512&(n3=e4.charCodeAt(i3+1)))==56320&&(r3=65536+(r3-55296<<10)+(n3-56320),i3++),r3<128?t3[s3++]=r3:(r3<2048?t3[s3++]=192|r3>>>6:(r3<65536?t3[s3++]=224|r3>>>12:(t3[s3++]=240|r3>>>18,t3[s3++]=128|r3>>>12&63),t3[s3++]=128|r3>>>6&63),t3[s3++]=128|63&r3);return t3}(e3)},s2.utf8decode=function(e3){return h2.nodebuffer?o2.transformTo("nodebuffer",e3).toString("utf-8"):function(e4){var t3,r3,n3,i3,s3=e4.length,a3=new Array(2*s3);for(t3=r3=0;t3<s3;)if((n3=e4[t3++])<128)a3[r3++]=n3;else if(4<(i3=u2[n3]))a3[r3++]=65533,t3+=i3-1;else{for(n3&=i3===2?31:i3===3?15:7;1<i3&&t3<s3;)n3=n3<<6|63&e4[t3++],i3--;1<i3?a3[r3++]=65533:n3<65536?a3[r3++]=n3:(n3-=65536,a3[r3++]=55296|n3>>10&1023,a3[r3++]=56320|1023&n3)}return a3.length!==r3&&(a3.subarray?a3=a3.subarray(0,r3):a3.length=r3),o2.applyFromCharCode(a3)}(e3=o2.transformTo(h2.uint8array?"uint8array":"array",e3))},o2.inherits(a2,n2),a2.prototype.processChunk=function(e3){var t3=o2.transformTo(h2.uint8array?"uint8array":"array",e3.data);if(this.leftOver&&this.leftOver.length){if(h2.uint8array){var r3=t3;(t3=new Uint8Array(r3.length+this.leftOver.length)).set(this.leftOver,0),t3.set(r3,this.leftOver.length)}else t3=this.leftOver.concat(t3);this.leftOver=null}var n3=function(e4,t4){var r4;for((t4=t4||e4.length)>e4.length&&(t4=e4.length),r4=t4-1;0<=r4&&(192&e4[r4])==128;)r4--;return r4<0||r4===0?t4:r4+u2[e4[r4]]>t4?r4:t4}(t3),i3=t3;n3!==t3.length&&(h2.uint8array?(i3=t3.subarray(0,n3),this.leftOver=t3.subarray(n3,t3.length)):(i3=t3.slice(0,n3),this.leftOver=t3.slice(n3,t3.length))),this.push({data:s2.utf8decode(i3),meta:e3.meta})},a2.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:s2.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},s2.Utf8DecodeWorker=a2,o2.inherits(l2,n2),l2.prototype.processChunk=function(e3){this.push({data:s2.utf8encode(e3.data),meta:e3.meta})},s2.Utf8EncodeWorker=l2},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e2,t2,a2){var o2=e2("./support"),h2=e2("./base64"),r2=e2("./nodejsUtils"),u2=e2("./external");function n2(e3){return e3}__name(n2,"n");function l2(e3,t3){for(var r3=0;r3<e3.length;++r3)t3[r3]=255&e3.charCodeAt(r3);return t3}__name(l2,"l"),e2("setimmediate"),a2.newBlob=function(t3,r3){a2.checkSupport("blob");try{return new Blob([t3],{type:r3})}catch{try{var n3=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n3.append(t3),n3.getBlob(r3)}catch{throw new Error("Bug : can't construct the Blob.")}}};var i2={stringifyByChunk:__name(function(e3,t3,r3){var n3=[],i3=0,s3=e3.length;if(s3<=r3)return String.fromCharCode.apply(null,e3);for(;i3<s3;)t3==="array"||t3==="nodebuffer"?n3.push(String.fromCharCode.apply(null,e3.slice(i3,Math.min(i3+r3,s3)))):n3.push(String.fromCharCode.apply(null,e3.subarray(i3,Math.min(i3+r3,s3)))),i3+=r3;return n3.join("")},"stringifyByChunk"),stringifyByChar:__name(function(e3){for(var t3="",r3=0;r3<e3.length;r3++)t3+=String.fromCharCode(e3[r3]);return t3},"stringifyByChar"),applyCanBeUsed:{uint8array:function(){try{return o2.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return o2.nodebuffer&&String.fromCharCode.apply(null,r2.allocBuffer(1)).length===1}catch{return!1}}()}};function s2(e3){var t3=65536,r3=a2.getTypeOf(e3),n3=!0;if(r3==="uint8array"?n3=i2.applyCanBeUsed.uint8array:r3==="nodebuffer"&&(n3=i2.applyCanBeUsed.nodebuffer),n3)for(;1<t3;)try{return i2.stringifyByChunk(e3,r3,t3)}catch{t3=Math.floor(t3/2)}return i2.stringifyByChar(e3)}__name(s2,"s");function f2(e3,t3){for(var r3=0;r3<e3.length;r3++)t3[r3]=e3[r3];return t3}__name(f2,"f"),a2.applyFromCharCode=s2;var c2={};c2.string={string:n2,array:__name(function(e3){return l2(e3,new Array(e3.length))},"array"),arraybuffer:__name(function(e3){return c2.string.uint8array(e3).buffer},"arraybuffer"),uint8array:__name(function(e3){return l2(e3,new Uint8Array(e3.length))},"uint8array"),nodebuffer:__name(function(e3){return l2(e3,r2.allocBuffer(e3.length))},"nodebuffer")},c2.array={string:s2,array:n2,arraybuffer:__name(function(e3){return new Uint8Array(e3).buffer},"arraybuffer"),uint8array:__name(function(e3){return new Uint8Array(e3)},"uint8array"),nodebuffer:__name(function(e3){return r2.newBufferFrom(e3)},"nodebuffer")},c2.arraybuffer={string:__name(function(e3){return s2(new Uint8Array(e3))},"string"),array:__name(function(e3){return f2(new Uint8Array(e3),new Array(e3.byteLength))},"array"),arraybuffer:n2,uint8array:__name(function(e3){return new Uint8Array(e3)},"uint8array"),nodebuffer:__name(function(e3){return r2.newBufferFrom(new Uint8Array(e3))},"nodebuffer")},c2.uint8array={string:s2,array:__name(function(e3){return f2(e3,new Array(e3.length))},"array"),arraybuffer:__name(function(e3){return e3.buffer},"arraybuffer"),uint8array:n2,nodebuffer:__name(function(e3){return r2.newBufferFrom(e3)},"nodebuffer")},c2.nodebuffer={string:s2,array:__name(function(e3){return f2(e3,new Array(e3.length))},"array"),arraybuffer:__name(function(e3){return c2.nodebuffer.uint8array(e3).buffer},"arraybuffer"),uint8array:__name(function(e3){return f2(e3,new Uint8Array(e3.length))},"uint8array"),nodebuffer:n2},a2.transformTo=function(e3,t3){if(t3=t3||"",!e3)return t3;a2.checkSupport(e3);var r3=a2.getTypeOf(t3);return c2[r3][e3](t3)},a2.resolve=function(e3){for(var t3=e3.split("/"),r3=[],n3=0;n3<t3.length;n3++){var i3=t3[n3];i3==="."||i3===""&&n3!==0&&n3!==t3.length-1||(i3===".."?r3.pop():r3.push(i3))}return r3.join("/")},a2.getTypeOf=function(e3){return typeof e3=="string"?"string":Object.prototype.toString.call(e3)==="[object Array]"?"array":o2.nodebuffer&&r2.isBuffer(e3)?"nodebuffer":o2.uint8array&&e3 instanceof Uint8Array?"uint8array":o2.arraybuffer&&e3 instanceof ArrayBuffer?"arraybuffer":void 0},a2.checkSupport=function(e3){if(!o2[e3.toLowerCase()])throw new Error(e3+" is not supported by this platform")},a2.MAX_VALUE_16BITS=65535,a2.MAX_VALUE_32BITS=-1,a2.pretty=function(e3){var t3,r3,n3="";for(r3=0;r3<(e3||"").length;r3++)n3+="\\x"+((t3=e3.charCodeAt(r3))<16?"0":"")+t3.toString(16).toUpperCase();return n3},a2.delay=function(e3,t3,r3){setImmediate(function(){e3.apply(r3||null,t3||[])})},a2.inherits=function(e3,t3){function r3(){}__name(r3,"r"),r3.prototype=t3.prototype,e3.prototype=new r3},a2.extend=function(){var e3,t3,r3={};for(e3=0;e3<arguments.length;e3++)for(t3 in arguments[e3])Object.prototype.hasOwnProperty.call(arguments[e3],t3)&&r3[t3]===void 0&&(r3[t3]=arguments[e3][t3]);return r3},a2.prepareContent=function(r3,e3,n3,i3,s3){return u2.Promise.resolve(e3).then(function(n4){return o2.blob&&(n4 instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(n4))!==-1)&&typeof FileReader<"u"?new u2.Promise(function(t3,r4){var e4=new FileReader;e4.onload=function(e5){t3(e5.target.result)},e4.onerror=function(e5){r4(e5.target.error)},e4.readAsArrayBuffer(n4)}):n4}).then(function(e4){var t3=a2.getTypeOf(e4);return t3?(t3==="arraybuffer"?e4=a2.transformTo("uint8array",e4):t3==="string"&&(s3?e4=h2.decode(e4):n3&&i3!==!0&&(e4=function(e5){return l2(e5,o2.uint8array?new Uint8Array(e5.length):new Array(e5.length))}(e4))),e4):u2.Promise.reject(new Error("Can't read the data of '"+r3+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e2,t2,r2){var n2=e2("./reader/readerFor"),i2=e2("./utils"),s2=e2("./signature"),a2=e2("./zipEntry"),o2=e2("./support");function h2(e3){this.files=[],this.loadOptions=e3}__name(h2,"h"),h2.prototype={checkSignature:__name(function(e3){if(!this.reader.readAndCheckSignature(e3)){this.reader.index-=4;var t3=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i2.pretty(t3)+", expected "+i2.pretty(e3)+")")}},"checkSignature"),isSignature:__name(function(e3,t3){var r3=this.reader.index;this.reader.setIndex(e3);var n3=this.reader.readString(4)===t3;return this.reader.setIndex(r3),n3},"isSignature"),readBlockEndOfCentral:__name(function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e3=this.reader.readData(this.zipCommentLength),t3=o2.uint8array?"uint8array":"array",r3=i2.transformTo(t3,e3);this.zipComment=this.loadOptions.decodeFileName(r3)},"readBlockEndOfCentral"),readBlockZip64EndOfCentral:__name(function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e3,t3,r3,n3=this.zip64EndOfCentralSize-44;0<n3;)e3=this.reader.readInt(2),t3=this.reader.readInt(4),r3=this.reader.readData(t3),this.zip64ExtensibleData[e3]={id:e3,length:t3,value:r3}},"readBlockZip64EndOfCentral"),readBlockZip64EndOfCentralLocator:__name(function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},"readBlockZip64EndOfCentralLocator"),readLocalFiles:__name(function(){var e3,t3;for(e3=0;e3<this.files.length;e3++)t3=this.files[e3],this.reader.setIndex(t3.localHeaderOffset),this.checkSignature(s2.LOCAL_FILE_HEADER),t3.readLocalPart(this.reader),t3.handleUTF8(),t3.processAttributes()},"readLocalFiles"),readCentralDir:__name(function(){var e3;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s2.CENTRAL_FILE_HEADER);)(e3=new a2({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e3);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},"readCentralDir"),readEndOfCentral:__name(function(){var e3=this.reader.lastIndexOfSignature(s2.CENTRAL_DIRECTORY_END);if(e3<0)throw this.isSignature(0,s2.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e3);var t3=e3;if(this.checkSignature(s2.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i2.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i2.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i2.MAX_VALUE_16BITS||this.centralDirRecords===i2.MAX_VALUE_16BITS||this.centralDirSize===i2.MAX_VALUE_32BITS||this.centralDirOffset===i2.MAX_VALUE_32BITS){if(this.zip64=!0,(e3=this.reader.lastIndexOfSignature(s2.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e3),this.checkSignature(s2.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s2.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s2.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s2.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r3=this.centralDirOffset+this.centralDirSize;this.zip64&&(r3+=20,r3+=12+this.zip64EndOfCentralSize);var n3=t3-r3;if(0<n3)this.isSignature(t3,s2.CENTRAL_FILE_HEADER)||(this.reader.zero=n3);else if(n3<0)throw new Error("Corrupted zip: missing "+Math.abs(n3)+" bytes.")},"readEndOfCentral"),prepareReader:__name(function(e3){this.reader=n2(e3)},"prepareReader"),load:__name(function(e3){this.prepareReader(e3),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()},"load")},t2.exports=h2},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e2,t2,r2){var n2=e2("./reader/readerFor"),s2=e2("./utils"),i2=e2("./compressedObject"),a2=e2("./crc32"),o2=e2("./utf8"),h2=e2("./compressions"),u2=e2("./support");function l2(e3,t3){this.options=e3,this.loadOptions=t3}__name(l2,"l"),l2.prototype={isEncrypted:__name(function(){return(1&this.bitFlag)==1},"isEncrypted"),useUTF8:__name(function(){return(2048&this.bitFlag)==2048},"useUTF8"),readLocalPart:__name(function(e3){var t3,r3;if(e3.skip(22),this.fileNameLength=e3.readInt(2),r3=e3.readInt(2),this.fileName=e3.readData(this.fileNameLength),e3.skip(r3),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((t3=function(e4){for(var t4 in h2)if(Object.prototype.hasOwnProperty.call(h2,t4)&&h2[t4].magic===e4)return h2[t4];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s2.pretty(this.compressionMethod)+" unknown (inner file : "+s2.transformTo("string",this.fileName)+")");this.decompressed=new i2(this.compressedSize,this.uncompressedSize,this.crc32,t3,e3.readData(this.compressedSize))},"readLocalPart"),readCentralPart:__name(function(e3){this.versionMadeBy=e3.readInt(2),e3.skip(2),this.bitFlag=e3.readInt(2),this.compressionMethod=e3.readString(2),this.date=e3.readDate(),this.crc32=e3.readInt(4),this.compressedSize=e3.readInt(4),this.uncompressedSize=e3.readInt(4);var t3=e3.readInt(2);if(this.extraFieldsLength=e3.readInt(2),this.fileCommentLength=e3.readInt(2),this.diskNumberStart=e3.readInt(2),this.internalFileAttributes=e3.readInt(2),this.externalFileAttributes=e3.readInt(4),this.localHeaderOffset=e3.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e3.skip(t3),this.readExtraFields(e3),this.parseZIP64ExtraField(e3),this.fileComment=e3.readData(this.fileCommentLength)},"readCentralPart"),processAttributes:__name(function(){this.unixPermissions=null,this.dosPermissions=null;var e3=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e3==0&&(this.dosPermissions=63&this.externalFileAttributes),e3==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},"processAttributes"),parseZIP64ExtraField:__name(function(){if(this.extraFields[1]){var e3=n2(this.extraFields[1].value);this.uncompressedSize===s2.MAX_VALUE_32BITS&&(this.uncompressedSize=e3.readInt(8)),this.compressedSize===s2.MAX_VALUE_32BITS&&(this.compressedSize=e3.readInt(8)),this.localHeaderOffset===s2.MAX_VALUE_32BITS&&(this.localHeaderOffset=e3.readInt(8)),this.diskNumberStart===s2.MAX_VALUE_32BITS&&(this.diskNumberStart=e3.readInt(4))}},"parseZIP64ExtraField"),readExtraFields:__name(function(e3){var t3,r3,n3,i3=e3.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e3.index+4<i3;)t3=e3.readInt(2),r3=e3.readInt(2),n3=e3.readData(r3),this.extraFields[t3]={id:t3,length:r3,value:n3};e3.setIndex(i3)},"readExtraFields"),handleUTF8:__name(function(){var e3=u2.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o2.utf8decode(this.fileName),this.fileCommentStr=o2.utf8decode(this.fileComment);else{var t3=this.findExtraFieldUnicodePath();if(t3!==null)this.fileNameStr=t3;else{var r3=s2.transformTo(e3,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r3)}var n3=this.findExtraFieldUnicodeComment();if(n3!==null)this.fileCommentStr=n3;else{var i3=s2.transformTo(e3,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i3)}}},"handleUTF8"),findExtraFieldUnicodePath:__name(function(){var e3=this.extraFields[28789];if(e3){var t3=n2(e3.value);return t3.readInt(1)!==1||a2(this.fileName)!==t3.readInt(4)?null:o2.utf8decode(t3.readData(e3.length-5))}return null},"findExtraFieldUnicodePath"),findExtraFieldUnicodeComment:__name(function(){var e3=this.extraFields[25461];if(e3){var t3=n2(e3.value);return t3.readInt(1)!==1||a2(this.fileComment)!==t3.readInt(4)?null:o2.utf8decode(t3.readData(e3.length-5))}return null},"findExtraFieldUnicodeComment")},t2.exports=l2},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e2,t2,r2){function n2(e3,t3,r3){this.name=e3,this.dir=r3.dir,this.date=r3.date,this.comment=r3.comment,this.unixPermissions=r3.unixPermissions,this.dosPermissions=r3.dosPermissions,this._data=t3,this._dataBinary=r3.binary,this.options={compression:r3.compression,compressionOptions:r3.compressionOptions}}__name(n2,"n");var s2=e2("./stream/StreamHelper"),i2=e2("./stream/DataWorker"),a2=e2("./utf8"),o2=e2("./compressedObject"),h2=e2("./stream/GenericWorker");n2.prototype={internalStream:__name(function(e3){var t3=null,r3="string";try{if(!e3)throw new Error("No output type specified.");var n3=(r3=e3.toLowerCase())==="string"||r3==="text";r3!=="binarystring"&&r3!=="text"||(r3="string"),t3=this._decompressWorker();var i3=!this._dataBinary;i3&&!n3&&(t3=t3.pipe(new a2.Utf8EncodeWorker)),!i3&&n3&&(t3=t3.pipe(new a2.Utf8DecodeWorker))}catch(e4){(t3=new h2("error")).error(e4)}return new s2(t3,r3,"")},"internalStream"),async:__name(function(e3,t3){return this.internalStream(e3).accumulate(t3)},"async"),nodeStream:__name(function(e3,t3){return this.internalStream(e3||"nodebuffer").toNodejsStream(t3)},"nodeStream"),_compressWorker:__name(function(e3,t3){if(this._data instanceof o2&&this._data.compression.magic===e3.magic)return this._data.getCompressedWorker();var r3=this._decompressWorker();return this._dataBinary||(r3=r3.pipe(new a2.Utf8EncodeWorker)),o2.createWorkerFrom(r3,e3,t3)},"_compressWorker"),_decompressWorker:__name(function(){return this._data instanceof o2?this._data.getContentWorker():this._data instanceof h2?this._data:new i2(this._data)},"_decompressWorker")};for(var u2=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l2=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f2=0;f2<u2.length;f2++)n2.prototype[u2[f2]]=l2;t2.exports=n2},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e2,l2,t2){(function(t3){var r2,n2,e3=t3.MutationObserver||t3.WebKitMutationObserver;if(e3){var i2=0,s2=new e3(u2),a2=t3.document.createTextNode("");s2.observe(a2,{characterData:!0}),r2=__name(function(){a2.data=i2=++i2%2},"r")}else if(t3.setImmediate||t3.MessageChannel===void 0)r2="document"in t3&&"onreadystatechange"in t3.document.createElement("script")?function(){var e4=t3.document.createElement("script");e4.onreadystatechange=function(){u2(),e4.onreadystatechange=null,e4.parentNode.removeChild(e4),e4=null},t3.document.documentElement.appendChild(e4)}:function(){setTimeout(u2,0)};else{var o2=new t3.MessageChannel;o2.port1.onmessage=u2,r2=__name(function(){o2.port2.postMessage(0)},"r")}var h2=[];function u2(){var e4,t4;n2=!0;for(var r3=h2.length;r3;){for(t4=h2,h2=[],e4=-1;++e4<r3;)t4[e4]();r3=h2.length}n2=!1}__name(u2,"u"),l2.exports=function(e4){h2.push(e4)!==1||n2||r2()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(e2,t2,r2){var i2=e2("immediate");function u2(){}__name(u2,"u");var l2={},s2=["REJECTED"],a2=["FULFILLED"],n2=["PENDING"];function o2(e3){if(typeof e3!="function")throw new TypeError("resolver must be a function");this.state=n2,this.queue=[],this.outcome=void 0,e3!==u2&&d2(this,e3)}__name(o2,"o");function h2(e3,t3,r3){this.promise=e3,typeof t3=="function"&&(this.onFulfilled=t3,this.callFulfilled=this.otherCallFulfilled),typeof r3=="function"&&(this.onRejected=r3,this.callRejected=this.otherCallRejected)}__name(h2,"h");function f2(t3,r3,n3){i2(function(){var e3;try{e3=r3(n3)}catch(e4){return l2.reject(t3,e4)}e3===t3?l2.reject(t3,new TypeError("Cannot resolve promise with itself")):l2.resolve(t3,e3)})}__name(f2,"f");function c2(e3){var t3=e3&&e3.then;if(e3&&(typeof e3=="object"||typeof e3=="function")&&typeof t3=="function")return function(){t3.apply(e3,arguments)}}__name(c2,"c");function d2(t3,e3){var r3=!1;function n3(e4){r3||(r3=!0,l2.reject(t3,e4))}__name(n3,"n");function i3(e4){r3||(r3=!0,l2.resolve(t3,e4))}__name(i3,"i");var s3=p2(function(){e3(i3,n3)});s3.status==="error"&&n3(s3.value)}__name(d2,"d");function p2(e3,t3){var r3={};try{r3.value=e3(t3),r3.status="success"}catch(e4){r3.status="error",r3.value=e4}return r3}__name(p2,"p"),(t2.exports=o2).prototype.finally=function(t3){if(typeof t3!="function")return this;var r3=this.constructor;return this.then(function(e3){return r3.resolve(t3()).then(function(){return e3})},function(e3){return r3.resolve(t3()).then(function(){throw e3})})},o2.prototype.catch=function(e3){return this.then(null,e3)},o2.prototype.then=function(e3,t3){if(typeof e3!="function"&&this.state===a2||typeof t3!="function"&&this.state===s2)return this;var r3=new this.constructor(u2);return this.state!==n2?f2(r3,this.state===a2?e3:t3,this.outcome):this.queue.push(new h2(r3,e3,t3)),r3},h2.prototype.callFulfilled=function(e3){l2.resolve(this.promise,e3)},h2.prototype.otherCallFulfilled=function(e3){f2(this.promise,this.onFulfilled,e3)},h2.prototype.callRejected=function(e3){l2.reject(this.promise,e3)},h2.prototype.otherCallRejected=function(e3){f2(this.promise,this.onRejected,e3)},l2.resolve=function(e3,t3){var r3=p2(c2,t3);if(r3.status==="error")return l2.reject(e3,r3.value);var n3=r3.value;if(n3)d2(e3,n3);else{e3.state=a2,e3.outcome=t3;for(var i3=-1,s3=e3.queue.length;++i3<s3;)e3.queue[i3].callFulfilled(t3)}return e3},l2.reject=function(e3,t3){e3.state=s2,e3.outcome=t3;for(var r3=-1,n3=e3.queue.length;++r3<n3;)e3.queue[r3].callRejected(t3);return e3},o2.resolve=function(e3){return e3 instanceof this?e3:l2.resolve(new this(u2),e3)},o2.reject=function(e3){var t3=new this(u2);return l2.reject(t3,e3)},o2.all=function(e3){var r3=this;if(Object.prototype.toString.call(e3)!=="[object Array]")return this.reject(new TypeError("must be an array"));var n3=e3.length,i3=!1;if(!n3)return this.resolve([]);for(var s3=new Array(n3),a3=0,t3=-1,o3=new this(u2);++t3<n3;)h3(e3[t3],t3);return o3;function h3(e4,t4){r3.resolve(e4).then(function(e5){s3[t4]=e5,++a3!==n3||i3||(i3=!0,l2.resolve(o3,s3))},function(e5){i3||(i3=!0,l2.reject(o3,e5))})}},o2.race=function(e3){var t3=this;if(Object.prototype.toString.call(e3)!=="[object Array]")return this.reject(new TypeError("must be an array"));var r3=e3.length,n3=!1;if(!r3)return this.resolve([]);for(var i3=-1,s3=new this(u2);++i3<r3;)a3=e3[i3],t3.resolve(a3).then(function(e4){n3||(n3=!0,l2.resolve(s3,e4))},function(e4){n3||(n3=!0,l2.reject(s3,e4))});var a3;return s3}},{immediate:36}],38:[function(e2,t2,r2){var n2={};(0,e2("./lib/utils/common").assign)(n2,e2("./lib/deflate"),e2("./lib/inflate"),e2("./lib/zlib/constants")),t2.exports=n2},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e2,t2,r2){var a2=e2("./zlib/deflate"),o2=e2("./utils/common"),h2=e2("./utils/strings"),i2=e2("./zlib/messages"),s2=e2("./zlib/zstream"),u2=Object.prototype.toString,l2=0,f2=-1,c2=0,d2=8;function p2(e3){if(!(this instanceof p2))return new p2(e3);this.options=o2.assign({level:f2,method:d2,chunkSize:16384,windowBits:15,memLevel:8,strategy:c2,to:""},e3||{});var t3=this.options;t3.raw&&0<t3.windowBits?t3.windowBits=-t3.windowBits:t3.gzip&&0<t3.windowBits&&t3.windowBits<16&&(t3.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s2,this.strm.avail_out=0;var r3=a2.deflateInit2(this.strm,t3.level,t3.method,t3.windowBits,t3.memLevel,t3.strategy);if(r3!==l2)throw new Error(i2[r3]);if(t3.header&&a2.deflateSetHeader(this.strm,t3.header),t3.dictionary){var n3;if(n3=typeof t3.dictionary=="string"?h2.string2buf(t3.dictionary):u2.call(t3.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t3.dictionary):t3.dictionary,(r3=a2.deflateSetDictionary(this.strm,n3))!==l2)throw new Error(i2[r3]);this._dict_set=!0}}__name(p2,"p");function n2(e3,t3){var r3=new p2(t3);if(r3.push(e3,!0),r3.err)throw r3.msg||i2[r3.err];return r3.result}__name(n2,"n"),p2.prototype.push=function(e3,t3){var r3,n3,i3=this.strm,s3=this.options.chunkSize;if(this.ended)return!1;n3=t3===~~t3?t3:t3===!0?4:0,typeof e3=="string"?i3.input=h2.string2buf(e3):u2.call(e3)==="[object ArrayBuffer]"?i3.input=new Uint8Array(e3):i3.input=e3,i3.next_in=0,i3.avail_in=i3.input.length;do{if(i3.avail_out===0&&(i3.output=new o2.Buf8(s3),i3.next_out=0,i3.avail_out=s3),(r3=a2.deflate(i3,n3))!==1&&r3!==l2)return this.onEnd(r3),!(this.ended=!0);i3.avail_out!==0&&(i3.avail_in!==0||n3!==4&&n3!==2)||(this.options.to==="string"?this.onData(h2.buf2binstring(o2.shrinkBuf(i3.output,i3.next_out))):this.onData(o2.shrinkBuf(i3.output,i3.next_out)))}while((0<i3.avail_in||i3.avail_out===0)&&r3!==1);return n3===4?(r3=a2.deflateEnd(this.strm),this.onEnd(r3),this.ended=!0,r3===l2):n3!==2||(this.onEnd(l2),!(i3.avail_out=0))},p2.prototype.onData=function(e3){this.chunks.push(e3)},p2.prototype.onEnd=function(e3){e3===l2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o2.flattenChunks(this.chunks)),this.chunks=[],this.err=e3,this.msg=this.strm.msg},r2.Deflate=p2,r2.deflate=n2,r2.deflateRaw=function(e3,t3){return(t3=t3||{}).raw=!0,n2(e3,t3)},r2.gzip=function(e3,t3){return(t3=t3||{}).gzip=!0,n2(e3,t3)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e2,t2,r2){var c2=e2("./zlib/inflate"),d2=e2("./utils/common"),p2=e2("./utils/strings"),m2=e2("./zlib/constants"),n2=e2("./zlib/messages"),i2=e2("./zlib/zstream"),s2=e2("./zlib/gzheader"),_2=Object.prototype.toString;function a2(e3){if(!(this instanceof a2))return new a2(e3);this.options=d2.assign({chunkSize:16384,windowBits:0,to:""},e3||{});var t3=this.options;t3.raw&&0<=t3.windowBits&&t3.windowBits<16&&(t3.windowBits=-t3.windowBits,t3.windowBits===0&&(t3.windowBits=-15)),!(0<=t3.windowBits&&t3.windowBits<16)||e3&&e3.windowBits||(t3.windowBits+=32),15<t3.windowBits&&t3.windowBits<48&&(15&t3.windowBits)==0&&(t3.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i2,this.strm.avail_out=0;var r3=c2.inflateInit2(this.strm,t3.windowBits);if(r3!==m2.Z_OK)throw new Error(n2[r3]);this.header=new s2,c2.inflateGetHeader(this.strm,this.header)}__name(a2,"a");function o2(e3,t3){var r3=new a2(t3);if(r3.push(e3,!0),r3.err)throw r3.msg||n2[r3.err];return r3.result}__name(o2,"o"),a2.prototype.push=function(e3,t3){var r3,n3,i3,s3,a3,o3,h2=this.strm,u2=this.options.chunkSize,l2=this.options.dictionary,f2=!1;if(this.ended)return!1;n3=t3===~~t3?t3:t3===!0?m2.Z_FINISH:m2.Z_NO_FLUSH,typeof e3=="string"?h2.input=p2.binstring2buf(e3):_2.call(e3)==="[object ArrayBuffer]"?h2.input=new Uint8Array(e3):h2.input=e3,h2.next_in=0,h2.avail_in=h2.input.length;do{if(h2.avail_out===0&&(h2.output=new d2.Buf8(u2),h2.next_out=0,h2.avail_out=u2),(r3=c2.inflate(h2,m2.Z_NO_FLUSH))===m2.Z_NEED_DICT&&l2&&(o3=typeof l2=="string"?p2.string2buf(l2):_2.call(l2)==="[object ArrayBuffer]"?new Uint8Array(l2):l2,r3=c2.inflateSetDictionary(this.strm,o3)),r3===m2.Z_BUF_ERROR&&f2===!0&&(r3=m2.Z_OK,f2=!1),r3!==m2.Z_STREAM_END&&r3!==m2.Z_OK)return this.onEnd(r3),!(this.ended=!0);h2.next_out&&(h2.avail_out!==0&&r3!==m2.Z_STREAM_END&&(h2.avail_in!==0||n3!==m2.Z_FINISH&&n3!==m2.Z_SYNC_FLUSH)||(this.options.to==="string"?(i3=p2.utf8border(h2.output,h2.next_out),s3=h2.next_out-i3,a3=p2.buf2string(h2.output,i3),h2.next_out=s3,h2.avail_out=u2-s3,s3&&d2.arraySet(h2.output,h2.output,i3,s3,0),this.onData(a3)):this.onData(d2.shrinkBuf(h2.output,h2.next_out)))),h2.avail_in===0&&h2.avail_out===0&&(f2=!0)}while((0<h2.avail_in||h2.avail_out===0)&&r3!==m2.Z_STREAM_END);return r3===m2.Z_STREAM_END&&(n3=m2.Z_FINISH),n3===m2.Z_FINISH?(r3=c2.inflateEnd(this.strm),this.onEnd(r3),this.ended=!0,r3===m2.Z_OK):n3!==m2.Z_SYNC_FLUSH||(this.onEnd(m2.Z_OK),!(h2.avail_out=0))},a2.prototype.onData=function(e3){this.chunks.push(e3)},a2.prototype.onEnd=function(e3){e3===m2.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d2.flattenChunks(this.chunks)),this.chunks=[],this.err=e3,this.msg=this.strm.msg},r2.Inflate=a2,r2.inflate=o2,r2.inflateRaw=function(e3,t3){return(t3=t3||{}).raw=!0,o2(e3,t3)},r2.ungzip=o2},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e2,t2,r2){var n2=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r2.assign=function(e3){for(var t3=Array.prototype.slice.call(arguments,1);t3.length;){var r3=t3.shift();if(r3){if(typeof r3!="object")throw new TypeError(r3+"must be non-object");for(var n3 in r3)r3.hasOwnProperty(n3)&&(e3[n3]=r3[n3])}}return e3},r2.shrinkBuf=function(e3,t3){return e3.length===t3?e3:e3.subarray?e3.subarray(0,t3):(e3.length=t3,e3)};var i2={arraySet:__name(function(e3,t3,r3,n3,i3){if(t3.subarray&&e3.subarray)e3.set(t3.subarray(r3,r3+n3),i3);else for(var s3=0;s3<n3;s3++)e3[i3+s3]=t3[r3+s3]},"arraySet"),flattenChunks:__name(function(e3){var t3,r3,n3,i3,s3,a2;for(t3=n3=0,r3=e3.length;t3<r3;t3++)n3+=e3[t3].length;for(a2=new Uint8Array(n3),t3=i3=0,r3=e3.length;t3<r3;t3++)s3=e3[t3],a2.set(s3,i3),i3+=s3.length;return a2},"flattenChunks")},s2={arraySet:__name(function(e3,t3,r3,n3,i3){for(var s3=0;s3<n3;s3++)e3[i3+s3]=t3[r3+s3]},"arraySet"),flattenChunks:__name(function(e3){return[].concat.apply([],e3)},"flattenChunks")};r2.setTyped=function(e3){e3?(r2.Buf8=Uint8Array,r2.Buf16=Uint16Array,r2.Buf32=Int32Array,r2.assign(r2,i2)):(r2.Buf8=Array,r2.Buf16=Array,r2.Buf32=Array,r2.assign(r2,s2))},r2.setTyped(n2)},{}],42:[function(e2,t2,r2){var h2=e2("./common"),i2=!0,s2=!0;try{String.fromCharCode.apply(null,[0])}catch{i2=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{s2=!1}for(var u2=new h2.Buf8(256),n2=0;n2<256;n2++)u2[n2]=252<=n2?6:248<=n2?5:240<=n2?4:224<=n2?3:192<=n2?2:1;function l2(e3,t3){if(t3<65537&&(e3.subarray&&s2||!e3.subarray&&i2))return String.fromCharCode.apply(null,h2.shrinkBuf(e3,t3));for(var r3="",n3=0;n3<t3;n3++)r3+=String.fromCharCode(e3[n3]);return r3}__name(l2,"l"),u2[254]=u2[254]=1,r2.string2buf=function(e3){var t3,r3,n3,i3,s3,a2=e3.length,o2=0;for(i3=0;i3<a2;i3++)(64512&(r3=e3.charCodeAt(i3)))==55296&&i3+1<a2&&(64512&(n3=e3.charCodeAt(i3+1)))==56320&&(r3=65536+(r3-55296<<10)+(n3-56320),i3++),o2+=r3<128?1:r3<2048?2:r3<65536?3:4;for(t3=new h2.Buf8(o2),i3=s3=0;s3<o2;i3++)(64512&(r3=e3.charCodeAt(i3)))==55296&&i3+1<a2&&(64512&(n3=e3.charCodeAt(i3+1)))==56320&&(r3=65536+(r3-55296<<10)+(n3-56320),i3++),r3<128?t3[s3++]=r3:(r3<2048?t3[s3++]=192|r3>>>6:(r3<65536?t3[s3++]=224|r3>>>12:(t3[s3++]=240|r3>>>18,t3[s3++]=128|r3>>>12&63),t3[s3++]=128|r3>>>6&63),t3[s3++]=128|63&r3);return t3},r2.buf2binstring=function(e3){return l2(e3,e3.length)},r2.binstring2buf=function(e3){for(var t3=new h2.Buf8(e3.length),r3=0,n3=t3.length;r3<n3;r3++)t3[r3]=e3.charCodeAt(r3);return t3},r2.buf2string=function(e3,t3){var r3,n3,i3,s3,a2=t3||e3.length,o2=new Array(2*a2);for(r3=n3=0;r3<a2;)if((i3=e3[r3++])<128)o2[n3++]=i3;else if(4<(s3=u2[i3]))o2[n3++]=65533,r3+=s3-1;else{for(i3&=s3===2?31:s3===3?15:7;1<s3&&r3<a2;)i3=i3<<6|63&e3[r3++],s3--;1<s3?o2[n3++]=65533:i3<65536?o2[n3++]=i3:(i3-=65536,o2[n3++]=55296|i3>>10&1023,o2[n3++]=56320|1023&i3)}return l2(o2,n3)},r2.utf8border=function(e3,t3){var r3;for((t3=t3||e3.length)>e3.length&&(t3=e3.length),r3=t3-1;0<=r3&&(192&e3[r3])==128;)r3--;return r3<0||r3===0?t3:r3+u2[e3[r3]]>t3?r3:t3}},{"./common":41}],43:[function(e2,t2,r2){t2.exports=function(e3,t3,r3,n2){for(var i2=65535&e3|0,s2=e3>>>16&65535|0,a2=0;r3!==0;){for(r3-=a2=2e3<r3?2e3:r3;s2=s2+(i2=i2+t3[n2++]|0)|0,--a2;);i2%=65521,s2%=65521}return i2|s2<<16|0}},{}],44:[function(e2,t2,r2){t2.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e2,t2,r2){var o2=function(){for(var e3,t3=[],r3=0;r3<256;r3++){e3=r3;for(var n2=0;n2<8;n2++)e3=1&e3?3988292384^e3>>>1:e3>>>1;t3[r3]=e3}return t3}();t2.exports=function(e3,t3,r3,n2){var i2=o2,s2=n2+r3;e3^=-1;for(var a2=n2;a2<s2;a2++)e3=e3>>>8^i2[255&(e3^t3[a2])];return-1^e3}},{}],46:[function(e2,t2,r2){var h2,c2=e2("../utils/common"),u2=e2("./trees"),d2=e2("./adler32"),p2=e2("./crc32"),n2=e2("./messages"),l2=0,f2=4,m2=0,_2=-2,g2=-1,b2=4,i2=2,v2=8,y2=9,s2=286,a2=30,o2=19,w2=2*s2+1,k2=15,x2=3,S2=258,z2=S2+x2+1,C2=42,E2=113,A2=1,I2=2,O2=3,B2=4;function R2(e3,t3){return e3.msg=n2[t3],t3}__name(R2,"R");function T2(e3){return(e3<<1)-(4<e3?9:0)}__name(T2,"T");function D2(e3){for(var t3=e3.length;0<=--t3;)e3[t3]=0}__name(D2,"D");function F2(e3){var t3=e3.state,r3=t3.pending;r3>e3.avail_out&&(r3=e3.avail_out),r3!==0&&(c2.arraySet(e3.output,t3.pending_buf,t3.pending_out,r3,e3.next_out),e3.next_out+=r3,t3.pending_out+=r3,e3.total_out+=r3,e3.avail_out-=r3,t3.pending-=r3,t3.pending===0&&(t3.pending_out=0))}__name(F2,"F");function N2(e3,t3){u2._tr_flush_block(e3,0<=e3.block_start?e3.block_start:-1,e3.strstart-e3.block_start,t3),e3.block_start=e3.strstart,F2(e3.strm)}__name(N2,"N");function U2(e3,t3){e3.pending_buf[e3.pending++]=t3}__name(U2,"U");function P2(e3,t3){e3.pending_buf[e3.pending++]=t3>>>8&255,e3.pending_buf[e3.pending++]=255&t3}__name(P2,"P");function L2(e3,t3){var r3,n3,i3=e3.max_chain_length,s3=e3.strstart,a3=e3.prev_length,o3=e3.nice_match,h3=e3.strstart>e3.w_size-z2?e3.strstart-(e3.w_size-z2):0,u3=e3.window,l3=e3.w_mask,f3=e3.prev,c3=e3.strstart+S2,d3=u3[s3+a3-1],p3=u3[s3+a3];e3.prev_length>=e3.good_match&&(i3>>=2),o3>e3.lookahead&&(o3=e3.lookahead);do if(u3[(r3=t3)+a3]===p3&&u3[r3+a3-1]===d3&&u3[r3]===u3[s3]&&u3[++r3]===u3[s3+1]){s3+=2,r3++;do;while(u3[++s3]===u3[++r3]&&u3[++s3]===u3[++r3]&&u3[++s3]===u3[++r3]&&u3[++s3]===u3[++r3]&&u3[++s3]===u3[++r3]&&u3[++s3]===u3[++r3]&&u3[++s3]===u3[++r3]&&u3[++s3]===u3[++r3]&&s3<c3);if(n3=S2-(c3-s3),s3=c3-S2,a3<n3){if(e3.match_start=t3,o3<=(a3=n3))break;d3=u3[s3+a3-1],p3=u3[s3+a3]}}while((t3=f3[t3&l3])>h3&&--i3!=0);return a3<=e3.lookahead?a3:e3.lookahead}__name(L2,"L");function j2(e3){var t3,r3,n3,i3,s3,a3,o3,h3,u3,l3,f3=e3.w_size;do{if(i3=e3.window_size-e3.lookahead-e3.strstart,e3.strstart>=f3+(f3-z2)){for(c2.arraySet(e3.window,e3.window,f3,f3,0),e3.match_start-=f3,e3.strstart-=f3,e3.block_start-=f3,t3=r3=e3.hash_size;n3=e3.head[--t3],e3.head[t3]=f3<=n3?n3-f3:0,--r3;);for(t3=r3=f3;n3=e3.prev[--t3],e3.prev[t3]=f3<=n3?n3-f3:0,--r3;);i3+=f3}if(e3.strm.avail_in===0)break;if(a3=e3.strm,o3=e3.window,h3=e3.strstart+e3.lookahead,u3=i3,l3=void 0,l3=a3.avail_in,u3<l3&&(l3=u3),r3=l3===0?0:(a3.avail_in-=l3,c2.arraySet(o3,a3.input,a3.next_in,l3,h3),a3.state.wrap===1?a3.adler=d2(a3.adler,o3,l3,h3):a3.state.wrap===2&&(a3.adler=p2(a3.adler,o3,l3,h3)),a3.next_in+=l3,a3.total_in+=l3,l3),e3.lookahead+=r3,e3.lookahead+e3.insert>=x2)for(s3=e3.strstart-e3.insert,e3.ins_h=e3.window[s3],e3.ins_h=(e3.ins_h<<e3.hash_shift^e3.window[s3+1])&e3.hash_mask;e3.insert&&(e3.ins_h=(e3.ins_h<<e3.hash_shift^e3.window[s3+x2-1])&e3.hash_mask,e3.prev[s3&e3.w_mask]=e3.head[e3.ins_h],e3.head[e3.ins_h]=s3,s3++,e3.insert--,!(e3.lookahead+e3.insert<x2)););}while(e3.lookahead<z2&&e3.strm.avail_in!==0)}__name(j2,"j");function Z2(e3,t3){for(var r3,n3;;){if(e3.lookahead<z2){if(j2(e3),e3.lookahead<z2&&t3===l2)return A2;if(e3.lookahead===0)break}if(r3=0,e3.lookahead>=x2&&(e3.ins_h=(e3.ins_h<<e3.hash_shift^e3.window[e3.strstart+x2-1])&e3.hash_mask,r3=e3.prev[e3.strstart&e3.w_mask]=e3.head[e3.ins_h],e3.head[e3.ins_h]=e3.strstart),r3!==0&&e3.strstart-r3<=e3.w_size-z2&&(e3.match_length=L2(e3,r3)),e3.match_length>=x2)if(n3=u2._tr_tally(e3,e3.strstart-e3.match_start,e3.match_length-x2),e3.lookahead-=e3.match_length,e3.match_length<=e3.max_lazy_match&&e3.lookahead>=x2){for(e3.match_length--;e3.strstart++,e3.ins_h=(e3.ins_h<<e3.hash_shift^e3.window[e3.strstart+x2-1])&e3.hash_mask,r3=e3.prev[e3.strstart&e3.w_mask]=e3.head[e3.ins_h],e3.head[e3.ins_h]=e3.strstart,--e3.match_length!=0;);e3.strstart++}else e3.strstart+=e3.match_length,e3.match_length=0,e3.ins_h=e3.window[e3.strstart],e3.ins_h=(e3.ins_h<<e3.hash_shift^e3.window[e3.strstart+1])&e3.hash_mask;else n3=u2._tr_tally(e3,0,e3.window[e3.strstart]),e3.lookahead--,e3.strstart++;if(n3&&(N2(e3,!1),e3.strm.avail_out===0))return A2}return e3.insert=e3.strstart<x2-1?e3.strstart:x2-1,t3===f2?(N2(e3,!0),e3.strm.avail_out===0?O2:B2):e3.last_lit&&(N2(e3,!1),e3.strm.avail_out===0)?A2:I2}__name(Z2,"Z");function W2(e3,t3){for(var r3,n3,i3;;){if(e3.lookahead<z2){if(j2(e3),e3.lookahead<z2&&t3===l2)return A2;if(e3.lookahead===0)break}if(r3=0,e3.lookahead>=x2&&(e3.ins_h=(e3.ins_h<<e3.hash_shift^e3.window[e3.strstart+x2-1])&e3.hash_mask,r3=e3.prev[e3.strstart&e3.w_mask]=e3.head[e3.ins_h],e3.head[e3.ins_h]=e3.strstart),e3.prev_length=e3.match_length,e3.prev_match=e3.match_start,e3.match_length=x2-1,r3!==0&&e3.prev_length<e3.max_lazy_match&&e3.strstart-r3<=e3.w_size-z2&&(e3.match_length=L2(e3,r3),e3.match_length<=5&&(e3.strategy===1||e3.match_length===x2&&4096<e3.strstart-e3.match_start)&&(e3.match_length=x2-1)),e3.prev_length>=x2&&e3.match_length<=e3.prev_length){for(i3=e3.strstart+e3.lookahead-x2,n3=u2._tr_tally(e3,e3.strstart-1-e3.prev_match,e3.prev_length-x2),e3.lookahead-=e3.prev_length-1,e3.prev_length-=2;++e3.strstart<=i3&&(e3.ins_h=(e3.ins_h<<e3.hash_shift^e3.window[e3.strstart+x2-1])&e3.hash_mask,r3=e3.prev[e3.strstart&e3.w_mask]=e3.head[e3.ins_h],e3.head[e3.ins_h]=e3.strstart),--e3.prev_length!=0;);if(e3.match_available=0,e3.match_length=x2-1,e3.strstart++,n3&&(N2(e3,!1),e3.strm.avail_out===0))return A2}else if(e3.match_available){if((n3=u2._tr_tally(e3,0,e3.window[e3.strstart-1]))&&N2(e3,!1),e3.strstart++,e3.lookahead--,e3.strm.avail_out===0)return A2}else e3.match_available=1,e3.strstart++,e3.lookahead--}return e3.match_available&&(n3=u2._tr_tally(e3,0,e3.window[e3.strstart-1]),e3.match_available=0),e3.insert=e3.strstart<x2-1?e3.strstart:x2-1,t3===f2?(N2(e3,!0),e3.strm.avail_out===0?O2:B2):e3.last_lit&&(N2(e3,!1),e3.strm.avail_out===0)?A2:I2}__name(W2,"W");function M2(e3,t3,r3,n3,i3){this.good_length=e3,this.max_lazy=t3,this.nice_length=r3,this.max_chain=n3,this.func=i3}__name(M2,"M");function H2(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v2,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c2.Buf16(2*w2),this.dyn_dtree=new c2.Buf16(2*(2*a2+1)),this.bl_tree=new c2.Buf16(2*(2*o2+1)),D2(this.dyn_ltree),D2(this.dyn_dtree),D2(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c2.Buf16(k2+1),this.heap=new c2.Buf16(2*s2+1),D2(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c2.Buf16(2*s2+1),D2(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}__name(H2,"H");function G2(e3){var t3;return e3&&e3.state?(e3.total_in=e3.total_out=0,e3.data_type=i2,(t3=e3.state).pending=0,t3.pending_out=0,t3.wrap<0&&(t3.wrap=-t3.wrap),t3.status=t3.wrap?C2:E2,e3.adler=t3.wrap===2?0:1,t3.last_flush=l2,u2._tr_init(t3),m2):R2(e3,_2)}__name(G2,"G");function K2(e3){var t3=G2(e3);return t3===m2&&function(e4){e4.window_size=2*e4.w_size,D2(e4.head),e4.max_lazy_match=h2[e4.level].max_lazy,e4.good_match=h2[e4.level].good_length,e4.nice_match=h2[e4.level].nice_length,e4.max_chain_length=h2[e4.level].max_chain,e4.strstart=0,e4.block_start=0,e4.lookahead=0,e4.insert=0,e4.match_length=e4.prev_length=x2-1,e4.match_available=0,e4.ins_h=0}(e3.state),t3}__name(K2,"K");function Y2(e3,t3,r3,n3,i3,s3){if(!e3)return _2;var a3=1;if(t3===g2&&(t3=6),n3<0?(a3=0,n3=-n3):15<n3&&(a3=2,n3-=16),i3<1||y2<i3||r3!==v2||n3<8||15<n3||t3<0||9<t3||s3<0||b2<s3)return R2(e3,_2);n3===8&&(n3=9);var o3=new H2;return(e3.state=o3).strm=e3,o3.wrap=a3,o3.gzhead=null,o3.w_bits=n3,o3.w_size=1<<o3.w_bits,o3.w_mask=o3.w_size-1,o3.hash_bits=i3+7,o3.hash_size=1<<o3.hash_bits,o3.hash_mask=o3.hash_size-1,o3.hash_shift=~~((o3.hash_bits+x2-1)/x2),o3.window=new c2.Buf8(2*o3.w_size),o3.head=new c2.Buf16(o3.hash_size),o3.prev=new c2.Buf16(o3.w_size),o3.lit_bufsize=1<<i3+6,o3.pending_buf_size=4*o3.lit_bufsize,o3.pending_buf=new c2.Buf8(o3.pending_buf_size),o3.d_buf=1*o3.lit_bufsize,o3.l_buf=3*o3.lit_bufsize,o3.level=t3,o3.strategy=s3,o3.method=r3,K2(e3)}__name(Y2,"Y"),h2=[new M2(0,0,0,0,function(e3,t3){var r3=65535;for(r3>e3.pending_buf_size-5&&(r3=e3.pending_buf_size-5);;){if(e3.lookahead<=1){if(j2(e3),e3.lookahead===0&&t3===l2)return A2;if(e3.lookahead===0)break}e3.strstart+=e3.lookahead,e3.lookahead=0;var n3=e3.block_start+r3;if((e3.strstart===0||e3.strstart>=n3)&&(e3.lookahead=e3.strstart-n3,e3.strstart=n3,N2(e3,!1),e3.strm.avail_out===0)||e3.strstart-e3.block_start>=e3.w_size-z2&&(N2(e3,!1),e3.strm.avail_out===0))return A2}return e3.insert=0,t3===f2?(N2(e3,!0),e3.strm.avail_out===0?O2:B2):(e3.strstart>e3.block_start&&(N2(e3,!1),e3.strm.avail_out),A2)}),new M2(4,4,8,4,Z2),new M2(4,5,16,8,Z2),new M2(4,6,32,32,Z2),new M2(4,4,16,16,W2),new M2(8,16,32,32,W2),new M2(8,16,128,128,W2),new M2(8,32,128,256,W2),new M2(32,128,258,1024,W2),new M2(32,258,258,4096,W2)],r2.deflateInit=function(e3,t3){return Y2(e3,t3,v2,15,8,0)},r2.deflateInit2=Y2,r2.deflateReset=K2,r2.deflateResetKeep=G2,r2.deflateSetHeader=function(e3,t3){return e3&&e3.state?e3.state.wrap!==2?_2:(e3.state.gzhead=t3,m2):_2},r2.deflate=function(e3,t3){var r3,n3,i3,s3;if(!e3||!e3.state||5<t3||t3<0)return e3?R2(e3,_2):_2;if(n3=e3.state,!e3.output||!e3.input&&e3.avail_in!==0||n3.status===666&&t3!==f2)return R2(e3,e3.avail_out===0?-5:_2);if(n3.strm=e3,r3=n3.last_flush,n3.last_flush=t3,n3.status===C2)if(n3.wrap===2)e3.adler=0,U2(n3,31),U2(n3,139),U2(n3,8),n3.gzhead?(U2(n3,(n3.gzhead.text?1:0)+(n3.gzhead.hcrc?2:0)+(n3.gzhead.extra?4:0)+(n3.gzhead.name?8:0)+(n3.gzhead.comment?16:0)),U2(n3,255&n3.gzhead.time),U2(n3,n3.gzhead.time>>8&255),U2(n3,n3.gzhead.time>>16&255),U2(n3,n3.gzhead.time>>24&255),U2(n3,n3.level===9?2:2<=n3.strategy||n3.level<2?4:0),U2(n3,255&n3.gzhead.os),n3.gzhead.extra&&n3.gzhead.extra.length&&(U2(n3,255&n3.gzhead.extra.length),U2(n3,n3.gzhead.extra.length>>8&255)),n3.gzhead.hcrc&&(e3.adler=p2(e3.adler,n3.pending_buf,n3.pending,0)),n3.gzindex=0,n3.status=69):(U2(n3,0),U2(n3,0),U2(n3,0),U2(n3,0),U2(n3,0),U2(n3,n3.level===9?2:2<=n3.strategy||n3.level<2?4:0),U2(n3,3),n3.status=E2);else{var a3=v2+(n3.w_bits-8<<4)<<8;a3|=(2<=n3.strategy||n3.level<2?0:n3.level<6?1:n3.level===6?2:3)<<6,n3.strstart!==0&&(a3|=32),a3+=31-a3%31,n3.status=E2,P2(n3,a3),n3.strstart!==0&&(P2(n3,e3.adler>>>16),P2(n3,65535&e3.adler)),e3.adler=1}if(n3.status===69)if(n3.gzhead.extra){for(i3=n3.pending;n3.gzindex<(65535&n3.gzhead.extra.length)&&(n3.pending!==n3.pending_buf_size||(n3.gzhead.hcrc&&n3.pending>i3&&(e3.adler=p2(e3.adler,n3.pending_buf,n3.pending-i3,i3)),F2(e3),i3=n3.pending,n3.pending!==n3.pending_buf_size));)U2(n3,255&n3.gzhead.extra[n3.gzindex]),n3.gzindex++;n3.gzhead.hcrc&&n3.pending>i3&&(e3.adler=p2(e3.adler,n3.pending_buf,n3.pending-i3,i3)),n3.gzindex===n3.gzhead.extra.length&&(n3.gzindex=0,n3.status=73)}else n3.status=73;if(n3.status===73)if(n3.gzhead.name){i3=n3.pending;do{if(n3.pending===n3.pending_buf_size&&(n3.gzhead.hcrc&&n3.pending>i3&&(e3.adler=p2(e3.adler,n3.pending_buf,n3.pending-i3,i3)),F2(e3),i3=n3.pending,n3.pending===n3.pending_buf_size)){s3=1;break}s3=n3.gzindex<n3.gzhead.name.length?255&n3.gzhead.name.charCodeAt(n3.gzindex++):0,U2(n3,s3)}while(s3!==0);n3.gzhead.hcrc&&n3.pending>i3&&(e3.adler=p2(e3.adler,n3.pending_buf,n3.pending-i3,i3)),s3===0&&(n3.gzindex=0,n3.status=91)}else n3.status=91;if(n3.status===91)if(n3.gzhead.comment){i3=n3.pending;do{if(n3.pending===n3.pending_buf_size&&(n3.gzhead.hcrc&&n3.pending>i3&&(e3.adler=p2(e3.adler,n3.pending_buf,n3.pending-i3,i3)),F2(e3),i3=n3.pending,n3.pending===n3.pending_buf_size)){s3=1;break}s3=n3.gzindex<n3.gzhead.comment.length?255&n3.gzhead.comment.charCodeAt(n3.gzindex++):0,U2(n3,s3)}while(s3!==0);n3.gzhead.hcrc&&n3.pending>i3&&(e3.adler=p2(e3.adler,n3.pending_buf,n3.pending-i3,i3)),s3===0&&(n3.status=103)}else n3.status=103;if(n3.status===103&&(n3.gzhead.hcrc?(n3.pending+2>n3.pending_buf_size&&F2(e3),n3.pending+2<=n3.pending_buf_size&&(U2(n3,255&e3.adler),U2(n3,e3.adler>>8&255),e3.adler=0,n3.status=E2)):n3.status=E2),n3.pending!==0){if(F2(e3),e3.avail_out===0)return n3.last_flush=-1,m2}else if(e3.avail_in===0&&T2(t3)<=T2(r3)&&t3!==f2)return R2(e3,-5);if(n3.status===666&&e3.avail_in!==0)return R2(e3,-5);if(e3.avail_in!==0||n3.lookahead!==0||t3!==l2&&n3.status!==666){var o3=n3.strategy===2?function(e4,t4){for(var r4;;){if(e4.lookahead===0&&(j2(e4),e4.lookahead===0)){if(t4===l2)return A2;break}if(e4.match_length=0,r4=u2._tr_tally(e4,0,e4.window[e4.strstart]),e4.lookahead--,e4.strstart++,r4&&(N2(e4,!1),e4.strm.avail_out===0))return A2}return e4.insert=0,t4===f2?(N2(e4,!0),e4.strm.avail_out===0?O2:B2):e4.last_lit&&(N2(e4,!1),e4.strm.avail_out===0)?A2:I2}(n3,t3):n3.strategy===3?function(e4,t4){for(var r4,n4,i4,s4,a4=e4.window;;){if(e4.lookahead<=S2){if(j2(e4),e4.lookahead<=S2&&t4===l2)return A2;if(e4.lookahead===0)break}if(e4.match_length=0,e4.lookahead>=x2&&0<e4.strstart&&(n4=a4[i4=e4.strstart-1])===a4[++i4]&&n4===a4[++i4]&&n4===a4[++i4]){s4=e4.strstart+S2;do;while(n4===a4[++i4]&&n4===a4[++i4]&&n4===a4[++i4]&&n4===a4[++i4]&&n4===a4[++i4]&&n4===a4[++i4]&&n4===a4[++i4]&&n4===a4[++i4]&&i4<s4);e4.match_length=S2-(s4-i4),e4.match_length>e4.lookahead&&(e4.match_length=e4.lookahead)}if(e4.match_length>=x2?(r4=u2._tr_tally(e4,1,e4.match_length-x2),e4.lookahead-=e4.match_length,e4.strstart+=e4.match_length,e4.match_length=0):(r4=u2._tr_tally(e4,0,e4.window[e4.strstart]),e4.lookahead--,e4.strstart++),r4&&(N2(e4,!1),e4.strm.avail_out===0))return A2}return e4.insert=0,t4===f2?(N2(e4,!0),e4.strm.avail_out===0?O2:B2):e4.last_lit&&(N2(e4,!1),e4.strm.avail_out===0)?A2:I2}(n3,t3):h2[n3.level].func(n3,t3);if(o3!==O2&&o3!==B2||(n3.status=666),o3===A2||o3===O2)return e3.avail_out===0&&(n3.last_flush=-1),m2;if(o3===I2&&(t3===1?u2._tr_align(n3):t3!==5&&(u2._tr_stored_block(n3,0,0,!1),t3===3&&(D2(n3.head),n3.lookahead===0&&(n3.strstart=0,n3.block_start=0,n3.insert=0))),F2(e3),e3.avail_out===0))return n3.last_flush=-1,m2}return t3!==f2?m2:n3.wrap<=0?1:(n3.wrap===2?(U2(n3,255&e3.adler),U2(n3,e3.adler>>8&255),U2(n3,e3.adler>>16&255),U2(n3,e3.adler>>24&255),U2(n3,255&e3.total_in),U2(n3,e3.total_in>>8&255),U2(n3,e3.total_in>>16&255),U2(n3,e3.total_in>>24&255)):(P2(n3,e3.adler>>>16),P2(n3,65535&e3.adler)),F2(e3),0<n3.wrap&&(n3.wrap=-n3.wrap),n3.pending!==0?m2:1)},r2.deflateEnd=function(e3){var t3;return e3&&e3.state?(t3=e3.state.status)!==C2&&t3!==69&&t3!==73&&t3!==91&&t3!==103&&t3!==E2&&t3!==666?R2(e3,_2):(e3.state=null,t3===E2?R2(e3,-3):m2):_2},r2.deflateSetDictionary=function(e3,t3){var r3,n3,i3,s3,a3,o3,h3,u3,l3=t3.length;if(!e3||!e3.state||(s3=(r3=e3.state).wrap)===2||s3===1&&r3.status!==C2||r3.lookahead)return _2;for(s3===1&&(e3.adler=d2(e3.adler,t3,l3,0)),r3.wrap=0,l3>=r3.w_size&&(s3===0&&(D2(r3.head),r3.strstart=0,r3.block_start=0,r3.insert=0),u3=new c2.Buf8(r3.w_size),c2.arraySet(u3,t3,l3-r3.w_size,r3.w_size,0),t3=u3,l3=r3.w_size),a3=e3.avail_in,o3=e3.next_in,h3=e3.input,e3.avail_in=l3,e3.next_in=0,e3.input=t3,j2(r3);r3.lookahead>=x2;){for(n3=r3.strstart,i3=r3.lookahead-(x2-1);r3.ins_h=(r3.ins_h<<r3.hash_shift^r3.window[n3+x2-1])&r3.hash_mask,r3.prev[n3&r3.w_mask]=r3.head[r3.ins_h],r3.head[r3.ins_h]=n3,n3++,--i3;);r3.strstart=n3,r3.lookahead=x2-1,j2(r3)}return r3.strstart+=r3.lookahead,r3.block_start=r3.strstart,r3.insert=r3.lookahead,r3.lookahead=0,r3.match_length=r3.prev_length=x2-1,r3.match_available=0,e3.next_in=o3,e3.input=h3,e3.avail_in=a3,r3.wrap=s3,m2},r2.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e2,t2,r2){t2.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e2,t2,r2){t2.exports=function(e3,t3){var r3,n2,i2,s2,a2,o2,h2,u2,l2,f2,c2,d2,p2,m2,_2,g2,b2,v2,y2,w2,k2,x2,S2,z2,C2;r3=e3.state,n2=e3.next_in,z2=e3.input,i2=n2+(e3.avail_in-5),s2=e3.next_out,C2=e3.output,a2=s2-(t3-e3.avail_out),o2=s2+(e3.avail_out-257),h2=r3.dmax,u2=r3.wsize,l2=r3.whave,f2=r3.wnext,c2=r3.window,d2=r3.hold,p2=r3.bits,m2=r3.lencode,_2=r3.distcode,g2=(1<<r3.lenbits)-1,b2=(1<<r3.distbits)-1;e:do{p2<15&&(d2+=z2[n2++]<<p2,p2+=8,d2+=z2[n2++]<<p2,p2+=8),v2=m2[d2&g2];t:for(;;){if(d2>>>=y2=v2>>>24,p2-=y2,(y2=v2>>>16&255)===0)C2[s2++]=65535&v2;else{if(!(16&y2)){if((64&y2)==0){v2=m2[(65535&v2)+(d2&(1<<y2)-1)];continue t}if(32&y2){r3.mode=12;break e}e3.msg="invalid literal/length code",r3.mode=30;break e}w2=65535&v2,(y2&=15)&&(p2<y2&&(d2+=z2[n2++]<<p2,p2+=8),w2+=d2&(1<<y2)-1,d2>>>=y2,p2-=y2),p2<15&&(d2+=z2[n2++]<<p2,p2+=8,d2+=z2[n2++]<<p2,p2+=8),v2=_2[d2&b2];r:for(;;){if(d2>>>=y2=v2>>>24,p2-=y2,!(16&(y2=v2>>>16&255))){if((64&y2)==0){v2=_2[(65535&v2)+(d2&(1<<y2)-1)];continue r}e3.msg="invalid distance code",r3.mode=30;break e}if(k2=65535&v2,p2<(y2&=15)&&(d2+=z2[n2++]<<p2,(p2+=8)<y2&&(d2+=z2[n2++]<<p2,p2+=8)),h2<(k2+=d2&(1<<y2)-1)){e3.msg="invalid distance too far back",r3.mode=30;break e}if(d2>>>=y2,p2-=y2,(y2=s2-a2)<k2){if(l2<(y2=k2-y2)&&r3.sane){e3.msg="invalid distance too far back",r3.mode=30;break e}if(S2=c2,(x2=0)===f2){if(x2+=u2-y2,y2<w2){for(w2-=y2;C2[s2++]=c2[x2++],--y2;);x2=s2-k2,S2=C2}}else if(f2<y2){if(x2+=u2+f2-y2,(y2-=f2)<w2){for(w2-=y2;C2[s2++]=c2[x2++],--y2;);if(x2=0,f2<w2){for(w2-=y2=f2;C2[s2++]=c2[x2++],--y2;);x2=s2-k2,S2=C2}}}else if(x2+=f2-y2,y2<w2){for(w2-=y2;C2[s2++]=c2[x2++],--y2;);x2=s2-k2,S2=C2}for(;2<w2;)C2[s2++]=S2[x2++],C2[s2++]=S2[x2++],C2[s2++]=S2[x2++],w2-=3;w2&&(C2[s2++]=S2[x2++],1<w2&&(C2[s2++]=S2[x2++]))}else{for(x2=s2-k2;C2[s2++]=C2[x2++],C2[s2++]=C2[x2++],C2[s2++]=C2[x2++],2<(w2-=3););w2&&(C2[s2++]=C2[x2++],1<w2&&(C2[s2++]=C2[x2++]))}break}}break}}while(n2<i2&&s2<o2);n2-=w2=p2>>3,d2&=(1<<(p2-=w2<<3))-1,e3.next_in=n2,e3.next_out=s2,e3.avail_in=n2<i2?i2-n2+5:5-(n2-i2),e3.avail_out=s2<o2?o2-s2+257:257-(s2-o2),r3.hold=d2,r3.bits=p2}},{}],49:[function(e2,t2,r2){var I2=e2("../utils/common"),O2=e2("./adler32"),B2=e2("./crc32"),R2=e2("./inffast"),T2=e2("./inftrees"),D2=1,F2=2,N2=0,U2=-2,P2=1,n2=852,i2=592;function L2(e3){return(e3>>>24&255)+(e3>>>8&65280)+((65280&e3)<<8)+((255&e3)<<24)}__name(L2,"L");function s2(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I2.Buf16(320),this.work=new I2.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}__name(s2,"s");function a2(e3){var t3;return e3&&e3.state?(t3=e3.state,e3.total_in=e3.total_out=t3.total=0,e3.msg="",t3.wrap&&(e3.adler=1&t3.wrap),t3.mode=P2,t3.last=0,t3.havedict=0,t3.dmax=32768,t3.head=null,t3.hold=0,t3.bits=0,t3.lencode=t3.lendyn=new I2.Buf32(n2),t3.distcode=t3.distdyn=new I2.Buf32(i2),t3.sane=1,t3.back=-1,N2):U2}__name(a2,"a");function o2(e3){var t3;return e3&&e3.state?((t3=e3.state).wsize=0,t3.whave=0,t3.wnext=0,a2(e3)):U2}__name(o2,"o");function h2(e3,t3){var r3,n3;return e3&&e3.state?(n3=e3.state,t3<0?(r3=0,t3=-t3):(r3=1+(t3>>4),t3<48&&(t3&=15)),t3&&(t3<8||15<t3)?U2:(n3.window!==null&&n3.wbits!==t3&&(n3.window=null),n3.wrap=r3,n3.wbits=t3,o2(e3))):U2}__name(h2,"h");function u2(e3,t3){var r3,n3;return e3?(n3=new s2,(e3.state=n3).window=null,(r3=h2(e3,t3))!==N2&&(e3.state=null),r3):U2}__name(u2,"u");var l2,f2,c2=!0;function j2(e3){if(c2){var t3;for(l2=new I2.Buf32(512),f2=new I2.Buf32(32),t3=0;t3<144;)e3.lens[t3++]=8;for(;t3<256;)e3.lens[t3++]=9;for(;t3<280;)e3.lens[t3++]=7;for(;t3<288;)e3.lens[t3++]=8;for(T2(D2,e3.lens,0,288,l2,0,e3.work,{bits:9}),t3=0;t3<32;)e3.lens[t3++]=5;T2(F2,e3.lens,0,32,f2,0,e3.work,{bits:5}),c2=!1}e3.lencode=l2,e3.lenbits=9,e3.distcode=f2,e3.distbits=5}__name(j2,"j");function Z2(e3,t3,r3,n3){var i3,s3=e3.state;return s3.window===null&&(s3.wsize=1<<s3.wbits,s3.wnext=0,s3.whave=0,s3.window=new I2.Buf8(s3.wsize)),n3>=s3.wsize?(I2.arraySet(s3.window,t3,r3-s3.wsize,s3.wsize,0),s3.wnext=0,s3.whave=s3.wsize):(n3<(i3=s3.wsize-s3.wnext)&&(i3=n3),I2.arraySet(s3.window,t3,r3-n3,i3,s3.wnext),(n3-=i3)?(I2.arraySet(s3.window,t3,r3-n3,n3,0),s3.wnext=n3,s3.whave=s3.wsize):(s3.wnext+=i3,s3.wnext===s3.wsize&&(s3.wnext=0),s3.whave<s3.wsize&&(s3.whave+=i3))),0}__name(Z2,"Z"),r2.inflateReset=o2,r2.inflateReset2=h2,r2.inflateResetKeep=a2,r2.inflateInit=function(e3){return u2(e3,15)},r2.inflateInit2=u2,r2.inflate=function(e3,t3){var r3,n3,i3,s3,a3,o3,h3,u3,l3,f3,c3,d2,p2,m2,_2,g2,b2,v2,y2,w2,k2,x2,S2,z2,C2=0,E2=new I2.Buf8(4),A2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e3||!e3.state||!e3.output||!e3.input&&e3.avail_in!==0)return U2;(r3=e3.state).mode===12&&(r3.mode=13),a3=e3.next_out,i3=e3.output,h3=e3.avail_out,s3=e3.next_in,n3=e3.input,o3=e3.avail_in,u3=r3.hold,l3=r3.bits,f3=o3,c3=h3,x2=N2;e:for(;;)switch(r3.mode){case P2:if(r3.wrap===0){r3.mode=13;break}for(;l3<16;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(2&r3.wrap&&u3===35615){E2[r3.check=0]=255&u3,E2[1]=u3>>>8&255,r3.check=B2(r3.check,E2,2,0),l3=u3=0,r3.mode=2;break}if(r3.flags=0,r3.head&&(r3.head.done=!1),!(1&r3.wrap)||(((255&u3)<<8)+(u3>>8))%31){e3.msg="incorrect header check",r3.mode=30;break}if((15&u3)!=8){e3.msg="unknown compression method",r3.mode=30;break}if(l3-=4,k2=8+(15&(u3>>>=4)),r3.wbits===0)r3.wbits=k2;else if(k2>r3.wbits){e3.msg="invalid window size",r3.mode=30;break}r3.dmax=1<<k2,e3.adler=r3.check=1,r3.mode=512&u3?10:12,l3=u3=0;break;case 2:for(;l3<16;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(r3.flags=u3,(255&r3.flags)!=8){e3.msg="unknown compression method",r3.mode=30;break}if(57344&r3.flags){e3.msg="unknown header flags set",r3.mode=30;break}r3.head&&(r3.head.text=u3>>8&1),512&r3.flags&&(E2[0]=255&u3,E2[1]=u3>>>8&255,r3.check=B2(r3.check,E2,2,0)),l3=u3=0,r3.mode=3;case 3:for(;l3<32;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}r3.head&&(r3.head.time=u3),512&r3.flags&&(E2[0]=255&u3,E2[1]=u3>>>8&255,E2[2]=u3>>>16&255,E2[3]=u3>>>24&255,r3.check=B2(r3.check,E2,4,0)),l3=u3=0,r3.mode=4;case 4:for(;l3<16;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}r3.head&&(r3.head.xflags=255&u3,r3.head.os=u3>>8),512&r3.flags&&(E2[0]=255&u3,E2[1]=u3>>>8&255,r3.check=B2(r3.check,E2,2,0)),l3=u3=0,r3.mode=5;case 5:if(1024&r3.flags){for(;l3<16;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}r3.length=u3,r3.head&&(r3.head.extra_len=u3),512&r3.flags&&(E2[0]=255&u3,E2[1]=u3>>>8&255,r3.check=B2(r3.check,E2,2,0)),l3=u3=0}else r3.head&&(r3.head.extra=null);r3.mode=6;case 6:if(1024&r3.flags&&(o3<(d2=r3.length)&&(d2=o3),d2&&(r3.head&&(k2=r3.head.extra_len-r3.length,r3.head.extra||(r3.head.extra=new Array(r3.head.extra_len)),I2.arraySet(r3.head.extra,n3,s3,d2,k2)),512&r3.flags&&(r3.check=B2(r3.check,n3,d2,s3)),o3-=d2,s3+=d2,r3.length-=d2),r3.length))break e;r3.length=0,r3.mode=7;case 7:if(2048&r3.flags){if(o3===0)break e;for(d2=0;k2=n3[s3+d2++],r3.head&&k2&&r3.length<65536&&(r3.head.name+=String.fromCharCode(k2)),k2&&d2<o3;);if(512&r3.flags&&(r3.check=B2(r3.check,n3,d2,s3)),o3-=d2,s3+=d2,k2)break e}else r3.head&&(r3.head.name=null);r3.length=0,r3.mode=8;case 8:if(4096&r3.flags){if(o3===0)break e;for(d2=0;k2=n3[s3+d2++],r3.head&&k2&&r3.length<65536&&(r3.head.comment+=String.fromCharCode(k2)),k2&&d2<o3;);if(512&r3.flags&&(r3.check=B2(r3.check,n3,d2,s3)),o3-=d2,s3+=d2,k2)break e}else r3.head&&(r3.head.comment=null);r3.mode=9;case 9:if(512&r3.flags){for(;l3<16;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(u3!==(65535&r3.check)){e3.msg="header crc mismatch",r3.mode=30;break}l3=u3=0}r3.head&&(r3.head.hcrc=r3.flags>>9&1,r3.head.done=!0),e3.adler=r3.check=0,r3.mode=12;break;case 10:for(;l3<32;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}e3.adler=r3.check=L2(u3),l3=u3=0,r3.mode=11;case 11:if(r3.havedict===0)return e3.next_out=a3,e3.avail_out=h3,e3.next_in=s3,e3.avail_in=o3,r3.hold=u3,r3.bits=l3,2;e3.adler=r3.check=1,r3.mode=12;case 12:if(t3===5||t3===6)break e;case 13:if(r3.last){u3>>>=7&l3,l3-=7&l3,r3.mode=27;break}for(;l3<3;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}switch(r3.last=1&u3,l3-=1,3&(u3>>>=1)){case 0:r3.mode=14;break;case 1:if(j2(r3),r3.mode=20,t3!==6)break;u3>>>=2,l3-=2;break e;case 2:r3.mode=17;break;case 3:e3.msg="invalid block type",r3.mode=30}u3>>>=2,l3-=2;break;case 14:for(u3>>>=7&l3,l3-=7&l3;l3<32;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if((65535&u3)!=(u3>>>16^65535)){e3.msg="invalid stored block lengths",r3.mode=30;break}if(r3.length=65535&u3,l3=u3=0,r3.mode=15,t3===6)break e;case 15:r3.mode=16;case 16:if(d2=r3.length){if(o3<d2&&(d2=o3),h3<d2&&(d2=h3),d2===0)break e;I2.arraySet(i3,n3,s3,d2,a3),o3-=d2,s3+=d2,h3-=d2,a3+=d2,r3.length-=d2;break}r3.mode=12;break;case 17:for(;l3<14;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(r3.nlen=257+(31&u3),u3>>>=5,l3-=5,r3.ndist=1+(31&u3),u3>>>=5,l3-=5,r3.ncode=4+(15&u3),u3>>>=4,l3-=4,286<r3.nlen||30<r3.ndist){e3.msg="too many length or distance symbols",r3.mode=30;break}r3.have=0,r3.mode=18;case 18:for(;r3.have<r3.ncode;){for(;l3<3;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}r3.lens[A2[r3.have++]]=7&u3,u3>>>=3,l3-=3}for(;r3.have<19;)r3.lens[A2[r3.have++]]=0;if(r3.lencode=r3.lendyn,r3.lenbits=7,S2={bits:r3.lenbits},x2=T2(0,r3.lens,0,19,r3.lencode,0,r3.work,S2),r3.lenbits=S2.bits,x2){e3.msg="invalid code lengths set",r3.mode=30;break}r3.have=0,r3.mode=19;case 19:for(;r3.have<r3.nlen+r3.ndist;){for(;g2=(C2=r3.lencode[u3&(1<<r3.lenbits)-1])>>>16&255,b2=65535&C2,!((_2=C2>>>24)<=l3);){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(b2<16)u3>>>=_2,l3-=_2,r3.lens[r3.have++]=b2;else{if(b2===16){for(z2=_2+2;l3<z2;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(u3>>>=_2,l3-=_2,r3.have===0){e3.msg="invalid bit length repeat",r3.mode=30;break}k2=r3.lens[r3.have-1],d2=3+(3&u3),u3>>>=2,l3-=2}else if(b2===17){for(z2=_2+3;l3<z2;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}l3-=_2,k2=0,d2=3+(7&(u3>>>=_2)),u3>>>=3,l3-=3}else{for(z2=_2+7;l3<z2;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}l3-=_2,k2=0,d2=11+(127&(u3>>>=_2)),u3>>>=7,l3-=7}if(r3.have+d2>r3.nlen+r3.ndist){e3.msg="invalid bit length repeat",r3.mode=30;break}for(;d2--;)r3.lens[r3.have++]=k2}}if(r3.mode===30)break;if(r3.lens[256]===0){e3.msg="invalid code -- missing end-of-block",r3.mode=30;break}if(r3.lenbits=9,S2={bits:r3.lenbits},x2=T2(D2,r3.lens,0,r3.nlen,r3.lencode,0,r3.work,S2),r3.lenbits=S2.bits,x2){e3.msg="invalid literal/lengths set",r3.mode=30;break}if(r3.distbits=6,r3.distcode=r3.distdyn,S2={bits:r3.distbits},x2=T2(F2,r3.lens,r3.nlen,r3.ndist,r3.distcode,0,r3.work,S2),r3.distbits=S2.bits,x2){e3.msg="invalid distances set",r3.mode=30;break}if(r3.mode=20,t3===6)break e;case 20:r3.mode=21;case 21:if(6<=o3&&258<=h3){e3.next_out=a3,e3.avail_out=h3,e3.next_in=s3,e3.avail_in=o3,r3.hold=u3,r3.bits=l3,R2(e3,c3),a3=e3.next_out,i3=e3.output,h3=e3.avail_out,s3=e3.next_in,n3=e3.input,o3=e3.avail_in,u3=r3.hold,l3=r3.bits,r3.mode===12&&(r3.back=-1);break}for(r3.back=0;g2=(C2=r3.lencode[u3&(1<<r3.lenbits)-1])>>>16&255,b2=65535&C2,!((_2=C2>>>24)<=l3);){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(g2&&(240&g2)==0){for(v2=_2,y2=g2,w2=b2;g2=(C2=r3.lencode[w2+((u3&(1<<v2+y2)-1)>>v2)])>>>16&255,b2=65535&C2,!(v2+(_2=C2>>>24)<=l3);){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}u3>>>=v2,l3-=v2,r3.back+=v2}if(u3>>>=_2,l3-=_2,r3.back+=_2,r3.length=b2,g2===0){r3.mode=26;break}if(32&g2){r3.back=-1,r3.mode=12;break}if(64&g2){e3.msg="invalid literal/length code",r3.mode=30;break}r3.extra=15&g2,r3.mode=22;case 22:if(r3.extra){for(z2=r3.extra;l3<z2;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}r3.length+=u3&(1<<r3.extra)-1,u3>>>=r3.extra,l3-=r3.extra,r3.back+=r3.extra}r3.was=r3.length,r3.mode=23;case 23:for(;g2=(C2=r3.distcode[u3&(1<<r3.distbits)-1])>>>16&255,b2=65535&C2,!((_2=C2>>>24)<=l3);){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if((240&g2)==0){for(v2=_2,y2=g2,w2=b2;g2=(C2=r3.distcode[w2+((u3&(1<<v2+y2)-1)>>v2)])>>>16&255,b2=65535&C2,!(v2+(_2=C2>>>24)<=l3);){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}u3>>>=v2,l3-=v2,r3.back+=v2}if(u3>>>=_2,l3-=_2,r3.back+=_2,64&g2){e3.msg="invalid distance code",r3.mode=30;break}r3.offset=b2,r3.extra=15&g2,r3.mode=24;case 24:if(r3.extra){for(z2=r3.extra;l3<z2;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}r3.offset+=u3&(1<<r3.extra)-1,u3>>>=r3.extra,l3-=r3.extra,r3.back+=r3.extra}if(r3.offset>r3.dmax){e3.msg="invalid distance too far back",r3.mode=30;break}r3.mode=25;case 25:if(h3===0)break e;if(d2=c3-h3,r3.offset>d2){if((d2=r3.offset-d2)>r3.whave&&r3.sane){e3.msg="invalid distance too far back",r3.mode=30;break}p2=d2>r3.wnext?(d2-=r3.wnext,r3.wsize-d2):r3.wnext-d2,d2>r3.length&&(d2=r3.length),m2=r3.window}else m2=i3,p2=a3-r3.offset,d2=r3.length;for(h3<d2&&(d2=h3),h3-=d2,r3.length-=d2;i3[a3++]=m2[p2++],--d2;);r3.length===0&&(r3.mode=21);break;case 26:if(h3===0)break e;i3[a3++]=r3.length,h3--,r3.mode=21;break;case 27:if(r3.wrap){for(;l3<32;){if(o3===0)break e;o3--,u3|=n3[s3++]<<l3,l3+=8}if(c3-=h3,e3.total_out+=c3,r3.total+=c3,c3&&(e3.adler=r3.check=r3.flags?B2(r3.check,i3,c3,a3-c3):O2(r3.check,i3,c3,a3-c3)),c3=h3,(r3.flags?u3:L2(u3))!==r3.check){e3.msg="incorrect data check",r3.mode=30;break}l3=u3=0}r3.mode=28;case 28:if(r3.wrap&&r3.flags){for(;l3<32;){if(o3===0)break e;o3--,u3+=n3[s3++]<<l3,l3+=8}if(u3!==(4294967295&r3.total)){e3.msg="incorrect length check",r3.mode=30;break}l3=u3=0}r3.mode=29;case 29:x2=1;break e;case 30:x2=-3;break e;case 31:return-4;case 32:default:return U2}return e3.next_out=a3,e3.avail_out=h3,e3.next_in=s3,e3.avail_in=o3,r3.hold=u3,r3.bits=l3,(r3.wsize||c3!==e3.avail_out&&r3.mode<30&&(r3.mode<27||t3!==4))&&Z2(e3,e3.output,e3.next_out,c3-e3.avail_out)?(r3.mode=31,-4):(f3-=e3.avail_in,c3-=e3.avail_out,e3.total_in+=f3,e3.total_out+=c3,r3.total+=c3,r3.wrap&&c3&&(e3.adler=r3.check=r3.flags?B2(r3.check,i3,c3,e3.next_out-c3):O2(r3.check,i3,c3,e3.next_out-c3)),e3.data_type=r3.bits+(r3.last?64:0)+(r3.mode===12?128:0)+(r3.mode===20||r3.mode===15?256:0),(f3==0&&c3===0||t3===4)&&x2===N2&&(x2=-5),x2)},r2.inflateEnd=function(e3){if(!e3||!e3.state)return U2;var t3=e3.state;return t3.window&&(t3.window=null),e3.state=null,N2},r2.inflateGetHeader=function(e3,t3){var r3;return e3&&e3.state?(2&(r3=e3.state).wrap)==0?U2:((r3.head=t3).done=!1,N2):U2},r2.inflateSetDictionary=function(e3,t3){var r3,n3=t3.length;return e3&&e3.state?(r3=e3.state).wrap!==0&&r3.mode!==11?U2:r3.mode===11&&O2(1,t3,n3,0)!==r3.check?-3:Z2(e3,t3,n3,n3)?(r3.mode=31,-4):(r3.havedict=1,N2):U2},r2.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e2,t2,r2){var D2=e2("../utils/common"),F2=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],N2=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],U2=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P2=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t2.exports=function(e3,t3,r3,n2,i2,s2,a2,o2){var h2,u2,l2,f2,c2,d2,p2,m2,_2,g2=o2.bits,b2=0,v2=0,y2=0,w2=0,k2=0,x2=0,S2=0,z2=0,C2=0,E2=0,A2=null,I2=0,O2=new D2.Buf16(16),B2=new D2.Buf16(16),R2=null,T2=0;for(b2=0;b2<=15;b2++)O2[b2]=0;for(v2=0;v2<n2;v2++)O2[t3[r3+v2]]++;for(k2=g2,w2=15;1<=w2&&O2[w2]===0;w2--);if(w2<k2&&(k2=w2),w2===0)return i2[s2++]=20971520,i2[s2++]=20971520,o2.bits=1,0;for(y2=1;y2<w2&&O2[y2]===0;y2++);for(k2<y2&&(k2=y2),b2=z2=1;b2<=15;b2++)if(z2<<=1,(z2-=O2[b2])<0)return-1;if(0<z2&&(e3===0||w2!==1))return-1;for(B2[1]=0,b2=1;b2<15;b2++)B2[b2+1]=B2[b2]+O2[b2];for(v2=0;v2<n2;v2++)t3[r3+v2]!==0&&(a2[B2[t3[r3+v2]]++]=v2);if(d2=e3===0?(A2=R2=a2,19):e3===1?(A2=F2,I2-=257,R2=N2,T2-=257,256):(A2=U2,R2=P2,-1),b2=y2,c2=s2,S2=v2=E2=0,l2=-1,f2=(C2=1<<(x2=k2))-1,e3===1&&852<C2||e3===2&&592<C2)return 1;for(;;){for(p2=b2-S2,_2=a2[v2]<d2?(m2=0,a2[v2]):a2[v2]>d2?(m2=R2[T2+a2[v2]],A2[I2+a2[v2]]):(m2=96,0),h2=1<<b2-S2,y2=u2=1<<x2;i2[c2+(E2>>S2)+(u2-=h2)]=p2<<24|m2<<16|_2|0,u2!==0;);for(h2=1<<b2-1;E2&h2;)h2>>=1;if(h2!==0?(E2&=h2-1,E2+=h2):E2=0,v2++,--O2[b2]==0){if(b2===w2)break;b2=t3[r3+a2[v2]]}if(k2<b2&&(E2&f2)!==l2){for(S2===0&&(S2=k2),c2+=y2,z2=1<<(x2=b2-S2);x2+S2<w2&&!((z2-=O2[x2+S2])<=0);)x2++,z2<<=1;if(C2+=1<<x2,e3===1&&852<C2||e3===2&&592<C2)return 1;i2[l2=E2&f2]=k2<<24|x2<<16|c2-s2|0}}return E2!==0&&(i2[c2+E2]=b2-S2<<24|64<<16|0),o2.bits=k2,0}},{"../utils/common":41}],51:[function(e2,t2,r2){t2.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e2,t2,r2){var i2=e2("../utils/common"),o2=0,h2=1;function n2(e3){for(var t3=e3.length;0<=--t3;)e3[t3]=0}__name(n2,"n");var s2=0,a2=29,u2=256,l2=u2+1+a2,f2=30,c2=19,_2=2*l2+1,g2=15,d2=16,p2=7,m2=256,b2=16,v2=17,y2=18,w2=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k2=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x2=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S2=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z2=new Array(2*(l2+2));n2(z2);var C2=new Array(2*f2);n2(C2);var E2=new Array(512);n2(E2);var A2=new Array(256);n2(A2);var I2=new Array(a2);n2(I2);var O2,B2,R2,T2=new Array(f2);function D2(e3,t3,r3,n3,i3){this.static_tree=e3,this.extra_bits=t3,this.extra_base=r3,this.elems=n3,this.max_length=i3,this.has_stree=e3&&e3.length}__name(D2,"D");function F2(e3,t3){this.dyn_tree=e3,this.max_code=0,this.stat_desc=t3}__name(F2,"F");function N2(e3){return e3<256?E2[e3]:E2[256+(e3>>>7)]}__name(N2,"N");function U2(e3,t3){e3.pending_buf[e3.pending++]=255&t3,e3.pending_buf[e3.pending++]=t3>>>8&255}__name(U2,"U");function P2(e3,t3,r3){e3.bi_valid>d2-r3?(e3.bi_buf|=t3<<e3.bi_valid&65535,U2(e3,e3.bi_buf),e3.bi_buf=t3>>d2-e3.bi_valid,e3.bi_valid+=r3-d2):(e3.bi_buf|=t3<<e3.bi_valid&65535,e3.bi_valid+=r3)}__name(P2,"P");function L2(e3,t3,r3){P2(e3,r3[2*t3],r3[2*t3+1])}__name(L2,"L");function j2(e3,t3){for(var r3=0;r3|=1&e3,e3>>>=1,r3<<=1,0<--t3;);return r3>>>1}__name(j2,"j");function Z2(e3,t3,r3){var n3,i3,s3=new Array(g2+1),a3=0;for(n3=1;n3<=g2;n3++)s3[n3]=a3=a3+r3[n3-1]<<1;for(i3=0;i3<=t3;i3++){var o3=e3[2*i3+1];o3!==0&&(e3[2*i3]=j2(s3[o3]++,o3))}}__name(Z2,"Z");function W2(e3){var t3;for(t3=0;t3<l2;t3++)e3.dyn_ltree[2*t3]=0;for(t3=0;t3<f2;t3++)e3.dyn_dtree[2*t3]=0;for(t3=0;t3<c2;t3++)e3.bl_tree[2*t3]=0;e3.dyn_ltree[2*m2]=1,e3.opt_len=e3.static_len=0,e3.last_lit=e3.matches=0}__name(W2,"W");function M2(e3){8<e3.bi_valid?U2(e3,e3.bi_buf):0<e3.bi_valid&&(e3.pending_buf[e3.pending++]=e3.bi_buf),e3.bi_buf=0,e3.bi_valid=0}__name(M2,"M");function H2(e3,t3,r3,n3){var i3=2*t3,s3=2*r3;return e3[i3]<e3[s3]||e3[i3]===e3[s3]&&n3[t3]<=n3[r3]}__name(H2,"H");function G2(e3,t3,r3){for(var n3=e3.heap[r3],i3=r3<<1;i3<=e3.heap_len&&(i3<e3.heap_len&&H2(t3,e3.heap[i3+1],e3.heap[i3],e3.depth)&&i3++,!H2(t3,n3,e3.heap[i3],e3.depth));)e3.heap[r3]=e3.heap[i3],r3=i3,i3<<=1;e3.heap[r3]=n3}__name(G2,"G");function K2(e3,t3,r3){var n3,i3,s3,a3,o3=0;if(e3.last_lit!==0)for(;n3=e3.pending_buf[e3.d_buf+2*o3]<<8|e3.pending_buf[e3.d_buf+2*o3+1],i3=e3.pending_buf[e3.l_buf+o3],o3++,n3===0?L2(e3,i3,t3):(L2(e3,(s3=A2[i3])+u2+1,t3),(a3=w2[s3])!==0&&P2(e3,i3-=I2[s3],a3),L2(e3,s3=N2(--n3),r3),(a3=k2[s3])!==0&&P2(e3,n3-=T2[s3],a3)),o3<e3.last_lit;);L2(e3,m2,t3)}__name(K2,"K");function Y2(e3,t3){var r3,n3,i3,s3=t3.dyn_tree,a3=t3.stat_desc.static_tree,o3=t3.stat_desc.has_stree,h3=t3.stat_desc.elems,u3=-1;for(e3.heap_len=0,e3.heap_max=_2,r3=0;r3<h3;r3++)s3[2*r3]!==0?(e3.heap[++e3.heap_len]=u3=r3,e3.depth[r3]=0):s3[2*r3+1]=0;for(;e3.heap_len<2;)s3[2*(i3=e3.heap[++e3.heap_len]=u3<2?++u3:0)]=1,e3.depth[i3]=0,e3.opt_len--,o3&&(e3.static_len-=a3[2*i3+1]);for(t3.max_code=u3,r3=e3.heap_len>>1;1<=r3;r3--)G2(e3,s3,r3);for(i3=h3;r3=e3.heap[1],e3.heap[1]=e3.heap[e3.heap_len--],G2(e3,s3,1),n3=e3.heap[1],e3.heap[--e3.heap_max]=r3,e3.heap[--e3.heap_max]=n3,s3[2*i3]=s3[2*r3]+s3[2*n3],e3.depth[i3]=(e3.depth[r3]>=e3.depth[n3]?e3.depth[r3]:e3.depth[n3])+1,s3[2*r3+1]=s3[2*n3+1]=i3,e3.heap[1]=i3++,G2(e3,s3,1),2<=e3.heap_len;);e3.heap[--e3.heap_max]=e3.heap[1],function(e4,t4){var r4,n4,i4,s4,a4,o4,h4=t4.dyn_tree,u4=t4.max_code,l3=t4.stat_desc.static_tree,f3=t4.stat_desc.has_stree,c3=t4.stat_desc.extra_bits,d3=t4.stat_desc.extra_base,p3=t4.stat_desc.max_length,m3=0;for(s4=0;s4<=g2;s4++)e4.bl_count[s4]=0;for(h4[2*e4.heap[e4.heap_max]+1]=0,r4=e4.heap_max+1;r4<_2;r4++)p3<(s4=h4[2*h4[2*(n4=e4.heap[r4])+1]+1]+1)&&(s4=p3,m3++),h4[2*n4+1]=s4,u4<n4||(e4.bl_count[s4]++,a4=0,d3<=n4&&(a4=c3[n4-d3]),o4=h4[2*n4],e4.opt_len+=o4*(s4+a4),f3&&(e4.static_len+=o4*(l3[2*n4+1]+a4)));if(m3!==0){do{for(s4=p3-1;e4.bl_count[s4]===0;)s4--;e4.bl_count[s4]--,e4.bl_count[s4+1]+=2,e4.bl_count[p3]--,m3-=2}while(0<m3);for(s4=p3;s4!==0;s4--)for(n4=e4.bl_count[s4];n4!==0;)u4<(i4=e4.heap[--r4])||(h4[2*i4+1]!==s4&&(e4.opt_len+=(s4-h4[2*i4+1])*h4[2*i4],h4[2*i4+1]=s4),n4--)}}(e3,t3),Z2(s3,u3,e3.bl_count)}__name(Y2,"Y");function X2(e3,t3,r3){var n3,i3,s3=-1,a3=t3[1],o3=0,h3=7,u3=4;for(a3===0&&(h3=138,u3=3),t3[2*(r3+1)+1]=65535,n3=0;n3<=r3;n3++)i3=a3,a3=t3[2*(n3+1)+1],++o3<h3&&i3===a3||(o3<u3?e3.bl_tree[2*i3]+=o3:i3!==0?(i3!==s3&&e3.bl_tree[2*i3]++,e3.bl_tree[2*b2]++):o3<=10?e3.bl_tree[2*v2]++:e3.bl_tree[2*y2]++,s3=i3,u3=(o3=0)===a3?(h3=138,3):i3===a3?(h3=6,3):(h3=7,4))}__name(X2,"X");function V2(e3,t3,r3){var n3,i3,s3=-1,a3=t3[1],o3=0,h3=7,u3=4;for(a3===0&&(h3=138,u3=3),n3=0;n3<=r3;n3++)if(i3=a3,a3=t3[2*(n3+1)+1],!(++o3<h3&&i3===a3)){if(o3<u3)for(;L2(e3,i3,e3.bl_tree),--o3!=0;);else i3!==0?(i3!==s3&&(L2(e3,i3,e3.bl_tree),o3--),L2(e3,b2,e3.bl_tree),P2(e3,o3-3,2)):o3<=10?(L2(e3,v2,e3.bl_tree),P2(e3,o3-3,3)):(L2(e3,y2,e3.bl_tree),P2(e3,o3-11,7));s3=i3,u3=(o3=0)===a3?(h3=138,3):i3===a3?(h3=6,3):(h3=7,4)}}__name(V2,"V"),n2(T2);var q2=!1;function J2(e3,t3,r3,n3){P2(e3,(s2<<1)+(n3?1:0),3),function(e4,t4,r4,n4){M2(e4),U2(e4,r4),U2(e4,~r4),i2.arraySet(e4.pending_buf,e4.window,t4,r4,e4.pending),e4.pending+=r4}(e3,t3,r3)}__name(J2,"J"),r2._tr_init=function(e3){q2||(function(){var e4,t3,r3,n3,i3,s3=new Array(g2+1);for(n3=r3=0;n3<a2-1;n3++)for(I2[n3]=r3,e4=0;e4<1<<w2[n3];e4++)A2[r3++]=n3;for(A2[r3-1]=n3,n3=i3=0;n3<16;n3++)for(T2[n3]=i3,e4=0;e4<1<<k2[n3];e4++)E2[i3++]=n3;for(i3>>=7;n3<f2;n3++)for(T2[n3]=i3<<7,e4=0;e4<1<<k2[n3]-7;e4++)E2[256+i3++]=n3;for(t3=0;t3<=g2;t3++)s3[t3]=0;for(e4=0;e4<=143;)z2[2*e4+1]=8,e4++,s3[8]++;for(;e4<=255;)z2[2*e4+1]=9,e4++,s3[9]++;for(;e4<=279;)z2[2*e4+1]=7,e4++,s3[7]++;for(;e4<=287;)z2[2*e4+1]=8,e4++,s3[8]++;for(Z2(z2,l2+1,s3),e4=0;e4<f2;e4++)C2[2*e4+1]=5,C2[2*e4]=j2(e4,5);O2=new D2(z2,w2,u2+1,l2,g2),B2=new D2(C2,k2,0,f2,g2),R2=new D2(new Array(0),x2,0,c2,p2)}(),q2=!0),e3.l_desc=new F2(e3.dyn_ltree,O2),e3.d_desc=new F2(e3.dyn_dtree,B2),e3.bl_desc=new F2(e3.bl_tree,R2),e3.bi_buf=0,e3.bi_valid=0,W2(e3)},r2._tr_stored_block=J2,r2._tr_flush_block=function(e3,t3,r3,n3){var i3,s3,a3=0;0<e3.level?(e3.strm.data_type===2&&(e3.strm.data_type=function(e4){var t4,r4=4093624447;for(t4=0;t4<=31;t4++,r4>>>=1)if(1&r4&&e4.dyn_ltree[2*t4]!==0)return o2;if(e4.dyn_ltree[18]!==0||e4.dyn_ltree[20]!==0||e4.dyn_ltree[26]!==0)return h2;for(t4=32;t4<u2;t4++)if(e4.dyn_ltree[2*t4]!==0)return h2;return o2}(e3)),Y2(e3,e3.l_desc),Y2(e3,e3.d_desc),a3=function(e4){var t4;for(X2(e4,e4.dyn_ltree,e4.l_desc.max_code),X2(e4,e4.dyn_dtree,e4.d_desc.max_code),Y2(e4,e4.bl_desc),t4=c2-1;3<=t4&&e4.bl_tree[2*S2[t4]+1]===0;t4--);return e4.opt_len+=3*(t4+1)+5+5+4,t4}(e3),i3=e3.opt_len+3+7>>>3,(s3=e3.static_len+3+7>>>3)<=i3&&(i3=s3)):i3=s3=r3+5,r3+4<=i3&&t3!==-1?J2(e3,t3,r3,n3):e3.strategy===4||s3===i3?(P2(e3,2+(n3?1:0),3),K2(e3,z2,C2)):(P2(e3,4+(n3?1:0),3),function(e4,t4,r4,n4){var i4;for(P2(e4,t4-257,5),P2(e4,r4-1,5),P2(e4,n4-4,4),i4=0;i4<n4;i4++)P2(e4,e4.bl_tree[2*S2[i4]+1],3);V2(e4,e4.dyn_ltree,t4-1),V2(e4,e4.dyn_dtree,r4-1)}(e3,e3.l_desc.max_code+1,e3.d_desc.max_code+1,a3+1),K2(e3,e3.dyn_ltree,e3.dyn_dtree)),W2(e3),n3&&M2(e3)},r2._tr_tally=function(e3,t3,r3){return e3.pending_buf[e3.d_buf+2*e3.last_lit]=t3>>>8&255,e3.pending_buf[e3.d_buf+2*e3.last_lit+1]=255&t3,e3.pending_buf[e3.l_buf+e3.last_lit]=255&r3,e3.last_lit++,t3===0?e3.dyn_ltree[2*r3]++:(e3.matches++,t3--,e3.dyn_ltree[2*(A2[r3]+u2+1)]++,e3.dyn_dtree[2*N2(t3)]++),e3.last_lit===e3.lit_bufsize-1},r2._tr_align=function(e3){P2(e3,2,3),L2(e3,m2,z2),function(e4){e4.bi_valid===16?(U2(e4,e4.bi_buf),e4.bi_buf=0,e4.bi_valid=0):8<=e4.bi_valid&&(e4.pending_buf[e4.pending++]=255&e4.bi_buf,e4.bi_buf>>=8,e4.bi_valid-=8)}(e3)}},{"../utils/common":41}],53:[function(e2,t2,r2){t2.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e2,t2,r2){(function(e3){(function(r3,n2){if(!r3.setImmediate){var i2,s2,t3,a2,o2=1,h2={},u2=!1,l2=r3.document,e4=Object.getPrototypeOf&&Object.getPrototypeOf(r3);e4=e4&&e4.setTimeout?e4:r3,i2={}.toString.call(r3.process)==="[object process]"?function(e5){process.nextTick(function(){c2(e5)})}:function(){if(r3.postMessage&&!r3.importScripts){var e5=!0,t4=r3.onmessage;return r3.onmessage=function(){e5=!1},r3.postMessage("","*"),r3.onmessage=t4,e5}}()?(a2="setImmediate$"+Math.random()+"$",r3.addEventListener?r3.addEventListener("message",d2,!1):r3.attachEvent("onmessage",d2),function(e5){r3.postMessage(a2+e5,"*")}):r3.MessageChannel?((t3=new MessageChannel).port1.onmessage=function(e5){c2(e5.data)},function(e5){t3.port2.postMessage(e5)}):l2&&"onreadystatechange"in l2.createElement("script")?(s2=l2.documentElement,function(e5){var t4=l2.createElement("script");t4.onreadystatechange=function(){c2(e5),t4.onreadystatechange=null,s2.removeChild(t4),t4=null},s2.appendChild(t4)}):function(e5){setTimeout(c2,0,e5)},e4.setImmediate=function(e5){typeof e5!="function"&&(e5=new Function(""+e5));for(var t4=new Array(arguments.length-1),r4=0;r4<t4.length;r4++)t4[r4]=arguments[r4+1];var n3={callback:e5,args:t4};return h2[o2]=n3,i2(o2),o2++},e4.clearImmediate=f2}function f2(e5){delete h2[e5]}__name(f2,"f");function c2(e5){if(u2)setTimeout(c2,0,e5);else{var t4=h2[e5];if(t4){u2=!0;try{(function(e6){var t5=e6.callback,r4=e6.args;switch(r4.length){case 0:t5();break;case 1:t5(r4[0]);break;case 2:t5(r4[0],r4[1]);break;case 3:t5(r4[0],r4[1],r4[2]);break;default:t5.apply(n2,r4)}})(t4)}finally{f2(e5),u2=!1}}}}__name(c2,"c");function d2(e5){e5.source===r3&&typeof e5.data=="string"&&e5.data.indexOf(a2)===0&&c2(+e5.data.slice(a2.length))}__name(d2,"d")})(typeof self>"u"?e3===void 0?this:e3:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(jszip_min)),jszip_min.exports}__name(requireJszip_min,"requireJszip_min");var jszip_minExports=requireJszip_min();const JSZip=getDefaultExportFromCjs$1(jszip_minExports);var _timeline,_width,_height,_canvas,_anticipatedFrame,_frames,_subscribers,_status,_rendering,_a9;let FrameSaver$1=(_a9=class{constructor({timeline,width,height}){__privateAdd(this,_timeline);__privateAdd(this,_width);__privateAdd(this,_height);__privateAdd(this,_canvas);__privateAdd(this,_anticipatedFrame);__privateAdd(this,_frames,[]);__privateAdd(this,_subscribers,[]);__privateAdd(this,_status,{rendering:!1,totalFrames:0,renderedFrames:0});__privateAdd(this,_rendering,!1);__privateSet(this,_timeline,timeline),__privateSet(this,_width,width),__privateSet(this,_height,height)}addCanvas(canvas){__privateSet(this,_canvas,canvas)}subscribe(cb){return __privateGet(this,_subscribers).push(cb),()=>{__privateSet(this,_subscribers,__privateGet(this,_subscribers).filter(s2=>s2!==cb))}}getStatus(){return __privateGet(this,_status)}frame(){if(!__privateGet(this,_rendering)||!__privateGet(this,_canvas))return;const project=__privateGet(this,_timeline).getProject(),currentFrame=project.timelineData.playheadPosition;if(currentFrame!==__privateGet(this,_anticipatedFrame))return;const focusRange=project.timelineData.focusRange;if(currentFrame<focusRange[1]){const canvas=document.querySelector("canvas");__privateGet(this,_frames).push(canvas.toDataURL()),__privateSet(this,_anticipatedFrame,currentFrame+1),__privateGet(this,_timeline).projectTools.updatePlayheadPosition(currentFrame+1,!0),__privateSet(this,_status,{...__privateGet(this,_status),renderedFrames:__privateGet(this,_status).renderedFrames+1})}else{const jszip=new JSZip,folder=jszip.folder("frames");__privateGet(this,_frames).forEach((frame,index)=>{const base64Data=frame.split(",")[1],binaryString=window.atob(base64Data),binaryLen=binaryString.length,bytes2=new Uint8Array(binaryLen);for(let i2=0;i2<binaryLen;i2++)bytes2[i2]=binaryString.charCodeAt(i2);const fileName="frame"+String(index).padStart(5,"0")+".png";folder.file(fileName,bytes2,{base64:!0})}),jszip.generateAsync({type:"blob"}).then(function(content){const blobUrl=URL.createObjectURL(content),a2=document.createElement("a");a2.href=blobUrl,a2.download="frames.zip",a2.click(),URL.revokeObjectURL(blobUrl)}),__privateSet(this,_frames,[]),__privateSet(this,_anticipatedFrame,0),__privateGet(this,_timeline).projectTools.updatePlayheadPosition(0,!0),__privateSet(this,_rendering,!1),__privateSet(this,_status,{...__privateGet(this,_status),renderedFrames:0,totalFrames:0,rendering:!1})}}begin(){if(__privateGet(this,_rendering))return;__privateSet(this,_rendering,!0);const focusRange=__privateGet(this,_timeline).getProject().timelineData.focusRange;__privateSet(this,_anticipatedFrame,focusRange[0]),__privateSet(this,_status,{rendering:!0,totalFrames:focusRange[1]-focusRange[0],renderedFrames:0}),__privateGet(this,_timeline).projectTools.updatePlayheadPosition(focusRange[0],!0)}},_timeline=new WeakMap,_width=new WeakMap,_height=new WeakMap,_canvas=new WeakMap,_anticipatedFrame=new WeakMap,_frames=new WeakMap,_subscribers=new WeakMap,_status=new WeakMap,_rendering=new WeakMap,__name(_a9,"FrameSaver"),_a9);const pb$1=new u.ProjectBuilder;pb$1.setTimelineData(900,30,45);pb$1.addContinuousSignal("s1","Birth Rate",[0,1]);pb$1.addPin("s1",10,0,"return easyLinear()");pb$1.addPin("s1",20,1,"return easyEaseOut()");pb$1.addPin("s1",40,1,"return easyLinear()");pb$1.addPin("s1",50,0,"return easyEaseIn()");pb$1.addContinuousSignal("cx","Center X",[0,1]);pb$1.addPin("cx",0,0,"return easyLinear()");pb$1.addPin("cx",50,1,"return easyLinear()");pb$1.addPin("cx",900,1,"return easyLinear()");pb$1.addContinuousSignal("cy","Center Y",[0,1]);pb$1.addPin("cy",0,0,"return easyLinear()");pb$1.addPin("cy",50,1,"return easyLinear()");pb$1.addPin("cy",900,1,"return easyLinear()");pb$1.setSignalActiveStatus("s1",!0);pb$1.setSignalActiveStatus("cx",!1);pb$1.setSignalActiveStatus("cy",!1);const defaultProject$1=__name(()=>{const project=pb$1.getProject();return _e$1.TimelineController.fromProject(project).serialize()},"defaultProject$1"),defaultName$1="spaghetti.timeline";function CyberSpaghettiInterior({width=1920,height=1080,timeline,controls}){const canvasRef=reactExports.useRef(null),containerRef=reactExports.useRef(null),raySystem=reactExports.useRef(new RaySystem).current,controlsSnapshot=reactExports.useSyncExternalStore(controls.subscribeInternal.bind(controls),controls.getSnapshot.bind(controls)),timelineProject=reactExports.useSyncExternalStore(timeline.onTimelineUpdate.bind(timeline),timeline.getProject.bind(timeline));raySystem.update(timelineProject,controlsSnapshot,timeline),reactExports.useEffect(()=>{function resizeCanvasToFit(container,canvas,aspectRatio){const containerWidth=container.clientWidth,containerHeight=container.clientHeight,containerAspect=containerWidth/containerHeight;let width2,height2;containerAspect>aspectRatio?(height2=containerHeight,width2=height2*aspectRatio):(width2=containerWidth,height2=width2/aspectRatio),canvas.style.width=`${width2}px`,canvas.style.height=`${height2}px`}__name(resizeCanvasToFit,"resizeCanvasToFit");const handleResize=__name(()=>{if(canvasRef.current&&containerRef.current){const container=containerRef.current,canvas=canvasRef.current,aspectRatio=width/height;resizeCanvasToFit(container,canvas,aspectRatio)}},"handleResize");return window.addEventListener("resize",handleResize),handleResize(),()=>{window.removeEventListener("resize",handleResize)}},[]);const frameSaver=reactExports.useRef(new FrameSaver$1({timeline,width,height})).current;return reactExports.useEffect(()=>{const canvas=canvasRef.current;if(!canvas)return;canvas.width=width,canvas.height=height,frameSaver.addCanvas(canvas);let renderer;return(async()=>{navigator.gpu?(renderer=new WebGPURenderer(canvas,raySystem),await renderer.init()):(console.warn("WebGPU not available – using Canvas2D fallback"),renderer=new Canvas2DRenderer(canvas,raySystem));const loop=__name(()=>{renderer.draw();const{rendering}=frameSaver.getStatus();rendering&&renderer.onFrameReady&&renderer.onFrameReady(frameSaver.frame.bind(frameSaver)),requestAnimationFrame(loop)},"loop");requestAnimationFrame(loop)})(),()=>{}},[width,height,timeline,controls]),timeline?jsxRuntimeExports.jsxs("div",{ref:containerRef,style:{width:"100vw",height:"100vh",backgroundColor:"var(--gray1)",position:"relative"},children:[jsxRuntimeExports.jsx("canvas",{ref:canvasRef,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),jsxRuntimeExports.jsx(FrameSaverScreen$1,{frameSaver})]}):jsxRuntimeExports.jsx("div",{children:"No timeline found"})}__name(CyberSpaghettiInterior,"CyberSpaghettiInterior");function FrameSaverScreen$1({frameSaver}){const{rendering,totalFrames,renderedFrames}=reactExports.useSyncExternalStore(frameSaver.subscribe.bind(frameSaver),frameSaver.getStatus.bind(frameSaver));return jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"60px",display:"flex",justifyContent:"flex-start",alignItems:"center",padding:10},children:[jsxRuntimeExports.jsx(Button,{onClick:__name(()=>{frameSaver.begin()},"onClick"),text:"export image sequence",iconName:"animated_images"}),rendering&&jsxRuntimeExports.jsx("div",{style:{color:"var(--gray6)",marginLeft:20},children:`Rendering... ${renderedFrames} / ${totalFrames}`})]})}__name(FrameSaverScreen$1,"FrameSaverScreen$1");function CyberSpaghettiExterior$2(){const timeline=useTimeline(),controls=useControls$1();return timeline&&controls?jsxRuntimeExports.jsx(CyberSpaghettiInterior,{controls,timeline}):jsxRuntimeExports.jsx(FullscreenLoader,{})}__name(CyberSpaghettiExterior$2,"CyberSpaghettiExterior$2");function CyberSpaghetti(){return jsxRuntimeExports.jsx(AssetProvider,{children:jsxRuntimeExports.jsx(TimelineProvider,{defaultProject:defaultProject$1,defaultName:defaultName$1,shouldCreate:!0,children:jsxRuntimeExports.jsx(ControlsProvider$1,{children:jsxRuntimeExports.jsx(CyberSpaghettiExterior$2,{})})})})}__name(CyberSpaghetti,"CyberSpaghetti");function hexToRgb$1(hex){if(hex=hex.replace(/^#/,""),hex.length===3&&(hex=hex.split("").map(c2=>c2+c2).join("")),hex.length!==6||/[^0-9a-f]/i.test(hex))throw new Error("Invalid hex color");const num=parseInt(hex,16);return[num>>16&255,num>>8&255,num&255]}__name(hexToRgb$1,"hexToRgb$1");function rgbToHex$1([r2,g2,b2]){return"#"+((1<<24)+(r2<<16)+(g2<<8)+b2).toString(16).slice(1)}__name(rgbToHex$1,"rgbToHex$1");function CyberSpaghettiControlsInterior$1({controls}){const state=reactExports.useSyncExternalStore(controls.subscribeInternal.bind(controls),controls.getSnapshot.bind(controls)),update2=__name(patch2=>{const next={...state,...patch2};controls.setData(next)},"update"),updateColor=__name((idx,value)=>{const colors=state.rayColors.slice();colors[idx]=hexToRgb$1(value),update2({rayColors:colors})},"updateColor"),addColor=__name(()=>update2({rayColors:[...state.rayColors,[255,255,255]]}),"addColor"),removeColor=__name(idx=>{state.rayColors.length!==1&&update2({rayColors:state.rayColors.filter((_2,i2)=>i2!==idx)})},"removeColor"),setBackgroundColor=__name(value=>{const rgb=hexToRgb$1(value);update2({backgroundColor:rgb})},"setBackgroundColor");return jsxRuntimeExports.jsxs("div",{className:"hyperspeed-controls",style:{display:"flex",gap:"20px",flexDirection:"column",backgroundColor:"var(--gray1)",width:"100vw",height:"100vh",padding:"1rem",color:"var(--gray6)",overflow:"scroll",scrollbarColor:"var(--gray3) var(--gray1)"},children:[jsxRuntimeExports.jsxs("fieldset",{style:{borderColor:"var(--gray4)",borderRadius:"var(--borderRadiusSmall)",display:"flex",flexDirection:"row",gap:"0.5rem",justifyContent:"flex-start"},children:[jsxRuntimeExports.jsx("legend",{children:"center point"}),jsxRuntimeExports.jsxs("label",{children:["X ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.centerX,min:0,max:1920,step:5,onChange:__name(c2=>update2({centerX:c2}),"onChange")})]}),jsxRuntimeExports.jsxs("label",{children:["Y ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.centerY,min:0,max:1080,step:5,onChange:__name(c2=>update2({centerY:c2}),"onChange")})]})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["background ",jsxRuntimeExports.jsx("input",{type:"color",style:{border:"none",backgroundColor:"var(--gray3)",borderRadius:"var(--borderRadiusSmall)",width:"35px",height:"35px"},value:rgbToHex$1(state.backgroundColor),onChange:__name(e2=>setBackgroundColor(e2.target.value),"onChange"),onBlur:__name(e2=>setBackgroundColor(e2.target.value),"onBlur")})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["max rays ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.maxRays,min:0,max:1e3,step:1,onChange:__name(c2=>update2({maxRays:c2}),"onChange")})]}),jsxRuntimeExports.jsxs("fieldset",{style:{borderColor:"var(--gray4)",borderRadius:"var(--borderRadiusSmall)",display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"0.5rem",alignContent:"center"},children:[jsxRuntimeExports.jsx("legend",{children:"ray colours"}),state.rayColors.map((c2,i2)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,justifyContent:"center",borderRadius:"var(--borderRadiusSmall)",border:"1px solid var(--gray3)",padding:"0.0rem 0.5rem"},children:[jsxRuntimeExports.jsx("input",{type:"color",value:rgbToHex$1(state.rayColors[i2]),onChange:__name(e2=>updateColor(i2,e2.target.value),"onChange"),style:{border:"none",backgroundColor:"var(--gray3)",borderRadius:"var(--borderRadiusSmall)",width:"35px",height:"35px"}}),jsxRuntimeExports.jsx(Icon,{iconName:"delete",onClick:__name(()=>removeColor(i2),"onClick")})]},i2)),jsxRuntimeExports.jsx(Button,{text:"+ add colour",onClick:addColor})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["ray average thickness (°) ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.averageThickness,min:0,max:5,step:.1,onChange:__name(c2=>update2({averageThickness:c2}),"onChange")})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["ray thickness variance (°) ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.thicknessVariance,min:0,max:5,step:.1,onChange:__name(c2=>update2({thicknessVariance:c2}),"onChange")})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["ray wavyness amplitude (°) ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.waveAmplitude,min:0,max:90,step:1,onChange:__name(c2=>update2({waveAmplitude:c2}),"onChange")})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["ray wavyness frequency  ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.waveFrequency,min:0,max:150,step:1,onChange:__name(c2=>update2({waveFrequency:c2}),"onChange")})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["ray lifespan (frames) ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.lifespan,min:0,max:300,step:1,onChange:__name(c2=>update2({lifespan:c2}),"onChange")})]})]})}__name(CyberSpaghettiControlsInterior$1,"CyberSpaghettiControlsInterior$1");function CyberSpaghettiExterior$1(){const controls=useControls$1();return controls?jsxRuntimeExports.jsx(CyberSpaghettiControlsInterior$1,{controls}):jsxRuntimeExports.jsx(FullscreenLoader,{})}__name(CyberSpaghettiExterior$1,"CyberSpaghettiExterior$1");function CyberSpaghettiControls$1(){return jsxRuntimeExports.jsx(AssetProvider,{children:jsxRuntimeExports.jsx(ControlsProvider$1,{children:jsxRuntimeExports.jsx(CyberSpaghettiExterior$1,{})})})}__name(CyberSpaghettiControls$1,"CyberSpaghettiControls$1");var _externalStateSubscribers,_Controls_instances2,notifyExternalStateSubscribers_fn,_internalSubscribers2,notifyInternalSubscribers_fn2,_externalSubscribers2,notifyExternalSubscribers_fn2;const _Controls=class _Controls{constructor(data){__privateAdd(this,_Controls_instances2);__publicField(this,"data");__publicField(this,"externalState",crypto.randomUUID());__privateAdd(this,_externalStateSubscribers,[]);__privateAdd(this,_internalSubscribers2,[]);__privateAdd(this,_externalSubscribers2,[]);this.data=data}setData(data){this.data=data,__privateMethod(this,_Controls_instances2,notifyExternalSubscribers_fn2).call(this)}receiveExternalUpdate(update2){this.data=update2,this.externalState=crypto.randomUUID(),__privateMethod(this,_Controls_instances2,notifyExternalStateSubscribers_fn).call(this),__privateMethod(this,_Controls_instances2,notifyInternalSubscribers_fn2).call(this)}subscribeToExternalState(cb){return __privateGet(this,_externalStateSubscribers).push(cb),()=>{__privateSet(this,_externalStateSubscribers,__privateGet(this,_externalStateSubscribers).filter(c2=>c2!==cb))}}getExternalState(){return this.externalState}subscribeInternal(cb){return __privateGet(this,_internalSubscribers2).push(cb),()=>{__privateSet(this,_internalSubscribers2,__privateGet(this,_internalSubscribers2).filter(c2=>c2!==cb))}}subscribeExternal(cb){return __privateGet(this,_externalSubscribers2).push(cb),()=>{__privateSet(this,_externalSubscribers2,__privateGet(this,_externalSubscribers2).filter(c2=>c2!==cb))}}getSnapshot(){return this.data}};_externalStateSubscribers=new WeakMap,_Controls_instances2=new WeakSet,notifyExternalStateSubscribers_fn=__name(function(){__privateGet(this,_externalStateSubscribers).forEach(cb=>cb())},"#notifyExternalStateSubscribers"),_internalSubscribers2=new WeakMap,notifyInternalSubscribers_fn2=__name(function(){console.log("Internal subscribers count:",__privateGet(this,_internalSubscribers2)),__privateGet(this,_internalSubscribers2).forEach(cb=>cb())},"#notifyInternalSubscribers"),_externalSubscribers2=new WeakMap,notifyExternalSubscribers_fn2=__name(function(){__privateGet(this,_externalSubscribers2).forEach(cb=>cb())},"#notifyExternalSubscribers"),__name(_Controls,"Controls"),__publicField(_Controls,"defaultControls",{particleCount:10,particleColors:[[255,0,0],[0,255,0],[0,0,255]],loopLifecycle:300,mixingIntensity:.3,showLissajousFigure:!1,ratioA:1,ratioB:2,offset:Math.PI/2,width:1920,height:1080,figureScaleX:.2,figureScaleY:.3});let Controls=_Controls;const _Controller=class _Controller{constructor(){__publicField(this,"initialised",!1);__publicField(this,"data");__publicField(this,"update");__publicField(this,"updateMetadata");__publicField(this,"create");__publicField(this,"delete");__publicField(this,"subscribe");__publicField(this,"unsubscribe")}load(data){this.data=new Controls(data),this.data.subscribeExternal(()=>{var _a19;const update2=(_a19=this.data)==null?void 0:_a19.getSnapshot();this.update(update2)}),this.initialised=!0}receiveUpdate(update2){var _a19;(_a19=this.data)==null||_a19.receiveExternalUpdate(update2)}receiveMetadataUpdate(){}getSnapshot(){var _a19;return(_a19=this.data)==null?void 0:_a19.getSnapshot()}destroy(){this.data=void 0,this.initialised=!1}setHooks(hooks){this.update=hooks.update,this.create=hooks.create,this.delete=hooks.delete,this.subscribe=hooks.subscribe,this.unsubscribe=hooks.unsubscribe,this.updateMetadata=hooks.updateMetadata}};__name(_Controller,"Controller");let Controller=_Controller;const ControlsContext=reactExports.createContext(null);function ControlsProvider({children}){const{initialized:indexInitialized,index}=useIndex(),tController=reactExports.useRef(new Controller),timelineAssets=indexInitialized?Object.entries(index.data).filter(([assetId2,assetMetadata])=>assetMetadata.type==="controls"&&assetMetadata.name==="liquidlissajous.controls").map(([assetId2,assetMetadata])=>({assetId:assetId2,assetController:tController.current})):[],assetId=timelineAssets.length>0?timelineAssets[0].assetId:void 0,{FreeWorkload}=useCK();reactExports.useEffect(()=>{if(indexInitialized&&assetId===void 0){const workload=FreeWorkload();workload.thread("default").worker({instance_id:"ASSET_SERVER",modality:"wasmjs",resource_id:`${CONFIG.PAC_BACKGROUND_SERVICES}AssetServerV2`},{createAsset:{asset:{data:Controls.defaultControls,metadata:{type:"controls",name:"liquidlissajous.controls",preferredEditorAddress:CONFIG.SELF_HOST+"liquidlissajous-controlconsole"},on_update:{type:"simple"},id:"liquidlissajous.controls"}}}),workload.dispatch()}},[assetId,indexInitialized]);const{initialized:assetsInitialized,assets}=useAssets(timelineAssets),controls=indexInitialized&&assetsInitialized&&assetId!==void 0&&assets[assetId]!==void 0?assets[assetId].data:void 0;return jsxRuntimeExports.jsx(ControlsContext.Provider,{value:controls,children})}__name(ControlsProvider,"ControlsProvider");function useControls(){return React.useContext(ControlsContext)}__name(useControls,"useControls");const powVal=1.5,src=[[219,204,242,43,188,184],[32,42,132,43,188,184],[255,255,255,255,0,0],[255,255,255,0,255,0],[255,255,255,0,0,255]];src.map(c2=>({colA:[c2[0],c2[1],c2[2]].map(v2=>Math.pow(v2/255,powVal)),colB:[c2[3],c2[4],c2[5]].map(v2=>Math.pow(v2/255,powVal))}));const colorConvert=__name(c2=>{const r2=c2[0]/255,g2=c2[1]/255,b2=c2[2]/255;return[Math.pow(r2,powVal),Math.pow(g2,powVal),Math.pow(b2,powVal)]},"colorConvert"),_ParticleSystem=class _ParticleSystem{constructor(){__publicField(this,"buffer");__publicField(this,"time");__publicField(this,"CENTER_X",.5);__publicField(this,"CENTER_Y",.5);__publicField(this,"BACKGROUND_COLOR",[0,0,0]);__publicField(this,"PARTICLE_RADIUS",300);__publicField(this,"PARTICLE_SPEED",.01);__publicField(this,"PARTICLE_COLORS",[[1,0,0],[0,1,0],[0,0,1]]);__publicField(this,"PARTICLE_COUNT",3);__publicField(this,"LOOP_LIFECYCLE",60);__publicField(this,"SHOW_LISSAJOUS_FIGURE",!1);__publicField(this,"RATIO_A",1);__publicField(this,"RATIO_B",1);__publicField(this,"OFFSET",Math.PI/2);__publicField(this,"lissajousLineBuffer",new Float32Array(1024*2));__publicField(this,"lissajousLineCount",0);__publicField(this,"WIDTH",1920);__publicField(this,"HEIGHT",1080);__publicField(this,"FIGURE_SCALE_X",.5);__publicField(this,"FIGURE_SCALE_Y",.5);__publicField(this,"PARTICLES",[]);__publicField(this,"LISSAJOUS_PATH",[]);this.buffer=new Float32Array(_ParticleSystem.HARD_MAX*5),this.time=0}lissajousXY(t2,params){const x2=params.centerX+params.scaleX*Math.sin(params.ax*t2+params.deltaX),y2=params.centerY+params.scaleY*Math.sin(params.ay*t2+params.deltaY);return[x2,y2]}update(config2,timeline){this.time=timeline.getProject().timelineData.playheadPosition;const baseColors=config2.particleColors.map(colorConvert),subdivisions=Math.floor(config2.mixingIntensity*5);let colorLoopCount=0;baseColors.length>1?(colorLoopCount=baseColors.length*(subdivisions+1),this.PARTICLE_COUNT=colorLoopCount):this.PARTICLE_COUNT=baseColors.length,this.LOOP_LIFECYCLE=config2.loopLifecycle,this.WIDTH=config2.width,this.HEIGHT=config2.height,this.RATIO_A=config2.ratioA,this.RATIO_B=config2.ratioB,this.OFFSET=config2.offset,this.SHOW_LISSAJOUS_FIGURE=config2.showLissajousFigure,this.FIGURE_SCALE_X=config2.figureScaleX,this.FIGURE_SCALE_Y=config2.figureScaleY;function rgbToHsl([r2,g2,b2]){r2=Math.max(0,Math.min(1,r2)),g2=Math.max(0,Math.min(1,g2)),b2=Math.max(0,Math.min(1,b2));const max=Math.max(r2,g2,b2),min=Math.min(r2,g2,b2);let h2=0,s2=0;const l2=(max+min)/2;if(max!==min){const d2=max-min;switch(s2=l2>.5?d2/(2-max-min):d2/(max+min),max){case r2:h2=(g2-b2)/d2+(g2<b2?6:0);break;case g2:h2=(b2-r2)/d2+2;break;case b2:h2=(r2-g2)/d2+4;break}h2/=6}return[h2,s2,l2]}__name(rgbToHsl,"rgbToHsl");function hslToRgb([h2,s2,l2]){let r2,g2,b2;if(s2===0)r2=g2=b2=l2;else{const hue2rgb=__name((p22,q22,t2)=>(t2<0&&(t2+=1),t2>1&&(t2-=1),t2<.16666666666666666?p22+(q22-p22)*6*t2:t2<.5?q22:t2<.6666666666666666?p22+(q22-p22)*(.6666666666666666-t2)*6:p22),"hue2rgb"),q2=l2<.5?l2*(1+s2):l2+s2-l2*s2,p2=2*l2-q2;r2=hue2rgb(p2,q2,h2+1/3),g2=hue2rgb(p2,q2,h2),b2=hue2rgb(p2,q2,h2-1/3)}return[r2,g2,b2]}__name(hslToRgb,"hslToRgb");const colorStops=[];if(baseColors.length>1)for(let i2=0;i2<baseColors.length;++i2){const c0=rgbToHsl(baseColors[i2]),c1=rgbToHsl(baseColors[(i2+1)%baseColors.length]);for(let s2=0;s2<subdivisions+1;++s2){const frac=s2/(subdivisions+1);let dh2=c1[0]-c0[0];Math.abs(dh2)>.5&&(dh2-=Math.sign(dh2));const h2=(c0[0]+dh2*frac+1)%1,s_=c0[1]+(c1[1]-c0[1])*frac,l2=c0[2]+(c1[2]-c0[2])*frac;colorStops.push(hslToRgb([h2,s_,l2]))}}else baseColors.length===1&&colorStops.push(baseColors[0]);this.PARTICLE_COLORS=colorStops;const lissajousParams={ax:this.RATIO_A,bx:0,ay:this.RATIO_B,by:0,deltaX:this.OFFSET,deltaY:0,centerX:this.CENTER_X*this.WIDTH,centerY:this.CENTER_Y*this.HEIGHT,scaleX:this.WIDTH*this.FIGURE_SCALE_X,scaleY:this.HEIGHT*this.FIGURE_SCALE_Y};let ptr=0;function noise1D(x2){const s2=Math.sin(x2*127.1+311.7)*43758.5453;return s2-Math.floor(s2)}__name(noise1D,"noise1D"),this.PARTICLES=[];for(let i2=0;i2<this.PARTICLE_COUNT;++i2){let t2=this.time%this.LOOP_LIFECYCLE*2*Math.PI/this.LOOP_LIFECYCLE;t2+=i2/this.PARTICLE_COUNT*2*Math.PI;const noiseStrength=0,normalStrength=0,noiseVal=noise1D(i2);t2+=noiseVal*noiseStrength;let[x2,y2]=this.lissajousXY(t2,lissajousParams);const dt2=1e-4,[x22,y22]=this.lissajousXY(t2+dt2,lissajousParams),dx=x22-x2,dy=y22-y2,len=Math.sqrt(dx*dx+dy*dy)||1,nx=-dy/len,ny=dx/len,normalOffset=(noise1D(i2+1e3)-.5)*2*normalStrength;x2+=nx*normalOffset,y2+=ny*normalOffset;const color=this.PARTICLE_COLORS[i2];this.buffer[ptr++]=x2,this.buffer[ptr++]=y2,this.buffer[ptr++]=color[0],this.buffer[ptr++]=color[1],this.buffer[ptr++]=color[2],this.PARTICLES[i2]={x:x2,y:y2,r:color[0],g:color[1],b:color[2]}}const N2=256;this.lissajousLineCount=N2,this.LISSAJOUS_PATH=[];for(let i2=0;i2<N2;++i2){const t2=i2/(N2-1)*2*Math.PI,[x2,y2]=this.lissajousXY(t2,lissajousParams);this.lissajousLineBuffer[i2*2+0]=x2,this.lissajousLineBuffer[i2*2+1]=y2,this.LISSAJOUS_PATH[i2]=[x2,y2]}}};__name(_ParticleSystem,"ParticleSystem"),__publicField(_ParticleSystem,"HARD_MAX",200);let ParticleSystem=_ParticleSystem;var __accessCheck2=__name((obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},"__accessCheck"),__privateGet2=__name((obj,member,getter)=>(__accessCheck2(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),"__privateGet"),__privateAdd2=__name((obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},"__privateAdd"),__privateSet2=__name((obj,member,value,setter)=>(__accessCheck2(obj,member,"write to private field"),member.set(obj,value),value),"__privateSet"),__privateWrapper=__name((obj,member,setter,getter)=>({set _(value){__privateSet2(obj,member,value)},get _(){return __privateGet2(obj,member,getter)}}),"__privateWrapper"),__privateMethod2=__name((obj,member,method)=>(__accessCheck2(obj,member,"access private method"),method),"__privateMethod"),bytes=new Uint8Array(8),view=new DataView(bytes.buffer),u8=__name(value=>[(value%256+256)%256],"u8"),u16=__name(value=>(view.setUint16(0,value,!1),[bytes[0],bytes[1]]),"u16"),i16=__name(value=>(view.setInt16(0,value,!1),[bytes[0],bytes[1]]),"i16"),u24=__name(value=>(view.setUint32(0,value,!1),[bytes[1],bytes[2],bytes[3]]),"u24"),u32=__name(value=>(view.setUint32(0,value,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),"u32"),i32=__name(value=>(view.setInt32(0,value,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),"i32"),u64=__name(value=>(view.setUint32(0,Math.floor(value/2**32),!1),view.setUint32(4,value,!1),[bytes[0],bytes[1],bytes[2],bytes[3],bytes[4],bytes[5],bytes[6],bytes[7]]),"u64"),fixed_8_8=__name(value=>(view.setInt16(0,2**8*value,!1),[bytes[0],bytes[1]]),"fixed_8_8"),fixed_16_16=__name(value=>(view.setInt32(0,2**16*value,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),"fixed_16_16"),fixed_2_30=__name(value=>(view.setInt32(0,2**30*value,!1),[bytes[0],bytes[1],bytes[2],bytes[3]]),"fixed_2_30"),ascii=__name((text,nullTerminated=!1)=>{let bytes2=Array(text.length).fill(null).map((_2,i2)=>text.charCodeAt(i2));return nullTerminated&&bytes2.push(0),bytes2},"ascii"),last=__name(arr=>arr&&arr[arr.length-1],"last"),lastPresentedSample=__name(samples=>{let result;for(let sample of samples)(!result||sample.presentationTimestamp>result.presentationTimestamp)&&(result=sample);return result},"lastPresentedSample"),intoTimescale=__name((timeInSeconds,timescale,round=!0)=>{let value=timeInSeconds*timescale;return round?Math.round(value):value},"intoTimescale"),rotationMatrix=__name(rotationInDegrees=>{let theta=rotationInDegrees*(Math.PI/180),cosTheta=Math.cos(theta),sinTheta=Math.sin(theta);return[cosTheta,sinTheta,0,-sinTheta,cosTheta,0,0,0,1]},"rotationMatrix"),IDENTITY_MATRIX=rotationMatrix(0),matrixToBytes=__name(matrix=>[fixed_16_16(matrix[0]),fixed_16_16(matrix[1]),fixed_2_30(matrix[2]),fixed_16_16(matrix[3]),fixed_16_16(matrix[4]),fixed_2_30(matrix[5]),fixed_16_16(matrix[6]),fixed_16_16(matrix[7]),fixed_2_30(matrix[8])],"matrixToBytes"),deepClone=__name(x2=>!x2||typeof x2!="object"?x2:Array.isArray(x2)?x2.map(deepClone):Object.fromEntries(Object.entries(x2).map(([key,value])=>[key,deepClone(value)])),"deepClone"),isU32=__name(value=>value>=0&&value<2**32,"isU32"),box=__name((type,contents,children)=>({type,contents:contents&&new Uint8Array(contents.flat(10)),children}),"box"),fullBox=__name((type,version,flags,contents,children)=>box(type,[u8(version),u24(flags),contents??[]],children),"fullBox"),ftyp=__name(details=>{let minorVersion=512;return details.fragmented?box("ftyp",[ascii("iso5"),u32(minorVersion),ascii("iso5"),ascii("iso6"),ascii("mp41")]):box("ftyp",[ascii("isom"),u32(minorVersion),ascii("isom"),details.holdsAvc?ascii("avc1"):[],ascii("mp41")])},"ftyp"),mdat=__name(reserveLargeSize=>({type:"mdat",largeSize:reserveLargeSize}),"mdat"),free=__name(size=>({type:"free",size}),"free"),moov=__name((tracks,creationTime,fragmented=!1)=>box("moov",null,[mvhd(creationTime,tracks),...tracks.map(x2=>trak(x2,creationTime)),fragmented?mvex(tracks):null]),"moov"),mvhd=__name((creationTime,tracks)=>{let duration=intoTimescale(Math.max(0,...tracks.filter(x2=>x2.samples.length>0).map(x2=>{const lastSample=lastPresentedSample(x2.samples);return lastSample.presentationTimestamp+lastSample.duration})),GLOBAL_TIMESCALE),nextTrackId=Math.max(...tracks.map(x2=>x2.id))+1,needsU64=!isU32(creationTime)||!isU32(duration),u32OrU64=needsU64?u64:u32;return fullBox("mvhd",+needsU64,0,[u32OrU64(creationTime),u32OrU64(creationTime),u32(GLOBAL_TIMESCALE),u32OrU64(duration),fixed_16_16(1),fixed_8_8(1),Array(10).fill(0),matrixToBytes(IDENTITY_MATRIX),Array(24).fill(0),u32(nextTrackId)])},"mvhd"),trak=__name((track,creationTime)=>box("trak",null,[tkhd(track,creationTime),mdia(track,creationTime)]),"trak"),tkhd=__name((track,creationTime)=>{let lastSample=lastPresentedSample(track.samples),durationInGlobalTimescale=intoTimescale(lastSample?lastSample.presentationTimestamp+lastSample.duration:0,GLOBAL_TIMESCALE),needsU64=!isU32(creationTime)||!isU32(durationInGlobalTimescale),u32OrU64=needsU64?u64:u32,matrix;return track.info.type==="video"?matrix=typeof track.info.rotation=="number"?rotationMatrix(track.info.rotation):track.info.rotation:matrix=IDENTITY_MATRIX,fullBox("tkhd",+needsU64,3,[u32OrU64(creationTime),u32OrU64(creationTime),u32(track.id),u32(0),u32OrU64(durationInGlobalTimescale),Array(8).fill(0),u16(0),u16(0),fixed_8_8(track.info.type==="audio"?1:0),u16(0),matrixToBytes(matrix),fixed_16_16(track.info.type==="video"?track.info.width:0),fixed_16_16(track.info.type==="video"?track.info.height:0)])},"tkhd"),mdia=__name((track,creationTime)=>box("mdia",null,[mdhd(track,creationTime),hdlr(track.info.type==="video"?"vide":"soun"),minf(track)]),"mdia"),mdhd=__name((track,creationTime)=>{let lastSample=lastPresentedSample(track.samples),localDuration=intoTimescale(lastSample?lastSample.presentationTimestamp+lastSample.duration:0,track.timescale),needsU64=!isU32(creationTime)||!isU32(localDuration),u32OrU64=needsU64?u64:u32;return fullBox("mdhd",+needsU64,0,[u32OrU64(creationTime),u32OrU64(creationTime),u32(track.timescale),u32OrU64(localDuration),u16(21956),u16(0)])},"mdhd"),hdlr=__name(componentSubtype=>fullBox("hdlr",0,0,[ascii("mhlr"),ascii(componentSubtype),u32(0),u32(0),u32(0),ascii("mp4-muxer-hdlr",!0)]),"hdlr"),minf=__name(track=>box("minf",null,[track.info.type==="video"?vmhd():smhd(),dinf(),stbl(track)]),"minf"),vmhd=__name(()=>fullBox("vmhd",0,1,[u16(0),u16(0),u16(0),u16(0)]),"vmhd"),smhd=__name(()=>fullBox("smhd",0,0,[u16(0),u16(0)]),"smhd"),dinf=__name(()=>box("dinf",null,[dref()]),"dinf"),dref=__name(()=>fullBox("dref",0,0,[u32(1)],[url()]),"dref"),url=__name(()=>fullBox("url ",0,1),"url"),stbl=__name(track=>{const needsCtts=track.compositionTimeOffsetTable.length>1||track.compositionTimeOffsetTable.some(x2=>x2.sampleCompositionTimeOffset!==0);return box("stbl",null,[stsd(track),stts(track),stss(track),stsc(track),stsz(track),stco(track),needsCtts?ctts(track):null])},"stbl"),stsd=__name(track=>fullBox("stsd",0,0,[u32(1)],[track.info.type==="video"?videoSampleDescription(VIDEO_CODEC_TO_BOX_NAME[track.info.codec],track):soundSampleDescription(AUDIO_CODEC_TO_BOX_NAME[track.info.codec],track)]),"stsd"),videoSampleDescription=__name((compressionType,track)=>box(compressionType,[Array(6).fill(0),u16(1),u16(0),u16(0),Array(12).fill(0),u16(track.info.width),u16(track.info.height),u32(4718592),u32(4718592),u32(0),u16(1),Array(32).fill(0),u16(24),i16(65535)],[VIDEO_CODEC_TO_CONFIGURATION_BOX[track.info.codec](track),track.info.decoderConfig.colorSpace?colr(track):null]),"videoSampleDescription"),COLOR_PRIMARIES_MAP={bt709:1,bt470bg:5,smpte170m:6},TRANSFER_CHARACTERISTICS_MAP={bt709:1,smpte170m:6,"iec61966-2-1":13},MATRIX_COEFFICIENTS_MAP={rgb:0,bt709:1,bt470bg:5,smpte170m:6},colr=__name(track=>box("colr",[ascii("nclx"),u16(COLOR_PRIMARIES_MAP[track.info.decoderConfig.colorSpace.primaries]),u16(TRANSFER_CHARACTERISTICS_MAP[track.info.decoderConfig.colorSpace.transfer]),u16(MATRIX_COEFFICIENTS_MAP[track.info.decoderConfig.colorSpace.matrix]),u8((track.info.decoderConfig.colorSpace.fullRange?1:0)<<7)]),"colr"),avcC=__name(track=>track.info.decoderConfig&&box("avcC",[...new Uint8Array(track.info.decoderConfig.description)]),"avcC"),hvcC=__name(track=>track.info.decoderConfig&&box("hvcC",[...new Uint8Array(track.info.decoderConfig.description)]),"hvcC"),vpcC=__name(track=>{if(!track.info.decoderConfig)return null;let decoderConfig=track.info.decoderConfig;if(!decoderConfig.colorSpace)throw new Error("'colorSpace' is required in the decoder config for VP9.");let parts=decoderConfig.codec.split("."),profile=Number(parts[1]),level=Number(parts[2]),thirdByte=(Number(parts[3])<<4)+(0<<1)+Number(decoderConfig.colorSpace.fullRange);return fullBox("vpcC",1,0,[u8(profile),u8(level),u8(thirdByte),u8(2),u8(2),u8(2),u16(0)])},"vpcC"),av1C=__name(()=>{let firstByte=(1<<7)+1;return box("av1C",[firstByte,0,0,0])},"av1C"),soundSampleDescription=__name((compressionType,track)=>box(compressionType,[Array(6).fill(0),u16(1),u16(0),u16(0),u32(0),u16(track.info.numberOfChannels),u16(16),u16(0),u16(0),fixed_16_16(track.info.sampleRate)],[AUDIO_CODEC_TO_CONFIGURATION_BOX[track.info.codec](track)]),"soundSampleDescription"),esds=__name(track=>{let description=new Uint8Array(track.info.decoderConfig.description);return fullBox("esds",0,0,[u32(58753152),u8(32+description.byteLength),u16(1),u8(0),u32(75530368),u8(18+description.byteLength),u8(64),u8(21),u24(0),u32(130071),u32(130071),u32(92307584),u8(description.byteLength),...description,u32(109084800),u8(1),u8(2)])},"esds"),dOps=__name(track=>{var _a19;let preskip=3840,gain=0;const description=(_a19=track.info.decoderConfig)==null?void 0:_a19.description;if(description){if(description.byteLength<18)throw new TypeError("Invalid decoder description provided for Opus; must be at least 18 bytes long.");const view2=ArrayBuffer.isView(description)?new DataView(description.buffer,description.byteOffset,description.byteLength):new DataView(description);preskip=view2.getUint16(10,!0),gain=view2.getInt16(14,!0)}return box("dOps",[u8(0),u8(track.info.numberOfChannels),u16(preskip),u32(track.info.sampleRate),fixed_8_8(gain),u8(0)])},"dOps"),stts=__name(track=>fullBox("stts",0,0,[u32(track.timeToSampleTable.length),track.timeToSampleTable.map(x2=>[u32(x2.sampleCount),u32(x2.sampleDelta)])]),"stts"),stss=__name(track=>{if(track.samples.every(x2=>x2.type==="key"))return null;let keySamples=[...track.samples.entries()].filter(([,sample])=>sample.type==="key");return fullBox("stss",0,0,[u32(keySamples.length),keySamples.map(([index])=>u32(index+1))])},"stss"),stsc=__name(track=>fullBox("stsc",0,0,[u32(track.compactlyCodedChunkTable.length),track.compactlyCodedChunkTable.map(x2=>[u32(x2.firstChunk),u32(x2.samplesPerChunk),u32(1)])]),"stsc"),stsz=__name(track=>fullBox("stsz",0,0,[u32(0),u32(track.samples.length),track.samples.map(x2=>u32(x2.size))]),"stsz"),stco=__name(track=>track.finalizedChunks.length>0&&last(track.finalizedChunks).offset>=2**32?fullBox("co64",0,0,[u32(track.finalizedChunks.length),track.finalizedChunks.map(x2=>u64(x2.offset))]):fullBox("stco",0,0,[u32(track.finalizedChunks.length),track.finalizedChunks.map(x2=>u32(x2.offset))]),"stco"),ctts=__name(track=>fullBox("ctts",0,0,[u32(track.compositionTimeOffsetTable.length),track.compositionTimeOffsetTable.map(x2=>[u32(x2.sampleCount),u32(x2.sampleCompositionTimeOffset)])]),"ctts"),mvex=__name(tracks=>box("mvex",null,tracks.map(trex)),"mvex"),trex=__name(track=>fullBox("trex",0,0,[u32(track.id),u32(1),u32(0),u32(0),u32(0)]),"trex"),moof=__name((sequenceNumber,tracks)=>box("moof",null,[mfhd(sequenceNumber),...tracks.map(traf)]),"moof"),mfhd=__name(sequenceNumber=>fullBox("mfhd",0,0,[u32(sequenceNumber)]),"mfhd"),fragmentSampleFlags=__name(sample=>{let byte1=0,byte2=0,byte3=0,byte4=0,sampleIsDifferenceSample=sample.type==="delta";return byte2|=+sampleIsDifferenceSample,sampleIsDifferenceSample?byte1|=1:byte1|=2,byte1<<24|byte2<<16|byte3<<8|byte4},"fragmentSampleFlags"),traf=__name(track=>box("traf",null,[tfhd(track),tfdt(track),trun(track)]),"traf"),tfhd=__name(track=>{let tfFlags=0;tfFlags|=8,tfFlags|=16,tfFlags|=32,tfFlags|=131072;let referenceSample=track.currentChunk.samples[1]??track.currentChunk.samples[0],referenceSampleInfo={duration:referenceSample.timescaleUnitsToNextSample,size:referenceSample.size,flags:fragmentSampleFlags(referenceSample)};return fullBox("tfhd",0,tfFlags,[u32(track.id),u32(referenceSampleInfo.duration),u32(referenceSampleInfo.size),u32(referenceSampleInfo.flags)])},"tfhd"),tfdt=__name(track=>fullBox("tfdt",1,0,[u64(intoTimescale(track.currentChunk.startTimestamp,track.timescale))]),"tfdt"),trun=__name(track=>{let allSampleDurations=track.currentChunk.samples.map(x2=>x2.timescaleUnitsToNextSample),allSampleSizes=track.currentChunk.samples.map(x2=>x2.size),allSampleFlags=track.currentChunk.samples.map(fragmentSampleFlags),allSampleCompositionTimeOffsets=track.currentChunk.samples.map(x2=>intoTimescale(x2.presentationTimestamp-x2.decodeTimestamp,track.timescale)),uniqueSampleDurations=new Set(allSampleDurations),uniqueSampleSizes=new Set(allSampleSizes),uniqueSampleFlags=new Set(allSampleFlags),uniqueSampleCompositionTimeOffsets=new Set(allSampleCompositionTimeOffsets),firstSampleFlagsPresent=uniqueSampleFlags.size===2&&allSampleFlags[0]!==allSampleFlags[1],sampleDurationPresent=uniqueSampleDurations.size>1,sampleSizePresent=uniqueSampleSizes.size>1,sampleFlagsPresent=!firstSampleFlagsPresent&&uniqueSampleFlags.size>1,sampleCompositionTimeOffsetsPresent=uniqueSampleCompositionTimeOffsets.size>1||[...uniqueSampleCompositionTimeOffsets].some(x2=>x2!==0),flags=0;return flags|=1,flags|=4*+firstSampleFlagsPresent,flags|=256*+sampleDurationPresent,flags|=512*+sampleSizePresent,flags|=1024*+sampleFlagsPresent,flags|=2048*+sampleCompositionTimeOffsetsPresent,fullBox("trun",1,flags,[u32(track.currentChunk.samples.length),u32(track.currentChunk.offset-track.currentChunk.moofOffset||0),firstSampleFlagsPresent?u32(allSampleFlags[0]):[],track.currentChunk.samples.map((_2,i2)=>[sampleDurationPresent?u32(allSampleDurations[i2]):[],sampleSizePresent?u32(allSampleSizes[i2]):[],sampleFlagsPresent?u32(allSampleFlags[i2]):[],sampleCompositionTimeOffsetsPresent?i32(allSampleCompositionTimeOffsets[i2]):[]])])},"trun"),mfra=__name(tracks=>box("mfra",null,[...tracks.map(tfra),mfro()]),"mfra"),tfra=__name((track,trackIndex)=>fullBox("tfra",1,0,[u32(track.id),u32(63),u32(track.finalizedChunks.length),track.finalizedChunks.map(chunk=>[u64(intoTimescale(chunk.startTimestamp,track.timescale)),u64(chunk.moofOffset),u32(trackIndex+1),u32(1),u32(1)])]),"tfra"),mfro=__name(()=>fullBox("mfro",0,0,[u32(0)]),"mfro"),VIDEO_CODEC_TO_BOX_NAME={avc:"avc1",hevc:"hvc1",vp9:"vp09",av1:"av01"},VIDEO_CODEC_TO_CONFIGURATION_BOX={avc:avcC,hevc:hvcC,vp9:vpcC,av1:av1C},AUDIO_CODEC_TO_BOX_NAME={aac:"mp4a",opus:"Opus"},AUDIO_CODEC_TO_CONFIGURATION_BOX={aac:esds,opus:dOps},_a10,Target=(_a10=class{},__name(_a10,"Target"),_a10),_a11,ArrayBufferTarget=(_a11=class extends Target{constructor(){super(...arguments),this.buffer=null}},__name(_a11,"ArrayBufferTarget"),_a11),_a12,StreamTarget=(_a12=class extends Target{constructor(options){if(super(),this.options=options,typeof options!="object")throw new TypeError("StreamTarget requires an options object to be passed to its constructor.");if(options.onData){if(typeof options.onData!="function")throw new TypeError("options.onData, when provided, must be a function.");if(options.onData.length<2)throw new TypeError("options.onData, when provided, must be a function that takes in at least two arguments (data and position). Ignoring the position argument, which specifies the byte offset at which the data is to be written, can lead to broken outputs.")}if(options.chunked!==void 0&&typeof options.chunked!="boolean")throw new TypeError("options.chunked, when provided, must be a boolean.");if(options.chunkSize!==void 0&&(!Number.isInteger(options.chunkSize)||options.chunkSize<1024))throw new TypeError("options.chunkSize, when provided, must be an integer and not smaller than 1024.")}},__name(_a12,"StreamTarget"),_a12),_a13,FileSystemWritableFileStreamTarget=(_a13=class extends Target{constructor(stream,options){if(super(),this.stream=stream,this.options=options,!(stream instanceof FileSystemWritableFileStream))throw new TypeError("FileSystemWritableFileStreamTarget requires a FileSystemWritableFileStream instance.");if(options!==void 0&&typeof options!="object")throw new TypeError("FileSystemWritableFileStreamTarget's options, when provided, must be an object.");if(options&&options.chunkSize!==void 0&&(!Number.isInteger(options.chunkSize)||options.chunkSize<=0))throw new TypeError("options.chunkSize, when provided, must be a positive integer")}},__name(_a13,"FileSystemWritableFileStreamTarget"),_a13),_helper,_helperView,_a14,Writer=(_a14=class{constructor(){this.pos=0,__privateAdd2(this,_helper,new Uint8Array(8)),__privateAdd2(this,_helperView,new DataView(__privateGet2(this,_helper).buffer)),this.offsets=new WeakMap}seek(newPos){this.pos=newPos}writeU32(value){__privateGet2(this,_helperView).setUint32(0,value,!1),this.write(__privateGet2(this,_helper).subarray(0,4))}writeU64(value){__privateGet2(this,_helperView).setUint32(0,Math.floor(value/2**32),!1),__privateGet2(this,_helperView).setUint32(4,value,!1),this.write(__privateGet2(this,_helper).subarray(0,8))}writeAscii(text){for(let i2=0;i2<text.length;i2++)__privateGet2(this,_helperView).setUint8(i2%8,text.charCodeAt(i2)),i2%8===7&&this.write(__privateGet2(this,_helper));text.length%8!==0&&this.write(__privateGet2(this,_helper).subarray(0,text.length%8))}writeBox(box2){if(this.offsets.set(box2,this.pos),box2.contents&&!box2.children)this.writeBoxHeader(box2,box2.size??box2.contents.byteLength+8),this.write(box2.contents);else{let startPos=this.pos;if(this.writeBoxHeader(box2,0),box2.contents&&this.write(box2.contents),box2.children)for(let child of box2.children)child&&this.writeBox(child);let endPos=this.pos,size=box2.size??endPos-startPos;this.seek(startPos),this.writeBoxHeader(box2,size),this.seek(endPos)}}writeBoxHeader(box2,size){this.writeU32(box2.largeSize?1:size),this.writeAscii(box2.type),box2.largeSize&&this.writeU64(size)}measureBoxHeader(box2){return 8+(box2.largeSize?8:0)}patchBox(box2){let endPos=this.pos;this.seek(this.offsets.get(box2)),this.writeBox(box2),this.seek(endPos)}measureBox(box2){if(box2.contents&&!box2.children)return this.measureBoxHeader(box2)+box2.contents.byteLength;{let result=this.measureBoxHeader(box2);if(box2.contents&&(result+=box2.contents.byteLength),box2.children)for(let child of box2.children)child&&(result+=this.measureBox(child));return result}}},__name(_a14,"Writer"),_a14);_helper=new WeakMap;_helperView=new WeakMap;var _target,_buffer,_bytes,_maxPos,_ensureSize,ensureSize_fn,_a15,ArrayBufferTargetWriter=(_a15=class extends Writer{constructor(target){super(),__privateAdd2(this,_ensureSize),__privateAdd2(this,_target,void 0),__privateAdd2(this,_buffer,new ArrayBuffer(2**16)),__privateAdd2(this,_bytes,new Uint8Array(__privateGet2(this,_buffer))),__privateAdd2(this,_maxPos,0),__privateSet2(this,_target,target)}write(data){__privateMethod2(this,_ensureSize,ensureSize_fn).call(this,this.pos+data.byteLength),__privateGet2(this,_bytes).set(data,this.pos),this.pos+=data.byteLength,__privateSet2(this,_maxPos,Math.max(__privateGet2(this,_maxPos),this.pos))}finalize(){__privateMethod2(this,_ensureSize,ensureSize_fn).call(this,this.pos),__privateGet2(this,_target).buffer=__privateGet2(this,_buffer).slice(0,Math.max(__privateGet2(this,_maxPos),this.pos))}},__name(_a15,"ArrayBufferTargetWriter"),_a15);_target=new WeakMap;_buffer=new WeakMap;_bytes=new WeakMap;_maxPos=new WeakMap;_ensureSize=new WeakSet;ensureSize_fn=__name(function(size){let newLength=__privateGet2(this,_buffer).byteLength;for(;newLength<size;)newLength*=2;if(newLength===__privateGet2(this,_buffer).byteLength)return;let newBuffer=new ArrayBuffer(newLength),newBytes=new Uint8Array(newBuffer);newBytes.set(__privateGet2(this,_bytes),0),__privateSet2(this,_buffer,newBuffer),__privateSet2(this,_bytes,newBytes)},"ensureSize_fn");var DEFAULT_CHUNK_SIZE=2**24,MAX_CHUNKS_AT_ONCE=2,_target2,_sections,_chunked,_chunkSize,_chunks,_writeDataIntoChunks,writeDataIntoChunks_fn,_insertSectionIntoChunk,insertSectionIntoChunk_fn,_createChunk,createChunk_fn,_flushChunks,flushChunks_fn,_a16,StreamTargetWriter=(_a16=class extends Writer{constructor(target){var _a19,_b;super(),__privateAdd2(this,_writeDataIntoChunks),__privateAdd2(this,_insertSectionIntoChunk),__privateAdd2(this,_createChunk),__privateAdd2(this,_flushChunks),__privateAdd2(this,_target2,void 0),__privateAdd2(this,_sections,[]),__privateAdd2(this,_chunked,void 0),__privateAdd2(this,_chunkSize,void 0),__privateAdd2(this,_chunks,[]),__privateSet2(this,_target2,target),__privateSet2(this,_chunked,((_a19=target.options)==null?void 0:_a19.chunked)??!1),__privateSet2(this,_chunkSize,((_b=target.options)==null?void 0:_b.chunkSize)??DEFAULT_CHUNK_SIZE)}write(data){__privateGet2(this,_sections).push({data:data.slice(),start:this.pos}),this.pos+=data.byteLength}flush(){var _a19,_b;if(__privateGet2(this,_sections).length===0)return;let chunks=[],sorted=[...__privateGet2(this,_sections)].sort((a2,b2)=>a2.start-b2.start);chunks.push({start:sorted[0].start,size:sorted[0].data.byteLength});for(let i2=1;i2<sorted.length;i2++){let lastChunk=chunks[chunks.length-1],section=sorted[i2];section.start<=lastChunk.start+lastChunk.size?lastChunk.size=Math.max(lastChunk.size,section.start+section.data.byteLength-lastChunk.start):chunks.push({start:section.start,size:section.data.byteLength})}for(let chunk of chunks){chunk.data=new Uint8Array(chunk.size);for(let section of __privateGet2(this,_sections))chunk.start<=section.start&&section.start<chunk.start+chunk.size&&chunk.data.set(section.data,section.start-chunk.start);__privateGet2(this,_chunked)?(__privateMethod2(this,_writeDataIntoChunks,writeDataIntoChunks_fn).call(this,chunk.data,chunk.start),__privateMethod2(this,_flushChunks,flushChunks_fn).call(this)):(_b=(_a19=__privateGet2(this,_target2).options).onData)==null||_b.call(_a19,chunk.data,chunk.start)}__privateGet2(this,_sections).length=0}finalize(){__privateGet2(this,_chunked)&&__privateMethod2(this,_flushChunks,flushChunks_fn).call(this,!0)}},__name(_a16,"StreamTargetWriter"),_a16);_target2=new WeakMap;_sections=new WeakMap;_chunked=new WeakMap;_chunkSize=new WeakMap;_chunks=new WeakMap;_writeDataIntoChunks=new WeakSet;writeDataIntoChunks_fn=__name(function(data,position2){let chunkIndex=__privateGet2(this,_chunks).findIndex(x2=>x2.start<=position2&&position2<x2.start+__privateGet2(this,_chunkSize));chunkIndex===-1&&(chunkIndex=__privateMethod2(this,_createChunk,createChunk_fn).call(this,position2));let chunk=__privateGet2(this,_chunks)[chunkIndex],relativePosition=position2-chunk.start,toWrite=data.subarray(0,Math.min(__privateGet2(this,_chunkSize)-relativePosition,data.byteLength));chunk.data.set(toWrite,relativePosition);let section={start:relativePosition,end:relativePosition+toWrite.byteLength};if(__privateMethod2(this,_insertSectionIntoChunk,insertSectionIntoChunk_fn).call(this,chunk,section),chunk.written[0].start===0&&chunk.written[0].end===__privateGet2(this,_chunkSize)&&(chunk.shouldFlush=!0),__privateGet2(this,_chunks).length>MAX_CHUNKS_AT_ONCE){for(let i2=0;i2<__privateGet2(this,_chunks).length-1;i2++)__privateGet2(this,_chunks)[i2].shouldFlush=!0;__privateMethod2(this,_flushChunks,flushChunks_fn).call(this)}toWrite.byteLength<data.byteLength&&__privateMethod2(this,_writeDataIntoChunks,writeDataIntoChunks_fn).call(this,data.subarray(toWrite.byteLength),position2+toWrite.byteLength)},"writeDataIntoChunks_fn");_insertSectionIntoChunk=new WeakSet;insertSectionIntoChunk_fn=__name(function(chunk,section){let low=0,high=chunk.written.length-1,index=-1;for(;low<=high;){let mid=Math.floor(low+(high-low+1)/2);chunk.written[mid].start<=section.start?(low=mid+1,index=mid):high=mid-1}for(chunk.written.splice(index+1,0,section),(index===-1||chunk.written[index].end<section.start)&&index++;index<chunk.written.length-1&&chunk.written[index].end>=chunk.written[index+1].start;)chunk.written[index].end=Math.max(chunk.written[index].end,chunk.written[index+1].end),chunk.written.splice(index+1,1)},"insertSectionIntoChunk_fn");_createChunk=new WeakSet;createChunk_fn=__name(function(includesPosition){let chunk={start:Math.floor(includesPosition/__privateGet2(this,_chunkSize))*__privateGet2(this,_chunkSize),data:new Uint8Array(__privateGet2(this,_chunkSize)),written:[],shouldFlush:!1};return __privateGet2(this,_chunks).push(chunk),__privateGet2(this,_chunks).sort((a2,b2)=>a2.start-b2.start),__privateGet2(this,_chunks).indexOf(chunk)},"createChunk_fn");_flushChunks=new WeakSet;flushChunks_fn=__name(function(force=!1){var _a19,_b;for(let i2=0;i2<__privateGet2(this,_chunks).length;i2++){let chunk=__privateGet2(this,_chunks)[i2];if(!(!chunk.shouldFlush&&!force)){for(let section of chunk.written)(_b=(_a19=__privateGet2(this,_target2).options).onData)==null||_b.call(_a19,chunk.data.subarray(section.start,section.end),chunk.start+section.start);__privateGet2(this,_chunks).splice(i2--,1)}}},"flushChunks_fn");var _a17,FileSystemWritableFileStreamTargetWriter=(_a17=class extends StreamTargetWriter{constructor(target){var _a19;super(new StreamTarget({onData:__name((data,position2)=>target.stream.write({type:"write",data,position:position2}),"onData"),chunked:!0,chunkSize:(_a19=target.options)==null?void 0:_a19.chunkSize}))}},__name(_a17,"FileSystemWritableFileStreamTargetWriter"),_a17),GLOBAL_TIMESCALE=1e3,SUPPORTED_VIDEO_CODECS=["avc","hevc","vp9","av1"],SUPPORTED_AUDIO_CODECS=["aac","opus"],TIMESTAMP_OFFSET=2082844800,FIRST_TIMESTAMP_BEHAVIORS=["strict","offset","cross-track-offset"],_options,_writer,_ftypSize,_mdat,_videoTrack,_audioTrack,_creationTime,_finalizedChunks,_nextFragmentNumber,_videoSampleQueue,_audioSampleQueue,_finalized,_validateOptions,validateOptions_fn,_writeHeader,writeHeader_fn,_computeMoovSizeUpperBound,computeMoovSizeUpperBound_fn,_prepareTracks,prepareTracks_fn,_generateMpeg4AudioSpecificConfig,generateMpeg4AudioSpecificConfig_fn,_createSampleForTrack,createSampleForTrack_fn,_addSampleToTrack,addSampleToTrack_fn,_validateTimestamp,validateTimestamp_fn,_finalizeCurrentChunk,finalizeCurrentChunk_fn,_finalizeFragment,finalizeFragment_fn,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn,_ensureNotFinalized,ensureNotFinalized_fn,_a18,Muxer=(_a18=class{constructor(options){if(__privateAdd2(this,_validateOptions),__privateAdd2(this,_writeHeader),__privateAdd2(this,_computeMoovSizeUpperBound),__privateAdd2(this,_prepareTracks),__privateAdd2(this,_generateMpeg4AudioSpecificConfig),__privateAdd2(this,_createSampleForTrack),__privateAdd2(this,_addSampleToTrack),__privateAdd2(this,_validateTimestamp),__privateAdd2(this,_finalizeCurrentChunk),__privateAdd2(this,_finalizeFragment),__privateAdd2(this,_maybeFlushStreamingTargetWriter),__privateAdd2(this,_ensureNotFinalized),__privateAdd2(this,_options,void 0),__privateAdd2(this,_writer,void 0),__privateAdd2(this,_ftypSize,void 0),__privateAdd2(this,_mdat,void 0),__privateAdd2(this,_videoTrack,null),__privateAdd2(this,_audioTrack,null),__privateAdd2(this,_creationTime,Math.floor(Date.now()/1e3)+TIMESTAMP_OFFSET),__privateAdd2(this,_finalizedChunks,[]),__privateAdd2(this,_nextFragmentNumber,1),__privateAdd2(this,_videoSampleQueue,[]),__privateAdd2(this,_audioSampleQueue,[]),__privateAdd2(this,_finalized,!1),__privateMethod2(this,_validateOptions,validateOptions_fn).call(this,options),options.video=deepClone(options.video),options.audio=deepClone(options.audio),options.fastStart=deepClone(options.fastStart),this.target=options.target,__privateSet2(this,_options,{firstTimestampBehavior:"strict",...options}),options.target instanceof ArrayBufferTarget)__privateSet2(this,_writer,new ArrayBufferTargetWriter(options.target));else if(options.target instanceof StreamTarget)__privateSet2(this,_writer,new StreamTargetWriter(options.target));else if(options.target instanceof FileSystemWritableFileStreamTarget)__privateSet2(this,_writer,new FileSystemWritableFileStreamTargetWriter(options.target));else throw new Error(`Invalid target: ${options.target}`);__privateMethod2(this,_prepareTracks,prepareTracks_fn).call(this),__privateMethod2(this,_writeHeader,writeHeader_fn).call(this)}addVideoChunk(sample,meta,timestamp,compositionTimeOffset){if(!(sample instanceof EncodedVideoChunk))throw new TypeError("addVideoChunk's first argument (sample) must be of type EncodedVideoChunk.");if(meta&&typeof meta!="object")throw new TypeError("addVideoChunk's second argument (meta), when provided, must be an object.");if(timestamp!==void 0&&(!Number.isFinite(timestamp)||timestamp<0))throw new TypeError("addVideoChunk's third argument (timestamp), when provided, must be a non-negative real number.");if(compositionTimeOffset!==void 0&&!Number.isFinite(compositionTimeOffset))throw new TypeError("addVideoChunk's fourth argument (compositionTimeOffset), when provided, must be a real number.");let data=new Uint8Array(sample.byteLength);sample.copyTo(data),this.addVideoChunkRaw(data,sample.type,timestamp??sample.timestamp,sample.duration,meta,compositionTimeOffset)}addVideoChunkRaw(data,type,timestamp,duration,meta,compositionTimeOffset){if(!(data instanceof Uint8Array))throw new TypeError("addVideoChunkRaw's first argument (data) must be an instance of Uint8Array.");if(type!=="key"&&type!=="delta")throw new TypeError("addVideoChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(timestamp)||timestamp<0)throw new TypeError("addVideoChunkRaw's third argument (timestamp) must be a non-negative real number.");if(!Number.isFinite(duration)||duration<0)throw new TypeError("addVideoChunkRaw's fourth argument (duration) must be a non-negative real number.");if(meta&&typeof meta!="object")throw new TypeError("addVideoChunkRaw's fifth argument (meta), when provided, must be an object.");if(compositionTimeOffset!==void 0&&!Number.isFinite(compositionTimeOffset))throw new TypeError("addVideoChunkRaw's sixth argument (compositionTimeOffset), when provided, must be a real number.");if(__privateMethod2(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet2(this,_options).video)throw new Error("No video track declared.");if(typeof __privateGet2(this,_options).fastStart=="object"&&__privateGet2(this,_videoTrack).samples.length===__privateGet2(this,_options).fastStart.expectedVideoChunks)throw new Error(`Cannot add more video chunks than specified in 'fastStart' (${__privateGet2(this,_options).fastStart.expectedVideoChunks}).`);let videoSample=__privateMethod2(this,_createSampleForTrack,createSampleForTrack_fn).call(this,__privateGet2(this,_videoTrack),data,type,timestamp,duration,meta,compositionTimeOffset);if(__privateGet2(this,_options).fastStart==="fragmented"&&__privateGet2(this,_audioTrack)){for(;__privateGet2(this,_audioSampleQueue).length>0&&__privateGet2(this,_audioSampleQueue)[0].decodeTimestamp<=videoSample.decodeTimestamp;){let audioSample=__privateGet2(this,_audioSampleQueue).shift();__privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_audioTrack),audioSample)}videoSample.decodeTimestamp<=__privateGet2(this,_audioTrack).lastDecodeTimestamp?__privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_videoTrack),videoSample):__privateGet2(this,_videoSampleQueue).push(videoSample)}else __privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_videoTrack),videoSample)}addAudioChunk(sample,meta,timestamp){if(!(sample instanceof EncodedAudioChunk))throw new TypeError("addAudioChunk's first argument (sample) must be of type EncodedAudioChunk.");if(meta&&typeof meta!="object")throw new TypeError("addAudioChunk's second argument (meta), when provided, must be an object.");if(timestamp!==void 0&&(!Number.isFinite(timestamp)||timestamp<0))throw new TypeError("addAudioChunk's third argument (timestamp), when provided, must be a non-negative real number.");let data=new Uint8Array(sample.byteLength);sample.copyTo(data),this.addAudioChunkRaw(data,sample.type,timestamp??sample.timestamp,sample.duration,meta)}addAudioChunkRaw(data,type,timestamp,duration,meta){if(!(data instanceof Uint8Array))throw new TypeError("addAudioChunkRaw's first argument (data) must be an instance of Uint8Array.");if(type!=="key"&&type!=="delta")throw new TypeError("addAudioChunkRaw's second argument (type) must be either 'key' or 'delta'.");if(!Number.isFinite(timestamp)||timestamp<0)throw new TypeError("addAudioChunkRaw's third argument (timestamp) must be a non-negative real number.");if(!Number.isFinite(duration)||duration<0)throw new TypeError("addAudioChunkRaw's fourth argument (duration) must be a non-negative real number.");if(meta&&typeof meta!="object")throw new TypeError("addAudioChunkRaw's fifth argument (meta), when provided, must be an object.");if(__privateMethod2(this,_ensureNotFinalized,ensureNotFinalized_fn).call(this),!__privateGet2(this,_options).audio)throw new Error("No audio track declared.");if(typeof __privateGet2(this,_options).fastStart=="object"&&__privateGet2(this,_audioTrack).samples.length===__privateGet2(this,_options).fastStart.expectedAudioChunks)throw new Error(`Cannot add more audio chunks than specified in 'fastStart' (${__privateGet2(this,_options).fastStart.expectedAudioChunks}).`);let audioSample=__privateMethod2(this,_createSampleForTrack,createSampleForTrack_fn).call(this,__privateGet2(this,_audioTrack),data,type,timestamp,duration,meta);if(__privateGet2(this,_options).fastStart==="fragmented"&&__privateGet2(this,_videoTrack)){for(;__privateGet2(this,_videoSampleQueue).length>0&&__privateGet2(this,_videoSampleQueue)[0].decodeTimestamp<=audioSample.decodeTimestamp;){let videoSample=__privateGet2(this,_videoSampleQueue).shift();__privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_videoTrack),videoSample)}audioSample.decodeTimestamp<=__privateGet2(this,_videoTrack).lastDecodeTimestamp?__privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_audioTrack),audioSample):__privateGet2(this,_audioSampleQueue).push(audioSample)}else __privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_audioTrack),audioSample)}finalize(){if(__privateGet2(this,_finalized))throw new Error("Cannot finalize a muxer more than once.");if(__privateGet2(this,_options).fastStart==="fragmented"){for(let videoSample of __privateGet2(this,_videoSampleQueue))__privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_videoTrack),videoSample);for(let audioSample of __privateGet2(this,_audioSampleQueue))__privateMethod2(this,_addSampleToTrack,addSampleToTrack_fn).call(this,__privateGet2(this,_audioTrack),audioSample);__privateMethod2(this,_finalizeFragment,finalizeFragment_fn).call(this,!1)}else __privateGet2(this,_videoTrack)&&__privateMethod2(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,__privateGet2(this,_videoTrack)),__privateGet2(this,_audioTrack)&&__privateMethod2(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,__privateGet2(this,_audioTrack));let tracks=[__privateGet2(this,_videoTrack),__privateGet2(this,_audioTrack)].filter(Boolean);if(__privateGet2(this,_options).fastStart==="in-memory"){let mdatSize;for(let i2=0;i2<2;i2++){let movieBox2=moov(tracks,__privateGet2(this,_creationTime)),movieBoxSize=__privateGet2(this,_writer).measureBox(movieBox2);mdatSize=__privateGet2(this,_writer).measureBox(__privateGet2(this,_mdat));let currentChunkPos=__privateGet2(this,_writer).pos+movieBoxSize+mdatSize;for(let chunk of __privateGet2(this,_finalizedChunks)){chunk.offset=currentChunkPos;for(let{data}of chunk.samples)currentChunkPos+=data.byteLength,mdatSize+=data.byteLength}if(currentChunkPos<2**32)break;mdatSize>=2**32&&(__privateGet2(this,_mdat).largeSize=!0)}let movieBox=moov(tracks,__privateGet2(this,_creationTime));__privateGet2(this,_writer).writeBox(movieBox),__privateGet2(this,_mdat).size=mdatSize,__privateGet2(this,_writer).writeBox(__privateGet2(this,_mdat));for(let chunk of __privateGet2(this,_finalizedChunks))for(let sample of chunk.samples)__privateGet2(this,_writer).write(sample.data),sample.data=null}else if(__privateGet2(this,_options).fastStart==="fragmented"){let startPos=__privateGet2(this,_writer).pos,mfraBox=mfra(tracks);__privateGet2(this,_writer).writeBox(mfraBox);let mfraBoxSize=__privateGet2(this,_writer).pos-startPos;__privateGet2(this,_writer).seek(__privateGet2(this,_writer).pos-4),__privateGet2(this,_writer).writeU32(mfraBoxSize)}else{let mdatPos=__privateGet2(this,_writer).offsets.get(__privateGet2(this,_mdat)),mdatSize=__privateGet2(this,_writer).pos-mdatPos;__privateGet2(this,_mdat).size=mdatSize,__privateGet2(this,_mdat).largeSize=mdatSize>=2**32,__privateGet2(this,_writer).patchBox(__privateGet2(this,_mdat));let movieBox=moov(tracks,__privateGet2(this,_creationTime));if(typeof __privateGet2(this,_options).fastStart=="object"){__privateGet2(this,_writer).seek(__privateGet2(this,_ftypSize)),__privateGet2(this,_writer).writeBox(movieBox);let remainingBytes=mdatPos-__privateGet2(this,_writer).pos;__privateGet2(this,_writer).writeBox(free(remainingBytes))}else __privateGet2(this,_writer).writeBox(movieBox)}__privateMethod2(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this),__privateGet2(this,_writer).finalize(),__privateSet2(this,_finalized,!0)}},__name(_a18,"Muxer"),_a18);_options=new WeakMap;_writer=new WeakMap;_ftypSize=new WeakMap;_mdat=new WeakMap;_videoTrack=new WeakMap;_audioTrack=new WeakMap;_creationTime=new WeakMap;_finalizedChunks=new WeakMap;_nextFragmentNumber=new WeakMap;_videoSampleQueue=new WeakMap;_audioSampleQueue=new WeakMap;_finalized=new WeakMap;_validateOptions=new WeakSet;validateOptions_fn=__name(function(options){if(typeof options!="object")throw new TypeError("The muxer requires an options object to be passed to its constructor.");if(!(options.target instanceof Target))throw new TypeError("The target must be provided and an instance of Target.");if(options.video){if(!SUPPORTED_VIDEO_CODECS.includes(options.video.codec))throw new TypeError(`Unsupported video codec: ${options.video.codec}`);if(!Number.isInteger(options.video.width)||options.video.width<=0)throw new TypeError(`Invalid video width: ${options.video.width}. Must be a positive integer.`);if(!Number.isInteger(options.video.height)||options.video.height<=0)throw new TypeError(`Invalid video height: ${options.video.height}. Must be a positive integer.`);const videoRotation=options.video.rotation;if(typeof videoRotation=="number"&&![0,90,180,270].includes(videoRotation))throw new TypeError(`Invalid video rotation: ${videoRotation}. Has to be 0, 90, 180 or 270.`);if(Array.isArray(videoRotation)&&(videoRotation.length!==9||videoRotation.some(value=>typeof value!="number")))throw new TypeError(`Invalid video transformation matrix: ${videoRotation.join()}`);if(options.video.frameRate!==void 0&&(!Number.isInteger(options.video.frameRate)||options.video.frameRate<=0))throw new TypeError(`Invalid video frame rate: ${options.video.frameRate}. Must be a positive integer.`)}if(options.audio){if(!SUPPORTED_AUDIO_CODECS.includes(options.audio.codec))throw new TypeError(`Unsupported audio codec: ${options.audio.codec}`);if(!Number.isInteger(options.audio.numberOfChannels)||options.audio.numberOfChannels<=0)throw new TypeError(`Invalid number of audio channels: ${options.audio.numberOfChannels}. Must be a positive integer.`);if(!Number.isInteger(options.audio.sampleRate)||options.audio.sampleRate<=0)throw new TypeError(`Invalid audio sample rate: ${options.audio.sampleRate}. Must be a positive integer.`)}if(options.firstTimestampBehavior&&!FIRST_TIMESTAMP_BEHAVIORS.includes(options.firstTimestampBehavior))throw new TypeError(`Invalid first timestamp behavior: ${options.firstTimestampBehavior}`);if(typeof options.fastStart=="object"){if(options.video){if(options.fastStart.expectedVideoChunks===void 0)throw new TypeError("'fastStart' is an object but is missing property 'expectedVideoChunks'.");if(!Number.isInteger(options.fastStart.expectedVideoChunks)||options.fastStart.expectedVideoChunks<0)throw new TypeError("'expectedVideoChunks' must be a non-negative integer.")}if(options.audio){if(options.fastStart.expectedAudioChunks===void 0)throw new TypeError("'fastStart' is an object but is missing property 'expectedAudioChunks'.");if(!Number.isInteger(options.fastStart.expectedAudioChunks)||options.fastStart.expectedAudioChunks<0)throw new TypeError("'expectedAudioChunks' must be a non-negative integer.")}}else if(![!1,"in-memory","fragmented"].includes(options.fastStart))throw new TypeError("'fastStart' option must be false, 'in-memory', 'fragmented' or an object.");if(options.minFragmentDuration!==void 0&&(!Number.isFinite(options.minFragmentDuration)||options.minFragmentDuration<0))throw new TypeError("'minFragmentDuration' must be a non-negative number.")},"validateOptions_fn");_writeHeader=new WeakSet;writeHeader_fn=__name(function(){var _a19;if(__privateGet2(this,_writer).writeBox(ftyp({holdsAvc:((_a19=__privateGet2(this,_options).video)==null?void 0:_a19.codec)==="avc",fragmented:__privateGet2(this,_options).fastStart==="fragmented"})),__privateSet2(this,_ftypSize,__privateGet2(this,_writer).pos),__privateGet2(this,_options).fastStart==="in-memory")__privateSet2(this,_mdat,mdat(!1));else if(__privateGet2(this,_options).fastStart!=="fragmented"){if(typeof __privateGet2(this,_options).fastStart=="object"){let moovSizeUpperBound=__privateMethod2(this,_computeMoovSizeUpperBound,computeMoovSizeUpperBound_fn).call(this);__privateGet2(this,_writer).seek(__privateGet2(this,_writer).pos+moovSizeUpperBound)}__privateSet2(this,_mdat,mdat(!0)),__privateGet2(this,_writer).writeBox(__privateGet2(this,_mdat))}__privateMethod2(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)},"writeHeader_fn");_computeMoovSizeUpperBound=new WeakSet;computeMoovSizeUpperBound_fn=__name(function(){if(typeof __privateGet2(this,_options).fastStart!="object")return;let upperBound=0,sampleCounts=[__privateGet2(this,_options).fastStart.expectedVideoChunks,__privateGet2(this,_options).fastStart.expectedAudioChunks];for(let n2 of sampleCounts)n2&&(upperBound+=8*Math.ceil(2/3*n2),upperBound+=4*n2,upperBound+=12*Math.ceil(2/3*n2),upperBound+=4*n2,upperBound+=8*n2);return upperBound+=4096,upperBound},"computeMoovSizeUpperBound_fn");_prepareTracks=new WeakSet;prepareTracks_fn=__name(function(){if(__privateGet2(this,_options).video&&__privateSet2(this,_videoTrack,{id:1,info:{type:"video",codec:__privateGet2(this,_options).video.codec,width:__privateGet2(this,_options).video.width,height:__privateGet2(this,_options).video.height,rotation:__privateGet2(this,_options).video.rotation??0,decoderConfig:null},timescale:__privateGet2(this,_options).video.frameRate??57600,samples:[],finalizedChunks:[],currentChunk:null,firstDecodeTimestamp:void 0,lastDecodeTimestamp:-1,timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,compactlyCodedChunkTable:[]}),__privateGet2(this,_options).audio&&(__privateSet2(this,_audioTrack,{id:__privateGet2(this,_options).video?2:1,info:{type:"audio",codec:__privateGet2(this,_options).audio.codec,numberOfChannels:__privateGet2(this,_options).audio.numberOfChannels,sampleRate:__privateGet2(this,_options).audio.sampleRate,decoderConfig:null},timescale:__privateGet2(this,_options).audio.sampleRate,samples:[],finalizedChunks:[],currentChunk:null,firstDecodeTimestamp:void 0,lastDecodeTimestamp:-1,timeToSampleTable:[],compositionTimeOffsetTable:[],lastTimescaleUnits:null,lastSample:null,compactlyCodedChunkTable:[]}),__privateGet2(this,_options).audio.codec==="aac")){let guessedCodecPrivate=__privateMethod2(this,_generateMpeg4AudioSpecificConfig,generateMpeg4AudioSpecificConfig_fn).call(this,2,__privateGet2(this,_options).audio.sampleRate,__privateGet2(this,_options).audio.numberOfChannels);__privateGet2(this,_audioTrack).info.decoderConfig={codec:__privateGet2(this,_options).audio.codec,description:guessedCodecPrivate,numberOfChannels:__privateGet2(this,_options).audio.numberOfChannels,sampleRate:__privateGet2(this,_options).audio.sampleRate}}},"prepareTracks_fn");_generateMpeg4AudioSpecificConfig=new WeakSet;generateMpeg4AudioSpecificConfig_fn=__name(function(objectType,sampleRate,numberOfChannels){let frequencyIndex=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350].indexOf(sampleRate),channelConfig=numberOfChannels,configBits="";configBits+=objectType.toString(2).padStart(5,"0"),configBits+=frequencyIndex.toString(2).padStart(4,"0"),frequencyIndex===15&&(configBits+=sampleRate.toString(2).padStart(24,"0")),configBits+=channelConfig.toString(2).padStart(4,"0");let paddingLength=Math.ceil(configBits.length/8)*8;configBits=configBits.padEnd(paddingLength,"0");let configBytes=new Uint8Array(configBits.length/8);for(let i2=0;i2<configBits.length;i2+=8)configBytes[i2/8]=parseInt(configBits.slice(i2,i2+8),2);return configBytes},"generateMpeg4AudioSpecificConfig_fn");_createSampleForTrack=new WeakSet;createSampleForTrack_fn=__name(function(track,data,type,timestamp,duration,meta,compositionTimeOffset){let presentationTimestampInSeconds=timestamp/1e6,decodeTimestampInSeconds=(timestamp-(compositionTimeOffset??0))/1e6,durationInSeconds=duration/1e6,adjusted=__privateMethod2(this,_validateTimestamp,validateTimestamp_fn).call(this,presentationTimestampInSeconds,decodeTimestampInSeconds,track);return presentationTimestampInSeconds=adjusted.presentationTimestamp,decodeTimestampInSeconds=adjusted.decodeTimestamp,meta!=null&&meta.decoderConfig&&(track.info.decoderConfig===null?track.info.decoderConfig=meta.decoderConfig:Object.assign(track.info.decoderConfig,meta.decoderConfig)),{presentationTimestamp:presentationTimestampInSeconds,decodeTimestamp:decodeTimestampInSeconds,duration:durationInSeconds,data,size:data.byteLength,type,timescaleUnitsToNextSample:intoTimescale(durationInSeconds,track.timescale)}},"createSampleForTrack_fn");_addSampleToTrack=new WeakSet;addSampleToTrack_fn=__name(function(track,sample){__privateGet2(this,_options).fastStart!=="fragmented"&&track.samples.push(sample);const sampleCompositionTimeOffset=intoTimescale(sample.presentationTimestamp-sample.decodeTimestamp,track.timescale);if(track.lastTimescaleUnits!==null){let timescaleUnits=intoTimescale(sample.decodeTimestamp,track.timescale,!1),delta=Math.round(timescaleUnits-track.lastTimescaleUnits);if(track.lastTimescaleUnits+=delta,track.lastSample.timescaleUnitsToNextSample=delta,__privateGet2(this,_options).fastStart!=="fragmented"){let lastTableEntry=last(track.timeToSampleTable);lastTableEntry.sampleCount===1?(lastTableEntry.sampleDelta=delta,lastTableEntry.sampleCount++):lastTableEntry.sampleDelta===delta?lastTableEntry.sampleCount++:(lastTableEntry.sampleCount--,track.timeToSampleTable.push({sampleCount:2,sampleDelta:delta}));const lastCompositionTimeOffsetTableEntry=last(track.compositionTimeOffsetTable);lastCompositionTimeOffsetTableEntry.sampleCompositionTimeOffset===sampleCompositionTimeOffset?lastCompositionTimeOffsetTableEntry.sampleCount++:track.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset})}}else track.lastTimescaleUnits=0,__privateGet2(this,_options).fastStart!=="fragmented"&&(track.timeToSampleTable.push({sampleCount:1,sampleDelta:intoTimescale(sample.duration,track.timescale)}),track.compositionTimeOffsetTable.push({sampleCount:1,sampleCompositionTimeOffset}));track.lastSample=sample;let beginNewChunk=!1;if(!track.currentChunk)beginNewChunk=!0;else{let currentChunkDuration=sample.presentationTimestamp-track.currentChunk.startTimestamp;if(__privateGet2(this,_options).fastStart==="fragmented"){let mostImportantTrack=__privateGet2(this,_videoTrack)??__privateGet2(this,_audioTrack);const chunkDuration=__privateGet2(this,_options).minFragmentDuration??1;track===mostImportantTrack&&sample.type==="key"&&currentChunkDuration>=chunkDuration&&(beginNewChunk=!0,__privateMethod2(this,_finalizeFragment,finalizeFragment_fn).call(this))}else beginNewChunk=currentChunkDuration>=.5}beginNewChunk&&(track.currentChunk&&__privateMethod2(this,_finalizeCurrentChunk,finalizeCurrentChunk_fn).call(this,track),track.currentChunk={startTimestamp:sample.presentationTimestamp,samples:[]}),track.currentChunk.samples.push(sample)},"addSampleToTrack_fn");_validateTimestamp=new WeakSet;validateTimestamp_fn=__name(function(presentationTimestamp,decodeTimestamp,track){var _a19,_b;const strictTimestampBehavior=__privateGet2(this,_options).firstTimestampBehavior==="strict",noLastDecodeTimestamp=track.lastDecodeTimestamp===-1;if(strictTimestampBehavior&&noLastDecodeTimestamp&&decodeTimestamp!==0)throw new Error(`The first chunk for your media track must have a timestamp of 0 (received DTS=${decodeTimestamp}).Non-zero first timestamps are often caused by directly piping frames or audio data from a MediaStreamTrack into the encoder. Their timestamps are typically relative to the age of thedocument, which is probably what you want.

If you want to offset all timestamps of a track such that the first one is zero, set firstTimestampBehavior: 'offset' in the options.
`);if(__privateGet2(this,_options).firstTimestampBehavior==="offset"||__privateGet2(this,_options).firstTimestampBehavior==="cross-track-offset"){track.firstDecodeTimestamp===void 0&&(track.firstDecodeTimestamp=decodeTimestamp);let baseDecodeTimestamp;__privateGet2(this,_options).firstTimestampBehavior==="offset"?baseDecodeTimestamp=track.firstDecodeTimestamp:baseDecodeTimestamp=Math.min(((_a19=__privateGet2(this,_videoTrack))==null?void 0:_a19.firstDecodeTimestamp)??1/0,((_b=__privateGet2(this,_audioTrack))==null?void 0:_b.firstDecodeTimestamp)??1/0),decodeTimestamp-=baseDecodeTimestamp,presentationTimestamp-=baseDecodeTimestamp}if(decodeTimestamp<track.lastDecodeTimestamp)throw new Error(`Timestamps must be monotonically increasing (DTS went from ${track.lastDecodeTimestamp*1e6} to ${decodeTimestamp*1e6}).`);return track.lastDecodeTimestamp=decodeTimestamp,{presentationTimestamp,decodeTimestamp}},"validateTimestamp_fn");_finalizeCurrentChunk=new WeakSet;finalizeCurrentChunk_fn=__name(function(track){if(__privateGet2(this,_options).fastStart==="fragmented")throw new Error("Can't finalize individual chunks if 'fastStart' is set to 'fragmented'.");if(track.currentChunk){if(track.finalizedChunks.push(track.currentChunk),__privateGet2(this,_finalizedChunks).push(track.currentChunk),(track.compactlyCodedChunkTable.length===0||last(track.compactlyCodedChunkTable).samplesPerChunk!==track.currentChunk.samples.length)&&track.compactlyCodedChunkTable.push({firstChunk:track.finalizedChunks.length,samplesPerChunk:track.currentChunk.samples.length}),__privateGet2(this,_options).fastStart==="in-memory"){track.currentChunk.offset=0;return}track.currentChunk.offset=__privateGet2(this,_writer).pos;for(let sample of track.currentChunk.samples)__privateGet2(this,_writer).write(sample.data),sample.data=null;__privateMethod2(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)}},"finalizeCurrentChunk_fn");_finalizeFragment=new WeakSet;finalizeFragment_fn=__name(function(flushStreamingWriter=!0){if(__privateGet2(this,_options).fastStart!=="fragmented")throw new Error("Can't finalize a fragment unless 'fastStart' is set to 'fragmented'.");let tracks=[__privateGet2(this,_videoTrack),__privateGet2(this,_audioTrack)].filter(track=>track&&track.currentChunk);if(tracks.length===0)return;let fragmentNumber=__privateWrapper(this,_nextFragmentNumber)._++;if(fragmentNumber===1){let movieBox=moov(tracks,__privateGet2(this,_creationTime),!0);__privateGet2(this,_writer).writeBox(movieBox)}let moofOffset=__privateGet2(this,_writer).pos,moofBox=moof(fragmentNumber,tracks);__privateGet2(this,_writer).writeBox(moofBox);{let mdatBox=mdat(!1),totalTrackSampleSize=0;for(let track of tracks)for(let sample of track.currentChunk.samples)totalTrackSampleSize+=sample.size;let mdatSize=__privateGet2(this,_writer).measureBox(mdatBox)+totalTrackSampleSize;mdatSize>=2**32&&(mdatBox.largeSize=!0,mdatSize=__privateGet2(this,_writer).measureBox(mdatBox)+totalTrackSampleSize),mdatBox.size=mdatSize,__privateGet2(this,_writer).writeBox(mdatBox)}for(let track of tracks){track.currentChunk.offset=__privateGet2(this,_writer).pos,track.currentChunk.moofOffset=moofOffset;for(let sample of track.currentChunk.samples)__privateGet2(this,_writer).write(sample.data),sample.data=null}let endPos=__privateGet2(this,_writer).pos;__privateGet2(this,_writer).seek(__privateGet2(this,_writer).offsets.get(moofBox));let newMoofBox=moof(fragmentNumber,tracks);__privateGet2(this,_writer).writeBox(newMoofBox),__privateGet2(this,_writer).seek(endPos);for(let track of tracks)track.finalizedChunks.push(track.currentChunk),__privateGet2(this,_finalizedChunks).push(track.currentChunk),track.currentChunk=null;flushStreamingWriter&&__privateMethod2(this,_maybeFlushStreamingTargetWriter,maybeFlushStreamingTargetWriter_fn).call(this)},"finalizeFragment_fn");_maybeFlushStreamingTargetWriter=new WeakSet;maybeFlushStreamingTargetWriter_fn=__name(function(){__privateGet2(this,_writer)instanceof StreamTargetWriter&&__privateGet2(this,_writer).flush()},"maybeFlushStreamingTargetWriter_fn");_ensureNotFinalized=new WeakSet;ensureNotFinalized_fn=__name(function(){if(__privateGet2(this,_finalized))throw new Error("Cannot add new video or audio chunks after the file has been finalized.")},"ensureNotFinalized_fn");async function imagesToMp4(frames,{width,height,fps,bitrate=2e7,filename="video.mp4"}){if(!("VideoEncoder"in globalThis))throw new Error("WebCodecs VideoEncoder is not available in this environment.");const target=new ArrayBufferTarget,muxer=new Muxer({target,video:{codec:"avc",width,height,frameRate:fps},fastStart:"in-memory"}),encoder=new VideoEncoder({output:__name((chunk,meta)=>muxer.addVideoChunk(chunk,meta),"output"),error:__name(e2=>console.error("VideoEncoder error:",e2),"error")});encoder.configure({codec:"avc1.42003D",width,height,bitrate,framerate:fps});const frameDurationUs=1e6/fps;let pts=0;for(const dataUrl of frames){const blob=await(await fetch(dataUrl)).blob(),bitmap=await createImageBitmap(blob),videoFrame=new VideoFrame(bitmap,{timestamp:pts});encoder.encode(videoFrame),videoFrame.close(),bitmap.close(),pts+=frameDurationUs}await encoder.flush(),encoder.close(),muxer.finalize();const{buffer}=target;return new Blob([buffer],{type:"video/mp4"})}__name(imagesToMp4,"imagesToMp4");var _timeline2,_width2,_height2,_canvas2,_anticipatedFrame2,_frames2,_subscribers2,_status2,_renderMode,_rendering2;const _FrameSaver=class _FrameSaver{constructor({timeline,width,height}){__privateAdd(this,_timeline2);__privateAdd(this,_width2);__privateAdd(this,_height2);__privateAdd(this,_canvas2);__privateAdd(this,_anticipatedFrame2);__privateAdd(this,_frames2,[]);__privateAdd(this,_subscribers2,[]);__privateAdd(this,_status2,{rendering:!1,totalFrames:0,renderedFrames:0});__privateAdd(this,_renderMode,"imseq");__privateAdd(this,_rendering2,!1);__privateSet(this,_timeline2,timeline),__privateSet(this,_width2,width),__privateSet(this,_height2,height)}setSize(width,height){__privateSet(this,_width2,width),__privateSet(this,_height2,height)}addCanvas(canvas){__privateSet(this,_canvas2,canvas)}subscribe(cb){return __privateGet(this,_subscribers2).push(cb),()=>{__privateSet(this,_subscribers2,__privateGet(this,_subscribers2).filter(s2=>s2!==cb))}}getStatus(){return __privateGet(this,_status2)}frame(){if(!__privateGet(this,_rendering2)||!__privateGet(this,_canvas2))return;const project=__privateGet(this,_timeline2).getProject(),currentFrame=project.timelineData.playheadPosition;if(currentFrame!==__privateGet(this,_anticipatedFrame2))return;const focusRange=project.timelineData.focusRange;if(currentFrame<focusRange[1]){const canvas=document.querySelector("canvas");__privateGet(this,_frames2).push(canvas.toDataURL()),__privateSet(this,_anticipatedFrame2,currentFrame+1),__privateGet(this,_timeline2).projectTools.updatePlayheadPosition(currentFrame+1,!0),__privateSet(this,_status2,{...__privateGet(this,_status2),renderedFrames:__privateGet(this,_status2).renderedFrames+1})}else{const jszip=new JSZip,folder=jszip.folder("frames");__privateGet(this,_frames2).forEach((frame,index)=>{const base64Data=frame.split(",")[1],binaryString=window.atob(base64Data),binaryLen=binaryString.length,bytes2=new Uint8Array(binaryLen);for(let i2=0;i2<binaryLen;i2++)bytes2[i2]=binaryString.charCodeAt(i2);const fileName="frame"+String(index).padStart(5,"0")+".png";folder.file(fileName,bytes2,{base64:!0})}),__privateGet(this,_renderMode)==="imseq"&&jszip.generateAsync({type:"blob"}).then(content=>{const blobUrl=URL.createObjectURL(content),a2=document.createElement("a");a2.href=blobUrl,a2.download="frames.zip",a2.click(),URL.revokeObjectURL(blobUrl),__privateSet(this,_status2,{...__privateGet(this,_status2),renderedFrames:0,totalFrames:0,rendering:!1})}),__privateGet(this,_renderMode)==="mp4"&&imagesToMp4(__privateGet(this,_frames2),{width:__privateGet(this,_width2),height:__privateGet(this,_height2),fps:30}).then(mp4Blob=>{const mp4BlobUrl=URL.createObjectURL(mp4Blob),a2=document.createElement("a");a2.href=mp4BlobUrl,a2.download="animation.mp4",a2.click(),URL.revokeObjectURL(mp4BlobUrl),__privateSet(this,_status2,{...__privateGet(this,_status2),renderedFrames:0,totalFrames:0,rendering:!1})}),__privateSet(this,_frames2,[]),__privateSet(this,_anticipatedFrame2,0),__privateGet(this,_timeline2).projectTools.updatePlayheadPosition(0,!0),__privateSet(this,_rendering2,!1)}}beginImSeq(){__privateGet(this,_rendering2)||(__privateSet(this,_renderMode,"imseq"),this.begin())}beginMp4(){__privateGet(this,_rendering2)||(__privateSet(this,_renderMode,"mp4"),this.begin())}begin(){__privateSet(this,_rendering2,!0);const focusRange=__privateGet(this,_timeline2).getProject().timelineData.focusRange;__privateSet(this,_anticipatedFrame2,focusRange[0]),__privateSet(this,_status2,{rendering:!0,totalFrames:focusRange[1]-focusRange[0],renderedFrames:0}),__privateGet(this,_timeline2).projectTools.updatePlayheadPosition(focusRange[0],!0)}};_timeline2=new WeakMap,_width2=new WeakMap,_height2=new WeakMap,_canvas2=new WeakMap,_anticipatedFrame2=new WeakMap,_frames2=new WeakMap,_subscribers2=new WeakMap,_status2=new WeakMap,_renderMode=new WeakMap,_rendering2=new WeakMap,__name(_FrameSaver,"FrameSaver");let FrameSaver=_FrameSaver;function isBrowserKnownToWork(){const ua2=navigator.userAgent;return/Chrome\/\d+/.test(ua2)&&!/Edg/.test(ua2)&&!/OPR/.test(ua2)?!0:(/Firefox/.test(ua2)||/Safari/.test(ua2)&&!/Chrome/.test(ua2),!1)}__name(isBrowserKnownToWork,"isBrowserKnownToWork");function FrameSaverScreen({frameSaver,recordEvent}){const{rendering,totalFrames,renderedFrames}=React.useSyncExternalStore(frameSaver.subscribe.bind(frameSaver),frameSaver.getStatus.bind(frameSaver)),videoEncoderAvailable=isBrowserKnownToWork(),{FreeWorkload}=useCK(),unitCallbackManager=useUnitCallbacks();reactExports.useEffect(()=>(unitCallbackManager.registerCallback("beginRender",(payload,workload)=>{payload.type==="imseq"&&(frameSaver.beginImSeq(),recordEvent({path:"liquidlissajous-renderframes",event:!0}),setDisplayOverlay(!0)),payload.type==="mp4"&&(frameSaver.beginMp4(),recordEvent({path:"liquidlissajous-renderframes",event:!0}),setDisplayOverlay(!0))}),()=>{unitCallbackManager.unregisterCallback("beginRender")}),[]);const[displayOverlay,setDisplayOverlay]=React.useState(!1);return jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"calc(100% - 60px)",display:"flex",justifyContent:"flex-start",alignItems:"flex-start",padding:10},children:[jsxRuntimeExports.jsx(Button,{onClick:__name(()=>{const w2=FreeWorkload();w2.setMetadata("recording",!1),w2.thread("default").worker(globalThis.CK_INSTANCE,{beginRender:{type:"imseq"}}),w2.dispatch()},"onClick"),text:"export image sequence",iconName:"animated_images"}),videoEncoderAvailable&&jsxRuntimeExports.jsx(Button,{onClick:__name(()=>{const w2=FreeWorkload();w2.setMetadata("recording",!1),w2.thread("default").worker(globalThis.CK_INSTANCE,{beginRender:{type:"mp4"}}),w2.dispatch()},"onClick"),text:"export as .mp4",iconName:"movie"}),displayOverlay&&jsxRuntimeExports.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:30,color:"var(--gray6)",backgroundColor:"var(--gray1)",borderRadius:"var(--borderRadiusSmall)",marginLeft:20,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:40},children:[jsxRuntimeExports.jsx("div",{style:{position:"absolute",top:10,right:10},children:!rendering&&jsxRuntimeExports.jsx(Icon,{iconName:"close",onClick:__name(()=>{setDisplayOverlay(!1)},"onClick")})}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:10},children:[jsxRuntimeExports.jsx("div",{style:{color:"var(--gray7)",fontSize:20,fontWeight:600},children:rendering?`Rendering: ${renderedFrames} / ${totalFrames}`:"Done!"}),jsxRuntimeExports.jsx("div",{children:rendering?"Your download will begin shortly...":null})]}),jsxRuntimeExports.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:10},children:[jsxRuntimeExports.jsx("div",{children:"If you enjoy using this tool, subscribe to our email newsletter to get updates on new features and releases!"}),jsxRuntimeExports.jsx(Button,{bgColor:"var(--yellow3)",color:"var(--gray1)",hoverBgColor:"var(--yellow2)",hoverColor:"var(--gray1)",onClick:__name(()=>{window.open("http://eepurl.com/i6WBsQ","_blank")},"onClick"),text:"Subscribe to newsletter",iconName:"email"})]})]})]})}__name(FrameSaverScreen,"FrameSaverScreen");function useGoatCounter(defaultEvent2){return reactExports.useEffect(()=>{defaultEvent2&&typeof window<"u"&&window.goatcounter&&typeof window.goatcounter.count=="function"&&window.goatcounter.count(defaultEvent2)},[defaultEvent2]),{recordEvent:reactExports.useCallback(event=>{typeof window<"u"&&window.goatcounter&&typeof window.goatcounter.count=="function"&&window.goatcounter.count(event)},[])}}__name(useGoatCounter,"useGoatCounter");let gl=null;const objectTypes=Object.create(null),SimpleWebGL2={__init__,__defineobject__,__end__init__,__begin__,__drawobjectinstances__,__end__};function __init__(canvas){if(gl=canvas.getContext("webgl2",{antialias:!1}),!gl)throw new Error("WebGL 2 not supported by this browser");gl.enable(gl.BLEND),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),gl.pixelStorei(gl.UNPACK_ALIGNMENT,1)}__name(__init__,"__init__");function __defineobject__(def){if(!gl)throw new Error("Call __init__ first");if(objectTypes[def.name])throw new Error(`Object type "${def.name}" already exists`);if(!Array.isArray(def.instanceAttributes))throw new Error("instanceAttributes must be an array");const program=linkProgram(def.vertexShader,def.fragmentShader),vao=gl.createVertexArray(),vboQuad=gl.createBuffer(),iboQuad=gl.createBuffer(),instVBO=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,vboQuad),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,1,1,-1,1]),gl.STATIC_DRAW),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,iboQuad),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2,0,2,3]),gl.STATIC_DRAW),gl.bindVertexArray(vao),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,iboQuad);const locPos=gl.getAttribLocation(program,"a_pos");if(locPos<0)throw new Error("vertex shader must declare 'in vec2 a_pos'");gl.bindBuffer(gl.ARRAY_BUFFER,vboQuad),gl.enableVertexAttribArray(locPos),gl.vertexAttribPointer(locPos,2,gl.FLOAT,!1,0,0),gl.vertexAttribDivisor(locPos,0),gl.bindBuffer(gl.ARRAY_BUFFER,instVBO);const strideBytes=def.instanceAttributes.reduce((s2,a2)=>s2+a2.size,0)*4;let offsetBytes=0;def.instanceAttributes.forEach(attr=>{const loc=gl.getAttribLocation(program,attr.name);if(loc<0)throw new Error(`Shader missing attribute ${attr.name}`);gl.enableVertexAttribArray(loc),gl.vertexAttribPointer(loc,attr.size,gl.FLOAT,!1,strideBytes,offsetBytes),gl.vertexAttribDivisor(loc,1),offsetBytes+=attr.size*4}),gl.bindVertexArray(null);let dynTex,dynUniformLoc,dynW=0,dynH=0;def.dynamicData&&(dynW=def.dynamicData.width|0,dynH=def.dynamicData.height|0,dynTex=gl.createTexture(),gl.bindTexture(gl.TEXTURE_2D,dynTex),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.NEAREST),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE),gl.texImage2D(gl.TEXTURE_2D,0,gl.R32F,dynW,dynH,0,gl.RED,gl.FLOAT,null),dynUniformLoc=gl.getUniformLocation(program,"u_dyn")||void 0),objectTypes[def.name]={program,vao,instVBO,stride:strideBytes,attributes:def.instanceAttributes,dynTex,dynUniformLoc,dynW,dynH}}__name(__defineobject__,"__defineobject__");function __end__init__(){}__name(__end__init__,"__end__init__");function __begin__(){if(!gl)throw new Error("Call __init__ first");gl.viewport(0,0,gl.canvas.width,gl.canvas.height),gl.clearColor(0,0,0,0),gl.clear(gl.COLOR_BUFFER_BIT)}__name(__begin__,"__begin__");function __drawobjectinstances__(typeName,params){if(!gl)throw new Error("Call __init__ first");const type=objectTypes[typeName];if(!type)throw new Error(`Unknown object type "${typeName}"`);const count=params.count|0;if(count<=0)return;const floatsPerInstance=type.attributes.reduce((s2,a2)=>s2+a2.size,0),interleaved=new Float32Array(count*floatsPerInstance);for(let inst=0;inst<count;++inst){let cursor=inst*floatsPerInstance;type.attributes.forEach(attr=>{const src2=params.attributes[attr.name];if(!src2)throw new Error(`Missing attribute "${attr.name}" in draw params`);interleaved.set(src2.subarray(inst*attr.size,(inst+1)*attr.size),cursor),cursor+=attr.size})}gl.bindBuffer(gl.ARRAY_BUFFER,type.instVBO),gl.bufferData(gl.ARRAY_BUFFER,interleaved,gl.DYNAMIC_DRAW),type.dynTex&&params.dynamicData&&(gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,type.dynTex),gl.texSubImage2D(gl.TEXTURE_2D,0,0,0,type.dynW,type.dynH,gl.RED,gl.FLOAT,params.dynamicData)),gl.useProgram(type.program),type.dynUniformLoc&&gl.uniform1i(type.dynUniformLoc,0),gl.bindVertexArray(type.vao),gl.drawElementsInstanced(gl.TRIANGLES,6,gl.UNSIGNED_SHORT,0,count),gl.bindVertexArray(null)}__name(__drawobjectinstances__,"__drawobjectinstances__");function __end__(){gl&&gl.flush()}__name(__end__,"__end__");function compileShader(src2,typeEnum){const sh=gl.createShader(typeEnum);if(gl.shaderSource(sh,src2),gl.compileShader(sh),!gl.getShaderParameter(sh,gl.COMPILE_STATUS))throw new Error(gl.getShaderInfoLog(sh)||"shader compile error");return sh}__name(compileShader,"compileShader");function linkProgram(vsSrc,fsSrc){const prog=gl.createProgram();if(gl.attachShader(prog,compileShader(vsSrc,gl.VERTEX_SHADER)),gl.attachShader(prog,compileShader(fsSrc,gl.FRAGMENT_SHADER)),gl.linkProgram(prog),!gl.getProgramParameter(prog,gl.LINK_STATUS))throw new Error(gl.getProgramInfoLog(prog)||"program link error");return(gl.getAttachedShaders(prog)||[]).forEach(sh=>gl.detachShader(prog,sh)),prog}__name(linkProgram,"linkProgram");const FLOATS_PER_PARTICLE=5,voroVS=`#version 300 es
in  vec2 a_pos;
in float particleCount;  // number of particles
in float width;         // width of the texture
in float height;        // height of the texture
out vec2 v_uv;
out float v_particleCount;
out float v_width;       // pass to FS
out float v_height;      // pass to FS
void main() {
  v_uv = a_pos;          // 0‥1
v_particleCount = particleCount;   // pass to FS    
  gl_Position = vec4(a_pos, 0.0, 1.0);
    v_width = width;      // pass to FS
    v_height = height;    // pass to FS
}`,voroFS=`#version 300 es
precision highp float;
uniform sampler2D u_dyn;
in  float v_width;        // width of the texture
in float v_height;       // height of the texture
in  vec2 v_uv;
in  float v_particleCount; // number of particles
out vec4 outColor;

const int STRIDE  = ${FLOATS_PER_PARTICLE};

float fetch(int index) {             // helper to fetch RED float
  return texelFetch(u_dyn, ivec2(index, 0), 0).r;
}

// Helper for squared distance (cheaper than length)
float distanceSquared(vec2 a, vec2 b) {
    a = a + vec2(1.);
    b = b + vec2(1.);
    a = a * vec2(0.5); // * vec2(v_width, v_height); 
    b = b * vec2(0.5); // * vec2(v_width, v_height); 
    vec2 d = a - b;
    return dot(d, d);
}

// --- sRGB <-> OKLab conversion functions (from WGSL, ported to GLSL) ---
vec3 toLinear(vec3 c) {
    return pow(c, vec3(2.2));
}
vec3 toSRGB(vec3 c) {
    return pow(clamp(c, vec3(0.0), vec3(1.0)), vec3(1.0 / 2.2));
}
vec3 srgbToOKLab(vec3 c) {
    vec3 l = toLinear(c);
    vec3 lms = vec3(
        0.4122214708 * l.x + 0.5363325363 * l.y + 0.0514459929 * l.z,
        0.2119034982 * l.x + 0.6806995451 * l.y + 0.1073969566 * l.z,
        0.0883024619 * l.x + 0.2817188376 * l.y + 0.6299787005 * l.z
    );
    vec3 cbrt = pow(lms, vec3(1.0 / 3.0));
    return vec3(
        0.2104542553 * cbrt.x + 0.7936177850 * cbrt.y - 0.0040720468 * cbrt.z,
        1.9779984951 * cbrt.x - 2.4285922050 * cbrt.y + 0.4505937099 * cbrt.z,
        0.0259040371 * cbrt.x + 0.7827717662 * cbrt.y - 0.8086757660 * cbrt.z
    );
}
vec3 oklabToSRGB(vec3 o) {
    float l_ = o.x + 0.3963377774 * o.y + 0.2158037573 * o.z;
    float m_ = o.x - 0.1055613458 * o.y - 0.0638541728 * o.z;
    float s_ = o.x - 0.0894841775 * o.y - 1.2914855480 * o.z;
    float l3 = l_ * l_ * l_;
    float m3 = m_ * m_ * m_;
    float s3 = s_ * s_ * s_;
    vec3 rgb = vec3(
        4.0767416621 * l3 - 3.3077115913 * m3 + 0.2309699292 * s3,
       -1.2684380046 * l3 + 2.6097574011 * m3 - 0.3413193965 * s3,
       -0.0041960863 * l3 - 0.7034186147 * m3 + 1.7076147010 * s3
    );
    return toSRGB(rgb);
}
// --- End OKLab helpers ---

void main() {
  vec3 oklAccum = vec3(0.0);
  float satAccum = 0.0;
  float total = 0.0;
  int PCOUNT = int(v_particleCount); // number of particles
  float sigma = 0.228; // Gaussian width in normalized units, matches WGSL
  float inv2sigma2 = 1.0 / (2.0 * sigma * sigma);

  for (int i = 0; i < PCOUNT; ++i) {
    int base = i * STRIDE;
    vec2 center = vec2(fetch(base), fetch(base + 1)); // [0,1] normalized
    vec3 color = vec3(fetch(base + 2), fetch(base + 3), fetch(base + 4));
    float dist2 = distanceSquared(v_uv, center);
    float w = exp(-dist2 * inv2sigma2);
    vec3 okl = srgbToOKLab(color);
    float sat = length(okl.yz); // OKLab saturation
    oklAccum += okl * w;
    satAccum += sat * w;
    total += w;
  }
  vec3 outCol = vec3(0.0);
  if (total > 0.0) {
    vec3 oklBlended = oklAccum / total;
    float satBlended = length(oklBlended.yz);
    float satTarget = satAccum / total;
    float factor = (satBlended > 0.0) ? (satTarget / satBlended) : 1.0;
    // Clamp factor to avoid extreme values
    factor = clamp(factor, 0.1, 1.3);
    // Apply correction to a and b (oklBlended.yz)
    oklBlended.yz *= factor;
    outCol = oklabToSRGB(oklBlended);
  }
  outColor = vec4(outCol, 1.0);
}`,MAX_PARTICLES=ParticleSystem.HARD_MAX,texWidth=MAX_PARTICLES*FLOATS_PER_PARTICLE,gradientObject={name:"voronoiBG",instanceAttributes:[{name:"particleCount",size:1},{name:"width",size:1},{name:"height",size:1}],vertexShader:voroVS,fragmentShader:voroFS,dynamicData:{width:texWidth,height:1}};function gradientDraw(particleSystem){const particles=particleSystem.PARTICLES.map(p2=>({...p2,x:p2.x/particleSystem.WIDTH*2-1,y:p2.y/particleSystem.HEIGHT*2-1})),P2=particles.length,dynData=new Float32Array(texWidth);particles.forEach((p2,i2)=>{const off=i2*FLOATS_PER_PARTICLE;dynData[off+0]=p2.x,dynData[off+1]=p2.y,dynData[off+2]=p2.r,dynData[off+3]=p2.g,dynData[off+4]=p2.b});const widthArr=new Float32Array([particleSystem.WIDTH]),heightArr=new Float32Array([particleSystem.HEIGHT]);return{count:1,attributes:{particleCount:new Float32Array([P2]),width:widthArr,height:heightArr},dynamicData:dynData}}__name(gradientDraw,"gradientDraw");const circleVS=`#version 300 es
in  vec2 a_pos;          // quad corner (-1..1)
in  vec2 offset;         // instance centre in clip-space
in  float radius;        // instance radius (clip-space)
in  vec3 fillColor;      // per-instance RGB
in  vec2 resolution;     // instance resolution (not used, but required)
out vec2 v_local;        // coord inside quad (-1..1)
out vec3 v_color;
void main() {
  v_local = a_pos;
  v_color = fillColor;
  float aspect = resolution.x / resolution.y; // aspect ratio
  gl_Position = vec4(a_pos * vec2(radius, radius * aspect) + offset, 0.0, 1.0);
}`,circleFS=`#version 300 es
precision highp float;
in  vec2 v_local;
in  vec3 v_color;
out vec4 outColor;
void main() {
  if (length(v_local) > 1.0) discard;  // keep circular footprint
  if (length(v_local) > 0.8) outColor = vec4(1.0);  // keep circular footprint
  else outColor = vec4(v_color, 1.0);
}`,circleObject={name:"circle",instanceAttributes:[{name:"offset",size:2},{name:"radius",size:1},{name:"resolution",size:2},{name:"fillColor",size:3}],vertexShader:circleVS,fragmentShader:circleFS};function circleDraw(particleSystem){const offsetArr=[],radiusArr=[],colorArr=[],resArr=[];return particleSystem.PARTICLES.forEach(particle=>{const{x:x2,y:y2,r:r2,g:g2,b:b2}=particle;offsetArr.push(x2/particleSystem.WIDTH*2-1),offsetArr.push(y2/particleSystem.HEIGHT*2-1);const radius=12*2/particleSystem.WIDTH;radiusArr.push(radius),colorArr.push(r2,g2,b2),resArr.push(particleSystem.WIDTH,particleSystem.HEIGHT)}),{count:particleSystem.PARTICLES.length,attributes:{offset:new Float32Array(offsetArr),radius:new Float32Array(radiusArr),fillColor:new Float32Array(colorArr),resolution:new Float32Array(resArr)}}}__name(circleDraw,"circleDraw");const lineVS=`#version 300 es
in vec2 a_pos;           // quad corner (-1..1)
in vec2 a_start;         // start point in clip-space
in vec2 a_end;           // end point in clip-space
in vec3 strokeColor;     // per-instance RGB (always white)
in float thickness;      // line thickness in clip-space
out vec2 v_local;        // local quad position
out vec2 v_dir;          // direction of the line
out vec3 v_color;
void main() {
  v_color = strokeColor;
  v_local = a_pos;
  vec2 dir = a_end - a_start;
  float len = length(dir);
  vec2 dirNorm = dir / len;
  vec2 normal = vec2(-dirNorm.y, dirNorm.x);
  // Extrude along normal by a_pos.y * thickness * 0.5, and along direction by a_pos.x * len * 0.5
  vec2 pos = mix(a_start, a_end, 0.5) + dirNorm * (a_pos.x * len * 0.5) + normal * (a_pos.y * thickness * 0.5);
  v_dir = dirNorm;
  gl_Position = vec4(pos, 0.0, 1.0);
}`,lineFS=`#version 300 es
precision highp float;
in vec2 v_local;
in vec2 v_dir;
in vec3 v_color;
out vec4 outColor;
void main() {
  // v_local.y is -1..1 across the thickness
  float dist = abs(v_local.y);
  float alpha = smoothstep(1.0, 0.7, dist); // light falloff at the edge
  outColor = vec4(v_color, alpha);
}`,pathObject={name:"path",instanceAttributes:[{name:"a_start",size:2},{name:"a_end",size:2},{name:"strokeColor",size:3},{name:"thickness",size:1}],vertexShader:lineVS,fragmentShader:lineFS};function pathDraw(particleSystem){const path=particleSystem.LISSAJOUS_PATH;if(!path||path.length<2)return{count:0,attributes:{}};const startArr=[],endArr=[],colorArr=[],thicknessArr=[],thickness=.005;for(let i2=0;i2<path.length-1;i2++){const[x2,y2]=path[i2],[xp1,yp1]=path[i2+1],x0=x2/particleSystem.WIDTH*2-1,y0=y2/particleSystem.HEIGHT*2-1,x1=xp1/particleSystem.WIDTH*2-1,y1=yp1/particleSystem.HEIGHT*2-1;startArr.push(x0,y0),endArr.push(x1,y1),colorArr.push(1,1,1),thicknessArr.push(thickness)}return{count:path.length-1,attributes:{a_start:new Float32Array(startArr),a_end:new Float32Array(endArr),strokeColor:new Float32Array(colorArr),thickness:new Float32Array(thicknessArr)}}}__name(pathDraw,"pathDraw");const _WebGL2Renderer=class _WebGL2Renderer{constructor(canvas,particleSystem){this.canvas=canvas,this.particleSys=particleSystem,SimpleWebGL2.__init__(canvas),SimpleWebGL2.__defineobject__(circleObject),SimpleWebGL2.__defineobject__(pathObject),SimpleWebGL2.__defineobject__(gradientObject)}async init(){}async onFrameReady(cb){return cb()}draw(){SimpleWebGL2.__begin__(),SimpleWebGL2.__drawobjectinstances__("voronoiBG",gradientDraw(this.particleSys)),this.particleSys.SHOW_LISSAJOUS_FIGURE&&(SimpleWebGL2.__drawobjectinstances__("path",pathDraw(this.particleSys)),SimpleWebGL2.__drawobjectinstances__("circle",circleDraw(this.particleSys))),SimpleWebGL2.__end__()}};__name(_WebGL2Renderer,"WebGL2Renderer");let WebGL2Renderer=_WebGL2Renderer;function PlayButton({togglePlaying,playing}){return jsxRuntimeExports.jsx(Button,{iconName:playing?"pause":"play_arrow",bgColor:"var(--green2)",hoverBgColor:"var(--green1)",color:"var(--gray8)",onClick:togglePlaying})}__name(PlayButton,"PlayButton");function TimelineBar({timeline}){const project=reactExports.useSyncExternalStore(timeline.onTimelineUpdate.bind(timeline),timeline.getProject.bind(timeline)),togglePlaying=__name(()=>{const project2=timeline.getProject(),isPlaying=project2.timelineData.playing,currentFrame=project2.timelineData.playheadPosition;isPlaying?timeline.projectTools.updatePlayheadPosition(currentFrame,!0):timeline.projectTools.startPlayback()},"togglePlaying");return jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%",gap:"20px"},children:[jsxRuntimeExports.jsx(PlayButton,{togglePlaying,playing:timeline.getProject().timelineData.playing}),jsxRuntimeExports.jsx("div",{style:{color:"var(--gray7)",width:"100px"},children:`${project.timelineData.playheadPosition} / ${project.timelineData.focusRange[1]}`})]})}__name(TimelineBar,"TimelineBar");const defaultEvent={path:"liquidlissajousviewer-loaded",event:!0};function LiquidLissajousInterior({timeline,controls}){const canvasRef=reactExports.useRef(null),containerRef=reactExports.useRef(null),particleSystem=reactExports.useRef(new ParticleSystem).current,rendererRef=reactExports.useRef(null),controlsSnapshot=reactExports.useSyncExternalStore(controls.subscribeInternal.bind(controls),controls.getSnapshot.bind(controls));reactExports.useSyncExternalStore(timeline.onTimelineUpdate.bind(timeline),timeline.getProject.bind(timeline));const{width,height}=controlsSnapshot;particleSystem.update(controlsSnapshot,timeline);const{recordEvent}=useGoatCounter(defaultEvent);reactExports.useEffect(()=>{if(!canvasRef.current)return;const canvas=canvasRef.current;canvas.width=width,canvas.height=height},[width,height,canvasRef]),reactExports.useEffect(()=>{function resizeCanvasToFit(container,canvas,aspectRatio){const containerWidth=container.clientWidth,containerHeight=container.clientHeight,containerAspect=containerWidth/containerHeight;let dwidth,dheight;containerAspect>aspectRatio?(dheight=containerHeight,dwidth=dheight*aspectRatio):(dwidth=containerWidth,dheight=dwidth/aspectRatio),canvas.style.width=`${dwidth}px`,canvas.style.height=`${dheight}px`}__name(resizeCanvasToFit,"resizeCanvasToFit");const handleResize=__name(()=>{if(canvasRef.current&&containerRef.current){const container=containerRef.current,canvas=canvasRef.current,aspectRatio=width/height;resizeCanvasToFit(container,canvas,aspectRatio)}},"handleResize");return window.addEventListener("resize",handleResize),handleResize(),()=>{window.removeEventListener("resize",handleResize)}},[width,height]);const frameSaver=reactExports.useRef(new FrameSaver({timeline,width,height})).current;return frameSaver.setSize(width,height),reactExports.useEffect(()=>{const canvas=canvasRef.current;if(canvas){if(frameSaver.addCanvas(canvas),canvas.width=width,canvas.height=height,!rendererRef.current){rendererRef.current=new WebGL2Renderer(canvas,particleSystem);const renderer=rendererRef.current;rendererRef.current.init().then(()=>{const loop=__name(()=>{rendererRef.current.draw();const{rendering}=frameSaver.getStatus();rendering&&renderer.onFrameReady&&renderer.onFrameReady(frameSaver.frame.bind(frameSaver)),requestAnimationFrame(loop)},"loop");requestAnimationFrame(loop)})}return()=>{}}},[width,height,timeline,controls,particleSystem]),timeline?jsxRuntimeExports.jsxs("div",{style:{width:"100vw",height:"100vh",backgroundColor:"var(--gray1)",position:"relative"},children:[jsxRuntimeExports.jsx("div",{ref:containerRef,style:{position:"absolute",top:0,left:0,width:"100%",height:"calc(100% - 60px)"},children:jsxRuntimeExports.jsx("canvas",{ref:canvasRef,style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}),jsxRuntimeExports.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"60px",backgroundColor:"var(--gray2)"},children:jsxRuntimeExports.jsx(TimelineBar,{timeline})}),jsxRuntimeExports.jsx(FrameSaverScreen,{frameSaver,recordEvent})]}):jsxRuntimeExports.jsx("div",{children:"No timeline found"})}__name(LiquidLissajousInterior,"LiquidLissajousInterior");function LiquidLissajousSetup({timeline,controls}){return timeline&&controls?jsxRuntimeExports.jsx(LiquidLissajousInterior,{controls,timeline}):jsxRuntimeExports.jsx(FullscreenLoader,{})}__name(LiquidLissajousSetup,"LiquidLissajousSetup");const pb=new u.ProjectBuilder;pb.setTimelineData(900,30,45);pb.addContinuousSignal("s1","Unused Signal",[0,1]);pb.addContinuousSignal("cx","Center X",[0,1]);pb.addPin("cx",0,0,"return easyLinear()");pb.addPin("cx",50,1,"return easyLinear()");pb.addPin("cx",900,1,"return easyLinear()");pb.addContinuousSignal("cy","Center Y",[0,1]);pb.addPin("cy",0,0,"return easyLinear()");pb.addPin("cy",50,1,"return easyLinear()");pb.addPin("cy",900,1,"return easyLinear()");pb.setSignalActiveStatus("s1",!0);pb.setSignalActiveStatus("cx",!1);pb.setSignalActiveStatus("cy",!1);const defaultProject=__name(()=>{const project=pb.getProject();return _e$1.TimelineController.fromProject(project).serialize()},"defaultProject"),defaultName="liquidlissajous.timeline";function LiquidLissajousExterior(){const timeline=useTimeline(),controls=useControls();return jsxRuntimeExports.jsx(LiquidLissajousSetup,{timeline,controls})}__name(LiquidLissajousExterior,"LiquidLissajousExterior");function LiquidLissajous(){return jsxRuntimeExports.jsx(AssetProvider,{children:jsxRuntimeExports.jsx(TimelineProvider,{defaultProject,defaultName,shouldCreate:!0,children:jsxRuntimeExports.jsx(ControlsProvider,{children:jsxRuntimeExports.jsx(LiquidLissajousExterior,{})})})})}__name(LiquidLissajous,"LiquidLissajous");function hexToRgb(hex){if(hex=hex.replace(/^#/,""),hex.length===3&&(hex=hex.split("").map(c2=>c2+c2).join("")),hex.length!==6||/[^0-9a-f]/i.test(hex))throw new Error("Invalid hex color");const num=parseInt(hex,16);return[num>>16&255,num>>8&255,num&255]}__name(hexToRgb,"hexToRgb");function rgbToHex([r2,g2,b2]){return"#"+((1<<24)+(r2<<16)+(g2<<8)+b2).toString(16).slice(1)}__name(rgbToHex,"rgbToHex");function CyberSpaghettiControlsInterior({controls}){const state=reactExports.useSyncExternalStore(controls.subscribeInternal.bind(controls),controls.getSnapshot.bind(controls)),externalState=reactExports.useSyncExternalStore(controls.subscribeToExternalState.bind(controls),controls.getExternalState.bind(controls)),timeline=useTimeline(),update2=__name(patch2=>{const next={...state,...patch2};controls.setData(next)},"update"),updateColor=__name((idx,value)=>{const colors=state.particleColors.slice();colors[idx]=hexToRgb(value),update2({particleColors:colors})},"updateColor"),addColor=__name(()=>update2({particleColors:[...state.particleColors,[255,255,255]]}),"addColor"),removeColor=__name(idx=>{state.particleColors.length!==1&&update2({particleColors:state.particleColors.filter((_2,i2)=>i2!==idx)})},"removeColor"),[showAdvanced,setShowAdvanced]=reactExports.useState(!1);return jsxRuntimeExports.jsxs("div",{className:"hyperspeed-controls",style:{display:"flex",gap:"20px",flexDirection:"column",backgroundColor:"var(--gray1)",width:"100vw",height:"100vh",padding:"1rem",color:"var(--gray6)",overflow:"scroll",scrollbarColor:"var(--gray3) var(--gray1)"},children:[jsxRuntimeExports.jsx("h2",{style:{color:"var(--gray7)",fontWeight:"normal"},children:"Liquid Lissajous (Beta)"}),jsxRuntimeExports.jsxs("div",{children:["Version 0.0.2. ",jsxRuntimeExports.jsx("a",{style:{color:"var(--continuousBlue3)",textDecoration:"underline",cursor:"pointer"},onClick:__name(()=>window.open("https://www.youtube.com/watch?v=ivXyCjc1SoM","_blank"),"onClick"),children:"Watch tutorial"})]}),jsxRuntimeExports.jsx("hr",{}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["canvas size  ",jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.width,min:100,max:1920*2,step:10,onChange:__name(c2=>update2({width:c2}),"onChange")},externalState+"w"),jsxRuntimeExports.jsx("span",{style:{margin:"0 0.5rem"},children:"x"}),jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.height,min:100,max:1080*2,step:10,onChange:__name(c2=>update2({height:c2}),"onChange")},externalState+"h")]})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["color mixing intensity  ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.mixingIntensity,min:0,max:1,step:.01,onChange:__name(c2=>update2({mixingIntensity:c2}),"onChange")},externalState)]}),jsxRuntimeExports.jsxs("fieldset",{style:{borderColor:"var(--gray4)",borderRadius:"var(--borderRadiusSmall)",display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"0.5rem",alignContent:"center"},children:[jsxRuntimeExports.jsx("legend",{children:"particle colours"}),state.particleColors.map((_2,i2)=>jsxRuntimeExports.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,justifyContent:"center",borderRadius:"var(--borderRadiusSmall)",border:"1px solid var(--gray3)",padding:"0.0rem 0.5rem"},children:[jsxRuntimeExports.jsx("input",{type:"color",value:rgbToHex(state.particleColors[i2]),onChange:__name(e2=>updateColor(i2,e2.target.value),"onChange"),style:{border:"none",backgroundColor:"var(--gray3)",borderRadius:"var(--borderRadiusSmall)",width:"35px",height:"35px"}}),jsxRuntimeExports.jsx(Icon,{iconName:"delete",onClick:__name(()=>removeColor(i2),"onClick")})]},i2)),jsxRuntimeExports.jsx(Button,{text:"+ add colour",onClick:addColor})]}),jsxRuntimeExports.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",justifyContent:"space-between"},children:["loop length (in frames)  ",jsxRuntimeExports.jsx(SimpleCommittedNumberInput,{initialValue:state.loopLifecycle,min:30,max:900,step:1,onChange:__name(c2=>{update2({loopLifecycle:c2})},"onChange"),onCommit:__name(c2=>{timeline==null||timeline.projectTools.updateFocusRange([0,c2],!0),update2({loopLifecycle:c2})},"onCommit")},externalState)]}),jsxRuntimeExports.jsx("div",{style:{marginTop:12,marginBottom:0},children:jsxRuntimeExports.jsx(Button,{iconName:showAdvanced?"expand_less":"expand_more",text:showAdvanced?"Hide advanced":"Show advanced",onClick:__name(()=>setShowAdvanced(v2=>!v2),"onClick"),bgColor:showAdvanced?"var(--gray4)":"var(--gray2)",color:showAdvanced?"white":"var(--gray6)"})}),showAdvanced&&jsxRuntimeExports.jsxs("fieldset",{style:{borderColor:"var(--gray4)",borderRadius:"var(--borderRadiusSmall)",marginTop:16,padding:"0.5rem 1rem 1rem 1rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[jsxRuntimeExports.jsx("legend",{children:"advanced"}),jsxRuntimeExports.jsx("div",{style:{},children:jsxRuntimeExports.jsx(Button,{iconName:state.showLissajousFigure?"visibility":"visibility_off",text:state.showLissajousFigure?"Hide lissajous figure":"Show lissajous figure",onClick:__name(()=>update2({showLissajousFigure:!state.showLissajousFigure}),"onClick"),bgColor:state.showLissajousFigure?"var(--gray4)":"var(--gray2)",color:state.showLissajousFigure?"white":"var(--gray6)"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:4,fontSize:13},children:"offset"}),jsxRuntimeExports.jsx(SingleSelectButtonGroup,{options:[{label:"π/8",value:Math.PI/8},{label:"π/4",value:Math.PI/4},{label:"π/2",value:Math.PI/2},{label:"3/4π",value:.75*Math.PI},{label:"7/8π",value:7/8*Math.PI}],value:state.offset,onChange:__name(v2=>update2({offset:v2}),"onChange")})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{marginBottom:4,fontSize:13},children:"ratio"}),jsxRuntimeExports.jsx(SingleSelectButtonGroup,{options:[{label:"1:1",value:"1/1"},{label:"1:2",value:"1/2"},{label:"1:3",value:"1/3"},{label:"2:3",value:"2/3"},{label:"3:4",value:"3/4"},{label:"3:5",value:"3/5"},{label:"4:5",value:"4/5"},{label:"5:6",value:"5/6"}],value:`${state.ratioA}/${state.ratioB}`,onChange:__name(v2=>{const[a2,b2]=v2.split("/").map(Number);update2({ratioA:a2,ratioB:b2})},"onChange")})]})]})]})}__name(CyberSpaghettiControlsInterior,"CyberSpaghettiControlsInterior");function CyberSpaghettiExterior(){const controls=useControls();return controls?jsxRuntimeExports.jsx(CyberSpaghettiControlsInterior,{controls}):jsxRuntimeExports.jsx(FullscreenLoader,{})}__name(CyberSpaghettiExterior,"CyberSpaghettiExterior");function SingleSelectButtonGroup({options,value,onChange,style={}}){return jsxRuntimeExports.jsx("div",{style:{display:"flex",gap:8,...style},children:options.map(opt=>jsxRuntimeExports.jsx("div",{style:{},children:jsxRuntimeExports.jsx(Button,{text:opt.label,onClick:__name(()=>onChange(opt.value),"onClick"),bgColor:value===opt.value?"var(--gray4)":"var(--gray2)",color:value===opt.value?"var(--gray8)":"var(--gray6)"})},opt.value))})}__name(SingleSelectButtonGroup,"SingleSelectButtonGroup");function CyberSpaghettiControls(){return jsxRuntimeExports.jsx(AssetProvider,{children:jsxRuntimeExports.jsx(ControlsProvider,{children:jsxRuntimeExports.jsx(TimelineProvider,{shouldCreate:!1,defaultName:"liquidlissajous.timeline",children:jsxRuntimeExports.jsx(CyberSpaghettiExterior,{})})})})}__name(CyberSpaghettiControls,"CyberSpaghettiControls");const Default=__name(()=>jsxRuntimeExports.jsx("h1",{children:"Default Page"}),"Default");function App(p2){return reactExports.useEffect(()=>{const{renderedCallback}=p2;renderedCallback&&renderedCallback()},[]),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(StyleProvider,{children:jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Default,{})}),jsxRuntimeExports.jsx(Route,{path:"/signals",element:jsxRuntimeExports.jsx(Index$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/editing",element:jsxRuntimeExports.jsx(EditingAreaWrapper,{})}),jsxRuntimeExports.jsx(Route,{path:"/code",element:jsxRuntimeExports.jsx(Index,{})}),jsxRuntimeExports.jsx(Route,{path:"/cyberspaghetti",element:jsxRuntimeExports.jsx(CyberSpaghetti,{})}),jsxRuntimeExports.jsx(Route,{path:"/cyberspaghetti-controlconsole",element:jsxRuntimeExports.jsx(CyberSpaghettiControls$1,{})}),jsxRuntimeExports.jsx(Route,{path:"/liquidlissajous",element:jsxRuntimeExports.jsx(LiquidLissajous,{})}),jsxRuntimeExports.jsx(Route,{path:"/liquidlissajous-controlconsole",element:jsxRuntimeExports.jsx(CyberSpaghettiControls,{})})]})})})}__name(App,"App");const metadata_registry={},_CK_Adapter=class _CK_Adapter{constructor(installCallback){__publicField(this,"PASSWORD");__publicField(this,"installCallback");__publicField(this,"computing",!1);__publicField(this,"unitCallback");__publicField(this,"CK_INSTANCE_ID");__publicField(this,"CK_RESOURCE_ID");this.installCallback=installCallback,window.addEventListener("message",event=>{let m2=event.data;if(m2&&m2.type&&m2.type==="ck-message"){const payload=m2.payload,{CK_INSTALL}=payload;if(CK_INSTALL){const{pw,instanceId,resourceId}=payload;this.PASSWORD=pw,this.CK_INSTANCE_ID=instanceId,this.CK_RESOURCE_ID=resourceId,globalThis.CK_INSTANCE=this.CK_INSTANCE;const metadata=metadata_registry[resourceId];m2={...m2,payload:{...payload,metadata}},new Promise(resolve=>{this.installCallback&&this.installCallback(resolve,this.onUnit.bind(this),this.pushWorkload.bind(this))}).then(()=>{window.parent.postMessage(m2,"*")})}}}),window.addEventListener("message",event=>{const m2=event.data;if(m2&&m2.type&&m2.type==="ck-message"){const payload=m2.payload,{CK_COMPUTE}=payload;if(CK_COMPUTE){const{unit}=payload;this.computeUnit(unit)}}})}computeUnit(unit){this.computing=!0,new Promise(resolve=>{if(this.unitCallback){const onDispatch=__name(w2=>{this.computing=!1,resolve(void 0),window.parent.postMessage({type:"ck-message",payload:{CK_COMPUTE:!0,pw:this.PASSWORD,response:w2}},"*")},"onDispatch"),newWorkload=new CK_Workload_Class(onDispatch);this.unitCallback(unit,newWorkload);return}setTimeout(()=>{throw new Error("Timed out waiting for compute unit callback")},1e3)})}onUnit(callback){this.unitCallback=callback}get CK_INSTANCE(){if(!this.CK_INSTANCE_ID)throw new Error("CK_INSTANCE_ID is not set");return{instance_id:this.CK_INSTANCE_ID,resource_id:this.CK_RESOURCE_ID,modality:"iframe"}}pushWorkload(workload,metadata){window.parent.postMessage({type:"ck-message",payload:{PUSH_WORKLOAD:!0,pw:this.PASSWORD,workload,metadata:metadata||{}}},"*")}};__name(_CK_Adapter,"CK_Adapter");let CK_Adapter=_CK_Adapter;new CK_Adapter((cb,onUnit,pushWorkload)=>{const root=document.getElementById("root");root&&clientExports.createRoot(root).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(CK_Provider,{renderedCallback:cb,onUnit,pushWorkload,children:jsxRuntimeExports.jsx(App,{renderedCallback:cb})})})}))});
